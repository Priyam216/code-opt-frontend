var bI=n=>{throw TypeError(n)};var vH=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var xC=(n,e,r)=>e.has(n)||bI("Cannot "+r);var Nt=(n,e,r)=>(xC(n,e,"read from private field"),r?r.call(n):e.get(n)),pi=(n,e,r)=>e.has(n)?bI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,r),Ee=(n,e,r,o)=>(xC(n,e,"write to private field"),o?o.call(n,r):e.set(n,r),r),is=(n,e,r)=>(xC(n,e,"access private method"),r);var iw=(n,e,r,o)=>({set _(a){Ee(n,e,a,r)},get _(){return Nt(n,e,o)}});var pkt=vH((Nkt,zS)=>{function xH(n,e){for(var r=0;r<e.length;r++){const o=e[r];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in n)){const h=Object.getOwnPropertyDescriptor(o,a);h&&Object.defineProperty(n,a,h.get?h:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const h of a)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(a){const h={};return a.integrity&&(h.integrity=a.integrity),a.referrerPolicy&&(h.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?h.credentials="include":a.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(a){if(a.ep)return;a.ep=!0;const h=r(a);fetch(a.href,h)}})();function oB(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var lB={exports:{}},lP={},aB={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv=Symbol.for("react.element"),wH=Symbol.for("react.portal"),SH=Symbol.for("react.fragment"),kH=Symbol.for("react.strict_mode"),PH=Symbol.for("react.profiler"),bH=Symbol.for("react.provider"),TH=Symbol.for("react.context"),CH=Symbol.for("react.forward_ref"),MH=Symbol.for("react.suspense"),QH=Symbol.for("react.memo"),NH=Symbol.for("react.lazy"),TI=Symbol.iterator;function AH(n){return n===null||typeof n!="object"?null:(n=TI&&n[TI]||n["@@iterator"],typeof n=="function"?n:null)}var uB={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hB=Object.assign,cB={};function mg(n,e,r){this.props=n,this.context=e,this.refs=cB,this.updater=r||uB}mg.prototype.isReactComponent={};mg.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};mg.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function fB(){}fB.prototype=mg.prototype;function tj(n,e,r){this.props=n,this.context=e,this.refs=cB,this.updater=r||uB}var ej=tj.prototype=new fB;ej.constructor=tj;hB(ej,mg.prototype);ej.isPureReactComponent=!0;var CI=Array.isArray,dB=Object.prototype.hasOwnProperty,ij={current:null},pB={key:!0,ref:!0,__self:!0,__source:!0};function mB(n,e,r){var o,a={},h=null,f=null;if(e!=null)for(o in e.ref!==void 0&&(f=e.ref),e.key!==void 0&&(h=""+e.key),e)dB.call(e,o)&&!pB.hasOwnProperty(o)&&(a[o]=e[o]);var p=arguments.length-2;if(p===1)a.children=r;else if(1<p){for(var g=Array(p),v=0;v<p;v++)g[v]=arguments[v+2];a.children=g}if(n&&n.defaultProps)for(o in p=n.defaultProps,p)a[o]===void 0&&(a[o]=p[o]);return{$$typeof:dv,type:n,key:h,ref:f,props:a,_owner:ij.current}}function jH(n,e){return{$$typeof:dv,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function nj(n){return typeof n=="object"&&n!==null&&n.$$typeof===dv}function EH(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(r){return e[r]})}var MI=/\/+/g;function wC(n,e){return typeof n=="object"&&n!==null&&n.key!=null?EH(""+n.key):e.toString(36)}function iS(n,e,r,o,a){var h=typeof n;(h==="undefined"||h==="boolean")&&(n=null);var f=!1;if(n===null)f=!0;else switch(h){case"string":case"number":f=!0;break;case"object":switch(n.$$typeof){case dv:case wH:f=!0}}if(f)return f=n,a=a(f),n=o===""?"."+wC(f,0):o,CI(a)?(r="",n!=null&&(r=n.replace(MI,"$&/")+"/"),iS(a,e,r,"",function(v){return v})):a!=null&&(nj(a)&&(a=jH(a,r+(!a.key||f&&f.key===a.key?"":(""+a.key).replace(MI,"$&/")+"/")+n)),e.push(a)),1;if(f=0,o=o===""?".":o+":",CI(n))for(var p=0;p<n.length;p++){h=n[p];var g=o+wC(h,p);f+=iS(h,e,r,g,a)}else if(g=AH(n),typeof g=="function")for(n=g.call(n),p=0;!(h=n.next()).done;)h=h.value,g=o+wC(h,p++),f+=iS(h,e,r,g,a);else if(h==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return f}function nw(n,e,r){if(n==null)return n;var o=[],a=0;return iS(n,o,"","",function(h){return e.call(r,h,a++)}),o}function RH(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(r){(n._status===0||n._status===-1)&&(n._status=1,n._result=r)},function(r){(n._status===0||n._status===-1)&&(n._status=2,n._result=r)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var $s={current:null},nS={transition:null},LH={ReactCurrentDispatcher:$s,ReactCurrentBatchConfig:nS,ReactCurrentOwner:ij};function gB(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:nw,forEach:function(n,e,r){nw(n,function(){e.apply(this,arguments)},r)},count:function(n){var e=0;return nw(n,function(){e++}),e},toArray:function(n){return nw(n,function(e){return e})||[]},only:function(n){if(!nj(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ie.Component=mg;Ie.Fragment=SH;Ie.Profiler=PH;Ie.PureComponent=tj;Ie.StrictMode=kH;Ie.Suspense=MH;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LH;Ie.act=gB;Ie.cloneElement=function(n,e,r){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var o=hB({},n.props),a=n.key,h=n.ref,f=n._owner;if(e!=null){if(e.ref!==void 0&&(h=e.ref,f=ij.current),e.key!==void 0&&(a=""+e.key),n.type&&n.type.defaultProps)var p=n.type.defaultProps;for(g in e)dB.call(e,g)&&!pB.hasOwnProperty(g)&&(o[g]=e[g]===void 0&&p!==void 0?p[g]:e[g])}var g=arguments.length-2;if(g===1)o.children=r;else if(1<g){p=Array(g);for(var v=0;v<g;v++)p[v]=arguments[v+2];o.children=p}return{$$typeof:dv,type:n.type,key:a,ref:h,props:o,_owner:f}};Ie.createContext=function(n){return n={$$typeof:TH,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:bH,_context:n},n.Consumer=n};Ie.createElement=mB;Ie.createFactory=function(n){var e=mB.bind(null,n);return e.type=n,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(n){return{$$typeof:CH,render:n}};Ie.isValidElement=nj;Ie.lazy=function(n){return{$$typeof:NH,_payload:{_status:-1,_result:n},_init:RH}};Ie.memo=function(n,e){return{$$typeof:QH,type:n,compare:e===void 0?null:e}};Ie.startTransition=function(n){var e=nS.transition;nS.transition={};try{n()}finally{nS.transition=e}};Ie.unstable_act=gB;Ie.useCallback=function(n,e){return $s.current.useCallback(n,e)};Ie.useContext=function(n){return $s.current.useContext(n)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(n){return $s.current.useDeferredValue(n)};Ie.useEffect=function(n,e){return $s.current.useEffect(n,e)};Ie.useId=function(){return $s.current.useId()};Ie.useImperativeHandle=function(n,e,r){return $s.current.useImperativeHandle(n,e,r)};Ie.useInsertionEffect=function(n,e){return $s.current.useInsertionEffect(n,e)};Ie.useLayoutEffect=function(n,e){return $s.current.useLayoutEffect(n,e)};Ie.useMemo=function(n,e){return $s.current.useMemo(n,e)};Ie.useReducer=function(n,e,r){return $s.current.useReducer(n,e,r)};Ie.useRef=function(n){return $s.current.useRef(n)};Ie.useState=function(n){return $s.current.useState(n)};Ie.useSyncExternalStore=function(n,e,r){return $s.current.useSyncExternalStore(n,e,r)};Ie.useTransition=function(){return $s.current.useTransition()};Ie.version="18.3.1";aB.exports=Ie;var Z=aB.exports;const $t=oB(Z),yB=xH({__proto__:null,default:$t},[Z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $H=Z,DH=Symbol.for("react.element"),IH=Symbol.for("react.fragment"),FH=Object.prototype.hasOwnProperty,VH=$H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zH={key:!0,ref:!0,__self:!0,__source:!0};function OB(n,e,r){var o,a={},h=null,f=null;r!==void 0&&(h=""+r),e.key!==void 0&&(h=""+e.key),e.ref!==void 0&&(f=e.ref);for(o in e)FH.call(e,o)&&!zH.hasOwnProperty(o)&&(a[o]=e[o]);if(n&&n.defaultProps)for(o in e=n.defaultProps,e)a[o]===void 0&&(a[o]=e[o]);return{$$typeof:DH,type:n,key:h,ref:f,props:a,_owner:VH.current}}lP.Fragment=IH;lP.jsx=OB;lP.jsxs=OB;lB.exports=lP;var Q=lB.exports,vB={exports:{}},zo={},xB={exports:{}},wB={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(pt,ht){var vt=pt.length;pt.push(ht);t:for(;0<vt;){var Dt=vt-1>>>1,qt=pt[Dt];if(0<a(qt,ht))pt[Dt]=ht,pt[vt]=qt,vt=Dt;else break t}}function r(pt){return pt.length===0?null:pt[0]}function o(pt){if(pt.length===0)return null;var ht=pt[0],vt=pt.pop();if(vt!==ht){pt[0]=vt;t:for(var Dt=0,qt=pt.length,it=qt>>>1;Dt<it;){var xe=2*(Dt+1)-1,Fe=pt[xe],le=xe+1,Qi=pt[le];if(0>a(Fe,vt))le<qt&&0>a(Qi,Fe)?(pt[Dt]=Qi,pt[le]=vt,Dt=le):(pt[Dt]=Fe,pt[xe]=vt,Dt=xe);else if(le<qt&&0>a(Qi,vt))pt[Dt]=Qi,pt[le]=vt,Dt=le;else break t}}return ht}function a(pt,ht){var vt=pt.sortIndex-ht.sortIndex;return vt!==0?vt:pt.id-ht.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;n.unstable_now=function(){return h.now()}}else{var f=Date,p=f.now();n.unstable_now=function(){return f.now()-p}}var g=[],v=[],x=1,S=null,b=3,C=!1,j=!1,N=!1,E=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(pt){for(var ht=r(v);ht!==null;){if(ht.callback===null)o(v);else if(ht.startTime<=pt)o(v),ht.sortIndex=ht.expirationTime,e(g,ht);else break;ht=r(v)}}function D(pt){if(N=!1,V(pt),!j)if(r(g)!==null)j=!0,Mt(B);else{var ht=r(v);ht!==null&&Et(D,ht.startTime-pt)}}function B(pt,ht){j=!1,N&&(N=!1,R(J),J=-1),C=!0;var vt=b;try{for(V(ht),S=r(g);S!==null&&(!(S.expirationTime>ht)||pt&&!bt());){var Dt=S.callback;if(typeof Dt=="function"){S.callback=null,b=S.priorityLevel;var qt=Dt(S.expirationTime<=ht);ht=n.unstable_now(),typeof qt=="function"?S.callback=qt:S===r(g)&&o(g),V(ht)}else o(g);S=r(g)}if(S!==null)var it=!0;else{var xe=r(v);xe!==null&&Et(D,xe.startTime-ht),it=!1}return it}finally{S=null,b=vt,C=!1}}var q=!1,K=null,J=-1,ot=5,Ot=-1;function bt(){return!(n.unstable_now()-Ot<ot)}function wt(){if(K!==null){var pt=n.unstable_now();Ot=pt;var ht=!0;try{ht=K(!0,pt)}finally{ht?St():(q=!1,K=null)}}else q=!1}var St;if(typeof $=="function")St=function(){$(wt)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,Vt=dt.port2;dt.port1.onmessage=wt,St=function(){Vt.postMessage(null)}}else St=function(){E(wt,0)};function Mt(pt){K=pt,q||(q=!0,St())}function Et(pt,ht){J=E(function(){pt(n.unstable_now())},ht)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(pt){pt.callback=null},n.unstable_continueExecution=function(){j||C||(j=!0,Mt(B))},n.unstable_forceFrameRate=function(pt){0>pt||125<pt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ot=0<pt?Math.floor(1e3/pt):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return r(g)},n.unstable_next=function(pt){switch(b){case 1:case 2:case 3:var ht=3;break;default:ht=b}var vt=b;b=ht;try{return pt()}finally{b=vt}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(pt,ht){switch(pt){case 1:case 2:case 3:case 4:case 5:break;default:pt=3}var vt=b;b=pt;try{return ht()}finally{b=vt}},n.unstable_scheduleCallback=function(pt,ht,vt){var Dt=n.unstable_now();switch(typeof vt=="object"&&vt!==null?(vt=vt.delay,vt=typeof vt=="number"&&0<vt?Dt+vt:Dt):vt=Dt,pt){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=vt+qt,pt={id:x++,callback:ht,priorityLevel:pt,startTime:vt,expirationTime:qt,sortIndex:-1},vt>Dt?(pt.sortIndex=vt,e(v,pt),r(g)===null&&pt===r(v)&&(N?(R(J),J=-1):N=!0,Et(D,vt-Dt))):(pt.sortIndex=qt,e(g,pt),j||C||(j=!0,Mt(B))),pt},n.unstable_shouldYield=bt,n.unstable_wrapCallback=function(pt){var ht=b;return function(){var vt=b;b=ht;try{return pt.apply(this,arguments)}finally{b=vt}}}})(wB);xB.exports=wB;var XH=xB.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BH=Z,Fo=XH;function Ft(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var SB=new Set,oO={};function Ad(n,e){_m(n,e),_m(n+"Capture",e)}function _m(n,e){for(oO[n]=e,n=0;n<e.length;n++)SB.add(e[n])}var hh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uQ=Object.prototype.hasOwnProperty,_H=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,QI={},NI={};function ZH(n){return uQ.call(NI,n)?!0:uQ.call(QI,n)?!1:_H.test(n)?NI[n]=!0:(QI[n]=!0,!1)}function YH(n,e,r,o){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function UH(n,e,r,o){if(e===null||typeof e>"u"||YH(n,e,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ds(n,e,r,o,a,h,f){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=n,this.type=e,this.sanitizeURL=h,this.removeEmptyString=f}var _r={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){_r[n]=new Ds(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];_r[e]=new Ds(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){_r[n]=new Ds(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){_r[n]=new Ds(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){_r[n]=new Ds(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){_r[n]=new Ds(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){_r[n]=new Ds(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){_r[n]=new Ds(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){_r[n]=new Ds(n,5,!1,n.toLowerCase(),null,!1,!1)});var rj=/[\-:]([a-z])/g;function sj(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(rj,sj);_r[e]=new Ds(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(rj,sj);_r[e]=new Ds(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(rj,sj);_r[e]=new Ds(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){_r[n]=new Ds(n,1,!1,n.toLowerCase(),null,!1,!1)});_r.xlinkHref=new Ds("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){_r[n]=new Ds(n,1,!1,n.toLowerCase(),null,!0,!0)});function oj(n,e,r,o){var a=_r.hasOwnProperty(e)?_r[e]:null;(a!==null?a.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UH(e,r,a,o)&&(r=null),o||a===null?ZH(e)&&(r===null?n.removeAttribute(e):n.setAttribute(e,""+r)):a.mustUseProperty?n[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,o=a.attributeNamespace,r===null?n.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,o?n.setAttributeNS(o,e,r):n.setAttribute(e,r))))}var Sh=BH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rw=Symbol.for("react.element"),em=Symbol.for("react.portal"),im=Symbol.for("react.fragment"),lj=Symbol.for("react.strict_mode"),hQ=Symbol.for("react.profiler"),kB=Symbol.for("react.provider"),PB=Symbol.for("react.context"),aj=Symbol.for("react.forward_ref"),cQ=Symbol.for("react.suspense"),fQ=Symbol.for("react.suspense_list"),uj=Symbol.for("react.memo"),rc=Symbol.for("react.lazy"),bB=Symbol.for("react.offscreen"),AI=Symbol.iterator;function ny(n){return n===null||typeof n!="object"?null:(n=AI&&n[AI]||n["@@iterator"],typeof n=="function"?n:null)}var cn=Object.assign,SC;function Ty(n){if(SC===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);SC=e&&e[1]||""}return`
`+SC+n}var kC=!1;function PC(n,e){if(!n||kC)return"";kC=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(v){var o=v}Reflect.construct(n,[],e)}else{try{e.call()}catch(v){o=v}n.call(e.prototype)}else{try{throw Error()}catch(v){o=v}n()}}catch(v){if(v&&o&&typeof v.stack=="string"){for(var a=v.stack.split(`
`),h=o.stack.split(`
`),f=a.length-1,p=h.length-1;1<=f&&0<=p&&a[f]!==h[p];)p--;for(;1<=f&&0<=p;f--,p--)if(a[f]!==h[p]){if(f!==1||p!==1)do if(f--,p--,0>p||a[f]!==h[p]){var g=`
`+a[f].replace(" at new "," at ");return n.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",n.displayName)),g}while(1<=f&&0<=p);break}}}finally{kC=!1,Error.prepareStackTrace=r}return(n=n?n.displayName||n.name:"")?Ty(n):""}function WH(n){switch(n.tag){case 5:return Ty(n.type);case 16:return Ty("Lazy");case 13:return Ty("Suspense");case 19:return Ty("SuspenseList");case 0:case 2:case 15:return n=PC(n.type,!1),n;case 11:return n=PC(n.type.render,!1),n;case 1:return n=PC(n.type,!0),n;default:return""}}function dQ(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case im:return"Fragment";case em:return"Portal";case hQ:return"Profiler";case lj:return"StrictMode";case cQ:return"Suspense";case fQ:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case PB:return(n.displayName||"Context")+".Consumer";case kB:return(n._context.displayName||"Context")+".Provider";case aj:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case uj:return e=n.displayName||null,e!==null?e:dQ(n.type)||"Memo";case rc:e=n._payload,n=n._init;try{return dQ(n(e))}catch{}}return null}function qH(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dQ(e);case 8:return e===lj?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jc(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function TB(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GH(n){var e=TB(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),o=""+n[e];if(!n.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,h=r.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return a.call(this)},set:function(f){o=""+f,h.call(this,f)}}),Object.defineProperty(n,e,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(f){o=""+f},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function sw(n){n._valueTracker||(n._valueTracker=GH(n))}function CB(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var r=e.getValue(),o="";return n&&(o=TB(n)?n.checked?"true":"false":n.value),n=o,n!==r?(e.setValue(n),!0):!1}function XS(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function pQ(n,e){var r=e.checked;return cn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??n._wrapperState.initialChecked})}function jI(n,e){var r=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;r=jc(e.value!=null?e.value:r),n._wrapperState={initialChecked:o,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function MB(n,e){e=e.checked,e!=null&&oj(n,"checked",e,!1)}function mQ(n,e){MB(n,e);var r=jc(e.value),o=e.type;if(r!=null)o==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+r):n.value!==""+r&&(n.value=""+r);else if(o==="submit"||o==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?gQ(n,e.type,r):e.hasOwnProperty("defaultValue")&&gQ(n,e.type,jc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function EI(n,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,r||e===n.value||(n.value=e),n.defaultValue=e}r=n.name,r!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,r!==""&&(n.name=r)}function gQ(n,e,r){(e!=="number"||XS(n.ownerDocument)!==n)&&(r==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+r&&(n.defaultValue=""+r))}var Cy=Array.isArray;function xm(n,e,r,o){if(n=n.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<n.length;r++)a=e.hasOwnProperty("$"+n[r].value),n[r].selected!==a&&(n[r].selected=a),a&&o&&(n[r].defaultSelected=!0)}else{for(r=""+jc(r),e=null,a=0;a<n.length;a++){if(n[a].value===r){n[a].selected=!0,o&&(n[a].defaultSelected=!0);return}e!==null||n[a].disabled||(e=n[a])}e!==null&&(e.selected=!0)}}function yQ(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ft(91));return cn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function RI(n,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ft(92));if(Cy(r)){if(1<r.length)throw Error(Ft(93));r=r[0]}e=r}e==null&&(e=""),r=e}n._wrapperState={initialValue:jc(r)}}function QB(n,e){var r=jc(e.value),o=jc(e.defaultValue);r!=null&&(r=""+r,r!==n.value&&(n.value=r),e.defaultValue==null&&n.defaultValue!==r&&(n.defaultValue=r)),o!=null&&(n.defaultValue=""+o)}function LI(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function NB(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function OQ(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?NB(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ow,AB=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,o,a){MSApp.execUnsafeLocalFunction(function(){return n(e,r,o,a)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(ow=ow||document.createElement("div"),ow.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ow.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function lO(n,e){if(e){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=e;return}}n.textContent=e}var Dy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HH=["Webkit","ms","Moz","O"];Object.keys(Dy).forEach(function(n){HH.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Dy[e]=Dy[n]})});function jB(n,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Dy.hasOwnProperty(n)&&Dy[n]?(""+e).trim():e+"px"}function EB(n,e){n=n.style;for(var r in e)if(e.hasOwnProperty(r)){var o=r.indexOf("--")===0,a=jB(r,e[r],o);r==="float"&&(r="cssFloat"),o?n.setProperty(r,a):n[r]=a}}var KH=cn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vQ(n,e){if(e){if(KH[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ft(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ft(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ft(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ft(62))}}function xQ(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wQ=null;function hj(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var SQ=null,wm=null,Sm=null;function $I(n){if(n=gv(n)){if(typeof SQ!="function")throw Error(Ft(280));var e=n.stateNode;e&&(e=fP(e),SQ(n.stateNode,n.type,e))}}function RB(n){wm?Sm?Sm.push(n):Sm=[n]:wm=n}function LB(){if(wm){var n=wm,e=Sm;if(Sm=wm=null,$I(n),e)for(n=0;n<e.length;n++)$I(e[n])}}function $B(n,e){return n(e)}function DB(){}var bC=!1;function IB(n,e,r){if(bC)return n(e,r);bC=!0;try{return $B(n,e,r)}finally{bC=!1,(wm!==null||Sm!==null)&&(DB(),LB())}}function aO(n,e){var r=n.stateNode;if(r===null)return null;var o=fP(r);if(o===null)return null;r=o[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break t;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(Ft(231,e,typeof r));return r}var kQ=!1;if(hh)try{var ry={};Object.defineProperty(ry,"passive",{get:function(){kQ=!0}}),window.addEventListener("test",ry,ry),window.removeEventListener("test",ry,ry)}catch{kQ=!1}function JH(n,e,r,o,a,h,f,p,g){var v=Array.prototype.slice.call(arguments,3);try{e.apply(r,v)}catch(x){this.onError(x)}}var Iy=!1,BS=null,_S=!1,PQ=null,tK={onError:function(n){Iy=!0,BS=n}};function eK(n,e,r,o,a,h,f,p,g){Iy=!1,BS=null,JH.apply(tK,arguments)}function iK(n,e,r,o,a,h,f,p,g){if(eK.apply(this,arguments),Iy){if(Iy){var v=BS;Iy=!1,BS=null}else throw Error(Ft(198));_S||(_S=!0,PQ=v)}}function jd(n){var e=n,r=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(r=e.return),n=e.return;while(n)}return e.tag===3?r:null}function FB(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function DI(n){if(jd(n)!==n)throw Error(Ft(188))}function nK(n){var e=n.alternate;if(!e){if(e=jd(n),e===null)throw Error(Ft(188));return e!==n?null:n}for(var r=n,o=e;;){var a=r.return;if(a===null)break;var h=a.alternate;if(h===null){if(o=a.return,o!==null){r=o;continue}break}if(a.child===h.child){for(h=a.child;h;){if(h===r)return DI(a),n;if(h===o)return DI(a),e;h=h.sibling}throw Error(Ft(188))}if(r.return!==o.return)r=a,o=h;else{for(var f=!1,p=a.child;p;){if(p===r){f=!0,r=a,o=h;break}if(p===o){f=!0,o=a,r=h;break}p=p.sibling}if(!f){for(p=h.child;p;){if(p===r){f=!0,r=h,o=a;break}if(p===o){f=!0,o=h,r=a;break}p=p.sibling}if(!f)throw Error(Ft(189))}}if(r.alternate!==o)throw Error(Ft(190))}if(r.tag!==3)throw Error(Ft(188));return r.stateNode.current===r?n:e}function VB(n){return n=nK(n),n!==null?zB(n):null}function zB(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=zB(n);if(e!==null)return e;n=n.sibling}return null}var XB=Fo.unstable_scheduleCallback,II=Fo.unstable_cancelCallback,rK=Fo.unstable_shouldYield,sK=Fo.unstable_requestPaint,Rn=Fo.unstable_now,oK=Fo.unstable_getCurrentPriorityLevel,cj=Fo.unstable_ImmediatePriority,BB=Fo.unstable_UserBlockingPriority,ZS=Fo.unstable_NormalPriority,lK=Fo.unstable_LowPriority,_B=Fo.unstable_IdlePriority,aP=null,ou=null;function aK(n){if(ou&&typeof ou.onCommitFiberRoot=="function")try{ou.onCommitFiberRoot(aP,n,void 0,(n.current.flags&128)===128)}catch{}}var ta=Math.clz32?Math.clz32:cK,uK=Math.log,hK=Math.LN2;function cK(n){return n>>>=0,n===0?32:31-(uK(n)/hK|0)|0}var lw=64,aw=4194304;function My(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function YS(n,e){var r=n.pendingLanes;if(r===0)return 0;var o=0,a=n.suspendedLanes,h=n.pingedLanes,f=r&268435455;if(f!==0){var p=f&~a;p!==0?o=My(p):(h&=f,h!==0&&(o=My(h)))}else f=r&~a,f!==0?o=My(f):h!==0&&(o=My(h));if(o===0)return 0;if(e!==0&&e!==o&&!(e&a)&&(a=o&-o,h=e&-e,a>=h||a===16&&(h&4194240)!==0))return e;if(o&4&&(o|=r&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=o;0<e;)r=31-ta(e),a=1<<r,o|=n[r],e&=~a;return o}function fK(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dK(n,e){for(var r=n.suspendedLanes,o=n.pingedLanes,a=n.expirationTimes,h=n.pendingLanes;0<h;){var f=31-ta(h),p=1<<f,g=a[f];g===-1?(!(p&r)||p&o)&&(a[f]=fK(p,e)):g<=e&&(n.expiredLanes|=p),h&=~p}}function bQ(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ZB(){var n=lw;return lw<<=1,!(lw&4194240)&&(lw=64),n}function TC(n){for(var e=[],r=0;31>r;r++)e.push(n);return e}function pv(n,e,r){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ta(e),n[e]=r}function pK(n,e){var r=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var o=n.eventTimes;for(n=n.expirationTimes;0<r;){var a=31-ta(r),h=1<<a;e[a]=0,o[a]=-1,n[a]=-1,r&=~h}}function fj(n,e){var r=n.entangledLanes|=e;for(n=n.entanglements;r;){var o=31-ta(r),a=1<<o;a&e|n[o]&e&&(n[o]|=e),r&=~a}}var yi=0;function YB(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var UB,dj,WB,qB,GB,TQ=!1,uw=[],Sc=null,kc=null,Pc=null,uO=new Map,hO=new Map,ac=[],mK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function FI(n,e){switch(n){case"focusin":case"focusout":Sc=null;break;case"dragenter":case"dragleave":kc=null;break;case"mouseover":case"mouseout":Pc=null;break;case"pointerover":case"pointerout":uO.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hO.delete(e.pointerId)}}function sy(n,e,r,o,a,h){return n===null||n.nativeEvent!==h?(n={blockedOn:e,domEventName:r,eventSystemFlags:o,nativeEvent:h,targetContainers:[a]},e!==null&&(e=gv(e),e!==null&&dj(e)),n):(n.eventSystemFlags|=o,e=n.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),n)}function gK(n,e,r,o,a){switch(e){case"focusin":return Sc=sy(Sc,n,e,r,o,a),!0;case"dragenter":return kc=sy(kc,n,e,r,o,a),!0;case"mouseover":return Pc=sy(Pc,n,e,r,o,a),!0;case"pointerover":var h=a.pointerId;return uO.set(h,sy(uO.get(h)||null,n,e,r,o,a)),!0;case"gotpointercapture":return h=a.pointerId,hO.set(h,sy(hO.get(h)||null,n,e,r,o,a)),!0}return!1}function HB(n){var e=Gf(n.target);if(e!==null){var r=jd(e);if(r!==null){if(e=r.tag,e===13){if(e=FB(r),e!==null){n.blockedOn=e,GB(n.priority,function(){WB(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function rS(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var r=CQ(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(r===null){r=n.nativeEvent;var o=new r.constructor(r.type,r);wQ=o,r.target.dispatchEvent(o),wQ=null}else return e=gv(r),e!==null&&dj(e),n.blockedOn=r,!1;e.shift()}return!0}function VI(n,e,r){rS(n)&&r.delete(e)}function yK(){TQ=!1,Sc!==null&&rS(Sc)&&(Sc=null),kc!==null&&rS(kc)&&(kc=null),Pc!==null&&rS(Pc)&&(Pc=null),uO.forEach(VI),hO.forEach(VI)}function oy(n,e){n.blockedOn===e&&(n.blockedOn=null,TQ||(TQ=!0,Fo.unstable_scheduleCallback(Fo.unstable_NormalPriority,yK)))}function cO(n){function e(a){return oy(a,n)}if(0<uw.length){oy(uw[0],n);for(var r=1;r<uw.length;r++){var o=uw[r];o.blockedOn===n&&(o.blockedOn=null)}}for(Sc!==null&&oy(Sc,n),kc!==null&&oy(kc,n),Pc!==null&&oy(Pc,n),uO.forEach(e),hO.forEach(e),r=0;r<ac.length;r++)o=ac[r],o.blockedOn===n&&(o.blockedOn=null);for(;0<ac.length&&(r=ac[0],r.blockedOn===null);)HB(r),r.blockedOn===null&&ac.shift()}var km=Sh.ReactCurrentBatchConfig,US=!0;function OK(n,e,r,o){var a=yi,h=km.transition;km.transition=null;try{yi=1,pj(n,e,r,o)}finally{yi=a,km.transition=h}}function vK(n,e,r,o){var a=yi,h=km.transition;km.transition=null;try{yi=4,pj(n,e,r,o)}finally{yi=a,km.transition=h}}function pj(n,e,r,o){if(US){var a=CQ(n,e,r,o);if(a===null)$C(n,e,o,WS,r),FI(n,o);else if(gK(a,n,e,r,o))o.stopPropagation();else if(FI(n,o),e&4&&-1<mK.indexOf(n)){for(;a!==null;){var h=gv(a);if(h!==null&&UB(h),h=CQ(n,e,r,o),h===null&&$C(n,e,o,WS,r),h===a)break;a=h}a!==null&&o.stopPropagation()}else $C(n,e,o,null,r)}}var WS=null;function CQ(n,e,r,o){if(WS=null,n=hj(o),n=Gf(n),n!==null)if(e=jd(n),e===null)n=null;else if(r=e.tag,r===13){if(n=FB(e),n!==null)return n;n=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return WS=n,null}function KB(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oK()){case cj:return 1;case BB:return 4;case ZS:case lK:return 16;case _B:return 536870912;default:return 16}default:return 16}}var gc=null,mj=null,sS=null;function JB(){if(sS)return sS;var n,e=mj,r=e.length,o,a="value"in gc?gc.value:gc.textContent,h=a.length;for(n=0;n<r&&e[n]===a[n];n++);var f=r-n;for(o=1;o<=f&&e[r-o]===a[h-o];o++);return sS=a.slice(n,1<o?1-o:void 0)}function oS(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function hw(){return!0}function zI(){return!1}function Xo(n){function e(r,o,a,h,f){this._reactName=r,this._targetInst=a,this.type=o,this.nativeEvent=h,this.target=f,this.currentTarget=null;for(var p in n)n.hasOwnProperty(p)&&(r=n[p],this[p]=r?r(h):h[p]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?hw:zI,this.isPropagationStopped=zI,this}return cn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=hw)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=hw)},persist:function(){},isPersistent:hw}),e}var gg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gj=Xo(gg),mv=cn({},gg,{view:0,detail:0}),xK=Xo(mv),CC,MC,ly,uP=cn({},mv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yj,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ly&&(ly&&n.type==="mousemove"?(CC=n.screenX-ly.screenX,MC=n.screenY-ly.screenY):MC=CC=0,ly=n),CC)},movementY:function(n){return"movementY"in n?n.movementY:MC}}),XI=Xo(uP),wK=cn({},uP,{dataTransfer:0}),SK=Xo(wK),kK=cn({},mv,{relatedTarget:0}),QC=Xo(kK),PK=cn({},gg,{animationName:0,elapsedTime:0,pseudoElement:0}),bK=Xo(PK),TK=cn({},gg,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),CK=Xo(TK),MK=cn({},gg,{data:0}),BI=Xo(MK),QK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jK(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=AK[n])?!!e[n]:!1}function yj(){return jK}var EK=cn({},mv,{key:function(n){if(n.key){var e=QK[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=oS(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?NK[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yj,charCode:function(n){return n.type==="keypress"?oS(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?oS(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),RK=Xo(EK),LK=cn({},uP,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_I=Xo(LK),$K=cn({},mv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yj}),DK=Xo($K),IK=cn({},gg,{propertyName:0,elapsedTime:0,pseudoElement:0}),FK=Xo(IK),VK=cn({},uP,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),zK=Xo(VK),XK=[9,13,27,32],Oj=hh&&"CompositionEvent"in window,Fy=null;hh&&"documentMode"in document&&(Fy=document.documentMode);var BK=hh&&"TextEvent"in window&&!Fy,t_=hh&&(!Oj||Fy&&8<Fy&&11>=Fy),ZI=" ",YI=!1;function e_(n,e){switch(n){case"keyup":return XK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i_(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var nm=!1;function _K(n,e){switch(n){case"compositionend":return i_(e);case"keypress":return e.which!==32?null:(YI=!0,ZI);case"textInput":return n=e.data,n===ZI&&YI?null:n;default:return null}}function ZK(n,e){if(nm)return n==="compositionend"||!Oj&&e_(n,e)?(n=JB(),sS=mj=gc=null,nm=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return t_&&e.locale!=="ko"?null:e.data;default:return null}}var YK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UI(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!YK[n.type]:e==="textarea"}function n_(n,e,r,o){RB(o),e=qS(e,"onChange"),0<e.length&&(r=new gj("onChange","change",null,r,o),n.push({event:r,listeners:e}))}var Vy=null,fO=null;function UK(n){p_(n,0)}function hP(n){var e=om(n);if(CB(e))return n}function WK(n,e){if(n==="change")return e}var r_=!1;if(hh){var NC;if(hh){var AC="oninput"in document;if(!AC){var WI=document.createElement("div");WI.setAttribute("oninput","return;"),AC=typeof WI.oninput=="function"}NC=AC}else NC=!1;r_=NC&&(!document.documentMode||9<document.documentMode)}function qI(){Vy&&(Vy.detachEvent("onpropertychange",s_),fO=Vy=null)}function s_(n){if(n.propertyName==="value"&&hP(fO)){var e=[];n_(e,fO,n,hj(n)),IB(UK,e)}}function qK(n,e,r){n==="focusin"?(qI(),Vy=e,fO=r,Vy.attachEvent("onpropertychange",s_)):n==="focusout"&&qI()}function GK(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return hP(fO)}function HK(n,e){if(n==="click")return hP(e)}function KK(n,e){if(n==="input"||n==="change")return hP(e)}function JK(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var na=typeof Object.is=="function"?Object.is:JK;function dO(n,e){if(na(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var r=Object.keys(n),o=Object.keys(e);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var a=r[o];if(!uQ.call(e,a)||!na(n[a],e[a]))return!1}return!0}function GI(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function HI(n,e){var r=GI(n);n=0;for(var o;r;){if(r.nodeType===3){if(o=n+r.textContent.length,n<=e&&o>=e)return{node:r,offset:e-n};n=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=GI(r)}}function o_(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?o_(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function l_(){for(var n=window,e=XS();e instanceof n.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)n=e.contentWindow;else break;e=XS(n.document)}return e}function vj(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function tJ(n){var e=l_(),r=n.focusedElem,o=n.selectionRange;if(e!==r&&r&&r.ownerDocument&&o_(r.ownerDocument.documentElement,r)){if(o!==null&&vj(r)){if(e=o.start,n=o.end,n===void 0&&(n=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(n,r.value.length);else if(n=(e=r.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var a=r.textContent.length,h=Math.min(o.start,a);o=o.end===void 0?h:Math.min(o.end,a),!n.extend&&h>o&&(a=o,o=h,h=a),a=HI(r,h);var f=HI(r,o);a&&f&&(n.rangeCount!==1||n.anchorNode!==a.node||n.anchorOffset!==a.offset||n.focusNode!==f.node||n.focusOffset!==f.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),n.removeAllRanges(),h>o?(n.addRange(e),n.extend(f.node,f.offset)):(e.setEnd(f.node,f.offset),n.addRange(e)))}}for(e=[],n=r;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)n=e[r],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var eJ=hh&&"documentMode"in document&&11>=document.documentMode,rm=null,MQ=null,zy=null,QQ=!1;function KI(n,e,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;QQ||rm==null||rm!==XS(o)||(o=rm,"selectionStart"in o&&vj(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zy&&dO(zy,o)||(zy=o,o=qS(MQ,"onSelect"),0<o.length&&(e=new gj("onSelect","select",null,e,r),n.push({event:e,listeners:o}),e.target=rm)))}function cw(n,e){var r={};return r[n.toLowerCase()]=e.toLowerCase(),r["Webkit"+n]="webkit"+e,r["Moz"+n]="moz"+e,r}var sm={animationend:cw("Animation","AnimationEnd"),animationiteration:cw("Animation","AnimationIteration"),animationstart:cw("Animation","AnimationStart"),transitionend:cw("Transition","TransitionEnd")},jC={},a_={};hh&&(a_=document.createElement("div").style,"AnimationEvent"in window||(delete sm.animationend.animation,delete sm.animationiteration.animation,delete sm.animationstart.animation),"TransitionEvent"in window||delete sm.transitionend.transition);function cP(n){if(jC[n])return jC[n];if(!sm[n])return n;var e=sm[n],r;for(r in e)if(e.hasOwnProperty(r)&&r in a_)return jC[n]=e[r];return n}var u_=cP("animationend"),h_=cP("animationiteration"),c_=cP("animationstart"),f_=cP("transitionend"),d_=new Map,JI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qc(n,e){d_.set(n,e),Ad(e,[n])}for(var EC=0;EC<JI.length;EC++){var RC=JI[EC],iJ=RC.toLowerCase(),nJ=RC[0].toUpperCase()+RC.slice(1);qc(iJ,"on"+nJ)}qc(u_,"onAnimationEnd");qc(h_,"onAnimationIteration");qc(c_,"onAnimationStart");qc("dblclick","onDoubleClick");qc("focusin","onFocus");qc("focusout","onBlur");qc(f_,"onTransitionEnd");_m("onMouseEnter",["mouseout","mouseover"]);_m("onMouseLeave",["mouseout","mouseover"]);_m("onPointerEnter",["pointerout","pointerover"]);_m("onPointerLeave",["pointerout","pointerover"]);Ad("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ad("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ad("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ad("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ad("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ad("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qy));function tF(n,e,r){var o=n.type||"unknown-event";n.currentTarget=r,iK(o,e,void 0,n),n.currentTarget=null}function p_(n,e){e=(e&4)!==0;for(var r=0;r<n.length;r++){var o=n[r],a=o.event;o=o.listeners;t:{var h=void 0;if(e)for(var f=o.length-1;0<=f;f--){var p=o[f],g=p.instance,v=p.currentTarget;if(p=p.listener,g!==h&&a.isPropagationStopped())break t;tF(a,p,v),h=g}else for(f=0;f<o.length;f++){if(p=o[f],g=p.instance,v=p.currentTarget,p=p.listener,g!==h&&a.isPropagationStopped())break t;tF(a,p,v),h=g}}}if(_S)throw n=PQ,_S=!1,PQ=null,n}function Fi(n,e){var r=e[RQ];r===void 0&&(r=e[RQ]=new Set);var o=n+"__bubble";r.has(o)||(m_(e,n,2,!1),r.add(o))}function LC(n,e,r){var o=0;e&&(o|=4),m_(r,n,o,e)}var fw="_reactListening"+Math.random().toString(36).slice(2);function pO(n){if(!n[fw]){n[fw]=!0,SB.forEach(function(r){r!=="selectionchange"&&(rJ.has(r)||LC(r,!1,n),LC(r,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[fw]||(e[fw]=!0,LC("selectionchange",!1,e))}}function m_(n,e,r,o){switch(KB(e)){case 1:var a=OK;break;case 4:a=vK;break;default:a=pj}r=a.bind(null,e,r,n),a=void 0,!kQ||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),o?a!==void 0?n.addEventListener(e,r,{capture:!0,passive:a}):n.addEventListener(e,r,!0):a!==void 0?n.addEventListener(e,r,{passive:a}):n.addEventListener(e,r,!1)}function $C(n,e,r,o,a){var h=o;if(!(e&1)&&!(e&2)&&o!==null)t:for(;;){if(o===null)return;var f=o.tag;if(f===3||f===4){var p=o.stateNode.containerInfo;if(p===a||p.nodeType===8&&p.parentNode===a)break;if(f===4)for(f=o.return;f!==null;){var g=f.tag;if((g===3||g===4)&&(g=f.stateNode.containerInfo,g===a||g.nodeType===8&&g.parentNode===a))return;f=f.return}for(;p!==null;){if(f=Gf(p),f===null)return;if(g=f.tag,g===5||g===6){o=h=f;continue t}p=p.parentNode}}o=o.return}IB(function(){var v=h,x=hj(r),S=[];t:{var b=d_.get(n);if(b!==void 0){var C=gj,j=n;switch(n){case"keypress":if(oS(r)===0)break t;case"keydown":case"keyup":C=RK;break;case"focusin":j="focus",C=QC;break;case"focusout":j="blur",C=QC;break;case"beforeblur":case"afterblur":C=QC;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=XI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=SK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=DK;break;case u_:case h_:case c_:C=bK;break;case f_:C=FK;break;case"scroll":C=xK;break;case"wheel":C=zK;break;case"copy":case"cut":case"paste":C=CK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=_I}var N=(e&4)!==0,E=!N&&n==="scroll",R=N?b!==null?b+"Capture":null:b;N=[];for(var $=v,V;$!==null;){V=$;var D=V.stateNode;if(V.tag===5&&D!==null&&(V=D,R!==null&&(D=aO($,R),D!=null&&N.push(mO($,D,V)))),E)break;$=$.return}0<N.length&&(b=new C(b,j,null,r,x),S.push({event:b,listeners:N}))}}if(!(e&7)){t:{if(b=n==="mouseover"||n==="pointerover",C=n==="mouseout"||n==="pointerout",b&&r!==wQ&&(j=r.relatedTarget||r.fromElement)&&(Gf(j)||j[ch]))break t;if((C||b)&&(b=x.window===x?x:(b=x.ownerDocument)?b.defaultView||b.parentWindow:window,C?(j=r.relatedTarget||r.toElement,C=v,j=j?Gf(j):null,j!==null&&(E=jd(j),j!==E||j.tag!==5&&j.tag!==6)&&(j=null)):(C=null,j=v),C!==j)){if(N=XI,D="onMouseLeave",R="onMouseEnter",$="mouse",(n==="pointerout"||n==="pointerover")&&(N=_I,D="onPointerLeave",R="onPointerEnter",$="pointer"),E=C==null?b:om(C),V=j==null?b:om(j),b=new N(D,$+"leave",C,r,x),b.target=E,b.relatedTarget=V,D=null,Gf(x)===v&&(N=new N(R,$+"enter",j,r,x),N.target=V,N.relatedTarget=E,D=N),E=D,C&&j)e:{for(N=C,R=j,$=0,V=N;V;V=qp(V))$++;for(V=0,D=R;D;D=qp(D))V++;for(;0<$-V;)N=qp(N),$--;for(;0<V-$;)R=qp(R),V--;for(;$--;){if(N===R||R!==null&&N===R.alternate)break e;N=qp(N),R=qp(R)}N=null}else N=null;C!==null&&eF(S,b,C,N,!1),j!==null&&E!==null&&eF(S,E,j,N,!0)}}t:{if(b=v?om(v):window,C=b.nodeName&&b.nodeName.toLowerCase(),C==="select"||C==="input"&&b.type==="file")var B=WK;else if(UI(b))if(r_)B=KK;else{B=GK;var q=qK}else(C=b.nodeName)&&C.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(B=HK);if(B&&(B=B(n,v))){n_(S,B,r,x);break t}q&&q(n,b,v),n==="focusout"&&(q=b._wrapperState)&&q.controlled&&b.type==="number"&&gQ(b,"number",b.value)}switch(q=v?om(v):window,n){case"focusin":(UI(q)||q.contentEditable==="true")&&(rm=q,MQ=v,zy=null);break;case"focusout":zy=MQ=rm=null;break;case"mousedown":QQ=!0;break;case"contextmenu":case"mouseup":case"dragend":QQ=!1,KI(S,r,x);break;case"selectionchange":if(eJ)break;case"keydown":case"keyup":KI(S,r,x)}var K;if(Oj)t:{switch(n){case"compositionstart":var J="onCompositionStart";break t;case"compositionend":J="onCompositionEnd";break t;case"compositionupdate":J="onCompositionUpdate";break t}J=void 0}else nm?e_(n,r)&&(J="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(J="onCompositionStart");J&&(t_&&r.locale!=="ko"&&(nm||J!=="onCompositionStart"?J==="onCompositionEnd"&&nm&&(K=JB()):(gc=x,mj="value"in gc?gc.value:gc.textContent,nm=!0)),q=qS(v,J),0<q.length&&(J=new BI(J,n,null,r,x),S.push({event:J,listeners:q}),K?J.data=K:(K=i_(r),K!==null&&(J.data=K)))),(K=BK?_K(n,r):ZK(n,r))&&(v=qS(v,"onBeforeInput"),0<v.length&&(x=new BI("onBeforeInput","beforeinput",null,r,x),S.push({event:x,listeners:v}),x.data=K))}p_(S,e)})}function mO(n,e,r){return{instance:n,listener:e,currentTarget:r}}function qS(n,e){for(var r=e+"Capture",o=[];n!==null;){var a=n,h=a.stateNode;a.tag===5&&h!==null&&(a=h,h=aO(n,r),h!=null&&o.unshift(mO(n,h,a)),h=aO(n,e),h!=null&&o.push(mO(n,h,a))),n=n.return}return o}function qp(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function eF(n,e,r,o,a){for(var h=e._reactName,f=[];r!==null&&r!==o;){var p=r,g=p.alternate,v=p.stateNode;if(g!==null&&g===o)break;p.tag===5&&v!==null&&(p=v,a?(g=aO(r,h),g!=null&&f.unshift(mO(r,g,p))):a||(g=aO(r,h),g!=null&&f.push(mO(r,g,p)))),r=r.return}f.length!==0&&n.push({event:e,listeners:f})}var sJ=/\r\n?/g,oJ=/\u0000|\uFFFD/g;function iF(n){return(typeof n=="string"?n:""+n).replace(sJ,`
`).replace(oJ,"")}function dw(n,e,r){if(e=iF(e),iF(n)!==e&&r)throw Error(Ft(425))}function GS(){}var NQ=null,AQ=null;function jQ(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var EQ=typeof setTimeout=="function"?setTimeout:void 0,lJ=typeof clearTimeout=="function"?clearTimeout:void 0,nF=typeof Promise=="function"?Promise:void 0,aJ=typeof queueMicrotask=="function"?queueMicrotask:typeof nF<"u"?function(n){return nF.resolve(null).then(n).catch(uJ)}:EQ;function uJ(n){setTimeout(function(){throw n})}function DC(n,e){var r=e,o=0;do{var a=r.nextSibling;if(n.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(o===0){n.removeChild(a),cO(e);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=a}while(r);cO(e)}function bc(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function rF(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return n;e--}else r==="/$"&&e++}n=n.previousSibling}return null}var yg=Math.random().toString(36).slice(2),Ja="__reactFiber$"+yg,gO="__reactProps$"+yg,ch="__reactContainer$"+yg,RQ="__reactEvents$"+yg,hJ="__reactListeners$"+yg,cJ="__reactHandles$"+yg;function Gf(n){var e=n[Ja];if(e)return e;for(var r=n.parentNode;r;){if(e=r[ch]||r[Ja]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(n=rF(n);n!==null;){if(r=n[Ja])return r;n=rF(n)}return e}n=r,r=n.parentNode}return null}function gv(n){return n=n[Ja]||n[ch],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function om(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ft(33))}function fP(n){return n[gO]||null}var LQ=[],lm=-1;function Gc(n){return{current:n}}function zi(n){0>lm||(n.current=LQ[lm],LQ[lm]=null,lm--)}function Ei(n,e){lm++,LQ[lm]=n.current,n.current=e}var Ec={},fs=Gc(Ec),uo=Gc(!1),md=Ec;function Zm(n,e){var r=n.type.contextTypes;if(!r)return Ec;var o=n.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var a={},h;for(h in r)a[h]=e[h];return o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=a),a}function ho(n){return n=n.childContextTypes,n!=null}function HS(){zi(uo),zi(fs)}function sF(n,e,r){if(fs.current!==Ec)throw Error(Ft(168));Ei(fs,e),Ei(uo,r)}function g_(n,e,r){var o=n.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var a in o)if(!(a in e))throw Error(Ft(108,qH(n)||"Unknown",a));return cn({},r,o)}function KS(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ec,md=fs.current,Ei(fs,n),Ei(uo,uo.current),!0}function oF(n,e,r){var o=n.stateNode;if(!o)throw Error(Ft(169));r?(n=g_(n,e,md),o.__reactInternalMemoizedMergedChildContext=n,zi(uo),zi(fs),Ei(fs,n)):zi(uo),Ei(uo,r)}var ih=null,dP=!1,IC=!1;function y_(n){ih===null?ih=[n]:ih.push(n)}function fJ(n){dP=!0,y_(n)}function Hc(){if(!IC&&ih!==null){IC=!0;var n=0,e=yi;try{var r=ih;for(yi=1;n<r.length;n++){var o=r[n];do o=o(!0);while(o!==null)}ih=null,dP=!1}catch(a){throw ih!==null&&(ih=ih.slice(n+1)),XB(cj,Hc),a}finally{yi=e,IC=!1}}return null}var am=[],um=0,JS=null,tk=0,ml=[],gl=0,gd=null,sh=1,oh="";function Zf(n,e){am[um++]=tk,am[um++]=JS,JS=n,tk=e}function O_(n,e,r){ml[gl++]=sh,ml[gl++]=oh,ml[gl++]=gd,gd=n;var o=sh;n=oh;var a=32-ta(o)-1;o&=~(1<<a),r+=1;var h=32-ta(e)+a;if(30<h){var f=a-a%5;h=(o&(1<<f)-1).toString(32),o>>=f,a-=f,sh=1<<32-ta(e)+a|r<<a|o,oh=h+n}else sh=1<<h|r<<a|o,oh=n}function xj(n){n.return!==null&&(Zf(n,1),O_(n,1,0))}function wj(n){for(;n===JS;)JS=am[--um],am[um]=null,tk=am[--um],am[um]=null;for(;n===gd;)gd=ml[--gl],ml[gl]=null,oh=ml[--gl],ml[gl]=null,sh=ml[--gl],ml[gl]=null}var Do=null,Ro=null,qi=!1,Jl=null;function v_(n,e){var r=yl(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=n,e=n.deletions,e===null?(n.deletions=[r],n.flags|=16):e.push(r)}function lF(n,e){switch(n.tag){case 5:var r=n.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Do=n,Ro=bc(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Do=n,Ro=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=gd!==null?{id:sh,overflow:oh}:null,n.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=yl(18,null,null,0),r.stateNode=e,r.return=n,n.child=r,Do=n,Ro=null,!0):!1;default:return!1}}function $Q(n){return(n.mode&1)!==0&&(n.flags&128)===0}function DQ(n){if(qi){var e=Ro;if(e){var r=e;if(!lF(n,e)){if($Q(n))throw Error(Ft(418));e=bc(r.nextSibling);var o=Do;e&&lF(n,e)?v_(o,r):(n.flags=n.flags&-4097|2,qi=!1,Do=n)}}else{if($Q(n))throw Error(Ft(418));n.flags=n.flags&-4097|2,qi=!1,Do=n}}}function aF(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Do=n}function pw(n){if(n!==Do)return!1;if(!qi)return aF(n),qi=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!jQ(n.type,n.memoizedProps)),e&&(e=Ro)){if($Q(n))throw x_(),Error(Ft(418));for(;e;)v_(n,e),e=bc(e.nextSibling)}if(aF(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ft(317));t:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"){if(e===0){Ro=bc(n.nextSibling);break t}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}n=n.nextSibling}Ro=null}}else Ro=Do?bc(n.stateNode.nextSibling):null;return!0}function x_(){for(var n=Ro;n;)n=bc(n.nextSibling)}function Ym(){Ro=Do=null,qi=!1}function Sj(n){Jl===null?Jl=[n]:Jl.push(n)}var dJ=Sh.ReactCurrentBatchConfig;function ay(n,e,r){if(n=r.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ft(309));var o=r.stateNode}if(!o)throw Error(Ft(147,n));var a=o,h=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===h?e.ref:(e=function(f){var p=a.refs;f===null?delete p[h]:p[h]=f},e._stringRef=h,e)}if(typeof n!="string")throw Error(Ft(284));if(!r._owner)throw Error(Ft(290,n))}return n}function mw(n,e){throw n=Object.prototype.toString.call(e),Error(Ft(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function uF(n){var e=n._init;return e(n._payload)}function w_(n){function e(R,$){if(n){var V=R.deletions;V===null?(R.deletions=[$],R.flags|=16):V.push($)}}function r(R,$){if(!n)return null;for(;$!==null;)e(R,$),$=$.sibling;return null}function o(R,$){for(R=new Map;$!==null;)$.key!==null?R.set($.key,$):R.set($.index,$),$=$.sibling;return R}function a(R,$){return R=Qc(R,$),R.index=0,R.sibling=null,R}function h(R,$,V){return R.index=V,n?(V=R.alternate,V!==null?(V=V.index,V<$?(R.flags|=2,$):V):(R.flags|=2,$)):(R.flags|=1048576,$)}function f(R){return n&&R.alternate===null&&(R.flags|=2),R}function p(R,$,V,D){return $===null||$.tag!==6?($=ZC(V,R.mode,D),$.return=R,$):($=a($,V),$.return=R,$)}function g(R,$,V,D){var B=V.type;return B===im?x(R,$,V.props.children,D,V.key):$!==null&&($.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===rc&&uF(B)===$.type)?(D=a($,V.props),D.ref=ay(R,$,V),D.return=R,D):(D=dS(V.type,V.key,V.props,null,R.mode,D),D.ref=ay(R,$,V),D.return=R,D)}function v(R,$,V,D){return $===null||$.tag!==4||$.stateNode.containerInfo!==V.containerInfo||$.stateNode.implementation!==V.implementation?($=YC(V,R.mode,D),$.return=R,$):($=a($,V.children||[]),$.return=R,$)}function x(R,$,V,D,B){return $===null||$.tag!==7?($=hd(V,R.mode,D,B),$.return=R,$):($=a($,V),$.return=R,$)}function S(R,$,V){if(typeof $=="string"&&$!==""||typeof $=="number")return $=ZC(""+$,R.mode,V),$.return=R,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case rw:return V=dS($.type,$.key,$.props,null,R.mode,V),V.ref=ay(R,null,$),V.return=R,V;case em:return $=YC($,R.mode,V),$.return=R,$;case rc:var D=$._init;return S(R,D($._payload),V)}if(Cy($)||ny($))return $=hd($,R.mode,V,null),$.return=R,$;mw(R,$)}return null}function b(R,$,V,D){var B=$!==null?$.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return B!==null?null:p(R,$,""+V,D);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case rw:return V.key===B?g(R,$,V,D):null;case em:return V.key===B?v(R,$,V,D):null;case rc:return B=V._init,b(R,$,B(V._payload),D)}if(Cy(V)||ny(V))return B!==null?null:x(R,$,V,D,null);mw(R,V)}return null}function C(R,$,V,D,B){if(typeof D=="string"&&D!==""||typeof D=="number")return R=R.get(V)||null,p($,R,""+D,B);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case rw:return R=R.get(D.key===null?V:D.key)||null,g($,R,D,B);case em:return R=R.get(D.key===null?V:D.key)||null,v($,R,D,B);case rc:var q=D._init;return C(R,$,V,q(D._payload),B)}if(Cy(D)||ny(D))return R=R.get(V)||null,x($,R,D,B,null);mw($,D)}return null}function j(R,$,V,D){for(var B=null,q=null,K=$,J=$=0,ot=null;K!==null&&J<V.length;J++){K.index>J?(ot=K,K=null):ot=K.sibling;var Ot=b(R,K,V[J],D);if(Ot===null){K===null&&(K=ot);break}n&&K&&Ot.alternate===null&&e(R,K),$=h(Ot,$,J),q===null?B=Ot:q.sibling=Ot,q=Ot,K=ot}if(J===V.length)return r(R,K),qi&&Zf(R,J),B;if(K===null){for(;J<V.length;J++)K=S(R,V[J],D),K!==null&&($=h(K,$,J),q===null?B=K:q.sibling=K,q=K);return qi&&Zf(R,J),B}for(K=o(R,K);J<V.length;J++)ot=C(K,R,J,V[J],D),ot!==null&&(n&&ot.alternate!==null&&K.delete(ot.key===null?J:ot.key),$=h(ot,$,J),q===null?B=ot:q.sibling=ot,q=ot);return n&&K.forEach(function(bt){return e(R,bt)}),qi&&Zf(R,J),B}function N(R,$,V,D){var B=ny(V);if(typeof B!="function")throw Error(Ft(150));if(V=B.call(V),V==null)throw Error(Ft(151));for(var q=B=null,K=$,J=$=0,ot=null,Ot=V.next();K!==null&&!Ot.done;J++,Ot=V.next()){K.index>J?(ot=K,K=null):ot=K.sibling;var bt=b(R,K,Ot.value,D);if(bt===null){K===null&&(K=ot);break}n&&K&&bt.alternate===null&&e(R,K),$=h(bt,$,J),q===null?B=bt:q.sibling=bt,q=bt,K=ot}if(Ot.done)return r(R,K),qi&&Zf(R,J),B;if(K===null){for(;!Ot.done;J++,Ot=V.next())Ot=S(R,Ot.value,D),Ot!==null&&($=h(Ot,$,J),q===null?B=Ot:q.sibling=Ot,q=Ot);return qi&&Zf(R,J),B}for(K=o(R,K);!Ot.done;J++,Ot=V.next())Ot=C(K,R,J,Ot.value,D),Ot!==null&&(n&&Ot.alternate!==null&&K.delete(Ot.key===null?J:Ot.key),$=h(Ot,$,J),q===null?B=Ot:q.sibling=Ot,q=Ot);return n&&K.forEach(function(wt){return e(R,wt)}),qi&&Zf(R,J),B}function E(R,$,V,D){if(typeof V=="object"&&V!==null&&V.type===im&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case rw:t:{for(var B=V.key,q=$;q!==null;){if(q.key===B){if(B=V.type,B===im){if(q.tag===7){r(R,q.sibling),$=a(q,V.props.children),$.return=R,R=$;break t}}else if(q.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===rc&&uF(B)===q.type){r(R,q.sibling),$=a(q,V.props),$.ref=ay(R,q,V),$.return=R,R=$;break t}r(R,q);break}else e(R,q);q=q.sibling}V.type===im?($=hd(V.props.children,R.mode,D,V.key),$.return=R,R=$):(D=dS(V.type,V.key,V.props,null,R.mode,D),D.ref=ay(R,$,V),D.return=R,R=D)}return f(R);case em:t:{for(q=V.key;$!==null;){if($.key===q)if($.tag===4&&$.stateNode.containerInfo===V.containerInfo&&$.stateNode.implementation===V.implementation){r(R,$.sibling),$=a($,V.children||[]),$.return=R,R=$;break t}else{r(R,$);break}else e(R,$);$=$.sibling}$=YC(V,R.mode,D),$.return=R,R=$}return f(R);case rc:return q=V._init,E(R,$,q(V._payload),D)}if(Cy(V))return j(R,$,V,D);if(ny(V))return N(R,$,V,D);mw(R,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,$!==null&&$.tag===6?(r(R,$.sibling),$=a($,V),$.return=R,R=$):(r(R,$),$=ZC(V,R.mode,D),$.return=R,R=$),f(R)):r(R,$)}return E}var Um=w_(!0),S_=w_(!1),ek=Gc(null),ik=null,hm=null,kj=null;function Pj(){kj=hm=ik=null}function bj(n){var e=ek.current;zi(ek),n._currentValue=e}function IQ(n,e,r){for(;n!==null;){var o=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),n===r)break;n=n.return}}function Pm(n,e){ik=n,kj=hm=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(so=!0),n.firstContext=null)}function bl(n){var e=n._currentValue;if(kj!==n)if(n={context:n,memoizedValue:e,next:null},hm===null){if(ik===null)throw Error(Ft(308));hm=n,ik.dependencies={lanes:0,firstContext:n}}else hm=hm.next=n;return e}var Hf=null;function Tj(n){Hf===null?Hf=[n]:Hf.push(n)}function k_(n,e,r,o){var a=e.interleaved;return a===null?(r.next=r,Tj(e)):(r.next=a.next,a.next=r),e.interleaved=r,fh(n,o)}function fh(n,e){n.lanes|=e;var r=n.alternate;for(r!==null&&(r.lanes|=e),r=n,n=n.return;n!==null;)n.childLanes|=e,r=n.alternate,r!==null&&(r.childLanes|=e),r=n,n=n.return;return r.tag===3?r.stateNode:null}var sc=!1;function Cj(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P_(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function lh(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Tc(n,e,r){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,si&2){var a=o.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),o.pending=e,fh(n,r)}return a=o.interleaved,a===null?(e.next=e,Tj(o)):(e.next=a.next,a.next=e),o.interleaved=e,fh(n,r)}function lS(n,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var o=e.lanes;o&=n.pendingLanes,r|=o,e.lanes=r,fj(n,r)}}function hF(n,e){var r=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var a=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var f={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};h===null?a=h=f:h=h.next=f,r=r.next}while(r!==null);h===null?a=h=e:h=h.next=e}else a=h=e;r={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:h,shared:o.shared,effects:o.effects},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=e:n.next=e,r.lastBaseUpdate=e}function nk(n,e,r,o){var a=n.updateQueue;sc=!1;var h=a.firstBaseUpdate,f=a.lastBaseUpdate,p=a.shared.pending;if(p!==null){a.shared.pending=null;var g=p,v=g.next;g.next=null,f===null?h=v:f.next=v,f=g;var x=n.alternate;x!==null&&(x=x.updateQueue,p=x.lastBaseUpdate,p!==f&&(p===null?x.firstBaseUpdate=v:p.next=v,x.lastBaseUpdate=g))}if(h!==null){var S=a.baseState;f=0,x=v=g=null,p=h;do{var b=p.lane,C=p.eventTime;if((o&b)===b){x!==null&&(x=x.next={eventTime:C,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});t:{var j=n,N=p;switch(b=e,C=r,N.tag){case 1:if(j=N.payload,typeof j=="function"){S=j.call(C,S,b);break t}S=j;break t;case 3:j.flags=j.flags&-65537|128;case 0:if(j=N.payload,b=typeof j=="function"?j.call(C,S,b):j,b==null)break t;S=cn({},S,b);break t;case 2:sc=!0}}p.callback!==null&&p.lane!==0&&(n.flags|=64,b=a.effects,b===null?a.effects=[p]:b.push(p))}else C={eventTime:C,lane:b,tag:p.tag,payload:p.payload,callback:p.callback,next:null},x===null?(v=x=C,g=S):x=x.next=C,f|=b;if(p=p.next,p===null){if(p=a.shared.pending,p===null)break;b=p,p=b.next,b.next=null,a.lastBaseUpdate=b,a.shared.pending=null}}while(!0);if(x===null&&(g=S),a.baseState=g,a.firstBaseUpdate=v,a.lastBaseUpdate=x,e=a.shared.interleaved,e!==null){a=e;do f|=a.lane,a=a.next;while(a!==e)}else h===null&&(a.shared.lanes=0);Od|=f,n.lanes=f,n.memoizedState=S}}function cF(n,e,r){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var o=n[e],a=o.callback;if(a!==null){if(o.callback=null,o=r,typeof a!="function")throw Error(Ft(191,a));a.call(o)}}}var yv={},lu=Gc(yv),yO=Gc(yv),OO=Gc(yv);function Kf(n){if(n===yv)throw Error(Ft(174));return n}function Mj(n,e){switch(Ei(OO,e),Ei(yO,n),Ei(lu,yv),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:OQ(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=OQ(e,n)}zi(lu),Ei(lu,e)}function Wm(){zi(lu),zi(yO),zi(OO)}function b_(n){Kf(OO.current);var e=Kf(lu.current),r=OQ(e,n.type);e!==r&&(Ei(yO,n),Ei(lu,r))}function Qj(n){yO.current===n&&(zi(lu),zi(yO))}var an=Gc(0);function rk(n){for(var e=n;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var FC=[];function Nj(){for(var n=0;n<FC.length;n++)FC[n]._workInProgressVersionPrimary=null;FC.length=0}var aS=Sh.ReactCurrentDispatcher,VC=Sh.ReactCurrentBatchConfig,yd=0,un=null,lr=null,Or=null,sk=!1,Xy=!1,vO=0,pJ=0;function ns(){throw Error(Ft(321))}function Aj(n,e){if(e===null)return!1;for(var r=0;r<e.length&&r<n.length;r++)if(!na(n[r],e[r]))return!1;return!0}function jj(n,e,r,o,a,h){if(yd=h,un=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,aS.current=n===null||n.memoizedState===null?OJ:vJ,n=r(o,a),Xy){h=0;do{if(Xy=!1,vO=0,25<=h)throw Error(Ft(301));h+=1,Or=lr=null,e.updateQueue=null,aS.current=xJ,n=r(o,a)}while(Xy)}if(aS.current=ok,e=lr!==null&&lr.next!==null,yd=0,Or=lr=un=null,sk=!1,e)throw Error(Ft(300));return n}function Ej(){var n=vO!==0;return vO=0,n}function qa(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Or===null?un.memoizedState=Or=n:Or=Or.next=n,Or}function Tl(){if(lr===null){var n=un.alternate;n=n!==null?n.memoizedState:null}else n=lr.next;var e=Or===null?un.memoizedState:Or.next;if(e!==null)Or=e,lr=n;else{if(n===null)throw Error(Ft(310));lr=n,n={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},Or===null?un.memoizedState=Or=n:Or=Or.next=n}return Or}function xO(n,e){return typeof e=="function"?e(n):e}function zC(n){var e=Tl(),r=e.queue;if(r===null)throw Error(Ft(311));r.lastRenderedReducer=n;var o=lr,a=o.baseQueue,h=r.pending;if(h!==null){if(a!==null){var f=a.next;a.next=h.next,h.next=f}o.baseQueue=a=h,r.pending=null}if(a!==null){h=a.next,o=o.baseState;var p=f=null,g=null,v=h;do{var x=v.lane;if((yd&x)===x)g!==null&&(g=g.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),o=v.hasEagerState?v.eagerState:n(o,v.action);else{var S={lane:x,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};g===null?(p=g=S,f=o):g=g.next=S,un.lanes|=x,Od|=x}v=v.next}while(v!==null&&v!==h);g===null?f=o:g.next=p,na(o,e.memoizedState)||(so=!0),e.memoizedState=o,e.baseState=f,e.baseQueue=g,r.lastRenderedState=o}if(n=r.interleaved,n!==null){a=n;do h=a.lane,un.lanes|=h,Od|=h,a=a.next;while(a!==n)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function XC(n){var e=Tl(),r=e.queue;if(r===null)throw Error(Ft(311));r.lastRenderedReducer=n;var o=r.dispatch,a=r.pending,h=e.memoizedState;if(a!==null){r.pending=null;var f=a=a.next;do h=n(h,f.action),f=f.next;while(f!==a);na(h,e.memoizedState)||(so=!0),e.memoizedState=h,e.baseQueue===null&&(e.baseState=h),r.lastRenderedState=h}return[h,o]}function T_(){}function C_(n,e){var r=un,o=Tl(),a=e(),h=!na(o.memoizedState,a);if(h&&(o.memoizedState=a,so=!0),o=o.queue,Rj(N_.bind(null,r,o,n),[n]),o.getSnapshot!==e||h||Or!==null&&Or.memoizedState.tag&1){if(r.flags|=2048,wO(9,Q_.bind(null,r,o,a,e),void 0,null),Sr===null)throw Error(Ft(349));yd&30||M_(r,e,a)}return a}function M_(n,e,r){n.flags|=16384,n={getSnapshot:e,value:r},e=un.updateQueue,e===null?(e={lastEffect:null,stores:null},un.updateQueue=e,e.stores=[n]):(r=e.stores,r===null?e.stores=[n]:r.push(n))}function Q_(n,e,r,o){e.value=r,e.getSnapshot=o,A_(e)&&j_(n)}function N_(n,e,r){return r(function(){A_(e)&&j_(n)})}function A_(n){var e=n.getSnapshot;n=n.value;try{var r=e();return!na(n,r)}catch{return!0}}function j_(n){var e=fh(n,1);e!==null&&ea(e,n,1,-1)}function fF(n){var e=qa();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xO,lastRenderedState:n},e.queue=n,n=n.dispatch=yJ.bind(null,un,n),[e.memoizedState,n]}function wO(n,e,r,o){return n={tag:n,create:e,destroy:r,deps:o,next:null},e=un.updateQueue,e===null?(e={lastEffect:null,stores:null},un.updateQueue=e,e.lastEffect=n.next=n):(r=e.lastEffect,r===null?e.lastEffect=n.next=n:(o=r.next,r.next=n,n.next=o,e.lastEffect=n)),n}function E_(){return Tl().memoizedState}function uS(n,e,r,o){var a=qa();un.flags|=n,a.memoizedState=wO(1|e,r,void 0,o===void 0?null:o)}function pP(n,e,r,o){var a=Tl();o=o===void 0?null:o;var h=void 0;if(lr!==null){var f=lr.memoizedState;if(h=f.destroy,o!==null&&Aj(o,f.deps)){a.memoizedState=wO(e,r,h,o);return}}un.flags|=n,a.memoizedState=wO(1|e,r,h,o)}function dF(n,e){return uS(8390656,8,n,e)}function Rj(n,e){return pP(2048,8,n,e)}function R_(n,e){return pP(4,2,n,e)}function L_(n,e){return pP(4,4,n,e)}function $_(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function D_(n,e,r){return r=r!=null?r.concat([n]):null,pP(4,4,$_.bind(null,e,n),r)}function Lj(){}function I_(n,e){var r=Tl();e=e===void 0?null:e;var o=r.memoizedState;return o!==null&&e!==null&&Aj(e,o[1])?o[0]:(r.memoizedState=[n,e],n)}function F_(n,e){var r=Tl();e=e===void 0?null:e;var o=r.memoizedState;return o!==null&&e!==null&&Aj(e,o[1])?o[0]:(n=n(),r.memoizedState=[n,e],n)}function V_(n,e,r){return yd&21?(na(r,e)||(r=ZB(),un.lanes|=r,Od|=r,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,so=!0),n.memoizedState=r)}function mJ(n,e){var r=yi;yi=r!==0&&4>r?r:4,n(!0);var o=VC.transition;VC.transition={};try{n(!1),e()}finally{yi=r,VC.transition=o}}function z_(){return Tl().memoizedState}function gJ(n,e,r){var o=Mc(n);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},X_(n))B_(e,r);else if(r=k_(n,e,r,o),r!==null){var a=Es();ea(r,n,o,a),__(r,e,o)}}function yJ(n,e,r){var o=Mc(n),a={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(X_(n))B_(e,a);else{var h=n.alternate;if(n.lanes===0&&(h===null||h.lanes===0)&&(h=e.lastRenderedReducer,h!==null))try{var f=e.lastRenderedState,p=h(f,r);if(a.hasEagerState=!0,a.eagerState=p,na(p,f)){var g=e.interleaved;g===null?(a.next=a,Tj(e)):(a.next=g.next,g.next=a),e.interleaved=a;return}}catch{}finally{}r=k_(n,e,a,o),r!==null&&(a=Es(),ea(r,n,o,a),__(r,e,o))}}function X_(n){var e=n.alternate;return n===un||e!==null&&e===un}function B_(n,e){Xy=sk=!0;var r=n.pending;r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e}function __(n,e,r){if(r&4194240){var o=e.lanes;o&=n.pendingLanes,r|=o,e.lanes=r,fj(n,r)}}var ok={readContext:bl,useCallback:ns,useContext:ns,useEffect:ns,useImperativeHandle:ns,useInsertionEffect:ns,useLayoutEffect:ns,useMemo:ns,useReducer:ns,useRef:ns,useState:ns,useDebugValue:ns,useDeferredValue:ns,useTransition:ns,useMutableSource:ns,useSyncExternalStore:ns,useId:ns,unstable_isNewReconciler:!1},OJ={readContext:bl,useCallback:function(n,e){return qa().memoizedState=[n,e===void 0?null:e],n},useContext:bl,useEffect:dF,useImperativeHandle:function(n,e,r){return r=r!=null?r.concat([n]):null,uS(4194308,4,$_.bind(null,e,n),r)},useLayoutEffect:function(n,e){return uS(4194308,4,n,e)},useInsertionEffect:function(n,e){return uS(4,2,n,e)},useMemo:function(n,e){var r=qa();return e=e===void 0?null:e,n=n(),r.memoizedState=[n,e],n},useReducer:function(n,e,r){var o=qa();return e=r!==void 0?r(e):e,o.memoizedState=o.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},o.queue=n,n=n.dispatch=gJ.bind(null,un,n),[o.memoizedState,n]},useRef:function(n){var e=qa();return n={current:n},e.memoizedState=n},useState:fF,useDebugValue:Lj,useDeferredValue:function(n){return qa().memoizedState=n},useTransition:function(){var n=fF(!1),e=n[0];return n=mJ.bind(null,n[1]),qa().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,r){var o=un,a=qa();if(qi){if(r===void 0)throw Error(Ft(407));r=r()}else{if(r=e(),Sr===null)throw Error(Ft(349));yd&30||M_(o,e,r)}a.memoizedState=r;var h={value:r,getSnapshot:e};return a.queue=h,dF(N_.bind(null,o,h,n),[n]),o.flags|=2048,wO(9,Q_.bind(null,o,h,r,e),void 0,null),r},useId:function(){var n=qa(),e=Sr.identifierPrefix;if(qi){var r=oh,o=sh;r=(o&~(1<<32-ta(o)-1)).toString(32)+r,e=":"+e+"R"+r,r=vO++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=pJ++,e=":"+e+"r"+r.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},vJ={readContext:bl,useCallback:I_,useContext:bl,useEffect:Rj,useImperativeHandle:D_,useInsertionEffect:R_,useLayoutEffect:L_,useMemo:F_,useReducer:zC,useRef:E_,useState:function(){return zC(xO)},useDebugValue:Lj,useDeferredValue:function(n){var e=Tl();return V_(e,lr.memoizedState,n)},useTransition:function(){var n=zC(xO)[0],e=Tl().memoizedState;return[n,e]},useMutableSource:T_,useSyncExternalStore:C_,useId:z_,unstable_isNewReconciler:!1},xJ={readContext:bl,useCallback:I_,useContext:bl,useEffect:Rj,useImperativeHandle:D_,useInsertionEffect:R_,useLayoutEffect:L_,useMemo:F_,useReducer:XC,useRef:E_,useState:function(){return XC(xO)},useDebugValue:Lj,useDeferredValue:function(n){var e=Tl();return lr===null?e.memoizedState=n:V_(e,lr.memoizedState,n)},useTransition:function(){var n=XC(xO)[0],e=Tl().memoizedState;return[n,e]},useMutableSource:T_,useSyncExternalStore:C_,useId:z_,unstable_isNewReconciler:!1};function ql(n,e){if(n&&n.defaultProps){e=cn({},e),n=n.defaultProps;for(var r in n)e[r]===void 0&&(e[r]=n[r]);return e}return e}function FQ(n,e,r,o){e=n.memoizedState,r=r(o,e),r=r==null?e:cn({},e,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var mP={isMounted:function(n){return(n=n._reactInternals)?jd(n)===n:!1},enqueueSetState:function(n,e,r){n=n._reactInternals;var o=Es(),a=Mc(n),h=lh(o,a);h.payload=e,r!=null&&(h.callback=r),e=Tc(n,h,a),e!==null&&(ea(e,n,a,o),lS(e,n,a))},enqueueReplaceState:function(n,e,r){n=n._reactInternals;var o=Es(),a=Mc(n),h=lh(o,a);h.tag=1,h.payload=e,r!=null&&(h.callback=r),e=Tc(n,h,a),e!==null&&(ea(e,n,a,o),lS(e,n,a))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var r=Es(),o=Mc(n),a=lh(r,o);a.tag=2,e!=null&&(a.callback=e),e=Tc(n,a,o),e!==null&&(ea(e,n,o,r),lS(e,n,o))}};function pF(n,e,r,o,a,h,f){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,h,f):e.prototype&&e.prototype.isPureReactComponent?!dO(r,o)||!dO(a,h):!0}function Z_(n,e,r){var o=!1,a=Ec,h=e.contextType;return typeof h=="object"&&h!==null?h=bl(h):(a=ho(e)?md:fs.current,o=e.contextTypes,h=(o=o!=null)?Zm(n,a):Ec),e=new e(r,h),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mP,n.stateNode=e,e._reactInternals=n,o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=a,n.__reactInternalMemoizedMaskedChildContext=h),e}function mF(n,e,r,o){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,o),e.state!==n&&mP.enqueueReplaceState(e,e.state,null)}function VQ(n,e,r,o){var a=n.stateNode;a.props=r,a.state=n.memoizedState,a.refs={},Cj(n);var h=e.contextType;typeof h=="object"&&h!==null?a.context=bl(h):(h=ho(e)?md:fs.current,a.context=Zm(n,h)),a.state=n.memoizedState,h=e.getDerivedStateFromProps,typeof h=="function"&&(FQ(n,e,h,r),a.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&mP.enqueueReplaceState(a,a.state,null),nk(n,r,a,o),a.state=n.memoizedState),typeof a.componentDidMount=="function"&&(n.flags|=4194308)}function qm(n,e){try{var r="",o=e;do r+=WH(o),o=o.return;while(o);var a=r}catch(h){a=`
Error generating stack: `+h.message+`
`+h.stack}return{value:n,source:e,stack:a,digest:null}}function BC(n,e,r){return{value:n,source:null,stack:r??null,digest:e??null}}function zQ(n,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var wJ=typeof WeakMap=="function"?WeakMap:Map;function Y_(n,e,r){r=lh(-1,r),r.tag=3,r.payload={element:null};var o=e.value;return r.callback=function(){ak||(ak=!0,HQ=o),zQ(n,e)},r}function U_(n,e,r){r=lh(-1,r),r.tag=3;var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var a=e.value;r.payload=function(){return o(a)},r.callback=function(){zQ(n,e)}}var h=n.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(r.callback=function(){zQ(n,e),typeof o!="function"&&(Cc===null?Cc=new Set([this]):Cc.add(this));var f=e.stack;this.componentDidCatch(e.value,{componentStack:f!==null?f:""})}),r}function gF(n,e,r){var o=n.pingCache;if(o===null){o=n.pingCache=new wJ;var a=new Set;o.set(e,a)}else a=o.get(e),a===void 0&&(a=new Set,o.set(e,a));a.has(r)||(a.add(r),n=LJ.bind(null,n,e,r),e.then(n,n))}function yF(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function OF(n,e,r,o,a){return n.mode&1?(n.flags|=65536,n.lanes=a,n):(n===e?n.flags|=65536:(n.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=lh(-1,1),e.tag=2,Tc(r,e,1))),r.lanes|=1),n)}var SJ=Sh.ReactCurrentOwner,so=!1;function Ns(n,e,r,o){e.child=n===null?S_(e,null,r,o):Um(e,n.child,r,o)}function vF(n,e,r,o,a){r=r.render;var h=e.ref;return Pm(e,a),o=jj(n,e,r,o,h,a),r=Ej(),n!==null&&!so?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~a,dh(n,e,a)):(qi&&r&&xj(e),e.flags|=1,Ns(n,e,o,a),e.child)}function xF(n,e,r,o,a){if(n===null){var h=r.type;return typeof h=="function"&&!Bj(h)&&h.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=h,W_(n,e,h,o,a)):(n=dS(r.type,null,o,e,e.mode,a),n.ref=e.ref,n.return=e,e.child=n)}if(h=n.child,!(n.lanes&a)){var f=h.memoizedProps;if(r=r.compare,r=r!==null?r:dO,r(f,o)&&n.ref===e.ref)return dh(n,e,a)}return e.flags|=1,n=Qc(h,o),n.ref=e.ref,n.return=e,e.child=n}function W_(n,e,r,o,a){if(n!==null){var h=n.memoizedProps;if(dO(h,o)&&n.ref===e.ref)if(so=!1,e.pendingProps=o=h,(n.lanes&a)!==0)n.flags&131072&&(so=!0);else return e.lanes=n.lanes,dh(n,e,a)}return XQ(n,e,r,o,a)}function q_(n,e,r){var o=e.pendingProps,a=o.children,h=n!==null?n.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(fm,No),No|=r;else{if(!(r&1073741824))return n=h!==null?h.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ei(fm,No),No|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=h!==null?h.baseLanes:r,Ei(fm,No),No|=o}else h!==null?(o=h.baseLanes|r,e.memoizedState=null):o=r,Ei(fm,No),No|=o;return Ns(n,e,a,r),e.child}function G_(n,e){var r=e.ref;(n===null&&r!==null||n!==null&&n.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function XQ(n,e,r,o,a){var h=ho(r)?md:fs.current;return h=Zm(e,h),Pm(e,a),r=jj(n,e,r,o,h,a),o=Ej(),n!==null&&!so?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~a,dh(n,e,a)):(qi&&o&&xj(e),e.flags|=1,Ns(n,e,r,a),e.child)}function wF(n,e,r,o,a){if(ho(r)){var h=!0;KS(e)}else h=!1;if(Pm(e,a),e.stateNode===null)hS(n,e),Z_(e,r,o),VQ(e,r,o,a),o=!0;else if(n===null){var f=e.stateNode,p=e.memoizedProps;f.props=p;var g=f.context,v=r.contextType;typeof v=="object"&&v!==null?v=bl(v):(v=ho(r)?md:fs.current,v=Zm(e,v));var x=r.getDerivedStateFromProps,S=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function";S||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==o||g!==v)&&mF(e,f,o,v),sc=!1;var b=e.memoizedState;f.state=b,nk(e,o,f,a),g=e.memoizedState,p!==o||b!==g||uo.current||sc?(typeof x=="function"&&(FQ(e,r,x,o),g=e.memoizedState),(p=sc||pF(e,r,p,o,b,g,v))?(S||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(e.flags|=4194308)):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=g),f.props=o,f.state=g,f.context=v,o=p):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{f=e.stateNode,P_(n,e),p=e.memoizedProps,v=e.type===e.elementType?p:ql(e.type,p),f.props=v,S=e.pendingProps,b=f.context,g=r.contextType,typeof g=="object"&&g!==null?g=bl(g):(g=ho(r)?md:fs.current,g=Zm(e,g));var C=r.getDerivedStateFromProps;(x=typeof C=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==S||b!==g)&&mF(e,f,o,g),sc=!1,b=e.memoizedState,f.state=b,nk(e,o,f,a);var j=e.memoizedState;p!==S||b!==j||uo.current||sc?(typeof C=="function"&&(FQ(e,r,C,o),j=e.memoizedState),(v=sc||pF(e,r,v,o,b,j,g)||!1)?(x||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,g),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,g)),typeof f.componentDidUpdate=="function"&&(e.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===n.memoizedProps&&b===n.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===n.memoizedProps&&b===n.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=j),f.props=o,f.state=j,f.context=g,o=v):(typeof f.componentDidUpdate!="function"||p===n.memoizedProps&&b===n.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===n.memoizedProps&&b===n.memoizedState||(e.flags|=1024),o=!1)}return BQ(n,e,r,o,h,a)}function BQ(n,e,r,o,a,h){G_(n,e);var f=(e.flags&128)!==0;if(!o&&!f)return a&&oF(e,r,!1),dh(n,e,h);o=e.stateNode,SJ.current=e;var p=f&&typeof r.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,n!==null&&f?(e.child=Um(e,n.child,null,h),e.child=Um(e,null,p,h)):Ns(n,e,p,h),e.memoizedState=o.state,a&&oF(e,r,!0),e.child}function H_(n){var e=n.stateNode;e.pendingContext?sF(n,e.pendingContext,e.pendingContext!==e.context):e.context&&sF(n,e.context,!1),Mj(n,e.containerInfo)}function SF(n,e,r,o,a){return Ym(),Sj(a),e.flags|=256,Ns(n,e,r,o),e.child}var _Q={dehydrated:null,treeContext:null,retryLane:0};function ZQ(n){return{baseLanes:n,cachePool:null,transitions:null}}function K_(n,e,r){var o=e.pendingProps,a=an.current,h=!1,f=(e.flags&128)!==0,p;if((p=f)||(p=n!==null&&n.memoizedState===null?!1:(a&2)!==0),p?(h=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(a|=1),Ei(an,a&1),n===null)return DQ(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(f=o.children,n=o.fallback,h?(o=e.mode,h=e.child,f={mode:"hidden",children:f},!(o&1)&&h!==null?(h.childLanes=0,h.pendingProps=f):h=OP(f,o,0,null),n=hd(n,o,r,null),h.return=e,n.return=e,h.sibling=n,e.child=h,e.child.memoizedState=ZQ(r),e.memoizedState=_Q,n):$j(e,f));if(a=n.memoizedState,a!==null&&(p=a.dehydrated,p!==null))return kJ(n,e,f,o,p,a,r);if(h){h=o.fallback,f=e.mode,a=n.child,p=a.sibling;var g={mode:"hidden",children:o.children};return!(f&1)&&e.child!==a?(o=e.child,o.childLanes=0,o.pendingProps=g,e.deletions=null):(o=Qc(a,g),o.subtreeFlags=a.subtreeFlags&14680064),p!==null?h=Qc(p,h):(h=hd(h,f,r,null),h.flags|=2),h.return=e,o.return=e,o.sibling=h,e.child=o,o=h,h=e.child,f=n.child.memoizedState,f=f===null?ZQ(r):{baseLanes:f.baseLanes|r,cachePool:null,transitions:f.transitions},h.memoizedState=f,h.childLanes=n.childLanes&~r,e.memoizedState=_Q,o}return h=n.child,n=h.sibling,o=Qc(h,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=r),o.return=e,o.sibling=null,n!==null&&(r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)),e.child=o,e.memoizedState=null,o}function $j(n,e){return e=OP({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function gw(n,e,r,o){return o!==null&&Sj(o),Um(e,n.child,null,r),n=$j(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function kJ(n,e,r,o,a,h,f){if(r)return e.flags&256?(e.flags&=-257,o=BC(Error(Ft(422))),gw(n,e,f,o)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(h=o.fallback,a=e.mode,o=OP({mode:"visible",children:o.children},a,0,null),h=hd(h,a,f,null),h.flags|=2,o.return=e,h.return=e,o.sibling=h,e.child=o,e.mode&1&&Um(e,n.child,null,f),e.child.memoizedState=ZQ(f),e.memoizedState=_Q,h);if(!(e.mode&1))return gw(n,e,f,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var p=o.dgst;return o=p,h=Error(Ft(419)),o=BC(h,o,void 0),gw(n,e,f,o)}if(p=(f&n.childLanes)!==0,so||p){if(o=Sr,o!==null){switch(f&-f){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(o.suspendedLanes|f)?0:a,a!==0&&a!==h.retryLane&&(h.retryLane=a,fh(n,a),ea(o,n,a,-1))}return Xj(),o=BC(Error(Ft(421))),gw(n,e,f,o)}return a.data==="$?"?(e.flags|=128,e.child=n.child,e=$J.bind(null,n),a._reactRetry=e,null):(n=h.treeContext,Ro=bc(a.nextSibling),Do=e,qi=!0,Jl=null,n!==null&&(ml[gl++]=sh,ml[gl++]=oh,ml[gl++]=gd,sh=n.id,oh=n.overflow,gd=e),e=$j(e,o.children),e.flags|=4096,e)}function kF(n,e,r){n.lanes|=e;var o=n.alternate;o!==null&&(o.lanes|=e),IQ(n.return,e,r)}function _C(n,e,r,o,a){var h=n.memoizedState;h===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:a}:(h.isBackwards=e,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=r,h.tailMode=a)}function J_(n,e,r){var o=e.pendingProps,a=o.revealOrder,h=o.tail;if(Ns(n,e,o.children,r),o=an.current,o&2)o=o&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)t:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&kF(n,r,e);else if(n.tag===19)kF(n,r,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}if(Ei(an,o),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)n=r.alternate,n!==null&&rk(n)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),_C(e,!1,a,r,h);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(n=a.alternate,n!==null&&rk(n)===null){e.child=a;break}n=a.sibling,a.sibling=r,r=a,a=n}_C(e,!0,r,null,h);break;case"together":_C(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hS(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function dh(n,e,r){if(n!==null&&(e.dependencies=n.dependencies),Od|=e.lanes,!(r&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ft(153));if(e.child!==null){for(n=e.child,r=Qc(n,n.pendingProps),e.child=r,r.return=e;n.sibling!==null;)n=n.sibling,r=r.sibling=Qc(n,n.pendingProps),r.return=e;r.sibling=null}return e.child}function PJ(n,e,r){switch(e.tag){case 3:H_(e),Ym();break;case 5:b_(e);break;case 1:ho(e.type)&&KS(e);break;case 4:Mj(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,a=e.memoizedProps.value;Ei(ek,o._currentValue),o._currentValue=a;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(Ei(an,an.current&1),e.flags|=128,null):r&e.child.childLanes?K_(n,e,r):(Ei(an,an.current&1),n=dh(n,e,r),n!==null?n.sibling:null);Ei(an,an.current&1);break;case 19:if(o=(r&e.childLanes)!==0,n.flags&128){if(o)return J_(n,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ei(an,an.current),o)break;return null;case 22:case 23:return e.lanes=0,q_(n,e,r)}return dh(n,e,r)}var tZ,YQ,eZ,iZ;tZ=function(n,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)n.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};YQ=function(){};eZ=function(n,e,r,o){var a=n.memoizedProps;if(a!==o){n=e.stateNode,Kf(lu.current);var h=null;switch(r){case"input":a=pQ(n,a),o=pQ(n,o),h=[];break;case"select":a=cn({},a,{value:void 0}),o=cn({},o,{value:void 0}),h=[];break;case"textarea":a=yQ(n,a),o=yQ(n,o),h=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(n.onclick=GS)}vQ(r,o);var f;r=null;for(v in a)if(!o.hasOwnProperty(v)&&a.hasOwnProperty(v)&&a[v]!=null)if(v==="style"){var p=a[v];for(f in p)p.hasOwnProperty(f)&&(r||(r={}),r[f]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(oO.hasOwnProperty(v)?h||(h=[]):(h=h||[]).push(v,null));for(v in o){var g=o[v];if(p=a!=null?a[v]:void 0,o.hasOwnProperty(v)&&g!==p&&(g!=null||p!=null))if(v==="style")if(p){for(f in p)!p.hasOwnProperty(f)||g&&g.hasOwnProperty(f)||(r||(r={}),r[f]="");for(f in g)g.hasOwnProperty(f)&&p[f]!==g[f]&&(r||(r={}),r[f]=g[f])}else r||(h||(h=[]),h.push(v,r)),r=g;else v==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,p=p?p.__html:void 0,g!=null&&p!==g&&(h=h||[]).push(v,g)):v==="children"?typeof g!="string"&&typeof g!="number"||(h=h||[]).push(v,""+g):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(oO.hasOwnProperty(v)?(g!=null&&v==="onScroll"&&Fi("scroll",n),h||p===g||(h=[])):(h=h||[]).push(v,g))}r&&(h=h||[]).push("style",r);var v=h;(e.updateQueue=v)&&(e.flags|=4)}};iZ=function(n,e,r,o){r!==o&&(e.flags|=4)};function uy(n,e){if(!qi)switch(n.tailMode){case"hidden":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function rs(n){var e=n.alternate!==null&&n.alternate.child===n.child,r=0,o=0;if(e)for(var a=n.child;a!==null;)r|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=n,a=a.sibling;else for(a=n.child;a!==null;)r|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=n,a=a.sibling;return n.subtreeFlags|=o,n.childLanes=r,e}function bJ(n,e,r){var o=e.pendingProps;switch(wj(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rs(e),null;case 1:return ho(e.type)&&HS(),rs(e),null;case 3:return o=e.stateNode,Wm(),zi(uo),zi(fs),Nj(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(pw(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jl!==null&&(tN(Jl),Jl=null))),YQ(n,e),rs(e),null;case 5:Qj(e);var a=Kf(OO.current);if(r=e.type,n!==null&&e.stateNode!=null)eZ(n,e,r,o,a),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(Ft(166));return rs(e),null}if(n=Kf(lu.current),pw(e)){o=e.stateNode,r=e.type;var h=e.memoizedProps;switch(o[Ja]=e,o[gO]=h,n=(e.mode&1)!==0,r){case"dialog":Fi("cancel",o),Fi("close",o);break;case"iframe":case"object":case"embed":Fi("load",o);break;case"video":case"audio":for(a=0;a<Qy.length;a++)Fi(Qy[a],o);break;case"source":Fi("error",o);break;case"img":case"image":case"link":Fi("error",o),Fi("load",o);break;case"details":Fi("toggle",o);break;case"input":jI(o,h),Fi("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!h.multiple},Fi("invalid",o);break;case"textarea":RI(o,h),Fi("invalid",o)}vQ(r,h),a=null;for(var f in h)if(h.hasOwnProperty(f)){var p=h[f];f==="children"?typeof p=="string"?o.textContent!==p&&(h.suppressHydrationWarning!==!0&&dw(o.textContent,p,n),a=["children",p]):typeof p=="number"&&o.textContent!==""+p&&(h.suppressHydrationWarning!==!0&&dw(o.textContent,p,n),a=["children",""+p]):oO.hasOwnProperty(f)&&p!=null&&f==="onScroll"&&Fi("scroll",o)}switch(r){case"input":sw(o),EI(o,h,!0);break;case"textarea":sw(o),LI(o);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(o.onclick=GS)}o=a,e.updateQueue=o,o!==null&&(e.flags|=4)}else{f=a.nodeType===9?a:a.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=NB(r)),n==="http://www.w3.org/1999/xhtml"?r==="script"?(n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof o.is=="string"?n=f.createElement(r,{is:o.is}):(n=f.createElement(r),r==="select"&&(f=n,o.multiple?f.multiple=!0:o.size&&(f.size=o.size))):n=f.createElementNS(n,r),n[Ja]=e,n[gO]=o,tZ(n,e,!1,!1),e.stateNode=n;t:{switch(f=xQ(r,o),r){case"dialog":Fi("cancel",n),Fi("close",n),a=o;break;case"iframe":case"object":case"embed":Fi("load",n),a=o;break;case"video":case"audio":for(a=0;a<Qy.length;a++)Fi(Qy[a],n);a=o;break;case"source":Fi("error",n),a=o;break;case"img":case"image":case"link":Fi("error",n),Fi("load",n),a=o;break;case"details":Fi("toggle",n),a=o;break;case"input":jI(n,o),a=pQ(n,o),Fi("invalid",n);break;case"option":a=o;break;case"select":n._wrapperState={wasMultiple:!!o.multiple},a=cn({},o,{value:void 0}),Fi("invalid",n);break;case"textarea":RI(n,o),a=yQ(n,o),Fi("invalid",n);break;default:a=o}vQ(r,a),p=a;for(h in p)if(p.hasOwnProperty(h)){var g=p[h];h==="style"?EB(n,g):h==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&AB(n,g)):h==="children"?typeof g=="string"?(r!=="textarea"||g!=="")&&lO(n,g):typeof g=="number"&&lO(n,""+g):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(oO.hasOwnProperty(h)?g!=null&&h==="onScroll"&&Fi("scroll",n):g!=null&&oj(n,h,g,f))}switch(r){case"input":sw(n),EI(n,o,!1);break;case"textarea":sw(n),LI(n);break;case"option":o.value!=null&&n.setAttribute("value",""+jc(o.value));break;case"select":n.multiple=!!o.multiple,h=o.value,h!=null?xm(n,!!o.multiple,h,!1):o.defaultValue!=null&&xm(n,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(n.onclick=GS)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rs(e),null;case 6:if(n&&e.stateNode!=null)iZ(n,e,n.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(Ft(166));if(r=Kf(OO.current),Kf(lu.current),pw(e)){if(o=e.stateNode,r=e.memoizedProps,o[Ja]=e,(h=o.nodeValue!==r)&&(n=Do,n!==null))switch(n.tag){case 3:dw(o.nodeValue,r,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&dw(o.nodeValue,r,(n.mode&1)!==0)}h&&(e.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[Ja]=e,e.stateNode=o}return rs(e),null;case 13:if(zi(an),o=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(qi&&Ro!==null&&e.mode&1&&!(e.flags&128))x_(),Ym(),e.flags|=98560,h=!1;else if(h=pw(e),o!==null&&o.dehydrated!==null){if(n===null){if(!h)throw Error(Ft(318));if(h=e.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(Ft(317));h[Ja]=e}else Ym(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rs(e),h=!1}else Jl!==null&&(tN(Jl),Jl=null),h=!0;if(!h)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(o=o!==null,o!==(n!==null&&n.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(n===null||an.current&1?ur===0&&(ur=3):Xj())),e.updateQueue!==null&&(e.flags|=4),rs(e),null);case 4:return Wm(),YQ(n,e),n===null&&pO(e.stateNode.containerInfo),rs(e),null;case 10:return bj(e.type._context),rs(e),null;case 17:return ho(e.type)&&HS(),rs(e),null;case 19:if(zi(an),h=e.memoizedState,h===null)return rs(e),null;if(o=(e.flags&128)!==0,f=h.rendering,f===null)if(o)uy(h,!1);else{if(ur!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(f=rk(n),f!==null){for(e.flags|=128,uy(h,!1),o=f.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=r,r=e.child;r!==null;)h=r,n=o,h.flags&=14680066,f=h.alternate,f===null?(h.childLanes=0,h.lanes=n,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=f.childLanes,h.lanes=f.lanes,h.child=f.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=f.memoizedProps,h.memoizedState=f.memoizedState,h.updateQueue=f.updateQueue,h.type=f.type,n=f.dependencies,h.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return Ei(an,an.current&1|2),e.child}n=n.sibling}h.tail!==null&&Rn()>Gm&&(e.flags|=128,o=!0,uy(h,!1),e.lanes=4194304)}else{if(!o)if(n=rk(f),n!==null){if(e.flags|=128,o=!0,r=n.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),uy(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!qi)return rs(e),null}else 2*Rn()-h.renderingStartTime>Gm&&r!==1073741824&&(e.flags|=128,o=!0,uy(h,!1),e.lanes=4194304);h.isBackwards?(f.sibling=e.child,e.child=f):(r=h.last,r!==null?r.sibling=f:e.child=f,h.last=f)}return h.tail!==null?(e=h.tail,h.rendering=e,h.tail=e.sibling,h.renderingStartTime=Rn(),e.sibling=null,r=an.current,Ei(an,o?r&1|2:r&1),e):(rs(e),null);case 22:case 23:return zj(),o=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?No&1073741824&&(rs(e),e.subtreeFlags&6&&(e.flags|=8192)):rs(e),null;case 24:return null;case 25:return null}throw Error(Ft(156,e.tag))}function TJ(n,e){switch(wj(e),e.tag){case 1:return ho(e.type)&&HS(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Wm(),zi(uo),zi(fs),Nj(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Qj(e),null;case 13:if(zi(an),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ft(340));Ym()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return zi(an),null;case 4:return Wm(),null;case 10:return bj(e.type._context),null;case 22:case 23:return zj(),null;case 24:return null;default:return null}}var yw=!1,as=!1,CJ=typeof WeakSet=="function"?WeakSet:Set,ee=null;function cm(n,e){var r=n.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){Cn(n,e,o)}else r.current=null}function UQ(n,e,r){try{r()}catch(o){Cn(n,e,o)}}var PF=!1;function MJ(n,e){if(NQ=US,n=l_(),vj(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else t:{r=(r=n.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var a=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break t}var f=0,p=-1,g=-1,v=0,x=0,S=n,b=null;e:for(;;){for(var C;S!==r||a!==0&&S.nodeType!==3||(p=f+a),S!==h||o!==0&&S.nodeType!==3||(g=f+o),S.nodeType===3&&(f+=S.nodeValue.length),(C=S.firstChild)!==null;)b=S,S=C;for(;;){if(S===n)break e;if(b===r&&++v===a&&(p=f),b===h&&++x===o&&(g=f),(C=S.nextSibling)!==null)break;S=b,b=S.parentNode}S=C}r=p===-1||g===-1?null:{start:p,end:g}}else r=null}r=r||{start:0,end:0}}else r=null;for(AQ={focusedElem:n,selectionRange:r},US=!1,ee=e;ee!==null;)if(e=ee,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ee=n;else for(;ee!==null;){e=ee;try{var j=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var N=j.memoizedProps,E=j.memoizedState,R=e.stateNode,$=R.getSnapshotBeforeUpdate(e.elementType===e.type?N:ql(e.type,N),E);R.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var V=e.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ft(163))}}catch(D){Cn(e,e.return,D)}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}return j=PF,PF=!1,j}function By(n,e,r){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&n)===n){var h=a.destroy;a.destroy=void 0,h!==void 0&&UQ(e,r,h)}a=a.next}while(a!==o)}}function gP(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&n)===n){var o=r.create;r.destroy=o()}r=r.next}while(r!==e)}}function WQ(n){var e=n.ref;if(e!==null){var r=n.stateNode;switch(n.tag){case 5:n=r;break;default:n=r}typeof e=="function"?e(n):e.current=n}}function nZ(n){var e=n.alternate;e!==null&&(n.alternate=null,nZ(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ja],delete e[gO],delete e[RQ],delete e[hJ],delete e[cJ])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function rZ(n){return n.tag===5||n.tag===3||n.tag===4}function bF(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||rZ(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function qQ(n,e,r){var o=n.tag;if(o===5||o===6)n=n.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(n,e):r.insertBefore(n,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(n,r)):(e=r,e.appendChild(n)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=GS));else if(o!==4&&(n=n.child,n!==null))for(qQ(n,e,r),n=n.sibling;n!==null;)qQ(n,e,r),n=n.sibling}function GQ(n,e,r){var o=n.tag;if(o===5||o===6)n=n.stateNode,e?r.insertBefore(n,e):r.appendChild(n);else if(o!==4&&(n=n.child,n!==null))for(GQ(n,e,r),n=n.sibling;n!==null;)GQ(n,e,r),n=n.sibling}var Dr=null,Kl=!1;function Jh(n,e,r){for(r=r.child;r!==null;)sZ(n,e,r),r=r.sibling}function sZ(n,e,r){if(ou&&typeof ou.onCommitFiberUnmount=="function")try{ou.onCommitFiberUnmount(aP,r)}catch{}switch(r.tag){case 5:as||cm(r,e);case 6:var o=Dr,a=Kl;Dr=null,Jh(n,e,r),Dr=o,Kl=a,Dr!==null&&(Kl?(n=Dr,r=r.stateNode,n.nodeType===8?n.parentNode.removeChild(r):n.removeChild(r)):Dr.removeChild(r.stateNode));break;case 18:Dr!==null&&(Kl?(n=Dr,r=r.stateNode,n.nodeType===8?DC(n.parentNode,r):n.nodeType===1&&DC(n,r),cO(n)):DC(Dr,r.stateNode));break;case 4:o=Dr,a=Kl,Dr=r.stateNode.containerInfo,Kl=!0,Jh(n,e,r),Dr=o,Kl=a;break;case 0:case 11:case 14:case 15:if(!as&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var h=a,f=h.destroy;h=h.tag,f!==void 0&&(h&2||h&4)&&UQ(r,e,f),a=a.next}while(a!==o)}Jh(n,e,r);break;case 1:if(!as&&(cm(r,e),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(p){Cn(r,e,p)}Jh(n,e,r);break;case 21:Jh(n,e,r);break;case 22:r.mode&1?(as=(o=as)||r.memoizedState!==null,Jh(n,e,r),as=o):Jh(n,e,r);break;default:Jh(n,e,r)}}function TF(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var r=n.stateNode;r===null&&(r=n.stateNode=new CJ),e.forEach(function(o){var a=DJ.bind(null,n,o);r.has(o)||(r.add(o),o.then(a,a))})}}function Yl(n,e){var r=e.deletions;if(r!==null)for(var o=0;o<r.length;o++){var a=r[o];try{var h=n,f=e,p=f;t:for(;p!==null;){switch(p.tag){case 5:Dr=p.stateNode,Kl=!1;break t;case 3:Dr=p.stateNode.containerInfo,Kl=!0;break t;case 4:Dr=p.stateNode.containerInfo,Kl=!0;break t}p=p.return}if(Dr===null)throw Error(Ft(160));sZ(h,f,a),Dr=null,Kl=!1;var g=a.alternate;g!==null&&(g.return=null),a.return=null}catch(v){Cn(a,e,v)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oZ(e,n),e=e.sibling}function oZ(n,e){var r=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Yl(e,n),Xa(n),o&4){try{By(3,n,n.return),gP(3,n)}catch(N){Cn(n,n.return,N)}try{By(5,n,n.return)}catch(N){Cn(n,n.return,N)}}break;case 1:Yl(e,n),Xa(n),o&512&&r!==null&&cm(r,r.return);break;case 5:if(Yl(e,n),Xa(n),o&512&&r!==null&&cm(r,r.return),n.flags&32){var a=n.stateNode;try{lO(a,"")}catch(N){Cn(n,n.return,N)}}if(o&4&&(a=n.stateNode,a!=null)){var h=n.memoizedProps,f=r!==null?r.memoizedProps:h,p=n.type,g=n.updateQueue;if(n.updateQueue=null,g!==null)try{p==="input"&&h.type==="radio"&&h.name!=null&&MB(a,h),xQ(p,f);var v=xQ(p,h);for(f=0;f<g.length;f+=2){var x=g[f],S=g[f+1];x==="style"?EB(a,S):x==="dangerouslySetInnerHTML"?AB(a,S):x==="children"?lO(a,S):oj(a,x,S,v)}switch(p){case"input":mQ(a,h);break;case"textarea":QB(a,h);break;case"select":var b=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!h.multiple;var C=h.value;C!=null?xm(a,!!h.multiple,C,!1):b!==!!h.multiple&&(h.defaultValue!=null?xm(a,!!h.multiple,h.defaultValue,!0):xm(a,!!h.multiple,h.multiple?[]:"",!1))}a[gO]=h}catch(N){Cn(n,n.return,N)}}break;case 6:if(Yl(e,n),Xa(n),o&4){if(n.stateNode===null)throw Error(Ft(162));a=n.stateNode,h=n.memoizedProps;try{a.nodeValue=h}catch(N){Cn(n,n.return,N)}}break;case 3:if(Yl(e,n),Xa(n),o&4&&r!==null&&r.memoizedState.isDehydrated)try{cO(e.containerInfo)}catch(N){Cn(n,n.return,N)}break;case 4:Yl(e,n),Xa(n);break;case 13:Yl(e,n),Xa(n),a=n.child,a.flags&8192&&(h=a.memoizedState!==null,a.stateNode.isHidden=h,!h||a.alternate!==null&&a.alternate.memoizedState!==null||(Fj=Rn())),o&4&&TF(n);break;case 22:if(x=r!==null&&r.memoizedState!==null,n.mode&1?(as=(v=as)||x,Yl(e,n),as=v):Yl(e,n),Xa(n),o&8192){if(v=n.memoizedState!==null,(n.stateNode.isHidden=v)&&!x&&n.mode&1)for(ee=n,x=n.child;x!==null;){for(S=ee=x;ee!==null;){switch(b=ee,C=b.child,b.tag){case 0:case 11:case 14:case 15:By(4,b,b.return);break;case 1:cm(b,b.return);var j=b.stateNode;if(typeof j.componentWillUnmount=="function"){o=b,r=b.return;try{e=o,j.props=e.memoizedProps,j.state=e.memoizedState,j.componentWillUnmount()}catch(N){Cn(o,r,N)}}break;case 5:cm(b,b.return);break;case 22:if(b.memoizedState!==null){MF(S);continue}}C!==null?(C.return=b,ee=C):MF(S)}x=x.sibling}t:for(x=null,S=n;;){if(S.tag===5){if(x===null){x=S;try{a=S.stateNode,v?(h=a.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(p=S.stateNode,g=S.memoizedProps.style,f=g!=null&&g.hasOwnProperty("display")?g.display:null,p.style.display=jB("display",f))}catch(N){Cn(n,n.return,N)}}}else if(S.tag===6){if(x===null)try{S.stateNode.nodeValue=v?"":S.memoizedProps}catch(N){Cn(n,n.return,N)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===n)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break t;for(;S.sibling===null;){if(S.return===null||S.return===n)break t;x===S&&(x=null),S=S.return}x===S&&(x=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:Yl(e,n),Xa(n),o&4&&TF(n);break;case 21:break;default:Yl(e,n),Xa(n)}}function Xa(n){var e=n.flags;if(e&2){try{t:{for(var r=n.return;r!==null;){if(rZ(r)){var o=r;break t}r=r.return}throw Error(Ft(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(lO(a,""),o.flags&=-33);var h=bF(n);GQ(n,h,a);break;case 3:case 4:var f=o.stateNode.containerInfo,p=bF(n);qQ(n,p,f);break;default:throw Error(Ft(161))}}catch(g){Cn(n,n.return,g)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function QJ(n,e,r){ee=n,lZ(n)}function lZ(n,e,r){for(var o=(n.mode&1)!==0;ee!==null;){var a=ee,h=a.child;if(a.tag===22&&o){var f=a.memoizedState!==null||yw;if(!f){var p=a.alternate,g=p!==null&&p.memoizedState!==null||as;p=yw;var v=as;if(yw=f,(as=g)&&!v)for(ee=a;ee!==null;)f=ee,g=f.child,f.tag===22&&f.memoizedState!==null?QF(a):g!==null?(g.return=f,ee=g):QF(a);for(;h!==null;)ee=h,lZ(h),h=h.sibling;ee=a,yw=p,as=v}CF(n)}else a.subtreeFlags&8772&&h!==null?(h.return=a,ee=h):CF(n)}}function CF(n){for(;ee!==null;){var e=ee;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:as||gP(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!as)if(r===null)o.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:ql(e.type,r.memoizedProps);o.componentDidUpdate(a,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var h=e.updateQueue;h!==null&&cF(e,h,o);break;case 3:var f=e.updateQueue;if(f!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}cF(e,f,r)}break;case 5:var p=e.stateNode;if(r===null&&e.flags&4){r=p;var g=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&r.focus();break;case"img":g.src&&(r.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var v=e.alternate;if(v!==null){var x=v.memoizedState;if(x!==null){var S=x.dehydrated;S!==null&&cO(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ft(163))}as||e.flags&512&&WQ(e)}catch(b){Cn(e,e.return,b)}}if(e===n){ee=null;break}if(r=e.sibling,r!==null){r.return=e.return,ee=r;break}ee=e.return}}function MF(n){for(;ee!==null;){var e=ee;if(e===n){ee=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ee=r;break}ee=e.return}}function QF(n){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{gP(4,e)}catch(g){Cn(e,r,g)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var a=e.return;try{o.componentDidMount()}catch(g){Cn(e,a,g)}}var h=e.return;try{WQ(e)}catch(g){Cn(e,h,g)}break;case 5:var f=e.return;try{WQ(e)}catch(g){Cn(e,f,g)}}}catch(g){Cn(e,e.return,g)}if(e===n){ee=null;break}var p=e.sibling;if(p!==null){p.return=e.return,ee=p;break}ee=e.return}}var NJ=Math.ceil,lk=Sh.ReactCurrentDispatcher,Dj=Sh.ReactCurrentOwner,Sl=Sh.ReactCurrentBatchConfig,si=0,Sr=null,qn=null,Br=0,No=0,fm=Gc(0),ur=0,SO=null,Od=0,yP=0,Ij=0,_y=null,eo=null,Fj=0,Gm=1/0,eh=null,ak=!1,HQ=null,Cc=null,Ow=!1,yc=null,uk=0,Zy=0,KQ=null,cS=-1,fS=0;function Es(){return si&6?Rn():cS!==-1?cS:cS=Rn()}function Mc(n){return n.mode&1?si&2&&Br!==0?Br&-Br:dJ.transition!==null?(fS===0&&(fS=ZB()),fS):(n=yi,n!==0||(n=window.event,n=n===void 0?16:KB(n.type)),n):1}function ea(n,e,r,o){if(50<Zy)throw Zy=0,KQ=null,Error(Ft(185));pv(n,r,o),(!(si&2)||n!==Sr)&&(n===Sr&&(!(si&2)&&(yP|=r),ur===4&&uc(n,Br)),co(n,o),r===1&&si===0&&!(e.mode&1)&&(Gm=Rn()+500,dP&&Hc()))}function co(n,e){var r=n.callbackNode;dK(n,e);var o=YS(n,n===Sr?Br:0);if(o===0)r!==null&&II(r),n.callbackNode=null,n.callbackPriority=0;else if(e=o&-o,n.callbackPriority!==e){if(r!=null&&II(r),e===1)n.tag===0?fJ(NF.bind(null,n)):y_(NF.bind(null,n)),aJ(function(){!(si&6)&&Hc()}),r=null;else{switch(YB(o)){case 1:r=cj;break;case 4:r=BB;break;case 16:r=ZS;break;case 536870912:r=_B;break;default:r=ZS}r=mZ(r,aZ.bind(null,n))}n.callbackPriority=e,n.callbackNode=r}}function aZ(n,e){if(cS=-1,fS=0,si&6)throw Error(Ft(327));var r=n.callbackNode;if(bm()&&n.callbackNode!==r)return null;var o=YS(n,n===Sr?Br:0);if(o===0)return null;if(o&30||o&n.expiredLanes||e)e=hk(n,o);else{e=o;var a=si;si|=2;var h=hZ();(Sr!==n||Br!==e)&&(eh=null,Gm=Rn()+500,ud(n,e));do try{EJ();break}catch(p){uZ(n,p)}while(!0);Pj(),lk.current=h,si=a,qn!==null?e=0:(Sr=null,Br=0,e=ur)}if(e!==0){if(e===2&&(a=bQ(n),a!==0&&(o=a,e=JQ(n,a))),e===1)throw r=SO,ud(n,0),uc(n,o),co(n,Rn()),r;if(e===6)uc(n,o);else{if(a=n.current.alternate,!(o&30)&&!AJ(a)&&(e=hk(n,o),e===2&&(h=bQ(n),h!==0&&(o=h,e=JQ(n,h))),e===1))throw r=SO,ud(n,0),uc(n,o),co(n,Rn()),r;switch(n.finishedWork=a,n.finishedLanes=o,e){case 0:case 1:throw Error(Ft(345));case 2:Yf(n,eo,eh);break;case 3:if(uc(n,o),(o&130023424)===o&&(e=Fj+500-Rn(),10<e)){if(YS(n,0)!==0)break;if(a=n.suspendedLanes,(a&o)!==o){Es(),n.pingedLanes|=n.suspendedLanes&a;break}n.timeoutHandle=EQ(Yf.bind(null,n,eo,eh),e);break}Yf(n,eo,eh);break;case 4:if(uc(n,o),(o&4194240)===o)break;for(e=n.eventTimes,a=-1;0<o;){var f=31-ta(o);h=1<<f,f=e[f],f>a&&(a=f),o&=~h}if(o=a,o=Rn()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*NJ(o/1960))-o,10<o){n.timeoutHandle=EQ(Yf.bind(null,n,eo,eh),o);break}Yf(n,eo,eh);break;case 5:Yf(n,eo,eh);break;default:throw Error(Ft(329))}}}return co(n,Rn()),n.callbackNode===r?aZ.bind(null,n):null}function JQ(n,e){var r=_y;return n.current.memoizedState.isDehydrated&&(ud(n,e).flags|=256),n=hk(n,e),n!==2&&(e=eo,eo=r,e!==null&&tN(e)),n}function tN(n){eo===null?eo=n:eo.push.apply(eo,n)}function AJ(n){for(var e=n;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var a=r[o],h=a.getSnapshot;a=a.value;try{if(!na(h(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function uc(n,e){for(e&=~Ij,e&=~yP,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var r=31-ta(e),o=1<<r;n[r]=-1,e&=~o}}function NF(n){if(si&6)throw Error(Ft(327));bm();var e=YS(n,0);if(!(e&1))return co(n,Rn()),null;var r=hk(n,e);if(n.tag!==0&&r===2){var o=bQ(n);o!==0&&(e=o,r=JQ(n,o))}if(r===1)throw r=SO,ud(n,0),uc(n,e),co(n,Rn()),r;if(r===6)throw Error(Ft(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Yf(n,eo,eh),co(n,Rn()),null}function Vj(n,e){var r=si;si|=1;try{return n(e)}finally{si=r,si===0&&(Gm=Rn()+500,dP&&Hc())}}function vd(n){yc!==null&&yc.tag===0&&!(si&6)&&bm();var e=si;si|=1;var r=Sl.transition,o=yi;try{if(Sl.transition=null,yi=1,n)return n()}finally{yi=o,Sl.transition=r,si=e,!(si&6)&&Hc()}}function zj(){No=fm.current,zi(fm)}function ud(n,e){n.finishedWork=null,n.finishedLanes=0;var r=n.timeoutHandle;if(r!==-1&&(n.timeoutHandle=-1,lJ(r)),qn!==null)for(r=qn.return;r!==null;){var o=r;switch(wj(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&HS();break;case 3:Wm(),zi(uo),zi(fs),Nj();break;case 5:Qj(o);break;case 4:Wm();break;case 13:zi(an);break;case 19:zi(an);break;case 10:bj(o.type._context);break;case 22:case 23:zj()}r=r.return}if(Sr=n,qn=n=Qc(n.current,null),Br=No=e,ur=0,SO=null,Ij=yP=Od=0,eo=_y=null,Hf!==null){for(e=0;e<Hf.length;e++)if(r=Hf[e],o=r.interleaved,o!==null){r.interleaved=null;var a=o.next,h=r.pending;if(h!==null){var f=h.next;h.next=a,o.next=f}r.pending=o}Hf=null}return n}function uZ(n,e){do{var r=qn;try{if(Pj(),aS.current=ok,sk){for(var o=un.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}sk=!1}if(yd=0,Or=lr=un=null,Xy=!1,vO=0,Dj.current=null,r===null||r.return===null){ur=1,SO=e,qn=null;break}t:{var h=n,f=r.return,p=r,g=e;if(e=Br,p.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var v=g,x=p,S=x.tag;if(!(x.mode&1)&&(S===0||S===11||S===15)){var b=x.alternate;b?(x.updateQueue=b.updateQueue,x.memoizedState=b.memoizedState,x.lanes=b.lanes):(x.updateQueue=null,x.memoizedState=null)}var C=yF(f);if(C!==null){C.flags&=-257,OF(C,f,p,h,e),C.mode&1&&gF(h,v,e),e=C,g=v;var j=e.updateQueue;if(j===null){var N=new Set;N.add(g),e.updateQueue=N}else j.add(g);break t}else{if(!(e&1)){gF(h,v,e),Xj();break t}g=Error(Ft(426))}}else if(qi&&p.mode&1){var E=yF(f);if(E!==null){!(E.flags&65536)&&(E.flags|=256),OF(E,f,p,h,e),Sj(qm(g,p));break t}}h=g=qm(g,p),ur!==4&&(ur=2),_y===null?_y=[h]:_y.push(h),h=f;do{switch(h.tag){case 3:h.flags|=65536,e&=-e,h.lanes|=e;var R=Y_(h,g,e);hF(h,R);break t;case 1:p=g;var $=h.type,V=h.stateNode;if(!(h.flags&128)&&(typeof $.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Cc===null||!Cc.has(V)))){h.flags|=65536,e&=-e,h.lanes|=e;var D=U_(h,p,e);hF(h,D);break t}}h=h.return}while(h!==null)}fZ(r)}catch(B){e=B,qn===r&&r!==null&&(qn=r=r.return);continue}break}while(!0)}function hZ(){var n=lk.current;return lk.current=ok,n===null?ok:n}function Xj(){(ur===0||ur===3||ur===2)&&(ur=4),Sr===null||!(Od&268435455)&&!(yP&268435455)||uc(Sr,Br)}function hk(n,e){var r=si;si|=2;var o=hZ();(Sr!==n||Br!==e)&&(eh=null,ud(n,e));do try{jJ();break}catch(a){uZ(n,a)}while(!0);if(Pj(),si=r,lk.current=o,qn!==null)throw Error(Ft(261));return Sr=null,Br=0,ur}function jJ(){for(;qn!==null;)cZ(qn)}function EJ(){for(;qn!==null&&!rK();)cZ(qn)}function cZ(n){var e=pZ(n.alternate,n,No);n.memoizedProps=n.pendingProps,e===null?fZ(n):qn=e,Dj.current=null}function fZ(n){var e=n;do{var r=e.alternate;if(n=e.return,e.flags&32768){if(r=TJ(r,e),r!==null){r.flags&=32767,qn=r;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ur=6,qn=null;return}}else if(r=bJ(r,e,No),r!==null){qn=r;return}if(e=e.sibling,e!==null){qn=e;return}qn=e=n}while(e!==null);ur===0&&(ur=5)}function Yf(n,e,r){var o=yi,a=Sl.transition;try{Sl.transition=null,yi=1,RJ(n,e,r,o)}finally{Sl.transition=a,yi=o}return null}function RJ(n,e,r,o){do bm();while(yc!==null);if(si&6)throw Error(Ft(327));r=n.finishedWork;var a=n.finishedLanes;if(r===null)return null;if(n.finishedWork=null,n.finishedLanes=0,r===n.current)throw Error(Ft(177));n.callbackNode=null,n.callbackPriority=0;var h=r.lanes|r.childLanes;if(pK(n,h),n===Sr&&(qn=Sr=null,Br=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ow||(Ow=!0,mZ(ZS,function(){return bm(),null})),h=(r.flags&15990)!==0,r.subtreeFlags&15990||h){h=Sl.transition,Sl.transition=null;var f=yi;yi=1;var p=si;si|=4,Dj.current=null,MJ(n,r),oZ(r,n),tJ(AQ),US=!!NQ,AQ=NQ=null,n.current=r,QJ(r),sK(),si=p,yi=f,Sl.transition=h}else n.current=r;if(Ow&&(Ow=!1,yc=n,uk=a),h=n.pendingLanes,h===0&&(Cc=null),aK(r.stateNode),co(n,Rn()),e!==null)for(o=n.onRecoverableError,r=0;r<e.length;r++)a=e[r],o(a.value,{componentStack:a.stack,digest:a.digest});if(ak)throw ak=!1,n=HQ,HQ=null,n;return uk&1&&n.tag!==0&&bm(),h=n.pendingLanes,h&1?n===KQ?Zy++:(Zy=0,KQ=n):Zy=0,Hc(),null}function bm(){if(yc!==null){var n=YB(uk),e=Sl.transition,r=yi;try{if(Sl.transition=null,yi=16>n?16:n,yc===null)var o=!1;else{if(n=yc,yc=null,uk=0,si&6)throw Error(Ft(331));var a=si;for(si|=4,ee=n.current;ee!==null;){var h=ee,f=h.child;if(ee.flags&16){var p=h.deletions;if(p!==null){for(var g=0;g<p.length;g++){var v=p[g];for(ee=v;ee!==null;){var x=ee;switch(x.tag){case 0:case 11:case 15:By(8,x,h)}var S=x.child;if(S!==null)S.return=x,ee=S;else for(;ee!==null;){x=ee;var b=x.sibling,C=x.return;if(nZ(x),x===v){ee=null;break}if(b!==null){b.return=C,ee=b;break}ee=C}}}var j=h.alternate;if(j!==null){var N=j.child;if(N!==null){j.child=null;do{var E=N.sibling;N.sibling=null,N=E}while(N!==null)}}ee=h}}if(h.subtreeFlags&2064&&f!==null)f.return=h,ee=f;else t:for(;ee!==null;){if(h=ee,h.flags&2048)switch(h.tag){case 0:case 11:case 15:By(9,h,h.return)}var R=h.sibling;if(R!==null){R.return=h.return,ee=R;break t}ee=h.return}}var $=n.current;for(ee=$;ee!==null;){f=ee;var V=f.child;if(f.subtreeFlags&2064&&V!==null)V.return=f,ee=V;else t:for(f=$;ee!==null;){if(p=ee,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:gP(9,p)}}catch(B){Cn(p,p.return,B)}if(p===f){ee=null;break t}var D=p.sibling;if(D!==null){D.return=p.return,ee=D;break t}ee=p.return}}if(si=a,Hc(),ou&&typeof ou.onPostCommitFiberRoot=="function")try{ou.onPostCommitFiberRoot(aP,n)}catch{}o=!0}return o}finally{yi=r,Sl.transition=e}}return!1}function AF(n,e,r){e=qm(r,e),e=Y_(n,e,1),n=Tc(n,e,1),e=Es(),n!==null&&(pv(n,1,e),co(n,e))}function Cn(n,e,r){if(n.tag===3)AF(n,n,r);else for(;e!==null;){if(e.tag===3){AF(e,n,r);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cc===null||!Cc.has(o))){n=qm(r,n),n=U_(e,n,1),e=Tc(e,n,1),n=Es(),e!==null&&(pv(e,1,n),co(e,n));break}}e=e.return}}function LJ(n,e,r){var o=n.pingCache;o!==null&&o.delete(e),e=Es(),n.pingedLanes|=n.suspendedLanes&r,Sr===n&&(Br&r)===r&&(ur===4||ur===3&&(Br&130023424)===Br&&500>Rn()-Fj?ud(n,0):Ij|=r),co(n,e)}function dZ(n,e){e===0&&(n.mode&1?(e=aw,aw<<=1,!(aw&130023424)&&(aw=4194304)):e=1);var r=Es();n=fh(n,e),n!==null&&(pv(n,e,r),co(n,r))}function $J(n){var e=n.memoizedState,r=0;e!==null&&(r=e.retryLane),dZ(n,r)}function DJ(n,e){var r=0;switch(n.tag){case 13:var o=n.stateNode,a=n.memoizedState;a!==null&&(r=a.retryLane);break;case 19:o=n.stateNode;break;default:throw Error(Ft(314))}o!==null&&o.delete(e),dZ(n,r)}var pZ;pZ=function(n,e,r){if(n!==null)if(n.memoizedProps!==e.pendingProps||uo.current)so=!0;else{if(!(n.lanes&r)&&!(e.flags&128))return so=!1,PJ(n,e,r);so=!!(n.flags&131072)}else so=!1,qi&&e.flags&1048576&&O_(e,tk,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;hS(n,e),n=e.pendingProps;var a=Zm(e,fs.current);Pm(e,r),a=jj(null,e,o,n,a,r);var h=Ej();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ho(o)?(h=!0,KS(e)):h=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Cj(e),a.updater=mP,e.stateNode=a,a._reactInternals=e,VQ(e,o,n,r),e=BQ(null,e,o,!0,h,r)):(e.tag=0,qi&&h&&xj(e),Ns(null,e,a,r),e=e.child),e;case 16:o=e.elementType;t:{switch(hS(n,e),n=e.pendingProps,a=o._init,o=a(o._payload),e.type=o,a=e.tag=FJ(o),n=ql(o,n),a){case 0:e=XQ(null,e,o,n,r);break t;case 1:e=wF(null,e,o,n,r);break t;case 11:e=vF(null,e,o,n,r);break t;case 14:e=xF(null,e,o,ql(o.type,n),r);break t}throw Error(Ft(306,o,""))}return e;case 0:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:ql(o,a),XQ(n,e,o,a,r);case 1:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:ql(o,a),wF(n,e,o,a,r);case 3:t:{if(H_(e),n===null)throw Error(Ft(387));o=e.pendingProps,h=e.memoizedState,a=h.element,P_(n,e),nk(e,o,null,r);var f=e.memoizedState;if(o=f.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},e.updateQueue.baseState=h,e.memoizedState=h,e.flags&256){a=qm(Error(Ft(423)),e),e=SF(n,e,o,r,a);break t}else if(o!==a){a=qm(Error(Ft(424)),e),e=SF(n,e,o,r,a);break t}else for(Ro=bc(e.stateNode.containerInfo.firstChild),Do=e,qi=!0,Jl=null,r=S_(e,null,o,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ym(),o===a){e=dh(n,e,r);break t}Ns(n,e,o,r)}e=e.child}return e;case 5:return b_(e),n===null&&DQ(e),o=e.type,a=e.pendingProps,h=n!==null?n.memoizedProps:null,f=a.children,jQ(o,a)?f=null:h!==null&&jQ(o,h)&&(e.flags|=32),G_(n,e),Ns(n,e,f,r),e.child;case 6:return n===null&&DQ(e),null;case 13:return K_(n,e,r);case 4:return Mj(e,e.stateNode.containerInfo),o=e.pendingProps,n===null?e.child=Um(e,null,o,r):Ns(n,e,o,r),e.child;case 11:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:ql(o,a),vF(n,e,o,a,r);case 7:return Ns(n,e,e.pendingProps,r),e.child;case 8:return Ns(n,e,e.pendingProps.children,r),e.child;case 12:return Ns(n,e,e.pendingProps.children,r),e.child;case 10:t:{if(o=e.type._context,a=e.pendingProps,h=e.memoizedProps,f=a.value,Ei(ek,o._currentValue),o._currentValue=f,h!==null)if(na(h.value,f)){if(h.children===a.children&&!uo.current){e=dh(n,e,r);break t}}else for(h=e.child,h!==null&&(h.return=e);h!==null;){var p=h.dependencies;if(p!==null){f=h.child;for(var g=p.firstContext;g!==null;){if(g.context===o){if(h.tag===1){g=lh(-1,r&-r),g.tag=2;var v=h.updateQueue;if(v!==null){v=v.shared;var x=v.pending;x===null?g.next=g:(g.next=x.next,x.next=g),v.pending=g}}h.lanes|=r,g=h.alternate,g!==null&&(g.lanes|=r),IQ(h.return,r,e),p.lanes|=r;break}g=g.next}}else if(h.tag===10)f=h.type===e.type?null:h.child;else if(h.tag===18){if(f=h.return,f===null)throw Error(Ft(341));f.lanes|=r,p=f.alternate,p!==null&&(p.lanes|=r),IQ(f,r,e),f=h.sibling}else f=h.child;if(f!==null)f.return=h;else for(f=h;f!==null;){if(f===e){f=null;break}if(h=f.sibling,h!==null){h.return=f.return,f=h;break}f=f.return}h=f}Ns(n,e,a.children,r),e=e.child}return e;case 9:return a=e.type,o=e.pendingProps.children,Pm(e,r),a=bl(a),o=o(a),e.flags|=1,Ns(n,e,o,r),e.child;case 14:return o=e.type,a=ql(o,e.pendingProps),a=ql(o.type,a),xF(n,e,o,a,r);case 15:return W_(n,e,e.type,e.pendingProps,r);case 17:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:ql(o,a),hS(n,e),e.tag=1,ho(o)?(n=!0,KS(e)):n=!1,Pm(e,r),Z_(e,o,a),VQ(e,o,a,r),BQ(null,e,o,!0,n,r);case 19:return J_(n,e,r);case 22:return q_(n,e,r)}throw Error(Ft(156,e.tag))};function mZ(n,e){return XB(n,e)}function IJ(n,e,r,o){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yl(n,e,r,o){return new IJ(n,e,r,o)}function Bj(n){return n=n.prototype,!(!n||!n.isReactComponent)}function FJ(n){if(typeof n=="function")return Bj(n)?1:0;if(n!=null){if(n=n.$$typeof,n===aj)return 11;if(n===uj)return 14}return 2}function Qc(n,e){var r=n.alternate;return r===null?(r=yl(n.tag,e,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=e,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&14680064,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,e=n.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r}function dS(n,e,r,o,a,h){var f=2;if(o=n,typeof n=="function")Bj(n)&&(f=1);else if(typeof n=="string")f=5;else t:switch(n){case im:return hd(r.children,a,h,e);case lj:f=8,a|=8;break;case hQ:return n=yl(12,r,e,a|2),n.elementType=hQ,n.lanes=h,n;case cQ:return n=yl(13,r,e,a),n.elementType=cQ,n.lanes=h,n;case fQ:return n=yl(19,r,e,a),n.elementType=fQ,n.lanes=h,n;case bB:return OP(r,a,h,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case kB:f=10;break t;case PB:f=9;break t;case aj:f=11;break t;case uj:f=14;break t;case rc:f=16,o=null;break t}throw Error(Ft(130,n==null?n:typeof n,""))}return e=yl(f,r,e,a),e.elementType=n,e.type=o,e.lanes=h,e}function hd(n,e,r,o){return n=yl(7,n,o,e),n.lanes=r,n}function OP(n,e,r,o){return n=yl(22,n,o,e),n.elementType=bB,n.lanes=r,n.stateNode={isHidden:!1},n}function ZC(n,e,r){return n=yl(6,n,null,e),n.lanes=r,n}function YC(n,e,r){return e=yl(4,n.children!==null?n.children:[],n.key,e),e.lanes=r,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function VJ(n,e,r,o,a){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=TC(0),this.expirationTimes=TC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=TC(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function _j(n,e,r,o,a,h,f,p,g){return n=new VJ(n,e,r,p,g),e===1?(e=1,h===!0&&(e|=8)):e=0,h=yl(3,null,null,e),n.current=h,h.stateNode=n,h.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cj(h),n}function zJ(n,e,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:em,key:o==null?null:""+o,children:n,containerInfo:e,implementation:r}}function gZ(n){if(!n)return Ec;n=n._reactInternals;t:{if(jd(n)!==n||n.tag!==1)throw Error(Ft(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(ho(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(e!==null);throw Error(Ft(171))}if(n.tag===1){var r=n.type;if(ho(r))return g_(n,r,e)}return e}function yZ(n,e,r,o,a,h,f,p,g){return n=_j(r,o,!0,n,a,h,f,p,g),n.context=gZ(null),r=n.current,o=Es(),a=Mc(r),h=lh(o,a),h.callback=e??null,Tc(r,h,a),n.current.lanes=a,pv(n,a,o),co(n,o),n}function vP(n,e,r,o){var a=e.current,h=Es(),f=Mc(a);return r=gZ(r),e.context===null?e.context=r:e.pendingContext=r,e=lh(h,f),e.payload={element:n},o=o===void 0?null:o,o!==null&&(e.callback=o),n=Tc(a,e,f),n!==null&&(ea(n,a,f,h),lS(n,a,f)),f}function ck(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function jF(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<e?r:e}}function Zj(n,e){jF(n,e),(n=n.alternate)&&jF(n,e)}function XJ(){return null}var OZ=typeof reportError=="function"?reportError:function(n){console.error(n)};function Yj(n){this._internalRoot=n}xP.prototype.render=Yj.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ft(409));vP(n,e,null,null)};xP.prototype.unmount=Yj.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;vd(function(){vP(null,n,null,null)}),e[ch]=null}};function xP(n){this._internalRoot=n}xP.prototype.unstable_scheduleHydration=function(n){if(n){var e=qB();n={blockedOn:null,target:n,priority:e};for(var r=0;r<ac.length&&e!==0&&e<ac[r].priority;r++);ac.splice(r,0,n),r===0&&HB(n)}};function Uj(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function wP(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function EF(){}function BJ(n,e,r,o,a){if(a){if(typeof o=="function"){var h=o;o=function(){var v=ck(f);h.call(v)}}var f=yZ(e,o,n,0,null,!1,!1,"",EF);return n._reactRootContainer=f,n[ch]=f.current,pO(n.nodeType===8?n.parentNode:n),vd(),f}for(;a=n.lastChild;)n.removeChild(a);if(typeof o=="function"){var p=o;o=function(){var v=ck(g);p.call(v)}}var g=_j(n,0,!1,null,null,!1,!1,"",EF);return n._reactRootContainer=g,n[ch]=g.current,pO(n.nodeType===8?n.parentNode:n),vd(function(){vP(e,g,r,o)}),g}function SP(n,e,r,o,a){var h=r._reactRootContainer;if(h){var f=h;if(typeof a=="function"){var p=a;a=function(){var g=ck(f);p.call(g)}}vP(e,f,n,a)}else f=BJ(r,e,n,a,o);return ck(f)}UB=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var r=My(e.pendingLanes);r!==0&&(fj(e,r|1),co(e,Rn()),!(si&6)&&(Gm=Rn()+500,Hc()))}break;case 13:vd(function(){var o=fh(n,1);if(o!==null){var a=Es();ea(o,n,1,a)}}),Zj(n,1)}};dj=function(n){if(n.tag===13){var e=fh(n,134217728);if(e!==null){var r=Es();ea(e,n,134217728,r)}Zj(n,134217728)}};WB=function(n){if(n.tag===13){var e=Mc(n),r=fh(n,e);if(r!==null){var o=Es();ea(r,n,e,o)}Zj(n,e)}};qB=function(){return yi};GB=function(n,e){var r=yi;try{return yi=n,e()}finally{yi=r}};SQ=function(n,e,r){switch(e){case"input":if(mQ(n,r),e=r.name,r.type==="radio"&&e!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var o=r[e];if(o!==n&&o.form===n.form){var a=fP(o);if(!a)throw Error(Ft(90));CB(o),mQ(o,a)}}}break;case"textarea":QB(n,r);break;case"select":e=r.value,e!=null&&xm(n,!!r.multiple,e,!1)}};$B=Vj;DB=vd;var _J={usingClientEntryPoint:!1,Events:[gv,om,fP,RB,LB,Vj]},hy={findFiberByHostInstance:Gf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZJ={bundleType:hy.bundleType,version:hy.version,rendererPackageName:hy.rendererPackageName,rendererConfig:hy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sh.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=VB(n),n===null?null:n.stateNode},findFiberByHostInstance:hy.findFiberByHostInstance||XJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vw.isDisabled&&vw.supportsFiber)try{aP=vw.inject(ZJ),ou=vw}catch{}}zo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_J;zo.createPortal=function(n,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uj(e))throw Error(Ft(200));return zJ(n,e,null,r)};zo.createRoot=function(n,e){if(!Uj(n))throw Error(Ft(299));var r=!1,o="",a=OZ;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=_j(n,1,!1,null,null,r,!1,o,a),n[ch]=e.current,pO(n.nodeType===8?n.parentNode:n),new Yj(e)};zo.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ft(188)):(n=Object.keys(n).join(","),Error(Ft(268,n)));return n=VB(e),n=n===null?null:n.stateNode,n};zo.flushSync=function(n){return vd(n)};zo.hydrate=function(n,e,r){if(!wP(e))throw Error(Ft(200));return SP(null,n,e,!0,r)};zo.hydrateRoot=function(n,e,r){if(!Uj(n))throw Error(Ft(405));var o=r!=null&&r.hydratedSources||null,a=!1,h="",f=OZ;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),e=yZ(e,null,n,1,r??null,a,!1,h,f),n[ch]=e.current,pO(n),o)for(n=0;n<o.length;n++)r=o[n],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new xP(e)};zo.render=function(n,e,r){if(!wP(e))throw Error(Ft(200));return SP(null,n,e,!1,r)};zo.unmountComponentAtNode=function(n){if(!wP(n))throw Error(Ft(40));return n._reactRootContainer?(vd(function(){SP(null,null,n,!1,function(){n._reactRootContainer=null,n[ch]=null})}),!0):!1};zo.unstable_batchedUpdates=Vj;zo.unstable_renderSubtreeIntoContainer=function(n,e,r,o){if(!wP(r))throw Error(Ft(200));if(n==null||n._reactInternals===void 0)throw Error(Ft(38));return SP(n,e,r,!1,o)};zo.version="18.3.1-next-f1338f8080-20240426";function vZ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vZ)}catch(n){console.error(n)}}vZ(),vB.exports=zo;var Ov=vB.exports;const xZ=oB(Ov);var wZ,RF=Ov;wZ=RF.createRoot,RF.hydrateRoot;const YJ=1,UJ=1e6;let UC=0;function WJ(){return UC=(UC+1)%Number.MAX_SAFE_INTEGER,UC.toString()}const WC=new Map,LF=n=>{if(WC.has(n))return;const e=setTimeout(()=>{WC.delete(n),Yy({type:"REMOVE_TOAST",toastId:n})},UJ);WC.set(n,e)},qJ=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,YJ)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?LF(r):n.toasts.forEach(o=>{LF(o.id)}),{...n,toasts:n.toasts.map(o=>o.id===r||r===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(r=>r.id!==e.toastId)}}},pS=[];let mS={toasts:[]};function Yy(n){mS=qJ(mS,n),pS.forEach(e=>{e(mS)})}function GJ({...n}){const e=WJ(),r=a=>Yy({type:"UPDATE_TOAST",toast:{...a,id:e}}),o=()=>Yy({type:"DISMISS_TOAST",toastId:e});return Yy({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:a=>{a||o()}}}),{id:e,dismiss:o,update:r}}function HJ(){const[n,e]=Z.useState(mS);return Z.useEffect(()=>(pS.push(e),()=>{const r=pS.indexOf(e);r>-1&&pS.splice(r,1)}),[n]),{...n,toast:GJ,dismiss:r=>Yy({type:"DISMISS_TOAST",toastId:r})}}function Ln(n,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(n==null||n(a),r===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function KJ(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function SZ(...n){return e=>n.forEach(r=>KJ(r,e))}function Vo(...n){return Z.useCallback(SZ(...n),n)}function JJ(n,e=[]){let r=[];function o(h,f){const p=Z.createContext(f),g=r.length;r=[...r,f];function v(S){const{scope:b,children:C,...j}=S,N=(b==null?void 0:b[n][g])||p,E=Z.useMemo(()=>j,Object.values(j));return Q.jsx(N.Provider,{value:E,children:C})}function x(S,b){const C=(b==null?void 0:b[n][g])||p,j=Z.useContext(C);if(j)return j;if(f!==void 0)return f;throw new Error(`\`${S}\` must be used within \`${h}\``)}return v.displayName=h+"Provider",[v,x]}const a=()=>{const h=r.map(f=>Z.createContext(f));return function(p){const g=(p==null?void 0:p[n])||h;return Z.useMemo(()=>({[`__scope${n}`]:{...p,[n]:g}}),[p,g])}};return a.scopeName=n,[o,ttt(a,...e)]}function ttt(...n){const e=n[0];if(n.length===1)return e;const r=()=>{const o=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(h){const f=o.reduce((p,{useScope:g,scopeName:v})=>{const S=g(h)[`__scope${v}`];return{...p,...S}},{});return Z.useMemo(()=>({[`__scope${e.scopeName}`]:f}),[f])}};return r.scopeName=e.scopeName,r}var kO=Z.forwardRef((n,e)=>{const{children:r,...o}=n,a=Z.Children.toArray(r),h=a.find(ett);if(h){const f=h.props.children,p=a.map(g=>g===h?Z.Children.count(f)>1?Z.Children.only(null):Z.isValidElement(f)?f.props.children:null:g);return Q.jsx(eN,{...o,ref:e,children:Z.isValidElement(f)?Z.cloneElement(f,void 0,p):null})}return Q.jsx(eN,{...o,ref:e,children:r})});kO.displayName="Slot";var eN=Z.forwardRef((n,e)=>{const{children:r,...o}=n;if(Z.isValidElement(r)){const a=ntt(r);return Z.cloneElement(r,{...itt(o,r.props),ref:e?SZ(e,a):a})}return Z.Children.count(r)>1?Z.Children.only(null):null});eN.displayName="SlotClone";var kZ=({children:n})=>Q.jsx(Q.Fragment,{children:n});function ett(n){return Z.isValidElement(n)&&n.type===kZ}function itt(n,e){const r={...e};for(const o in e){const a=n[o],h=e[o];/^on[A-Z]/.test(o)?a&&h?r[o]=(...p)=>{h(...p),a(...p)}:a&&(r[o]=a):o==="style"?r[o]={...a,...h}:o==="className"&&(r[o]=[a,h].filter(Boolean).join(" "))}return{...n,...r}}function ntt(n){var o,a;let e=(o=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:o.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?n.props.ref:n.props.ref||n.ref)}function PZ(n){const e=n+"CollectionProvider",[r,o]=JJ(e),[a,h]=r(e,{collectionRef:{current:null},itemMap:new Map}),f=C=>{const{scope:j,children:N}=C,E=$t.useRef(null),R=$t.useRef(new Map).current;return Q.jsx(a,{scope:j,itemMap:R,collectionRef:E,children:N})};f.displayName=e;const p=n+"CollectionSlot",g=$t.forwardRef((C,j)=>{const{scope:N,children:E}=C,R=h(p,N),$=Vo(j,R.collectionRef);return Q.jsx(kO,{ref:$,children:E})});g.displayName=p;const v=n+"CollectionItemSlot",x="data-radix-collection-item",S=$t.forwardRef((C,j)=>{const{scope:N,children:E,...R}=C,$=$t.useRef(null),V=Vo(j,$),D=h(v,N);return $t.useEffect(()=>(D.itemMap.set($,{ref:$,...R}),()=>void D.itemMap.delete($))),Q.jsx(kO,{[x]:"",ref:V,children:E})});S.displayName=v;function b(C){const j=h(n+"CollectionConsumer",C);return $t.useCallback(()=>{const E=j.collectionRef.current;if(!E)return[];const R=Array.from(E.querySelectorAll(`[${x}]`));return Array.from(j.itemMap.values()).sort((D,B)=>R.indexOf(D.ref.current)-R.indexOf(B.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:f,Slot:g,ItemSlot:S},b,o]}function kP(n,e=[]){let r=[];function o(h,f){const p=Z.createContext(f),g=r.length;r=[...r,f];const v=S=>{var R;const{scope:b,children:C,...j}=S,N=((R=b==null?void 0:b[n])==null?void 0:R[g])||p,E=Z.useMemo(()=>j,Object.values(j));return Q.jsx(N.Provider,{value:E,children:C})};v.displayName=h+"Provider";function x(S,b){var N;const C=((N=b==null?void 0:b[n])==null?void 0:N[g])||p,j=Z.useContext(C);if(j)return j;if(f!==void 0)return f;throw new Error(`\`${S}\` must be used within \`${h}\``)}return[v,x]}const a=()=>{const h=r.map(f=>Z.createContext(f));return function(p){const g=(p==null?void 0:p[n])||h;return Z.useMemo(()=>({[`__scope${n}`]:{...p,[n]:g}}),[p,g])}};return a.scopeName=n,[o,rtt(a,...e)]}function rtt(...n){const e=n[0];if(n.length===1)return e;const r=()=>{const o=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(h){const f=o.reduce((p,{useScope:g,scopeName:v})=>{const S=g(h)[`__scope${v}`];return{...p,...S}},{});return Z.useMemo(()=>({[`__scope${e.scopeName}`]:f}),[f])}};return r.scopeName=e.scopeName,r}var stt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Fn=stt.reduce((n,e)=>{const r=Z.forwardRef((o,a)=>{const{asChild:h,...f}=o,p=h?kO:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),Q.jsx(p,{...f,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function bZ(n,e){n&&Ov.flushSync(()=>n.dispatchEvent(e))}function fu(n){const e=Z.useRef(n);return Z.useEffect(()=>{e.current=n}),Z.useMemo(()=>(...r)=>{var o;return(o=e.current)==null?void 0:o.call(e,...r)},[])}function ott(n,e=globalThis==null?void 0:globalThis.document){const r=fu(n);Z.useEffect(()=>{const o=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",o,{capture:!0}),()=>e.removeEventListener("keydown",o,{capture:!0})},[r,e])}var ltt="DismissableLayer",iN="dismissableLayer.update",att="dismissableLayer.pointerDownOutside",utt="dismissableLayer.focusOutside",$F,TZ=Z.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wj=Z.forwardRef((n,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:h,onInteractOutside:f,onDismiss:p,...g}=n,v=Z.useContext(TZ),[x,S]=Z.useState(null),b=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=Z.useState({}),j=Vo(e,K=>S(K)),N=Array.from(v.layers),[E]=[...v.layersWithOutsidePointerEventsDisabled].slice(-1),R=N.indexOf(E),$=x?N.indexOf(x):-1,V=v.layersWithOutsidePointerEventsDisabled.size>0,D=$>=R,B=ctt(K=>{const J=K.target,ot=[...v.branches].some(Ot=>Ot.contains(J));!D||ot||(a==null||a(K),f==null||f(K),K.defaultPrevented||p==null||p())},b),q=ftt(K=>{const J=K.target;[...v.branches].some(Ot=>Ot.contains(J))||(h==null||h(K),f==null||f(K),K.defaultPrevented||p==null||p())},b);return ott(K=>{$===v.layers.size-1&&(o==null||o(K),!K.defaultPrevented&&p&&(K.preventDefault(),p()))},b),Z.useEffect(()=>{if(x)return r&&(v.layersWithOutsidePointerEventsDisabled.size===0&&($F=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),v.layersWithOutsidePointerEventsDisabled.add(x)),v.layers.add(x),DF(),()=>{r&&v.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=$F)}},[x,b,r,v]),Z.useEffect(()=>()=>{x&&(v.layers.delete(x),v.layersWithOutsidePointerEventsDisabled.delete(x),DF())},[x,v]),Z.useEffect(()=>{const K=()=>C({});return document.addEventListener(iN,K),()=>document.removeEventListener(iN,K)},[]),Q.jsx(Fn.div,{...g,ref:j,style:{pointerEvents:V?D?"auto":"none":void 0,...n.style},onFocusCapture:Ln(n.onFocusCapture,q.onFocusCapture),onBlurCapture:Ln(n.onBlurCapture,q.onBlurCapture),onPointerDownCapture:Ln(n.onPointerDownCapture,B.onPointerDownCapture)})});Wj.displayName=ltt;var htt="DismissableLayerBranch",CZ=Z.forwardRef((n,e)=>{const r=Z.useContext(TZ),o=Z.useRef(null),a=Vo(e,o);return Z.useEffect(()=>{const h=o.current;if(h)return r.branches.add(h),()=>{r.branches.delete(h)}},[r.branches]),Q.jsx(Fn.div,{...n,ref:a})});CZ.displayName=htt;function ctt(n,e=globalThis==null?void 0:globalThis.document){const r=fu(n),o=Z.useRef(!1),a=Z.useRef(()=>{});return Z.useEffect(()=>{const h=p=>{if(p.target&&!o.current){let g=function(){MZ(att,r,v,{discrete:!0})};const v={originalEvent:p};p.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=g,e.addEventListener("click",a.current,{once:!0})):g()}else e.removeEventListener("click",a.current);o.current=!1},f=window.setTimeout(()=>{e.addEventListener("pointerdown",h)},0);return()=>{window.clearTimeout(f),e.removeEventListener("pointerdown",h),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>o.current=!0}}function ftt(n,e=globalThis==null?void 0:globalThis.document){const r=fu(n),o=Z.useRef(!1);return Z.useEffect(()=>{const a=h=>{h.target&&!o.current&&MZ(utt,r,{originalEvent:h},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function DF(){const n=new CustomEvent(iN);document.dispatchEvent(n)}function MZ(n,e,r,{discrete:o}){const a=r.originalEvent.target,h=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(n,e,{once:!0}),o?bZ(a,h):a.dispatchEvent(h)}var dtt=Wj,ptt=CZ,ph=globalThis!=null&&globalThis.document?Z.useLayoutEffect:()=>{},mtt="Portal",QZ=Z.forwardRef((n,e)=>{var p;const{container:r,...o}=n,[a,h]=Z.useState(!1);ph(()=>h(!0),[]);const f=r||a&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return f?xZ.createPortal(Q.jsx(Fn.div,{...o,ref:e}),f):null});QZ.displayName=mtt;function gtt(n,e){return Z.useReducer((r,o)=>e[r][o]??r,n)}var PP=n=>{const{present:e,children:r}=n,o=ytt(e),a=typeof r=="function"?r({present:o.isPresent}):Z.Children.only(r),h=Vo(o.ref,Ott(a));return typeof r=="function"||o.isPresent?Z.cloneElement(a,{ref:h}):null};PP.displayName="Presence";function ytt(n){const[e,r]=Z.useState(),o=Z.useRef({}),a=Z.useRef(n),h=Z.useRef("none"),f=n?"mounted":"unmounted",[p,g]=gtt(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Z.useEffect(()=>{const v=xw(o.current);h.current=p==="mounted"?v:"none"},[p]),ph(()=>{const v=o.current,x=a.current;if(x!==n){const b=h.current,C=xw(v);n?g("MOUNT"):C==="none"||(v==null?void 0:v.display)==="none"?g("UNMOUNT"):g(x&&b!==C?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,g]),ph(()=>{if(e){let v;const x=e.ownerDocument.defaultView??window,S=C=>{const N=xw(o.current).includes(C.animationName);if(C.target===e&&N&&(g("ANIMATION_END"),!a.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",v=x.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},b=C=>{C.target===e&&(h.current=xw(o.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",S),e.addEventListener("animationend",S),()=>{x.clearTimeout(v),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",S),e.removeEventListener("animationend",S)}}else g("ANIMATION_END")},[e,g]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:Z.useCallback(v=>{v&&(o.current=getComputedStyle(v)),r(v)},[])}}function xw(n){return(n==null?void 0:n.animationName)||"none"}function Ott(n){var o,a;let e=(o=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:o.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?n.props.ref:n.props.ref||n.ref)}function vv({prop:n,defaultProp:e,onChange:r=()=>{}}){const[o,a]=vtt({defaultProp:e,onChange:r}),h=n!==void 0,f=h?n:o,p=fu(r),g=Z.useCallback(v=>{if(h){const S=typeof v=="function"?v(n):v;S!==n&&p(S)}else a(v)},[h,n,a,p]);return[f,g]}function vtt({defaultProp:n,onChange:e}){const r=Z.useState(n),[o]=r,a=Z.useRef(o),h=fu(e);return Z.useEffect(()=>{a.current!==o&&(h(o),a.current=o)},[o,a,h]),r}var xtt="VisuallyHidden",bP=Z.forwardRef((n,e)=>Q.jsx(Fn.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));bP.displayName=xtt;var wtt=bP,qj="ToastProvider",[Gj,Stt,ktt]=PZ("Toast"),[NZ,gkt]=kP("Toast",[ktt]),[Ptt,TP]=NZ(qj),AZ=n=>{const{__scopeToast:e,label:r="Notification",duration:o=5e3,swipeDirection:a="right",swipeThreshold:h=50,children:f}=n,[p,g]=Z.useState(null),[v,x]=Z.useState(0),S=Z.useRef(!1),b=Z.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${qj}\`. Expected non-empty \`string\`.`),Q.jsx(Gj.Provider,{scope:e,children:Q.jsx(Ptt,{scope:e,label:r,duration:o,swipeDirection:a,swipeThreshold:h,toastCount:v,viewport:p,onViewportChange:g,onToastAdd:Z.useCallback(()=>x(C=>C+1),[]),onToastRemove:Z.useCallback(()=>x(C=>C-1),[]),isFocusedToastEscapeKeyDownRef:S,isClosePausedRef:b,children:f})})};AZ.displayName=qj;var jZ="ToastViewport",btt=["F8"],nN="toast.viewportPause",rN="toast.viewportResume",EZ=Z.forwardRef((n,e)=>{const{__scopeToast:r,hotkey:o=btt,label:a="Notifications ({hotkey})",...h}=n,f=TP(jZ,r),p=Stt(r),g=Z.useRef(null),v=Z.useRef(null),x=Z.useRef(null),S=Z.useRef(null),b=Vo(e,S,f.onViewportChange),C=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=f.toastCount>0;Z.useEffect(()=>{const E=R=>{var V;o.length!==0&&o.every(D=>R[D]||R.code===D)&&((V=S.current)==null||V.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[o]),Z.useEffect(()=>{const E=g.current,R=S.current;if(j&&E&&R){const $=()=>{if(!f.isClosePausedRef.current){const q=new CustomEvent(nN);R.dispatchEvent(q),f.isClosePausedRef.current=!0}},V=()=>{if(f.isClosePausedRef.current){const q=new CustomEvent(rN);R.dispatchEvent(q),f.isClosePausedRef.current=!1}},D=q=>{!E.contains(q.relatedTarget)&&V()},B=()=>{E.contains(document.activeElement)||V()};return E.addEventListener("focusin",$),E.addEventListener("focusout",D),E.addEventListener("pointermove",$),E.addEventListener("pointerleave",B),window.addEventListener("blur",$),window.addEventListener("focus",V),()=>{E.removeEventListener("focusin",$),E.removeEventListener("focusout",D),E.removeEventListener("pointermove",$),E.removeEventListener("pointerleave",B),window.removeEventListener("blur",$),window.removeEventListener("focus",V)}}},[j,f.isClosePausedRef]);const N=Z.useCallback(({tabbingDirection:E})=>{const $=p().map(V=>{const D=V.ref.current,B=[D,...Itt(D)];return E==="forwards"?B:B.reverse()});return(E==="forwards"?$.reverse():$).flat()},[p]);return Z.useEffect(()=>{const E=S.current;if(E){const R=$=>{var B,q,K;const V=$.altKey||$.ctrlKey||$.metaKey;if($.key==="Tab"&&!V){const J=document.activeElement,ot=$.shiftKey;if($.target===E&&ot){(B=v.current)==null||B.focus();return}const wt=N({tabbingDirection:ot?"backwards":"forwards"}),St=wt.findIndex(dt=>dt===J);qC(wt.slice(St+1))?$.preventDefault():ot?(q=v.current)==null||q.focus():(K=x.current)==null||K.focus()}};return E.addEventListener("keydown",R),()=>E.removeEventListener("keydown",R)}},[p,N]),Q.jsxs(ptt,{ref:g,role:"region","aria-label":a.replace("{hotkey}",C),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&Q.jsx(sN,{ref:v,onFocusFromOutsideViewport:()=>{const E=N({tabbingDirection:"forwards"});qC(E)}}),Q.jsx(Gj.Slot,{scope:r,children:Q.jsx(Fn.ol,{tabIndex:-1,...h,ref:b})}),j&&Q.jsx(sN,{ref:x,onFocusFromOutsideViewport:()=>{const E=N({tabbingDirection:"backwards"});qC(E)}})]})});EZ.displayName=jZ;var RZ="ToastFocusProxy",sN=Z.forwardRef((n,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:o,...a}=n,h=TP(RZ,r);return Q.jsx(bP,{"aria-hidden":!0,tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:f=>{var v;const p=f.relatedTarget;!((v=h.viewport)!=null&&v.contains(p))&&o()}})});sN.displayName=RZ;var CP="Toast",Ttt="toast.swipeStart",Ctt="toast.swipeMove",Mtt="toast.swipeCancel",Qtt="toast.swipeEnd",LZ=Z.forwardRef((n,e)=>{const{forceMount:r,open:o,defaultOpen:a,onOpenChange:h,...f}=n,[p=!0,g]=vv({prop:o,defaultProp:a,onChange:h});return Q.jsx(PP,{present:r||p,children:Q.jsx(jtt,{open:p,...f,ref:e,onClose:()=>g(!1),onPause:fu(n.onPause),onResume:fu(n.onResume),onSwipeStart:Ln(n.onSwipeStart,v=>{v.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ln(n.onSwipeMove,v=>{const{x,y:S}=v.detail.delta;v.currentTarget.setAttribute("data-swipe","move"),v.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),v.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${S}px`)}),onSwipeCancel:Ln(n.onSwipeCancel,v=>{v.currentTarget.setAttribute("data-swipe","cancel"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),v.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ln(n.onSwipeEnd,v=>{const{x,y:S}=v.detail.delta;v.currentTarget.setAttribute("data-swipe","end"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),v.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),v.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${S}px`),g(!1)})})})});LZ.displayName=CP;var[Ntt,Att]=NZ(CP,{onClose(){}}),jtt=Z.forwardRef((n,e)=>{const{__scopeToast:r,type:o="foreground",duration:a,open:h,onClose:f,onEscapeKeyDown:p,onPause:g,onResume:v,onSwipeStart:x,onSwipeMove:S,onSwipeCancel:b,onSwipeEnd:C,...j}=n,N=TP(CP,r),[E,R]=Z.useState(null),$=Vo(e,dt=>R(dt)),V=Z.useRef(null),D=Z.useRef(null),B=a||N.duration,q=Z.useRef(0),K=Z.useRef(B),J=Z.useRef(0),{onToastAdd:ot,onToastRemove:Ot}=N,bt=fu(()=>{var Vt;(E==null?void 0:E.contains(document.activeElement))&&((Vt=N.viewport)==null||Vt.focus()),f()}),wt=Z.useCallback(dt=>{!dt||dt===1/0||(window.clearTimeout(J.current),q.current=new Date().getTime(),J.current=window.setTimeout(bt,dt))},[bt]);Z.useEffect(()=>{const dt=N.viewport;if(dt){const Vt=()=>{wt(K.current),v==null||v()},Mt=()=>{const Et=new Date().getTime()-q.current;K.current=K.current-Et,window.clearTimeout(J.current),g==null||g()};return dt.addEventListener(nN,Mt),dt.addEventListener(rN,Vt),()=>{dt.removeEventListener(nN,Mt),dt.removeEventListener(rN,Vt)}}},[N.viewport,B,g,v,wt]),Z.useEffect(()=>{h&&!N.isClosePausedRef.current&&wt(B)},[h,B,N.isClosePausedRef,wt]),Z.useEffect(()=>(ot(),()=>Ot()),[ot,Ot]);const St=Z.useMemo(()=>E?XZ(E):null,[E]);return N.viewport?Q.jsxs(Q.Fragment,{children:[St&&Q.jsx(Ett,{__scopeToast:r,role:"status","aria-live":o==="foreground"?"assertive":"polite","aria-atomic":!0,children:St}),Q.jsx(Ntt,{scope:r,onClose:bt,children:Ov.createPortal(Q.jsx(Gj.ItemSlot,{scope:r,children:Q.jsx(dtt,{asChild:!0,onEscapeKeyDown:Ln(p,()=>{N.isFocusedToastEscapeKeyDownRef.current||bt(),N.isFocusedToastEscapeKeyDownRef.current=!1}),children:Q.jsx(Fn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":h?"open":"closed","data-swipe-direction":N.swipeDirection,...j,ref:$,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Ln(n.onKeyDown,dt=>{dt.key==="Escape"&&(p==null||p(dt.nativeEvent),dt.nativeEvent.defaultPrevented||(N.isFocusedToastEscapeKeyDownRef.current=!0,bt()))}),onPointerDown:Ln(n.onPointerDown,dt=>{dt.button===0&&(V.current={x:dt.clientX,y:dt.clientY})}),onPointerMove:Ln(n.onPointerMove,dt=>{if(!V.current)return;const Vt=dt.clientX-V.current.x,Mt=dt.clientY-V.current.y,Et=!!D.current,pt=["left","right"].includes(N.swipeDirection),ht=["left","up"].includes(N.swipeDirection)?Math.min:Math.max,vt=pt?ht(0,Vt):0,Dt=pt?0:ht(0,Mt),qt=dt.pointerType==="touch"?10:2,it={x:vt,y:Dt},xe={originalEvent:dt,delta:it};Et?(D.current=it,ww(Ctt,S,xe,{discrete:!1})):IF(it,N.swipeDirection,qt)?(D.current=it,ww(Ttt,x,xe,{discrete:!1}),dt.target.setPointerCapture(dt.pointerId)):(Math.abs(Vt)>qt||Math.abs(Mt)>qt)&&(V.current=null)}),onPointerUp:Ln(n.onPointerUp,dt=>{const Vt=D.current,Mt=dt.target;if(Mt.hasPointerCapture(dt.pointerId)&&Mt.releasePointerCapture(dt.pointerId),D.current=null,V.current=null,Vt){const Et=dt.currentTarget,pt={originalEvent:dt,delta:Vt};IF(Vt,N.swipeDirection,N.swipeThreshold)?ww(Qtt,C,pt,{discrete:!0}):ww(Mtt,b,pt,{discrete:!0}),Et.addEventListener("click",ht=>ht.preventDefault(),{once:!0})}})})})}),N.viewport)})]}):null}),Ett=n=>{const{__scopeToast:e,children:r,...o}=n,a=TP(CP,e),[h,f]=Z.useState(!1),[p,g]=Z.useState(!1);return $tt(()=>f(!0)),Z.useEffect(()=>{const v=window.setTimeout(()=>g(!0),1e3);return()=>window.clearTimeout(v)},[]),p?null:Q.jsx(QZ,{asChild:!0,children:Q.jsx(bP,{...o,children:h&&Q.jsxs(Q.Fragment,{children:[a.label," ",r]})})})},Rtt="ToastTitle",$Z=Z.forwardRef((n,e)=>{const{__scopeToast:r,...o}=n;return Q.jsx(Fn.div,{...o,ref:e})});$Z.displayName=Rtt;var Ltt="ToastDescription",DZ=Z.forwardRef((n,e)=>{const{__scopeToast:r,...o}=n;return Q.jsx(Fn.div,{...o,ref:e})});DZ.displayName=Ltt;var IZ="ToastAction",FZ=Z.forwardRef((n,e)=>{const{altText:r,...o}=n;return r.trim()?Q.jsx(zZ,{altText:r,asChild:!0,children:Q.jsx(Hj,{...o,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${IZ}\`. Expected non-empty \`string\`.`),null)});FZ.displayName=IZ;var VZ="ToastClose",Hj=Z.forwardRef((n,e)=>{const{__scopeToast:r,...o}=n,a=Att(VZ,r);return Q.jsx(zZ,{asChild:!0,children:Q.jsx(Fn.button,{type:"button",...o,ref:e,onClick:Ln(n.onClick,a.onClose)})})});Hj.displayName=VZ;var zZ=Z.forwardRef((n,e)=>{const{__scopeToast:r,altText:o,...a}=n;return Q.jsx(Fn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...a,ref:e})});function XZ(n){const e=[];return Array.from(n.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&e.push(o.textContent),Dtt(o)){const a=o.ariaHidden||o.hidden||o.style.display==="none",h=o.dataset.radixToastAnnounceExclude==="";if(!a)if(h){const f=o.dataset.radixToastAnnounceAlt;f&&e.push(f)}else e.push(...XZ(o))}}),e}function ww(n,e,r,{discrete:o}){const a=r.originalEvent.currentTarget,h=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:r});e&&a.addEventListener(n,e,{once:!0}),o?bZ(a,h):a.dispatchEvent(h)}var IF=(n,e,r=0)=>{const o=Math.abs(n.x),a=Math.abs(n.y),h=o>a;return e==="left"||e==="right"?h&&o>r:!h&&a>r};function $tt(n=()=>{}){const e=fu(n);ph(()=>{let r=0,o=0;return r=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(o)}},[e])}function Dtt(n){return n.nodeType===n.ELEMENT_NODE}function Itt(n){const e=[],r=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function qC(n){const e=document.activeElement;return n.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Ftt=AZ,BZ=EZ,_Z=LZ,ZZ=$Z,YZ=DZ,UZ=FZ,WZ=Hj;function qZ(n){var e,r,o="";if(typeof n=="string"||typeof n=="number")o+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(r=qZ(n[e]))&&(o&&(o+=" "),o+=r)}else for(r in n)n[r]&&(o&&(o+=" "),o+=r);return o}function Lo(){for(var n,e,r=0,o="",a=arguments.length;r<a;r++)(n=arguments[r])&&(e=qZ(n))&&(o&&(o+=" "),o+=e);return o}const FF=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,VF=Lo,Kj=(n,e)=>r=>{var o;if((e==null?void 0:e.variants)==null)return VF(n,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:h}=e,f=Object.keys(a).map(v=>{const x=r==null?void 0:r[v],S=h==null?void 0:h[v];if(x===null)return null;const b=FF(x)||FF(S);return a[v][b]}),p=r&&Object.entries(r).reduce((v,x)=>{let[S,b]=x;return b===void 0||(v[S]=b),v},{}),g=e==null||(o=e.compoundVariants)===null||o===void 0?void 0:o.reduce((v,x)=>{let{class:S,className:b,...C}=x;return Object.entries(C).every(j=>{let[N,E]=j;return Array.isArray(E)?E.includes({...h,...p}[N]):{...h,...p}[N]===E})?[...v,S,b]:v},[]);return VF(n,f,g,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vtt=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GZ=(...n)=>n.filter((e,r,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ztt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xtt=Z.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:a="",children:h,iconNode:f,...p},g)=>Z.createElement("svg",{ref:g,...ztt,width:e,height:e,stroke:n,strokeWidth:o?Number(r)*24/Number(e):r,className:GZ("lucide",a),...p},[...f.map(([v,x])=>Z.createElement(v,x)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=(n,e)=>{const r=Z.forwardRef(({className:o,...a},h)=>Z.createElement(Xtt,{ref:h,iconNode:e,className:GZ(`lucide-${Vtt(n)}`,o),...a}));return r.displayName=`${n}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=Ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=Ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Btt=Ke("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _tt=Ke("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ztt=Ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ytt=Ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=Ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Utt=Ke("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wtt=Ke("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=Ke("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=Ke("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qtt=Ke("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=Ke("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=Ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gtt=Ke("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=Ke("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=Ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Htt=Ke("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ktt=Ke("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=Ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jtt=Ke("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tet=Ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=Ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=Ke("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eet=Ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iet=Ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const net=Ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=Ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=Ke("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ret=Ke("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=Ke("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=Ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=Ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=Ke("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),tE="-",set=n=>{const e=aet(n),{conflictingClassGroups:r,conflictingClassGroupModifiers:o}=n;return{getClassGroupId:f=>{const p=f.split(tE);return p[0]===""&&p.length!==1&&p.shift(),tY(p,e)||oet(f)},getConflictingClassGroupIds:(f,p)=>{const g=r[f]||[];return p&&o[f]?[...g,...o[f]]:g}}},tY=(n,e)=>{var f;if(n.length===0)return e.classGroupId;const r=n[0],o=e.nextPart.get(r),a=o?tY(n.slice(1),o):void 0;if(a)return a;if(e.validators.length===0)return;const h=n.join(tE);return(f=e.validators.find(({validator:p})=>p(h)))==null?void 0:f.classGroupId},UF=/^\[(.+)\]$/,oet=n=>{if(UF.test(n)){const e=UF.exec(n)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},aet=n=>{const{theme:e,prefix:r}=n,o={nextPart:new Map,validators:[]};return het(Object.entries(n.classGroups),r).forEach(([h,f])=>{lN(f,o,h,e)}),o},lN=(n,e,r,o)=>{n.forEach(a=>{if(typeof a=="string"){const h=a===""?e:WF(e,a);h.classGroupId=r;return}if(typeof a=="function"){if(uet(a)){lN(a(o),e,r,o);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([h,f])=>{lN(f,WF(e,h),r,o)})})},WF=(n,e)=>{let r=n;return e.split(tE).forEach(o=>{r.nextPart.has(o)||r.nextPart.set(o,{nextPart:new Map,validators:[]}),r=r.nextPart.get(o)}),r},uet=n=>n.isThemeGetter,het=(n,e)=>e?n.map(([r,o])=>{const a=o.map(h=>typeof h=="string"?e+h:typeof h=="object"?Object.fromEntries(Object.entries(h).map(([f,p])=>[e+f,p])):h);return[r,a]}):n,cet=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,o=new Map;const a=(h,f)=>{r.set(h,f),e++,e>n&&(e=0,o=r,r=new Map)};return{get(h){let f=r.get(h);if(f!==void 0)return f;if((f=o.get(h))!==void 0)return a(h,f),f},set(h,f){r.has(h)?r.set(h,f):a(h,f)}}},eY="!",fet=n=>{const{separator:e,experimentalParseClassName:r}=n,o=e.length===1,a=e[0],h=e.length,f=p=>{const g=[];let v=0,x=0,S;for(let E=0;E<p.length;E++){let R=p[E];if(v===0){if(R===a&&(o||p.slice(E,E+h)===e)){g.push(p.slice(x,E)),x=E+h;continue}if(R==="/"){S=E;continue}}R==="["?v++:R==="]"&&v--}const b=g.length===0?p:p.substring(x),C=b.startsWith(eY),j=C?b.substring(1):b,N=S&&S>x?S-x:void 0;return{modifiers:g,hasImportantModifier:C,baseClassName:j,maybePostfixModifierPosition:N}};return r?p=>r({className:p,parseClassName:f}):f},det=n=>{if(n.length<=1)return n;const e=[];let r=[];return n.forEach(o=>{o[0]==="["?(e.push(...r.sort(),o),r=[]):r.push(o)}),e.push(...r.sort()),e},pet=n=>({cache:cet(n.cacheSize),parseClassName:fet(n),...set(n)}),met=/\s+/,get=(n,e)=>{const{parseClassName:r,getClassGroupId:o,getConflictingClassGroupIds:a}=e,h=[],f=n.trim().split(met);let p="";for(let g=f.length-1;g>=0;g-=1){const v=f[g],{modifiers:x,hasImportantModifier:S,baseClassName:b,maybePostfixModifierPosition:C}=r(v);let j=!!C,N=o(j?b.substring(0,C):b);if(!N){if(!j){p=v+(p.length>0?" "+p:p);continue}if(N=o(b),!N){p=v+(p.length>0?" "+p:p);continue}j=!1}const E=det(x).join(":"),R=S?E+eY:E,$=R+N;if(h.includes($))continue;h.push($);const V=a(N,j);for(let D=0;D<V.length;++D){const B=V[D];h.push(R+B)}p=v+(p.length>0?" "+p:p)}return p};function yet(){let n=0,e,r,o="";for(;n<arguments.length;)(e=arguments[n++])&&(r=iY(e))&&(o&&(o+=" "),o+=r);return o}const iY=n=>{if(typeof n=="string")return n;let e,r="";for(let o=0;o<n.length;o++)n[o]&&(e=iY(n[o]))&&(r&&(r+=" "),r+=e);return r};function Oet(n,...e){let r,o,a,h=f;function f(g){const v=e.reduce((x,S)=>S(x),n());return r=pet(v),o=r.cache.get,a=r.cache.set,h=p,p(g)}function p(g){const v=o(g);if(v)return v;const x=get(g,r);return a(g,x),x}return function(){return h(yet.apply(null,arguments))}}const Ii=n=>{const e=r=>r[n]||[];return e.isThemeGetter=!0,e},nY=/^\[(?:([a-z-]+):)?(.+)\]$/i,vet=/^\d+\/\d+$/,xet=new Set(["px","full","screen"]),wet=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ket=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Pet=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bet=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Tet=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Uu=n=>Tm(n)||xet.has(n)||vet.test(n),tc=n=>Og(n,"length",Ret),Tm=n=>!!n&&!Number.isNaN(Number(n)),GC=n=>Og(n,"number",Tm),cy=n=>!!n&&Number.isInteger(Number(n)),Cet=n=>n.endsWith("%")&&Tm(n.slice(0,-1)),Ae=n=>nY.test(n),ec=n=>wet.test(n),Met=new Set(["length","size","percentage"]),Qet=n=>Og(n,Met,rY),Net=n=>Og(n,"position",rY),Aet=new Set(["image","url"]),jet=n=>Og(n,Aet,$et),Eet=n=>Og(n,"",Let),fy=()=>!0,Og=(n,e,r)=>{const o=nY.exec(n);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):r(o[2]):!1},Ret=n=>ket.test(n)&&!Pet.test(n),rY=()=>!1,Let=n=>bet.test(n),$et=n=>Tet.test(n),Det=()=>{const n=Ii("colors"),e=Ii("spacing"),r=Ii("blur"),o=Ii("brightness"),a=Ii("borderColor"),h=Ii("borderRadius"),f=Ii("borderSpacing"),p=Ii("borderWidth"),g=Ii("contrast"),v=Ii("grayscale"),x=Ii("hueRotate"),S=Ii("invert"),b=Ii("gap"),C=Ii("gradientColorStops"),j=Ii("gradientColorStopPositions"),N=Ii("inset"),E=Ii("margin"),R=Ii("opacity"),$=Ii("padding"),V=Ii("saturate"),D=Ii("scale"),B=Ii("sepia"),q=Ii("skew"),K=Ii("space"),J=Ii("translate"),ot=()=>["auto","contain","none"],Ot=()=>["auto","hidden","clip","visible","scroll"],bt=()=>["auto",Ae,e],wt=()=>[Ae,e],St=()=>["",Uu,tc],dt=()=>["auto",Tm,Ae],Vt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Mt=()=>["solid","dashed","dotted","double","none"],Et=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pt=()=>["start","end","center","between","around","evenly","stretch"],ht=()=>["","0",Ae],vt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Dt=()=>[Tm,Ae];return{cacheSize:500,separator:":",theme:{colors:[fy],spacing:[Uu,tc],blur:["none","",ec,Ae],brightness:Dt(),borderColor:[n],borderRadius:["none","","full",ec,Ae],borderSpacing:wt(),borderWidth:St(),contrast:Dt(),grayscale:ht(),hueRotate:Dt(),invert:ht(),gap:wt(),gradientColorStops:[n],gradientColorStopPositions:[Cet,tc],inset:bt(),margin:bt(),opacity:Dt(),padding:wt(),saturate:Dt(),scale:Dt(),sepia:ht(),skew:Dt(),space:wt(),translate:wt()},classGroups:{aspect:[{aspect:["auto","square","video",Ae]}],container:["container"],columns:[{columns:[ec]}],"break-after":[{"break-after":vt()}],"break-before":[{"break-before":vt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Vt(),Ae]}],overflow:[{overflow:Ot()}],"overflow-x":[{"overflow-x":Ot()}],"overflow-y":[{"overflow-y":Ot()}],overscroll:[{overscroll:ot()}],"overscroll-x":[{"overscroll-x":ot()}],"overscroll-y":[{"overscroll-y":ot()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",cy,Ae]}],basis:[{basis:bt()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ae]}],grow:[{grow:ht()}],shrink:[{shrink:ht()}],order:[{order:["first","last","none",cy,Ae]}],"grid-cols":[{"grid-cols":[fy]}],"col-start-end":[{col:["auto",{span:["full",cy,Ae]},Ae]}],"col-start":[{"col-start":dt()}],"col-end":[{"col-end":dt()}],"grid-rows":[{"grid-rows":[fy]}],"row-start-end":[{row:["auto",{span:[cy,Ae]},Ae]}],"row-start":[{"row-start":dt()}],"row-end":[{"row-end":dt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ae]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...pt()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...pt(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...pt(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[$]}],px:[{px:[$]}],py:[{py:[$]}],ps:[{ps:[$]}],pe:[{pe:[$]}],pt:[{pt:[$]}],pr:[{pr:[$]}],pb:[{pb:[$]}],pl:[{pl:[$]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[K]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[K]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ae,e]}],"min-w":[{"min-w":[Ae,e,"min","max","fit"]}],"max-w":[{"max-w":[Ae,e,"none","full","min","max","fit","prose",{screen:[ec]},ec]}],h:[{h:[Ae,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ae,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ae,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ae,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ec,tc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",GC]}],"font-family":[{font:[fy]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ae]}],"line-clamp":[{"line-clamp":["none",Tm,GC]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Uu,Ae]}],"list-image":[{"list-image":["none",Ae]}],"list-style-type":[{list:["none","disc","decimal",Ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Mt(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Uu,tc]}],"underline-offset":[{"underline-offset":["auto",Uu,Ae]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:wt()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Vt(),Net]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Qet]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},jet]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[C]}],"gradient-via":[{via:[C]}],"gradient-to":[{to:[C]}],rounded:[{rounded:[h]}],"rounded-s":[{"rounded-s":[h]}],"rounded-e":[{"rounded-e":[h]}],"rounded-t":[{"rounded-t":[h]}],"rounded-r":[{"rounded-r":[h]}],"rounded-b":[{"rounded-b":[h]}],"rounded-l":[{"rounded-l":[h]}],"rounded-ss":[{"rounded-ss":[h]}],"rounded-se":[{"rounded-se":[h]}],"rounded-ee":[{"rounded-ee":[h]}],"rounded-es":[{"rounded-es":[h]}],"rounded-tl":[{"rounded-tl":[h]}],"rounded-tr":[{"rounded-tr":[h]}],"rounded-br":[{"rounded-br":[h]}],"rounded-bl":[{"rounded-bl":[h]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...Mt(),"hidden"]}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:Mt()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...Mt()]}],"outline-offset":[{"outline-offset":[Uu,Ae]}],"outline-w":[{outline:[Uu,tc]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:St()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[Uu,tc]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",ec,Eet]}],"shadow-color":[{shadow:[fy]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...Et(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Et()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[o]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",ec,Ae]}],grayscale:[{grayscale:[v]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[S]}],saturate:[{saturate:[V]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[v]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[S]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[V]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[f]}],"border-spacing-x":[{"border-spacing-x":[f]}],"border-spacing-y":[{"border-spacing-y":[f]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ae]}],duration:[{duration:Dt()}],ease:[{ease:["linear","in","out","in-out",Ae]}],delay:[{delay:Dt()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[cy,Ae]}],"translate-x":[{"translate-x":[J]}],"translate-y":[{"translate-y":[J]}],"skew-x":[{"skew-x":[q]}],"skew-y":[{"skew-y":[q]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ae]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":wt()}],"scroll-mx":[{"scroll-mx":wt()}],"scroll-my":[{"scroll-my":wt()}],"scroll-ms":[{"scroll-ms":wt()}],"scroll-me":[{"scroll-me":wt()}],"scroll-mt":[{"scroll-mt":wt()}],"scroll-mr":[{"scroll-mr":wt()}],"scroll-mb":[{"scroll-mb":wt()}],"scroll-ml":[{"scroll-ml":wt()}],"scroll-p":[{"scroll-p":wt()}],"scroll-px":[{"scroll-px":wt()}],"scroll-py":[{"scroll-py":wt()}],"scroll-ps":[{"scroll-ps":wt()}],"scroll-pe":[{"scroll-pe":wt()}],"scroll-pt":[{"scroll-pt":wt()}],"scroll-pr":[{"scroll-pr":wt()}],"scroll-pb":[{"scroll-pb":wt()}],"scroll-pl":[{"scroll-pl":wt()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Uu,tc,GC]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Iet=Oet(Det);function Dn(...n){return Iet(Lo(n))}const Fet=Ftt,sY=Z.forwardRef(({className:n,...e},r)=>Q.jsx(BZ,{ref:r,className:Dn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));sY.displayName=BZ.displayName;const Vet=Kj("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),oY=Z.forwardRef(({className:n,variant:e,...r},o)=>Q.jsx(_Z,{ref:o,className:Dn(Vet({variant:e}),n),...r}));oY.displayName=_Z.displayName;const zet=Z.forwardRef(({className:n,...e},r)=>Q.jsx(UZ,{ref:r,className:Dn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));zet.displayName=UZ.displayName;const lY=Z.forwardRef(({className:n,...e},r)=>Q.jsx(WZ,{ref:r,className:Dn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:Q.jsx(QP,{className:"h-4 w-4"})}));lY.displayName=WZ.displayName;const aY=Z.forwardRef(({className:n,...e},r)=>Q.jsx(ZZ,{ref:r,className:Dn("text-sm font-semibold",n),...e}));aY.displayName=ZZ.displayName;const uY=Z.forwardRef(({className:n,...e},r)=>Q.jsx(YZ,{ref:r,className:Dn("text-sm opacity-90",n),...e}));uY.displayName=YZ.displayName;function Xet(){const{toasts:n}=HJ();return Q.jsxs(Fet,{children:[n.map(function({id:e,title:r,description:o,action:a,...h}){return Q.jsxs(oY,{...h,children:[Q.jsxs("div",{className:"grid gap-1",children:[r&&Q.jsx(aY,{children:r}),o&&Q.jsx(uY,{children:o})]}),a,Q.jsx(lY,{})]},e)}),Q.jsx(sY,{})]})}var qF=["light","dark"],Bet="(prefers-color-scheme: dark)",_et=Z.createContext(void 0),Zet={setTheme:n=>{},themes:[]},Yet=()=>{var n;return(n=Z.useContext(_et))!=null?n:Zet};Z.memo(({forcedTheme:n,storageKey:e,attribute:r,enableSystem:o,enableColorScheme:a,defaultTheme:h,value:f,attrs:p,nonce:g})=>{let v=h==="system",x=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${p.map(j=>`'${j}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,S=a?qF.includes(h)&&h?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${h}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",b=(j,N=!1,E=!0)=>{let R=f?f[j]:j,$=N?j+"|| ''":`'${R}'`,V="";return a&&E&&!N&&qF.includes(j)&&(V+=`d.style.colorScheme = '${j}';`),r==="class"?N||R?V+=`c.add(${$})`:V+="null":R&&(V+=`d[s](n,${$})`),V},C=n?`!function(){${x}${b(n)}}()`:o?`!function(){try{${x}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${v})){var t='${Bet}',m=window.matchMedia(t);if(m.media!==t||m.matches){${b("dark")}}else{${b("light")}}}else if(e){${f?`var x=${JSON.stringify(f)};`:""}${b(f?"x[e]":"e",!0)}}${v?"":"else{"+b(h,!1,!1)+"}"}${S}}catch(e){}}()`:`!function(){try{${x}var e=localStorage.getItem('${e}');if(e){${f?`var x=${JSON.stringify(f)};`:""}${b(f?"x[e]":"e",!0)}}else{${b(h,!1,!1)};}${S}}catch(t){}}();`;return Z.createElement("script",{nonce:g,dangerouslySetInnerHTML:{__html:C}})});function Uet(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}const Wet=n=>{switch(n){case"success":return Het;case"info":return Jet;case"warning":return Ket;case"error":return tit;default:return null}},qet=Array(12).fill(0),Get=({visible:n,className:e})=>$t.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},$t.createElement("div",{className:"sonner-spinner"},qet.map((r,o)=>$t.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),Het=$t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$t.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Ket=$t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$t.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Jet=$t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$t.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tit=$t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$t.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),eit=$t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$t.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$t.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),iit=()=>{const[n,e]=$t.useState(document.hidden);return $t.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),n};let aN=1;class nit{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:o,...a}=e,h=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:aN++,f=this.toasts.find(g=>g.id===h),p=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(h)&&this.dismissedToasts.delete(h),f?this.toasts=this.toasts.map(g=>g.id===h?(this.publish({...g,...e,id:h,title:o}),{...g,...e,id:h,dismissible:p,title:o}):g):this.addToast({title:o,...a,dismissible:p,id:h}),h},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(o=>o({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let o;r.loading!==void 0&&(o=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let h=o!==void 0,f;const p=a.then(async v=>{if(f=["resolve",v],$t.isValidElement(v))h=!1,this.create({id:o,type:"default",message:v});else if(sit(v)&&!v.ok){h=!1;const S=typeof r.error=="function"?await r.error(`HTTP error! status: ${v.status}`):r.error,b=typeof r.description=="function"?await r.description(`HTTP error! status: ${v.status}`):r.description,j=typeof S=="object"&&!$t.isValidElement(S)?S:{message:S};this.create({id:o,type:"error",description:b,...j})}else if(v instanceof Error){h=!1;const S=typeof r.error=="function"?await r.error(v):r.error,b=typeof r.description=="function"?await r.description(v):r.description,j=typeof S=="object"&&!$t.isValidElement(S)?S:{message:S};this.create({id:o,type:"error",description:b,...j})}else if(r.success!==void 0){h=!1;const S=typeof r.success=="function"?await r.success(v):r.success,b=typeof r.description=="function"?await r.description(v):r.description,j=typeof S=="object"&&!$t.isValidElement(S)?S:{message:S};this.create({id:o,type:"success",description:b,...j})}}).catch(async v=>{if(f=["reject",v],r.error!==void 0){h=!1;const x=typeof r.error=="function"?await r.error(v):r.error,S=typeof r.description=="function"?await r.description(v):r.description,C=typeof x=="object"&&!$t.isValidElement(x)?x:{message:x};this.create({id:o,type:"error",description:S,...C})}}).finally(()=>{h&&(this.dismiss(o),o=void 0),r.finally==null||r.finally.call(r)}),g=()=>new Promise((v,x)=>p.then(()=>f[0]==="reject"?x(f[1]):v(f[1])).catch(x));return typeof o!="string"&&typeof o!="number"?{unwrap:g}:Object.assign(o,{unwrap:g})},this.custom=(e,r)=>{const o=(r==null?void 0:r.id)||aN++;return this.create({jsx:e(o),id:o,...r}),o},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const to=new nit,rit=(n,e)=>{const r=(e==null?void 0:e.id)||aN++;return to.addToast({title:n,...e,id:r}),r},sit=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",oit=rit,lit=()=>to.toasts,ait=()=>to.getActiveToasts(),on=Object.assign(oit,{success:to.success,info:to.info,warning:to.warning,error:to.error,custom:to.custom,message:to.message,promise:to.promise,dismiss:to.dismiss,loading:to.loading},{getHistory:lit,getToasts:ait});Uet("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Sw(n){return n.label!==void 0}const uit=3,hit="24px",cit="16px",GF=4e3,fit=356,dit=14,pit=45,mit=200;function Ba(...n){return n.filter(Boolean).join(" ")}function git(n){const[e,r]=n.split("-"),o=[];return e&&o.push(e),r&&o.push(r),o}const yit=n=>{var e,r,o,a,h,f,p,g,v;const{invert:x,toast:S,unstyled:b,interacting:C,setHeights:j,visibleToasts:N,heights:E,index:R,toasts:$,expanded:V,removeToast:D,defaultRichColors:B,closeButton:q,style:K,cancelButtonStyle:J,actionButtonStyle:ot,className:Ot="",descriptionClassName:bt="",duration:wt,position:St,gap:dt,expandByDefault:Vt,classNames:Mt,icons:Et,closeButtonAriaLabel:pt="Close toast"}=n,[ht,vt]=$t.useState(null),[Dt,qt]=$t.useState(null),[it,xe]=$t.useState(!1),[Fe,le]=$t.useState(!1),[Qi,Le]=$t.useState(!1),[hi,Ve]=$t.useState(!1),[Je,Oi]=$t.useState(!1),[ct,gi]=$t.useState(0),[at,Ue]=$t.useState(0),ms=$t.useRef(S.duration||wt||GF),Ni=$t.useRef(null),fn=$t.useRef(null),Ri=R===0,Ne=R+1<=N,ze=S.type,_o=S.dismissible!==!1,Bi=S.className||"",jt=S.descriptionClassName||"",F=$t.useMemo(()=>E.findIndex(ge=>ge.toastId===S.id)||0,[E,S.id]),mo=$t.useMemo(()=>{var ge;return(ge=S.closeButton)!=null?ge:q},[S.closeButton,q]),Ld=$t.useMemo(()=>S.duration||wt||GF,[S.duration,wt]),sf=$t.useRef(0),fa=$t.useRef(0),of=$t.useRef(0),xu=$t.useRef(null),[Dv,Iv]=St.split("-"),Li=$t.useMemo(()=>E.reduce((ge,Mn,Vn)=>Vn>=F?ge:ge+Mn.height,0),[E,F]),$i=iit(),go=S.invert||x,lf=ze==="loading";fa.current=$t.useMemo(()=>F*dt+Li,[F,Li]),$t.useEffect(()=>{ms.current=Ld},[Ld]),$t.useEffect(()=>{xe(!0)},[]),$t.useEffect(()=>{const ge=fn.current;if(ge){const Mn=ge.getBoundingClientRect().height;return Ue(Mn),j(Vn=>[{toastId:S.id,height:Mn,position:S.position},...Vn]),()=>j(Vn=>Vn.filter(cr=>cr.toastId!==S.id))}},[j,S.id]),$t.useLayoutEffect(()=>{if(!it)return;const ge=fn.current,Mn=ge.style.height;ge.style.height="auto";const Vn=ge.getBoundingClientRect().height;ge.style.height=Mn,Ue(Vn),j(cr=>cr.find(zn=>zn.toastId===S.id)?cr.map(zn=>zn.toastId===S.id?{...zn,height:Vn}:zn):[{toastId:S.id,height:Vn,position:S.position},...cr])},[it,S.title,S.description,j,S.id]);const Zo=$t.useCallback(()=>{le(!0),gi(fa.current),j(ge=>ge.filter(Mn=>Mn.toastId!==S.id)),setTimeout(()=>{D(S)},mit)},[S,D,j,fa]);$t.useEffect(()=>{if(S.promise&&ze==="loading"||S.duration===1/0||S.type==="loading")return;let ge;return V||C||$i?(()=>{if(of.current<sf.current){const cr=new Date().getTime()-sf.current;ms.current=ms.current-cr}of.current=new Date().getTime()})():(()=>{ms.current!==1/0&&(sf.current=new Date().getTime(),ge=setTimeout(()=>{S.onAutoClose==null||S.onAutoClose.call(S,S),Zo()},ms.current))})(),()=>clearTimeout(ge)},[V,C,S,ze,$i,Zo]),$t.useEffect(()=>{S.delete&&Zo()},[Zo,S.delete]);function At(){var ge;if(Et!=null&&Et.loading){var Mn;return $t.createElement("div",{className:Ba(Mt==null?void 0:Mt.loader,S==null||(Mn=S.classNames)==null?void 0:Mn.loader,"sonner-loader"),"data-visible":ze==="loading"},Et.loading)}return $t.createElement(Get,{className:Ba(Mt==null?void 0:Mt.loader,S==null||(ge=S.classNames)==null?void 0:ge.loader),visible:ze==="loading"})}const wu=S.icon||(Et==null?void 0:Et[ze])||Wet(ze);var af,$d;return $t.createElement("li",{tabIndex:0,ref:fn,className:Ba(Ot,Bi,Mt==null?void 0:Mt.toast,S==null||(e=S.classNames)==null?void 0:e.toast,Mt==null?void 0:Mt.default,Mt==null?void 0:Mt[ze],S==null||(r=S.classNames)==null?void 0:r[ze]),"data-sonner-toast":"","data-rich-colors":(af=S.richColors)!=null?af:B,"data-styled":!(S.jsx||S.unstyled||b),"data-mounted":it,"data-promise":!!S.promise,"data-swiped":Je,"data-removed":Fe,"data-visible":Ne,"data-y-position":Dv,"data-x-position":Iv,"data-index":R,"data-front":Ri,"data-swiping":Qi,"data-dismissible":_o,"data-type":ze,"data-invert":go,"data-swipe-out":hi,"data-swipe-direction":Dt,"data-expanded":!!(V||Vt&&it),style:{"--index":R,"--toasts-before":R,"--z-index":$.length-R,"--offset":`${Fe?ct:fa.current}px`,"--initial-height":Vt?"auto":`${at}px`,...K,...S.style},onDragEnd:()=>{Le(!1),vt(null),xu.current=null},onPointerDown:ge=>{lf||!_o||(Ni.current=new Date,gi(fa.current),ge.target.setPointerCapture(ge.pointerId),ge.target.tagName!=="BUTTON"&&(Le(!0),xu.current={x:ge.clientX,y:ge.clientY}))},onPointerUp:()=>{var ge,Mn,Vn;if(hi||!_o)return;xu.current=null;const cr=Number(((ge=fn.current)==null?void 0:ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),uf=Number(((Mn=fn.current)==null?void 0:Mn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),zn=new Date().getTime()-((Vn=Ni.current)==null?void 0:Vn.getTime()),gs=ht==="x"?cr:uf,tt=Math.abs(gs)/zn;if(Math.abs(gs)>=pit||tt>.11){gi(fa.current),S.onDismiss==null||S.onDismiss.call(S,S),qt(ht==="x"?cr>0?"right":"left":uf>0?"down":"up"),Zo(),Ve(!0);return}else{var Ki,Is;(Ki=fn.current)==null||Ki.style.setProperty("--swipe-amount-x","0px"),(Is=fn.current)==null||Is.style.setProperty("--swipe-amount-y","0px")}Oi(!1),Le(!1),vt(null)},onPointerMove:ge=>{var Mn,Vn,cr;if(!xu.current||!_o||((Mn=window.getSelection())==null?void 0:Mn.toString().length)>0)return;const zn=ge.clientY-xu.current.y,gs=ge.clientX-xu.current.x;var tt;const Ki=(tt=n.swipeDirections)!=null?tt:git(St);!ht&&(Math.abs(gs)>1||Math.abs(zn)>1)&&vt(Math.abs(gs)>Math.abs(zn)?"x":"y");let Is={x:0,y:0};const Dg=Nl=>1/(1.5+Math.abs(Nl)/20);if(ht==="y"){if(Ki.includes("top")||Ki.includes("bottom"))if(Ki.includes("top")&&zn<0||Ki.includes("bottom")&&zn>0)Is.y=zn;else{const Nl=zn*Dg(zn);Is.y=Math.abs(Nl)<Math.abs(zn)?Nl:zn}}else if(ht==="x"&&(Ki.includes("left")||Ki.includes("right")))if(Ki.includes("left")&&gs<0||Ki.includes("right")&&gs>0)Is.x=gs;else{const Nl=gs*Dg(gs);Is.x=Math.abs(Nl)<Math.abs(gs)?Nl:gs}(Math.abs(Is.x)>0||Math.abs(Is.y)>0)&&Oi(!0),(Vn=fn.current)==null||Vn.style.setProperty("--swipe-amount-x",`${Is.x}px`),(cr=fn.current)==null||cr.style.setProperty("--swipe-amount-y",`${Is.y}px`)}},mo&&!S.jsx&&ze!=="loading"?$t.createElement("button",{"aria-label":pt,"data-disabled":lf,"data-close-button":!0,onClick:lf||!_o?()=>{}:()=>{Zo(),S.onDismiss==null||S.onDismiss.call(S,S)},className:Ba(Mt==null?void 0:Mt.closeButton,S==null||(o=S.classNames)==null?void 0:o.closeButton)},($d=Et==null?void 0:Et.close)!=null?$d:eit):null,(ze||S.icon||S.promise)&&S.icon!==null&&((Et==null?void 0:Et[ze])!==null||S.icon)?$t.createElement("div",{"data-icon":"",className:Ba(Mt==null?void 0:Mt.icon,S==null||(a=S.classNames)==null?void 0:a.icon)},S.promise||S.type==="loading"&&!S.icon?S.icon||At():null,S.type!=="loading"?wu:null):null,$t.createElement("div",{"data-content":"",className:Ba(Mt==null?void 0:Mt.content,S==null||(h=S.classNames)==null?void 0:h.content)},$t.createElement("div",{"data-title":"",className:Ba(Mt==null?void 0:Mt.title,S==null||(f=S.classNames)==null?void 0:f.title)},S.jsx?S.jsx:typeof S.title=="function"?S.title():S.title),S.description?$t.createElement("div",{"data-description":"",className:Ba(bt,jt,Mt==null?void 0:Mt.description,S==null||(p=S.classNames)==null?void 0:p.description)},typeof S.description=="function"?S.description():S.description):null),$t.isValidElement(S.cancel)?S.cancel:S.cancel&&Sw(S.cancel)?$t.createElement("button",{"data-button":!0,"data-cancel":!0,style:S.cancelButtonStyle||J,onClick:ge=>{Sw(S.cancel)&&_o&&(S.cancel.onClick==null||S.cancel.onClick.call(S.cancel,ge),Zo())},className:Ba(Mt==null?void 0:Mt.cancelButton,S==null||(g=S.classNames)==null?void 0:g.cancelButton)},S.cancel.label):null,$t.isValidElement(S.action)?S.action:S.action&&Sw(S.action)?$t.createElement("button",{"data-button":!0,"data-action":!0,style:S.actionButtonStyle||ot,onClick:ge=>{Sw(S.action)&&(S.action.onClick==null||S.action.onClick.call(S.action,ge),!ge.defaultPrevented&&Zo())},className:Ba(Mt==null?void 0:Mt.actionButton,S==null||(v=S.classNames)==null?void 0:v.actionButton)},S.action.label):null)};function HF(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function Oit(n,e){const r={};return[n,e].forEach((o,a)=>{const h=a===1,f=h?"--mobile-offset":"--offset",p=h?cit:hit;function g(v){["top","right","bottom","left"].forEach(x=>{r[`${f}-${x}`]=typeof v=="number"?`${v}px`:v})}typeof o=="number"||typeof o=="string"?g(o):typeof o=="object"?["top","right","bottom","left"].forEach(v=>{o[v]===void 0?r[`${f}-${v}`]=p:r[`${f}-${v}`]=typeof o[v]=="number"?`${o[v]}px`:o[v]}):g(p)}),r}const vit=$t.forwardRef(function(e,r){const{invert:o,position:a="bottom-right",hotkey:h=["altKey","KeyT"],expand:f,closeButton:p,className:g,offset:v,mobileOffset:x,theme:S="light",richColors:b,duration:C,style:j,visibleToasts:N=uit,toastOptions:E,dir:R=HF(),gap:$=dit,icons:V,containerAriaLabel:D="Notifications"}=e,[B,q]=$t.useState([]),K=$t.useMemo(()=>Array.from(new Set([a].concat(B.filter(Dt=>Dt.position).map(Dt=>Dt.position)))),[B,a]),[J,ot]=$t.useState([]),[Ot,bt]=$t.useState(!1),[wt,St]=$t.useState(!1),[dt,Vt]=$t.useState(S!=="system"?S:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Mt=$t.useRef(null),Et=h.join("+").replace(/Key/g,"").replace(/Digit/g,""),pt=$t.useRef(null),ht=$t.useRef(!1),vt=$t.useCallback(Dt=>{q(qt=>{var it;return(it=qt.find(xe=>xe.id===Dt.id))!=null&&it.delete||to.dismiss(Dt.id),qt.filter(({id:xe})=>xe!==Dt.id)})},[]);return $t.useEffect(()=>to.subscribe(Dt=>{if(Dt.dismiss){requestAnimationFrame(()=>{q(qt=>qt.map(it=>it.id===Dt.id?{...it,delete:!0}:it))});return}setTimeout(()=>{xZ.flushSync(()=>{q(qt=>{const it=qt.findIndex(xe=>xe.id===Dt.id);return it!==-1?[...qt.slice(0,it),{...qt[it],...Dt},...qt.slice(it+1)]:[Dt,...qt]})})})}),[B]),$t.useEffect(()=>{if(S!=="system"){Vt(S);return}if(S==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Vt("dark"):Vt("light")),typeof window>"u")return;const Dt=window.matchMedia("(prefers-color-scheme: dark)");try{Dt.addEventListener("change",({matches:qt})=>{Vt(qt?"dark":"light")})}catch{Dt.addListener(({matches:it})=>{try{Vt(it?"dark":"light")}catch(xe){console.error(xe)}})}},[S]),$t.useEffect(()=>{B.length<=1&&bt(!1)},[B]),$t.useEffect(()=>{const Dt=qt=>{var it;if(h.every(le=>qt[le]||qt.code===le)){var Fe;bt(!0),(Fe=Mt.current)==null||Fe.focus()}qt.code==="Escape"&&(document.activeElement===Mt.current||(it=Mt.current)!=null&&it.contains(document.activeElement))&&bt(!1)};return document.addEventListener("keydown",Dt),()=>document.removeEventListener("keydown",Dt)},[h]),$t.useEffect(()=>{if(Mt.current)return()=>{pt.current&&(pt.current.focus({preventScroll:!0}),pt.current=null,ht.current=!1)}},[Mt.current]),$t.createElement("section",{ref:r,"aria-label":`${D} ${Et}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},K.map((Dt,qt)=>{var it;const[xe,Fe]=Dt.split("-");return B.length?$t.createElement("ol",{key:Dt,dir:R==="auto"?HF():R,tabIndex:-1,ref:Mt,className:g,"data-sonner-toaster":!0,"data-sonner-theme":dt,"data-y-position":xe,"data-lifted":Ot&&B.length>1&&!f,"data-x-position":Fe,style:{"--front-toast-height":`${((it=J[0])==null?void 0:it.height)||0}px`,"--width":`${fit}px`,"--gap":`${$}px`,...j,...Oit(v,x)},onBlur:le=>{ht.current&&!le.currentTarget.contains(le.relatedTarget)&&(ht.current=!1,pt.current&&(pt.current.focus({preventScroll:!0}),pt.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||ht.current||(ht.current=!0,pt.current=le.relatedTarget)},onMouseEnter:()=>bt(!0),onMouseMove:()=>bt(!0),onMouseLeave:()=>{wt||bt(!1)},onDragEnd:()=>bt(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||St(!0)},onPointerUp:()=>St(!1)},B.filter(le=>!le.position&&qt===0||le.position===Dt).map((le,Qi)=>{var Le,hi;return $t.createElement(yit,{key:le.id,icons:V,index:Qi,toast:le,defaultRichColors:b,duration:(Le=E==null?void 0:E.duration)!=null?Le:C,className:E==null?void 0:E.className,descriptionClassName:E==null?void 0:E.descriptionClassName,invert:o,visibleToasts:N,closeButton:(hi=E==null?void 0:E.closeButton)!=null?hi:p,interacting:wt,position:Dt,style:E==null?void 0:E.style,unstyled:E==null?void 0:E.unstyled,classNames:E==null?void 0:E.classNames,cancelButtonStyle:E==null?void 0:E.cancelButtonStyle,actionButtonStyle:E==null?void 0:E.actionButtonStyle,closeButtonAriaLabel:E==null?void 0:E.closeButtonAriaLabel,removeToast:vt,toasts:B.filter(Ve=>Ve.position==le.position),heights:J.filter(Ve=>Ve.position==le.position),setHeights:ot,expandByDefault:f,gap:$,expanded:Ot,swipeDirections:e.swipeDirections})})):null}))}),xit=({...n})=>{const{theme:e="system"}=Yet();return Q.jsx(vit,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var wit=yB.useId||(()=>{}),Sit=0;function eE(n){const[e,r]=Z.useState(wit());return ph(()=>{r(o=>o??String(Sit++))},[n]),e?`radix-${e}`:""}const kit=["top","right","bottom","left"],Lc=Math.min,jo=Math.max,mk=Math.round,kw=Math.floor,$c=n=>({x:n,y:n}),Pit={left:"right",right:"left",bottom:"top",top:"bottom"},bit={start:"end",end:"start"};function uN(n,e,r){return jo(n,Lc(e,r))}function mh(n,e){return typeof n=="function"?n(e):n}function gh(n){return n.split("-")[0]}function vg(n){return n.split("-")[1]}function iE(n){return n==="x"?"y":"x"}function nE(n){return n==="y"?"height":"width"}function Dc(n){return["top","bottom"].includes(gh(n))?"y":"x"}function rE(n){return iE(Dc(n))}function Tit(n,e,r){r===void 0&&(r=!1);const o=vg(n),a=rE(n),h=nE(a);let f=a==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[h]>e.floating[h]&&(f=gk(f)),[f,gk(f)]}function Cit(n){const e=gk(n);return[hN(n),e,hN(e)]}function hN(n){return n.replace(/start|end/g,e=>bit[e])}function Mit(n,e,r){const o=["left","right"],a=["right","left"],h=["top","bottom"],f=["bottom","top"];switch(n){case"top":case"bottom":return r?e?a:o:e?o:a;case"left":case"right":return e?h:f;default:return[]}}function Qit(n,e,r,o){const a=vg(n);let h=Mit(gh(n),r==="start",o);return a&&(h=h.map(f=>f+"-"+a),e&&(h=h.concat(h.map(hN)))),h}function gk(n){return n.replace(/left|right|bottom|top/g,e=>Pit[e])}function Nit(n){return{top:0,right:0,bottom:0,left:0,...n}}function hY(n){return typeof n!="number"?Nit(n):{top:n,right:n,bottom:n,left:n}}function yk(n){const{x:e,y:r,width:o,height:a}=n;return{width:o,height:a,top:r,left:e,right:e+o,bottom:r+a,x:e,y:r}}function KF(n,e,r){let{reference:o,floating:a}=n;const h=Dc(e),f=rE(e),p=nE(f),g=gh(e),v=h==="y",x=o.x+o.width/2-a.width/2,S=o.y+o.height/2-a.height/2,b=o[p]/2-a[p]/2;let C;switch(g){case"top":C={x,y:o.y-a.height};break;case"bottom":C={x,y:o.y+o.height};break;case"right":C={x:o.x+o.width,y:S};break;case"left":C={x:o.x-a.width,y:S};break;default:C={x:o.x,y:o.y}}switch(vg(e)){case"start":C[f]-=b*(r&&v?-1:1);break;case"end":C[f]+=b*(r&&v?-1:1);break}return C}const Ait=async(n,e,r)=>{const{placement:o="bottom",strategy:a="absolute",middleware:h=[],platform:f}=r,p=h.filter(Boolean),g=await(f.isRTL==null?void 0:f.isRTL(e));let v=await f.getElementRects({reference:n,floating:e,strategy:a}),{x,y:S}=KF(v,o,g),b=o,C={},j=0;for(let N=0;N<p.length;N++){const{name:E,fn:R}=p[N],{x:$,y:V,data:D,reset:B}=await R({x,y:S,initialPlacement:o,placement:b,strategy:a,middlewareData:C,rects:v,platform:f,elements:{reference:n,floating:e}});x=$??x,S=V??S,C={...C,[E]:{...C[E],...D}},B&&j<=50&&(j++,typeof B=="object"&&(B.placement&&(b=B.placement),B.rects&&(v=B.rects===!0?await f.getElementRects({reference:n,floating:e,strategy:a}):B.rects),{x,y:S}=KF(v,b,g)),N=-1)}return{x,y:S,placement:b,strategy:a,middlewareData:C}};async function PO(n,e){var r;e===void 0&&(e={});const{x:o,y:a,platform:h,rects:f,elements:p,strategy:g}=n,{boundary:v="clippingAncestors",rootBoundary:x="viewport",elementContext:S="floating",altBoundary:b=!1,padding:C=0}=mh(e,n),j=hY(C),E=p[b?S==="floating"?"reference":"floating":S],R=yk(await h.getClippingRect({element:(r=await(h.isElement==null?void 0:h.isElement(E)))==null||r?E:E.contextElement||await(h.getDocumentElement==null?void 0:h.getDocumentElement(p.floating)),boundary:v,rootBoundary:x,strategy:g})),$=S==="floating"?{x:o,y:a,width:f.floating.width,height:f.floating.height}:f.reference,V=await(h.getOffsetParent==null?void 0:h.getOffsetParent(p.floating)),D=await(h.isElement==null?void 0:h.isElement(V))?await(h.getScale==null?void 0:h.getScale(V))||{x:1,y:1}:{x:1,y:1},B=yk(h.convertOffsetParentRelativeRectToViewportRelativeRect?await h.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:$,offsetParent:V,strategy:g}):$);return{top:(R.top-B.top+j.top)/D.y,bottom:(B.bottom-R.bottom+j.bottom)/D.y,left:(R.left-B.left+j.left)/D.x,right:(B.right-R.right+j.right)/D.x}}const jit=n=>({name:"arrow",options:n,async fn(e){const{x:r,y:o,placement:a,rects:h,platform:f,elements:p,middlewareData:g}=e,{element:v,padding:x=0}=mh(n,e)||{};if(v==null)return{};const S=hY(x),b={x:r,y:o},C=rE(a),j=nE(C),N=await f.getDimensions(v),E=C==="y",R=E?"top":"left",$=E?"bottom":"right",V=E?"clientHeight":"clientWidth",D=h.reference[j]+h.reference[C]-b[C]-h.floating[j],B=b[C]-h.reference[C],q=await(f.getOffsetParent==null?void 0:f.getOffsetParent(v));let K=q?q[V]:0;(!K||!await(f.isElement==null?void 0:f.isElement(q)))&&(K=p.floating[V]||h.floating[j]);const J=D/2-B/2,ot=K/2-N[j]/2-1,Ot=Lc(S[R],ot),bt=Lc(S[$],ot),wt=Ot,St=K-N[j]-bt,dt=K/2-N[j]/2+J,Vt=uN(wt,dt,St),Mt=!g.arrow&&vg(a)!=null&&dt!==Vt&&h.reference[j]/2-(dt<wt?Ot:bt)-N[j]/2<0,Et=Mt?dt<wt?dt-wt:dt-St:0;return{[C]:b[C]+Et,data:{[C]:Vt,centerOffset:dt-Vt-Et,...Mt&&{alignmentOffset:Et}},reset:Mt}}}),Eit=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var r,o;const{placement:a,middlewareData:h,rects:f,initialPlacement:p,platform:g,elements:v}=e,{mainAxis:x=!0,crossAxis:S=!0,fallbackPlacements:b,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:N=!0,...E}=mh(n,e);if((r=h.arrow)!=null&&r.alignmentOffset)return{};const R=gh(a),$=Dc(p),V=gh(p)===p,D=await(g.isRTL==null?void 0:g.isRTL(v.floating)),B=b||(V||!N?[gk(p)]:Cit(p)),q=j!=="none";!b&&q&&B.push(...Qit(p,N,j,D));const K=[p,...B],J=await PO(e,E),ot=[];let Ot=((o=h.flip)==null?void 0:o.overflows)||[];if(x&&ot.push(J[R]),S){const dt=Tit(a,f,D);ot.push(J[dt[0]],J[dt[1]])}if(Ot=[...Ot,{placement:a,overflows:ot}],!ot.every(dt=>dt<=0)){var bt,wt;const dt=(((bt=h.flip)==null?void 0:bt.index)||0)+1,Vt=K[dt];if(Vt)return{data:{index:dt,overflows:Ot},reset:{placement:Vt}};let Mt=(wt=Ot.filter(Et=>Et.overflows[0]<=0).sort((Et,pt)=>Et.overflows[1]-pt.overflows[1])[0])==null?void 0:wt.placement;if(!Mt)switch(C){case"bestFit":{var St;const Et=(St=Ot.filter(pt=>{if(q){const ht=Dc(pt.placement);return ht===$||ht==="y"}return!0}).map(pt=>[pt.placement,pt.overflows.filter(ht=>ht>0).reduce((ht,vt)=>ht+vt,0)]).sort((pt,ht)=>pt[1]-ht[1])[0])==null?void 0:St[0];Et&&(Mt=Et);break}case"initialPlacement":Mt=p;break}if(a!==Mt)return{reset:{placement:Mt}}}return{}}}};function JF(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function tV(n){return kit.some(e=>n[e]>=0)}const Rit=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:r}=e,{strategy:o="referenceHidden",...a}=mh(n,e);switch(o){case"referenceHidden":{const h=await PO(e,{...a,elementContext:"reference"}),f=JF(h,r.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:tV(f)}}}case"escaped":{const h=await PO(e,{...a,altBoundary:!0}),f=JF(h,r.floating);return{data:{escapedOffsets:f,escaped:tV(f)}}}default:return{}}}}};async function Lit(n,e){const{placement:r,platform:o,elements:a}=n,h=await(o.isRTL==null?void 0:o.isRTL(a.floating)),f=gh(r),p=vg(r),g=Dc(r)==="y",v=["left","top"].includes(f)?-1:1,x=h&&g?-1:1,S=mh(e,n);let{mainAxis:b,crossAxis:C,alignmentAxis:j}=typeof S=="number"?{mainAxis:S,crossAxis:0,alignmentAxis:null}:{mainAxis:S.mainAxis||0,crossAxis:S.crossAxis||0,alignmentAxis:S.alignmentAxis};return p&&typeof j=="number"&&(C=p==="end"?j*-1:j),g?{x:C*x,y:b*v}:{x:b*v,y:C*x}}const $it=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var r,o;const{x:a,y:h,placement:f,middlewareData:p}=e,g=await Lit(e,n);return f===((r=p.offset)==null?void 0:r.placement)&&(o=p.arrow)!=null&&o.alignmentOffset?{}:{x:a+g.x,y:h+g.y,data:{...g,placement:f}}}}},Dit=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:r,y:o,placement:a}=e,{mainAxis:h=!0,crossAxis:f=!1,limiter:p={fn:E=>{let{x:R,y:$}=E;return{x:R,y:$}}},...g}=mh(n,e),v={x:r,y:o},x=await PO(e,g),S=Dc(gh(a)),b=iE(S);let C=v[b],j=v[S];if(h){const E=b==="y"?"top":"left",R=b==="y"?"bottom":"right",$=C+x[E],V=C-x[R];C=uN($,C,V)}if(f){const E=S==="y"?"top":"left",R=S==="y"?"bottom":"right",$=j+x[E],V=j-x[R];j=uN($,j,V)}const N=p.fn({...e,[b]:C,[S]:j});return{...N,data:{x:N.x-r,y:N.y-o,enabled:{[b]:h,[S]:f}}}}}},Iit=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:r,y:o,placement:a,rects:h,middlewareData:f}=e,{offset:p=0,mainAxis:g=!0,crossAxis:v=!0}=mh(n,e),x={x:r,y:o},S=Dc(a),b=iE(S);let C=x[b],j=x[S];const N=mh(p,e),E=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(g){const V=b==="y"?"height":"width",D=h.reference[b]-h.floating[V]+E.mainAxis,B=h.reference[b]+h.reference[V]-E.mainAxis;C<D?C=D:C>B&&(C=B)}if(v){var R,$;const V=b==="y"?"width":"height",D=["top","left"].includes(gh(a)),B=h.reference[S]-h.floating[V]+(D&&((R=f.offset)==null?void 0:R[S])||0)+(D?0:E.crossAxis),q=h.reference[S]+h.reference[V]+(D?0:(($=f.offset)==null?void 0:$[S])||0)-(D?E.crossAxis:0);j<B?j=B:j>q&&(j=q)}return{[b]:C,[S]:j}}}},Fit=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var r,o;const{placement:a,rects:h,platform:f,elements:p}=e,{apply:g=()=>{},...v}=mh(n,e),x=await PO(e,v),S=gh(a),b=vg(a),C=Dc(a)==="y",{width:j,height:N}=h.floating;let E,R;S==="top"||S==="bottom"?(E=S,R=b===(await(f.isRTL==null?void 0:f.isRTL(p.floating))?"start":"end")?"left":"right"):(R=S,E=b==="end"?"top":"bottom");const $=N-x.top-x.bottom,V=j-x.left-x.right,D=Lc(N-x[E],$),B=Lc(j-x[R],V),q=!e.middlewareData.shift;let K=D,J=B;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(J=V),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(K=$),q&&!b){const Ot=jo(x.left,0),bt=jo(x.right,0),wt=jo(x.top,0),St=jo(x.bottom,0);C?J=j-2*(Ot!==0||bt!==0?Ot+bt:jo(x.left,x.right)):K=N-2*(wt!==0||St!==0?wt+St:jo(x.top,x.bottom))}await g({...e,availableWidth:J,availableHeight:K});const ot=await f.getDimensions(p.floating);return j!==ot.width||N!==ot.height?{reset:{rects:!0}}:{}}}};function NP(){return typeof window<"u"}function xg(n){return cY(n)?(n.nodeName||"").toLowerCase():"#document"}function Io(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function mu(n){var e;return(e=(cY(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function cY(n){return NP()?n instanceof Node||n instanceof Io(n).Node:!1}function ra(n){return NP()?n instanceof Element||n instanceof Io(n).Element:!1}function du(n){return NP()?n instanceof HTMLElement||n instanceof Io(n).HTMLElement:!1}function eV(n){return!NP()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Io(n).ShadowRoot}function xv(n){const{overflow:e,overflowX:r,overflowY:o,display:a}=sa(n);return/auto|scroll|overlay|hidden|clip/.test(e+o+r)&&!["inline","contents"].includes(a)}function Vit(n){return["table","td","th"].includes(xg(n))}function AP(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function sE(n){const e=oE(),r=ra(n)?sa(n):n;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(r.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(r.contain||"").includes(o))}function zit(n){let e=Ic(n);for(;du(e)&&!Hm(e);){if(sE(e))return e;if(AP(e))return null;e=Ic(e)}return null}function oE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Hm(n){return["html","body","#document"].includes(xg(n))}function sa(n){return Io(n).getComputedStyle(n)}function jP(n){return ra(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ic(n){if(xg(n)==="html")return n;const e=n.assignedSlot||n.parentNode||eV(n)&&n.host||mu(n);return eV(e)?e.host:e}function fY(n){const e=Ic(n);return Hm(e)?n.ownerDocument?n.ownerDocument.body:n.body:du(e)&&xv(e)?e:fY(e)}function bO(n,e,r){var o;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=fY(n),h=a===((o=n.ownerDocument)==null?void 0:o.body),f=Io(a);if(h){const p=cN(f);return e.concat(f,f.visualViewport||[],xv(a)?a:[],p&&r?bO(p):[])}return e.concat(a,bO(a,[],r))}function cN(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function dY(n){const e=sa(n);let r=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const a=du(n),h=a?n.offsetWidth:r,f=a?n.offsetHeight:o,p=mk(r)!==h||mk(o)!==f;return p&&(r=h,o=f),{width:r,height:o,$:p}}function lE(n){return ra(n)?n:n.contextElement}function Cm(n){const e=lE(n);if(!du(e))return $c(1);const r=e.getBoundingClientRect(),{width:o,height:a,$:h}=dY(e);let f=(h?mk(r.width):r.width)/o,p=(h?mk(r.height):r.height)/a;return(!f||!Number.isFinite(f))&&(f=1),(!p||!Number.isFinite(p))&&(p=1),{x:f,y:p}}const Xit=$c(0);function pY(n){const e=Io(n);return!oE()||!e.visualViewport?Xit:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Bit(n,e,r){return e===void 0&&(e=!1),!r||e&&r!==Io(n)?!1:e}function wd(n,e,r,o){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=n.getBoundingClientRect(),h=lE(n);let f=$c(1);e&&(o?ra(o)&&(f=Cm(o)):f=Cm(n));const p=Bit(h,r,o)?pY(h):$c(0);let g=(a.left+p.x)/f.x,v=(a.top+p.y)/f.y,x=a.width/f.x,S=a.height/f.y;if(h){const b=Io(h),C=o&&ra(o)?Io(o):o;let j=b,N=cN(j);for(;N&&o&&C!==j;){const E=Cm(N),R=N.getBoundingClientRect(),$=sa(N),V=R.left+(N.clientLeft+parseFloat($.paddingLeft))*E.x,D=R.top+(N.clientTop+parseFloat($.paddingTop))*E.y;g*=E.x,v*=E.y,x*=E.x,S*=E.y,g+=V,v+=D,j=Io(N),N=cN(j)}}return yk({width:x,height:S,x:g,y:v})}function _it(n){let{elements:e,rect:r,offsetParent:o,strategy:a}=n;const h=a==="fixed",f=mu(o),p=e?AP(e.floating):!1;if(o===f||p&&h)return r;let g={scrollLeft:0,scrollTop:0},v=$c(1);const x=$c(0),S=du(o);if((S||!S&&!h)&&((xg(o)!=="body"||xv(f))&&(g=jP(o)),du(o))){const b=wd(o);v=Cm(o),x.x=b.x+o.clientLeft,x.y=b.y+o.clientTop}return{width:r.width*v.x,height:r.height*v.y,x:r.x*v.x-g.scrollLeft*v.x+x.x,y:r.y*v.y-g.scrollTop*v.y+x.y}}function Zit(n){return Array.from(n.getClientRects())}function fN(n,e){const r=jP(n).scrollLeft;return e?e.left+r:wd(mu(n)).left+r}function Yit(n){const e=mu(n),r=jP(n),o=n.ownerDocument.body,a=jo(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),h=jo(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let f=-r.scrollLeft+fN(n);const p=-r.scrollTop;return sa(o).direction==="rtl"&&(f+=jo(e.clientWidth,o.clientWidth)-a),{width:a,height:h,x:f,y:p}}function Uit(n,e){const r=Io(n),o=mu(n),a=r.visualViewport;let h=o.clientWidth,f=o.clientHeight,p=0,g=0;if(a){h=a.width,f=a.height;const v=oE();(!v||v&&e==="fixed")&&(p=a.offsetLeft,g=a.offsetTop)}return{width:h,height:f,x:p,y:g}}function Wit(n,e){const r=wd(n,!0,e==="fixed"),o=r.top+n.clientTop,a=r.left+n.clientLeft,h=du(n)?Cm(n):$c(1),f=n.clientWidth*h.x,p=n.clientHeight*h.y,g=a*h.x,v=o*h.y;return{width:f,height:p,x:g,y:v}}function iV(n,e,r){let o;if(e==="viewport")o=Uit(n,r);else if(e==="document")o=Yit(mu(n));else if(ra(e))o=Wit(e,r);else{const a=pY(n);o={...e,x:e.x-a.x,y:e.y-a.y}}return yk(o)}function mY(n,e){const r=Ic(n);return r===e||!ra(r)||Hm(r)?!1:sa(r).position==="fixed"||mY(r,e)}function qit(n,e){const r=e.get(n);if(r)return r;let o=bO(n,[],!1).filter(p=>ra(p)&&xg(p)!=="body"),a=null;const h=sa(n).position==="fixed";let f=h?Ic(n):n;for(;ra(f)&&!Hm(f);){const p=sa(f),g=sE(f);!g&&p.position==="fixed"&&(a=null),(h?!g&&!a:!g&&p.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||xv(f)&&!g&&mY(n,f))?o=o.filter(x=>x!==f):a=p,f=Ic(f)}return e.set(n,o),o}function Git(n){let{element:e,boundary:r,rootBoundary:o,strategy:a}=n;const f=[...r==="clippingAncestors"?AP(e)?[]:qit(e,this._c):[].concat(r),o],p=f[0],g=f.reduce((v,x)=>{const S=iV(e,x,a);return v.top=jo(S.top,v.top),v.right=Lc(S.right,v.right),v.bottom=Lc(S.bottom,v.bottom),v.left=jo(S.left,v.left),v},iV(e,p,a));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function Hit(n){const{width:e,height:r}=dY(n);return{width:e,height:r}}function Kit(n,e,r){const o=du(e),a=mu(e),h=r==="fixed",f=wd(n,!0,h,e);let p={scrollLeft:0,scrollTop:0};const g=$c(0);if(o||!o&&!h)if((xg(e)!=="body"||xv(a))&&(p=jP(e)),o){const C=wd(e,!0,h,e);g.x=C.x+e.clientLeft,g.y=C.y+e.clientTop}else a&&(g.x=fN(a));let v=0,x=0;if(a&&!o&&!h){const C=a.getBoundingClientRect();x=C.top+p.scrollTop,v=C.left+p.scrollLeft-fN(a,C)}const S=f.left+p.scrollLeft-g.x-v,b=f.top+p.scrollTop-g.y-x;return{x:S,y:b,width:f.width,height:f.height}}function HC(n){return sa(n).position==="static"}function nV(n,e){if(!du(n)||sa(n).position==="fixed")return null;if(e)return e(n);let r=n.offsetParent;return mu(n)===r&&(r=r.ownerDocument.body),r}function gY(n,e){const r=Io(n);if(AP(n))return r;if(!du(n)){let a=Ic(n);for(;a&&!Hm(a);){if(ra(a)&&!HC(a))return a;a=Ic(a)}return r}let o=nV(n,e);for(;o&&Vit(o)&&HC(o);)o=nV(o,e);return o&&Hm(o)&&HC(o)&&!sE(o)?r:o||zit(n)||r}const Jit=async function(n){const e=this.getOffsetParent||gY,r=this.getDimensions,o=await r(n.floating);return{reference:Kit(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function tnt(n){return sa(n).direction==="rtl"}const ent={convertOffsetParentRelativeRectToViewportRelativeRect:_it,getDocumentElement:mu,getClippingRect:Git,getOffsetParent:gY,getElementRects:Jit,getClientRects:Zit,getDimensions:Hit,getScale:Cm,isElement:ra,isRTL:tnt};function int(n,e){let r=null,o;const a=mu(n);function h(){var p;clearTimeout(o),(p=r)==null||p.disconnect(),r=null}function f(p,g){p===void 0&&(p=!1),g===void 0&&(g=1),h();const{left:v,top:x,width:S,height:b}=n.getBoundingClientRect();if(p||e(),!S||!b)return;const C=kw(x),j=kw(a.clientWidth-(v+S)),N=kw(a.clientHeight-(x+b)),E=kw(v),$={rootMargin:-C+"px "+-j+"px "+-N+"px "+-E+"px",threshold:jo(0,Lc(1,g))||1};let V=!0;function D(B){const q=B[0].intersectionRatio;if(q!==g){if(!V)return f();q?f(!1,q):o=setTimeout(()=>{f(!1,1e-7)},1e3)}V=!1}try{r=new IntersectionObserver(D,{...$,root:a.ownerDocument})}catch{r=new IntersectionObserver(D,$)}r.observe(n)}return f(!0),h}function nnt(n,e,r,o){o===void 0&&(o={});const{ancestorScroll:a=!0,ancestorResize:h=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:g=!1}=o,v=lE(n),x=a||h?[...v?bO(v):[],...bO(e)]:[];x.forEach(R=>{a&&R.addEventListener("scroll",r,{passive:!0}),h&&R.addEventListener("resize",r)});const S=v&&p?int(v,r):null;let b=-1,C=null;f&&(C=new ResizeObserver(R=>{let[$]=R;$&&$.target===v&&C&&(C.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var V;(V=C)==null||V.observe(e)})),r()}),v&&!g&&C.observe(v),C.observe(e));let j,N=g?wd(n):null;g&&E();function E(){const R=wd(n);N&&(R.x!==N.x||R.y!==N.y||R.width!==N.width||R.height!==N.height)&&r(),N=R,j=requestAnimationFrame(E)}return r(),()=>{var R;x.forEach($=>{a&&$.removeEventListener("scroll",r),h&&$.removeEventListener("resize",r)}),S==null||S(),(R=C)==null||R.disconnect(),C=null,g&&cancelAnimationFrame(j)}}const rnt=$it,snt=Dit,ont=Eit,lnt=Fit,ant=Rit,rV=jit,unt=Iit,hnt=(n,e,r)=>{const o=new Map,a={platform:ent,...r},h={...a.platform,_c:o};return Ait(n,e,{...a,platform:h})};var gS=typeof document<"u"?Z.useLayoutEffect:Z.useEffect;function Ok(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let r,o,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(r=n.length,r!==e.length)return!1;for(o=r;o--!==0;)if(!Ok(n[o],e[o]))return!1;return!0}if(a=Object.keys(n),r=a.length,r!==Object.keys(e).length)return!1;for(o=r;o--!==0;)if(!{}.hasOwnProperty.call(e,a[o]))return!1;for(o=r;o--!==0;){const h=a[o];if(!(h==="_owner"&&n.$$typeof)&&!Ok(n[h],e[h]))return!1}return!0}return n!==n&&e!==e}function yY(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function sV(n,e){const r=yY(n);return Math.round(e*r)/r}function KC(n){const e=Z.useRef(n);return gS(()=>{e.current=n}),e}function cnt(n){n===void 0&&(n={});const{placement:e="bottom",strategy:r="absolute",middleware:o=[],platform:a,elements:{reference:h,floating:f}={},transform:p=!0,whileElementsMounted:g,open:v}=n,[x,S]=Z.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[b,C]=Z.useState(o);Ok(b,o)||C(o);const[j,N]=Z.useState(null),[E,R]=Z.useState(null),$=Z.useCallback(pt=>{pt!==q.current&&(q.current=pt,N(pt))},[]),V=Z.useCallback(pt=>{pt!==K.current&&(K.current=pt,R(pt))},[]),D=h||j,B=f||E,q=Z.useRef(null),K=Z.useRef(null),J=Z.useRef(x),ot=g!=null,Ot=KC(g),bt=KC(a),wt=KC(v),St=Z.useCallback(()=>{if(!q.current||!K.current)return;const pt={placement:e,strategy:r,middleware:b};bt.current&&(pt.platform=bt.current),hnt(q.current,K.current,pt).then(ht=>{const vt={...ht,isPositioned:wt.current!==!1};dt.current&&!Ok(J.current,vt)&&(J.current=vt,Ov.flushSync(()=>{S(vt)}))})},[b,e,r,bt,wt]);gS(()=>{v===!1&&J.current.isPositioned&&(J.current.isPositioned=!1,S(pt=>({...pt,isPositioned:!1})))},[v]);const dt=Z.useRef(!1);gS(()=>(dt.current=!0,()=>{dt.current=!1}),[]),gS(()=>{if(D&&(q.current=D),B&&(K.current=B),D&&B){if(Ot.current)return Ot.current(D,B,St);St()}},[D,B,St,Ot,ot]);const Vt=Z.useMemo(()=>({reference:q,floating:K,setReference:$,setFloating:V}),[$,V]),Mt=Z.useMemo(()=>({reference:D,floating:B}),[D,B]),Et=Z.useMemo(()=>{const pt={position:r,left:0,top:0};if(!Mt.floating)return pt;const ht=sV(Mt.floating,x.x),vt=sV(Mt.floating,x.y);return p?{...pt,transform:"translate("+ht+"px, "+vt+"px)",...yY(Mt.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ht,top:vt}},[r,p,Mt.floating,x.x,x.y]);return Z.useMemo(()=>({...x,update:St,refs:Vt,elements:Mt,floatingStyles:Et}),[x,St,Vt,Mt,Et])}const fnt=n=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:n,fn(r){const{element:o,padding:a}=typeof n=="function"?n(r):n;return o&&e(o)?o.current!=null?rV({element:o.current,padding:a}).fn(r):{}:o?rV({element:o,padding:a}).fn(r):{}}}},dnt=(n,e)=>({...rnt(n),options:[n,e]}),pnt=(n,e)=>({...snt(n),options:[n,e]}),mnt=(n,e)=>({...unt(n),options:[n,e]}),gnt=(n,e)=>({...ont(n),options:[n,e]}),ynt=(n,e)=>({...lnt(n),options:[n,e]}),Ont=(n,e)=>({...ant(n),options:[n,e]}),vnt=(n,e)=>({...fnt(n),options:[n,e]});var xnt="Arrow",OY=Z.forwardRef((n,e)=>{const{children:r,width:o=10,height:a=5,...h}=n;return Q.jsx(Fn.svg,{...h,ref:e,width:o,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?r:Q.jsx("polygon",{points:"0,0 30,0 15,10"})})});OY.displayName=xnt;var wnt=OY;function Snt(n,e=[]){let r=[];function o(h,f){const p=Z.createContext(f),g=r.length;r=[...r,f];function v(S){const{scope:b,children:C,...j}=S,N=(b==null?void 0:b[n][g])||p,E=Z.useMemo(()=>j,Object.values(j));return Q.jsx(N.Provider,{value:E,children:C})}function x(S,b){const C=(b==null?void 0:b[n][g])||p,j=Z.useContext(C);if(j)return j;if(f!==void 0)return f;throw new Error(`\`${S}\` must be used within \`${h}\``)}return v.displayName=h+"Provider",[v,x]}const a=()=>{const h=r.map(f=>Z.createContext(f));return function(p){const g=(p==null?void 0:p[n])||h;return Z.useMemo(()=>({[`__scope${n}`]:{...p,[n]:g}}),[p,g])}};return a.scopeName=n,[o,knt(a,...e)]}function knt(...n){const e=n[0];if(n.length===1)return e;const r=()=>{const o=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(h){const f=o.reduce((p,{useScope:g,scopeName:v})=>{const S=g(h)[`__scope${v}`];return{...p,...S}},{});return Z.useMemo(()=>({[`__scope${e.scopeName}`]:f}),[f])}};return r.scopeName=e.scopeName,r}function Pnt(n){const[e,r]=Z.useState(void 0);return ph(()=>{if(n){r({width:n.offsetWidth,height:n.offsetHeight});const o=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const h=a[0];let f,p;if("borderBoxSize"in h){const g=h.borderBoxSize,v=Array.isArray(g)?g[0]:g;f=v.inlineSize,p=v.blockSize}else f=n.offsetWidth,p=n.offsetHeight;r({width:f,height:p})});return o.observe(n,{box:"border-box"}),()=>o.unobserve(n)}else r(void 0)},[n]),e}var aE="Popper",[vY,xY]=Snt(aE),[bnt,wY]=vY(aE),SY=n=>{const{__scopePopper:e,children:r}=n,[o,a]=Z.useState(null);return Q.jsx(bnt,{scope:e,anchor:o,onAnchorChange:a,children:r})};SY.displayName=aE;var kY="PopperAnchor",PY=Z.forwardRef((n,e)=>{const{__scopePopper:r,virtualRef:o,...a}=n,h=wY(kY,r),f=Z.useRef(null),p=Vo(e,f);return Z.useEffect(()=>{h.onAnchorChange((o==null?void 0:o.current)||f.current)}),o?null:Q.jsx(Fn.div,{...a,ref:p})});PY.displayName=kY;var uE="PopperContent",[Tnt,Cnt]=vY(uE),bY=Z.forwardRef((n,e)=>{var Qi,Le,hi,Ve,Je,Oi;const{__scopePopper:r,side:o="bottom",sideOffset:a=0,align:h="center",alignOffset:f=0,arrowPadding:p=0,avoidCollisions:g=!0,collisionBoundary:v=[],collisionPadding:x=0,sticky:S="partial",hideWhenDetached:b=!1,updatePositionStrategy:C="optimized",onPlaced:j,...N}=n,E=wY(uE,r),[R,$]=Z.useState(null),V=Vo(e,ct=>$(ct)),[D,B]=Z.useState(null),q=Pnt(D),K=(q==null?void 0:q.width)??0,J=(q==null?void 0:q.height)??0,ot=o+(h!=="center"?"-"+h:""),Ot=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},bt=Array.isArray(v)?v:[v],wt=bt.length>0,St={padding:Ot,boundary:bt.filter(Qnt),altBoundary:wt},{refs:dt,floatingStyles:Vt,placement:Mt,isPositioned:Et,middlewareData:pt}=cnt({strategy:"fixed",placement:ot,whileElementsMounted:(...ct)=>nnt(...ct,{animationFrame:C==="always"}),elements:{reference:E.anchor},middleware:[dnt({mainAxis:a+J,alignmentAxis:f}),g&&pnt({mainAxis:!0,crossAxis:!1,limiter:S==="partial"?mnt():void 0,...St}),g&&gnt({...St}),ynt({...St,apply:({elements:ct,rects:gi,availableWidth:at,availableHeight:Ue})=>{const{width:ms,height:Ni}=gi.reference,fn=ct.floating.style;fn.setProperty("--radix-popper-available-width",`${at}px`),fn.setProperty("--radix-popper-available-height",`${Ue}px`),fn.setProperty("--radix-popper-anchor-width",`${ms}px`),fn.setProperty("--radix-popper-anchor-height",`${Ni}px`)}}),D&&vnt({element:D,padding:p}),Nnt({arrowWidth:K,arrowHeight:J}),b&&Ont({strategy:"referenceHidden",...St})]}),[ht,vt]=MY(Mt),Dt=fu(j);ph(()=>{Et&&(Dt==null||Dt())},[Et,Dt]);const qt=(Qi=pt.arrow)==null?void 0:Qi.x,it=(Le=pt.arrow)==null?void 0:Le.y,xe=((hi=pt.arrow)==null?void 0:hi.centerOffset)!==0,[Fe,le]=Z.useState();return ph(()=>{R&&le(window.getComputedStyle(R).zIndex)},[R]),Q.jsx("div",{ref:dt.setFloating,"data-radix-popper-content-wrapper":"",style:{...Vt,transform:Et?Vt.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Fe,"--radix-popper-transform-origin":[(Ve=pt.transformOrigin)==null?void 0:Ve.x,(Je=pt.transformOrigin)==null?void 0:Je.y].join(" "),...((Oi=pt.hide)==null?void 0:Oi.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:Q.jsx(Tnt,{scope:r,placedSide:ht,onArrowChange:B,arrowX:qt,arrowY:it,shouldHideArrow:xe,children:Q.jsx(Fn.div,{"data-side":ht,"data-align":vt,...N,ref:V,style:{...N.style,animation:Et?void 0:"none"}})})})});bY.displayName=uE;var TY="PopperArrow",Mnt={top:"bottom",right:"left",bottom:"top",left:"right"},CY=Z.forwardRef(function(e,r){const{__scopePopper:o,...a}=e,h=Cnt(TY,o),f=Mnt[h.placedSide];return Q.jsx("span",{ref:h.onArrowChange,style:{position:"absolute",left:h.arrowX,top:h.arrowY,[f]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[h.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[h.placedSide],visibility:h.shouldHideArrow?"hidden":void 0},children:Q.jsx(wnt,{...a,ref:r,style:{...a.style,display:"block"}})})});CY.displayName=TY;function Qnt(n){return n!==null}var Nnt=n=>({name:"transformOrigin",options:n,fn(e){var E,R,$;const{placement:r,rects:o,middlewareData:a}=e,f=((E=a.arrow)==null?void 0:E.centerOffset)!==0,p=f?0:n.arrowWidth,g=f?0:n.arrowHeight,[v,x]=MY(r),S={start:"0%",center:"50%",end:"100%"}[x],b=(((R=a.arrow)==null?void 0:R.x)??0)+p/2,C=((($=a.arrow)==null?void 0:$.y)??0)+g/2;let j="",N="";return v==="bottom"?(j=f?S:`${b}px`,N=`${-g}px`):v==="top"?(j=f?S:`${b}px`,N=`${o.floating.height+g}px`):v==="right"?(j=`${-g}px`,N=f?S:`${C}px`):v==="left"&&(j=`${o.floating.width+g}px`,N=f?S:`${C}px`),{data:{x:j,y:N}}}});function MY(n){const[e,r="center"]=n.split("-");return[e,r]}var Ant=SY,jnt=PY,Ent=bY,Rnt=CY,[EP,ykt]=kP("Tooltip",[xY]),RP=xY(),QY="TooltipProvider",Lnt=700,dN="tooltip.open",[$nt,hE]=EP(QY),NY=n=>{const{__scopeTooltip:e,delayDuration:r=Lnt,skipDelayDuration:o=300,disableHoverableContent:a=!1,children:h}=n,[f,p]=Z.useState(!0),g=Z.useRef(!1),v=Z.useRef(0);return Z.useEffect(()=>{const x=v.current;return()=>window.clearTimeout(x)},[]),Q.jsx($nt,{scope:e,isOpenDelayed:f,delayDuration:r,onOpen:Z.useCallback(()=>{window.clearTimeout(v.current),p(!1)},[]),onClose:Z.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>p(!0),o)},[o]),isPointerInTransitRef:g,onPointerInTransitChange:Z.useCallback(x=>{g.current=x},[]),disableHoverableContent:a,children:h})};NY.displayName=QY;var LP="Tooltip",[Dnt,$P]=EP(LP),AY=n=>{const{__scopeTooltip:e,children:r,open:o,defaultOpen:a=!1,onOpenChange:h,disableHoverableContent:f,delayDuration:p}=n,g=hE(LP,n.__scopeTooltip),v=RP(e),[x,S]=Z.useState(null),b=eE(),C=Z.useRef(0),j=f??g.disableHoverableContent,N=p??g.delayDuration,E=Z.useRef(!1),[R=!1,$]=vv({prop:o,defaultProp:a,onChange:K=>{K?(g.onOpen(),document.dispatchEvent(new CustomEvent(dN))):g.onClose(),h==null||h(K)}}),V=Z.useMemo(()=>R?E.current?"delayed-open":"instant-open":"closed",[R]),D=Z.useCallback(()=>{window.clearTimeout(C.current),C.current=0,E.current=!1,$(!0)},[$]),B=Z.useCallback(()=>{window.clearTimeout(C.current),C.current=0,$(!1)},[$]),q=Z.useCallback(()=>{window.clearTimeout(C.current),C.current=window.setTimeout(()=>{E.current=!0,$(!0),C.current=0},N)},[N,$]);return Z.useEffect(()=>()=>{C.current&&(window.clearTimeout(C.current),C.current=0)},[]),Q.jsx(Ant,{...v,children:Q.jsx(Dnt,{scope:e,contentId:b,open:R,stateAttribute:V,trigger:x,onTriggerChange:S,onTriggerEnter:Z.useCallback(()=>{g.isOpenDelayed?q():D()},[g.isOpenDelayed,q,D]),onTriggerLeave:Z.useCallback(()=>{j?B():(window.clearTimeout(C.current),C.current=0)},[B,j]),onOpen:D,onClose:B,disableHoverableContent:j,children:r})})};AY.displayName=LP;var pN="TooltipTrigger",jY=Z.forwardRef((n,e)=>{const{__scopeTooltip:r,...o}=n,a=$P(pN,r),h=hE(pN,r),f=RP(r),p=Z.useRef(null),g=Vo(e,p,a.onTriggerChange),v=Z.useRef(!1),x=Z.useRef(!1),S=Z.useCallback(()=>v.current=!1,[]);return Z.useEffect(()=>()=>document.removeEventListener("pointerup",S),[S]),Q.jsx(jnt,{asChild:!0,...f,children:Q.jsx(Fn.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...o,ref:g,onPointerMove:Ln(n.onPointerMove,b=>{b.pointerType!=="touch"&&!x.current&&!h.isPointerInTransitRef.current&&(a.onTriggerEnter(),x.current=!0)}),onPointerLeave:Ln(n.onPointerLeave,()=>{a.onTriggerLeave(),x.current=!1}),onPointerDown:Ln(n.onPointerDown,()=>{v.current=!0,document.addEventListener("pointerup",S,{once:!0})}),onFocus:Ln(n.onFocus,()=>{v.current||a.onOpen()}),onBlur:Ln(n.onBlur,a.onClose),onClick:Ln(n.onClick,a.onClose)})})});jY.displayName=pN;var Int="TooltipPortal",[Okt,Fnt]=EP(Int,{forceMount:void 0}),Km="TooltipContent",EY=Z.forwardRef((n,e)=>{const r=Fnt(Km,n.__scopeTooltip),{forceMount:o=r.forceMount,side:a="top",...h}=n,f=$P(Km,n.__scopeTooltip);return Q.jsx(PP,{present:o||f.open,children:f.disableHoverableContent?Q.jsx(RY,{side:a,...h,ref:e}):Q.jsx(Vnt,{side:a,...h,ref:e})})}),Vnt=Z.forwardRef((n,e)=>{const r=$P(Km,n.__scopeTooltip),o=hE(Km,n.__scopeTooltip),a=Z.useRef(null),h=Vo(e,a),[f,p]=Z.useState(null),{trigger:g,onClose:v}=r,x=a.current,{onPointerInTransitChange:S}=o,b=Z.useCallback(()=>{p(null),S(!1)},[S]),C=Z.useCallback((j,N)=>{const E=j.currentTarget,R={x:j.clientX,y:j.clientY},$=_nt(R,E.getBoundingClientRect()),V=Znt(R,$),D=Ynt(N.getBoundingClientRect()),B=Wnt([...V,...D]);p(B),S(!0)},[S]);return Z.useEffect(()=>()=>b(),[b]),Z.useEffect(()=>{if(g&&x){const j=E=>C(E,x),N=E=>C(E,g);return g.addEventListener("pointerleave",j),x.addEventListener("pointerleave",N),()=>{g.removeEventListener("pointerleave",j),x.removeEventListener("pointerleave",N)}}},[g,x,C,b]),Z.useEffect(()=>{if(f){const j=N=>{const E=N.target,R={x:N.clientX,y:N.clientY},$=(g==null?void 0:g.contains(E))||(x==null?void 0:x.contains(E)),V=!Unt(R,f);$?b():V&&(b(),v())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[g,x,f,v,b]),Q.jsx(RY,{...n,ref:h})}),[znt,Xnt]=EP(LP,{isInside:!1}),RY=Z.forwardRef((n,e)=>{const{__scopeTooltip:r,children:o,"aria-label":a,onEscapeKeyDown:h,onPointerDownOutside:f,...p}=n,g=$P(Km,r),v=RP(r),{onClose:x}=g;return Z.useEffect(()=>(document.addEventListener(dN,x),()=>document.removeEventListener(dN,x)),[x]),Z.useEffect(()=>{if(g.trigger){const S=b=>{const C=b.target;C!=null&&C.contains(g.trigger)&&x()};return window.addEventListener("scroll",S,{capture:!0}),()=>window.removeEventListener("scroll",S,{capture:!0})}},[g.trigger,x]),Q.jsx(Wj,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:S=>S.preventDefault(),onDismiss:x,children:Q.jsxs(Ent,{"data-state":g.stateAttribute,...v,...p,ref:e,style:{...p.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[Q.jsx(kZ,{children:o}),Q.jsx(znt,{scope:r,isInside:!0,children:Q.jsx(wtt,{id:g.contentId,role:"tooltip",children:a||o})})]})})});EY.displayName=Km;var LY="TooltipArrow",Bnt=Z.forwardRef((n,e)=>{const{__scopeTooltip:r,...o}=n,a=RP(r);return Xnt(LY,r).isInside?null:Q.jsx(Rnt,{...a,...o,ref:e})});Bnt.displayName=LY;function _nt(n,e){const r=Math.abs(e.top-n.y),o=Math.abs(e.bottom-n.y),a=Math.abs(e.right-n.x),h=Math.abs(e.left-n.x);switch(Math.min(r,o,a,h)){case h:return"left";case a:return"right";case r:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function Znt(n,e,r=5){const o=[];switch(e){case"top":o.push({x:n.x-r,y:n.y+r},{x:n.x+r,y:n.y+r});break;case"bottom":o.push({x:n.x-r,y:n.y-r},{x:n.x+r,y:n.y-r});break;case"left":o.push({x:n.x+r,y:n.y-r},{x:n.x+r,y:n.y+r});break;case"right":o.push({x:n.x-r,y:n.y-r},{x:n.x-r,y:n.y+r});break}return o}function Ynt(n){const{top:e,right:r,bottom:o,left:a}=n;return[{x:a,y:e},{x:r,y:e},{x:r,y:o},{x:a,y:o}]}function Unt(n,e){const{x:r,y:o}=n;let a=!1;for(let h=0,f=e.length-1;h<e.length;f=h++){const p=e[h].x,g=e[h].y,v=e[f].x,x=e[f].y;g>o!=x>o&&r<(v-p)*(o-g)/(x-g)+p&&(a=!a)}return a}function Wnt(n){const e=n.slice();return e.sort((r,o)=>r.x<o.x?-1:r.x>o.x?1:r.y<o.y?-1:r.y>o.y?1:0),qnt(e)}function qnt(n){if(n.length<=1)return n.slice();const e=[];for(let o=0;o<n.length;o++){const a=n[o];for(;e.length>=2;){const h=e[e.length-1],f=e[e.length-2];if((h.x-f.x)*(a.y-f.y)>=(h.y-f.y)*(a.x-f.x))e.pop();else break}e.push(a)}e.pop();const r=[];for(let o=n.length-1;o>=0;o--){const a=n[o];for(;r.length>=2;){const h=r[r.length-1],f=r[r.length-2];if((h.x-f.x)*(a.y-f.y)>=(h.y-f.y)*(a.x-f.x))r.pop();else break}r.push(a)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Gnt=NY,Hnt=AY,Knt=jY,$Y=EY;const Jm=Gnt,TO=Hnt,CO=Knt,tg=Z.forwardRef(({className:n,sideOffset:e=4,...r},o)=>Q.jsx($Y,{ref:o,sideOffset:e,className:Dn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...r}));tg.displayName=$Y.displayName;var DP=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},IP=typeof window>"u"||"Deno"in globalThis;function Gl(){}function Jnt(n,e){return typeof n=="function"?n(e):n}function trt(n){return typeof n=="number"&&n>=0&&n!==1/0}function ert(n,e){return Math.max(n+(e||0)-Date.now(),0)}function oV(n,e){return typeof n=="function"?n(e):n}function irt(n,e){return typeof n=="function"?n(e):n}function lV(n,e){const{type:r="all",exact:o,fetchStatus:a,predicate:h,queryKey:f,stale:p}=n;if(f){if(o){if(e.queryHash!==cE(f,e.options))return!1}else if(!QO(e.queryKey,f))return!1}if(r!=="all"){const g=e.isActive();if(r==="active"&&!g||r==="inactive"&&g)return!1}return!(typeof p=="boolean"&&e.isStale()!==p||a&&a!==e.state.fetchStatus||h&&!h(e))}function aV(n,e){const{exact:r,status:o,predicate:a,mutationKey:h}=n;if(h){if(!e.options.mutationKey)return!1;if(r){if(MO(e.options.mutationKey)!==MO(h))return!1}else if(!QO(e.options.mutationKey,h))return!1}return!(o&&e.state.status!==o||a&&!a(e))}function cE(n,e){return((e==null?void 0:e.queryKeyHashFn)||MO)(n)}function MO(n){return JSON.stringify(n,(e,r)=>mN(r)?Object.keys(r).sort().reduce((o,a)=>(o[a]=r[a],o),{}):r)}function QO(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!QO(n[r],e[r])):!1}function DY(n,e){if(n===e)return n;const r=uV(n)&&uV(e);if(r||mN(n)&&mN(e)){const o=r?n:Object.keys(n),a=o.length,h=r?e:Object.keys(e),f=h.length,p=r?[]:{};let g=0;for(let v=0;v<f;v++){const x=r?v:h[v];(!r&&o.includes(x)||r)&&n[x]===void 0&&e[x]===void 0?(p[x]=void 0,g++):(p[x]=DY(n[x],e[x]),p[x]===n[x]&&n[x]!==void 0&&g++)}return a===f&&g===a?n:p}return e}function uV(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function mN(n){if(!hV(n))return!1;const e=n.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!hV(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function hV(n){return Object.prototype.toString.call(n)==="[object Object]"}function nrt(n){return new Promise(e=>{setTimeout(e,n)})}function rrt(n,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(n,e):r.structuralSharing!==!1?DY(n,e):e}function srt(n,e,r=0){const o=[...n,e];return r&&o.length>r?o.slice(1):o}function ort(n,e,r=0){const o=[e,...n];return r&&o.length>r?o.slice(0,-1):o}var fE=Symbol();function IY(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===fE?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var sd,cc,Lm,KX,lrt=(KX=class extends DP{constructor(){super();pi(this,sd);pi(this,cc);pi(this,Lm);Ee(this,Lm,e=>{if(!IP&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Nt(this,cc)||this.setEventListener(Nt(this,Lm))}onUnsubscribe(){var e;this.hasListeners()||((e=Nt(this,cc))==null||e.call(this),Ee(this,cc,void 0))}setEventListener(e){var r;Ee(this,Lm,e),(r=Nt(this,cc))==null||r.call(this),Ee(this,cc,e(o=>{typeof o=="boolean"?this.setFocused(o):this.onFocus()}))}setFocused(e){Nt(this,sd)!==e&&(Ee(this,sd,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof Nt(this,sd)=="boolean"?Nt(this,sd):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},sd=new WeakMap,cc=new WeakMap,Lm=new WeakMap,KX),FY=new lrt,$m,fc,Dm,JX,art=(JX=class extends DP{constructor(){super();pi(this,$m,!0);pi(this,fc);pi(this,Dm);Ee(this,Dm,e=>{if(!IP&&window.addEventListener){const r=()=>e(!0),o=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",o,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",o)}}})}onSubscribe(){Nt(this,fc)||this.setEventListener(Nt(this,Dm))}onUnsubscribe(){var e;this.hasListeners()||((e=Nt(this,fc))==null||e.call(this),Ee(this,fc,void 0))}setEventListener(e){var r;Ee(this,Dm,e),(r=Nt(this,fc))==null||r.call(this),Ee(this,fc,e(this.setOnline.bind(this)))}setOnline(e){Nt(this,$m)!==e&&(Ee(this,$m,e),this.listeners.forEach(o=>{o(e)}))}isOnline(){return Nt(this,$m)}},$m=new WeakMap,fc=new WeakMap,Dm=new WeakMap,JX),vk=new art;function urt(){let n,e;const r=new Promise((a,h)=>{n=a,e=h});r.status="pending",r.catch(()=>{});function o(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{o({status:"fulfilled",value:a}),n(a)},r.reject=a=>{o({status:"rejected",reason:a}),e(a)},r}function hrt(n){return Math.min(1e3*2**n,3e4)}function VY(n){return(n??"online")==="online"?vk.isOnline():!0}var zY=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function JC(n){return n instanceof zY}function XY(n){let e=!1,r=0,o=!1,a;const h=urt(),f=N=>{var E;o||(b(new zY(N)),(E=n.abort)==null||E.call(n))},p=()=>{e=!0},g=()=>{e=!1},v=()=>FY.isFocused()&&(n.networkMode==="always"||vk.isOnline())&&n.canRun(),x=()=>VY(n.networkMode)&&n.canRun(),S=N=>{var E;o||(o=!0,(E=n.onSuccess)==null||E.call(n,N),a==null||a(),h.resolve(N))},b=N=>{var E;o||(o=!0,(E=n.onError)==null||E.call(n,N),a==null||a(),h.reject(N))},C=()=>new Promise(N=>{var E;a=R=>{(o||v())&&N(R)},(E=n.onPause)==null||E.call(n)}).then(()=>{var N;a=void 0,o||(N=n.onContinue)==null||N.call(n)}),j=()=>{if(o)return;let N;const E=r===0?n.initialPromise:void 0;try{N=E??n.fn()}catch(R){N=Promise.reject(R)}Promise.resolve(N).then(S).catch(R=>{var q;if(o)return;const $=n.retry??(IP?0:3),V=n.retryDelay??hrt,D=typeof V=="function"?V(r,R):V,B=$===!0||typeof $=="number"&&r<$||typeof $=="function"&&$(r,R);if(e||!B){b(R);return}r++,(q=n.onFail)==null||q.call(n,r,R),nrt(D).then(()=>v()?void 0:C()).then(()=>{e?b(R):j()})})};return{promise:h,cancel:f,continue:()=>(a==null||a(),h),cancelRetry:p,continueRetry:g,canStart:x,start:()=>(x()?j():C().then(j),h)}}function crt(){let n=[],e=0,r=p=>{p()},o=p=>{p()},a=p=>setTimeout(p,0);const h=p=>{e?n.push(p):a(()=>{r(p)})},f=()=>{const p=n;n=[],p.length&&a(()=>{o(()=>{p.forEach(g=>{r(g)})})})};return{batch:p=>{let g;e++;try{g=p()}finally{e--,e||f()}return g},batchCalls:p=>(...g)=>{h(()=>{p(...g)})},schedule:h,setNotifyFunction:p=>{r=p},setBatchNotifyFunction:p=>{o=p},setScheduler:p=>{a=p}}}var As=crt(),od,tB,BY=(tB=class{constructor(){pi(this,od)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),trt(this.gcTime)&&Ee(this,od,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(IP?1/0:5*60*1e3))}clearGcTimeout(){Nt(this,od)&&(clearTimeout(Nt(this,od)),Ee(this,od,void 0))}},od=new WeakMap,tB),Im,Fm,dl,ss,cv,ld,Hl,Gu,eB,frt=(eB=class extends BY{constructor(e){super();pi(this,Hl);pi(this,Im);pi(this,Fm);pi(this,dl);pi(this,ss);pi(this,cv);pi(this,ld);Ee(this,ld,!1),Ee(this,cv,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ee(this,dl,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ee(this,Im,prt(this.options)),this.state=e.state??Nt(this,Im),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Nt(this,ss))==null?void 0:e.promise}setOptions(e){this.options={...Nt(this,cv),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Nt(this,dl).remove(this)}setData(e,r){const o=rrt(this.state.data,e,this.options);return is(this,Hl,Gu).call(this,{data:o,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),o}setState(e,r){is(this,Hl,Gu).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var o,a;const r=(o=Nt(this,ss))==null?void 0:o.promise;return(a=Nt(this,ss))==null||a.cancel(e),r?r.then(Gl).catch(Gl):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Nt(this,Im))}isActive(){return this.observers.some(e=>irt(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!ert(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(o=>o.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=Nt(this,ss))==null||r.continue()}onOnline(){var r;const e=this.observers.find(o=>o.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=Nt(this,ss))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Nt(this,dl).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(Nt(this,ss)&&(Nt(this,ld)?Nt(this,ss).cancel({revert:!0}):Nt(this,ss).cancelRetry()),this.scheduleGc()),Nt(this,dl).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||is(this,Hl,Gu).call(this,{type:"invalidate"})}fetch(e,r){var g,v,x;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Nt(this,ss))return Nt(this,ss).continueRetry(),Nt(this,ss).promise}if(e&&this.setOptions(e),!this.options.queryFn){const S=this.observers.find(b=>b.options.queryFn);S&&this.setOptions(S.options)}const o=new AbortController,a=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(Ee(this,ld,!0),o.signal)})},h=()=>{const S=IY(this.options,r),b={queryKey:this.queryKey,meta:this.meta};return a(b),Ee(this,ld,!1),this.options.persister?this.options.persister(S,b,this):S(b)},f={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:h};a(f),(g=this.options.behavior)==null||g.onFetch(f,this),Ee(this,Fm,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((v=f.fetchOptions)==null?void 0:v.meta))&&is(this,Hl,Gu).call(this,{type:"fetch",meta:(x=f.fetchOptions)==null?void 0:x.meta});const p=S=>{var b,C,j,N;JC(S)&&S.silent||is(this,Hl,Gu).call(this,{type:"error",error:S}),JC(S)||((C=(b=Nt(this,dl).config).onError)==null||C.call(b,S,this),(N=(j=Nt(this,dl).config).onSettled)==null||N.call(j,this.state.data,S,this)),this.scheduleGc()};return Ee(this,ss,XY({initialPromise:r==null?void 0:r.initialPromise,fn:f.fetchFn,abort:o.abort.bind(o),onSuccess:S=>{var b,C,j,N;if(S===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(S)}catch(E){p(E);return}(C=(b=Nt(this,dl).config).onSuccess)==null||C.call(b,S,this),(N=(j=Nt(this,dl).config).onSettled)==null||N.call(j,S,this.state.error,this),this.scheduleGc()},onError:p,onFail:(S,b)=>{is(this,Hl,Gu).call(this,{type:"failed",failureCount:S,error:b})},onPause:()=>{is(this,Hl,Gu).call(this,{type:"pause"})},onContinue:()=>{is(this,Hl,Gu).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0})),Nt(this,ss).start()}},Im=new WeakMap,Fm=new WeakMap,dl=new WeakMap,ss=new WeakMap,cv=new WeakMap,ld=new WeakMap,Hl=new WeakSet,Gu=function(e){const r=o=>{switch(e.type){case"failed":return{...o,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...drt(o.data,this.options),fetchMeta:e.meta??null};case"success":return{...o,data:e.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return JC(a)&&a.revert&&Nt(this,Fm)?{...Nt(this,Fm),fetchStatus:"idle"}:{...o,error:a,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...e.state}}};this.state=r(this.state),As.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),Nt(this,dl).notify({query:this,type:"updated",action:e})})},eB);function drt(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:VY(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function prt(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,r=e!==void 0,o=r?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ga,iB,mrt=(iB=class extends DP{constructor(e={}){super();pi(this,Ga);this.config=e,Ee(this,Ga,new Map)}build(e,r,o){const a=r.queryKey,h=r.queryHash??cE(a,r);let f=this.get(h);return f||(f=new frt({cache:this,queryKey:a,queryHash:h,options:e.defaultQueryOptions(r),state:o,defaultOptions:e.getQueryDefaults(a)}),this.add(f)),f}add(e){Nt(this,Ga).has(e.queryHash)||(Nt(this,Ga).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=Nt(this,Ga).get(e.queryHash);r&&(e.destroy(),r===e&&Nt(this,Ga).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){As.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Nt(this,Ga).get(e)}getAll(){return[...Nt(this,Ga).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(o=>lV(r,o))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(o=>lV(e,o)):r}notify(e){As.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){As.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){As.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ga=new WeakMap,iB),Ha,Qs,ad,Ka,ic,nB,grt=(nB=class extends BY{constructor(e){super();pi(this,Ka);pi(this,Ha);pi(this,Qs);pi(this,ad);this.mutationId=e.mutationId,Ee(this,Qs,e.mutationCache),Ee(this,Ha,[]),this.state=e.state||yrt(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Nt(this,Ha).includes(e)||(Nt(this,Ha).push(e),this.clearGcTimeout(),Nt(this,Qs).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ee(this,Ha,Nt(this,Ha).filter(r=>r!==e)),this.scheduleGc(),Nt(this,Qs).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Nt(this,Ha).length||(this.state.status==="pending"?this.scheduleGc():Nt(this,Qs).remove(this))}continue(){var e;return((e=Nt(this,ad))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,h,f,p,g,v,x,S,b,C,j,N,E,R,$,V,D,B,q,K;Ee(this,ad,XY({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(J,ot)=>{is(this,Ka,ic).call(this,{type:"failed",failureCount:J,error:ot})},onPause:()=>{is(this,Ka,ic).call(this,{type:"pause"})},onContinue:()=>{is(this,Ka,ic).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Nt(this,Qs).canRun(this)}));const r=this.state.status==="pending",o=!Nt(this,ad).canStart();try{if(!r){is(this,Ka,ic).call(this,{type:"pending",variables:e,isPaused:o}),await((h=(a=Nt(this,Qs).config).onMutate)==null?void 0:h.call(a,e,this));const ot=await((p=(f=this.options).onMutate)==null?void 0:p.call(f,e));ot!==this.state.context&&is(this,Ka,ic).call(this,{type:"pending",context:ot,variables:e,isPaused:o})}const J=await Nt(this,ad).start();return await((v=(g=Nt(this,Qs).config).onSuccess)==null?void 0:v.call(g,J,e,this.state.context,this)),await((S=(x=this.options).onSuccess)==null?void 0:S.call(x,J,e,this.state.context)),await((C=(b=Nt(this,Qs).config).onSettled)==null?void 0:C.call(b,J,null,this.state.variables,this.state.context,this)),await((N=(j=this.options).onSettled)==null?void 0:N.call(j,J,null,e,this.state.context)),is(this,Ka,ic).call(this,{type:"success",data:J}),J}catch(J){try{throw await((R=(E=Nt(this,Qs).config).onError)==null?void 0:R.call(E,J,e,this.state.context,this)),await((V=($=this.options).onError)==null?void 0:V.call($,J,e,this.state.context)),await((B=(D=Nt(this,Qs).config).onSettled)==null?void 0:B.call(D,void 0,J,this.state.variables,this.state.context,this)),await((K=(q=this.options).onSettled)==null?void 0:K.call(q,void 0,J,e,this.state.context)),J}finally{is(this,Ka,ic).call(this,{type:"error",error:J})}}finally{Nt(this,Qs).runNext(this)}}},Ha=new WeakMap,Qs=new WeakMap,ad=new WeakMap,Ka=new WeakSet,ic=function(e){const r=o=>{switch(e.type){case"failed":return{...o,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...o,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:e.error,failureCount:o.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),As.batch(()=>{Nt(this,Ha).forEach(o=>{o.onMutationUpdate(e)}),Nt(this,Qs).notify({mutation:this,type:"updated",action:e})})},nB);function yrt(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qo,fv,rB,Ort=(rB=class extends DP{constructor(e={}){super();pi(this,Qo);pi(this,fv);this.config=e,Ee(this,Qo,new Map),Ee(this,fv,Date.now())}build(e,r,o){const a=new grt({mutationCache:this,mutationId:++iw(this,fv)._,options:e.defaultMutationOptions(r),state:o});return this.add(a),a}add(e){const r=Pw(e),o=Nt(this,Qo).get(r)??[];o.push(e),Nt(this,Qo).set(r,o),this.notify({type:"added",mutation:e})}remove(e){var o;const r=Pw(e);if(Nt(this,Qo).has(r)){const a=(o=Nt(this,Qo).get(r))==null?void 0:o.filter(h=>h!==e);a&&(a.length===0?Nt(this,Qo).delete(r):Nt(this,Qo).set(r,a))}this.notify({type:"removed",mutation:e})}canRun(e){var o;const r=(o=Nt(this,Qo).get(Pw(e)))==null?void 0:o.find(a=>a.state.status==="pending");return!r||r===e}runNext(e){var o;const r=(o=Nt(this,Qo).get(Pw(e)))==null?void 0:o.find(a=>a!==e&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){As.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Nt(this,Qo).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(o=>aV(r,o))}findAll(e={}){return this.getAll().filter(r=>aV(e,r))}notify(e){As.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return As.batch(()=>Promise.all(e.map(r=>r.continue().catch(Gl))))}},Qo=new WeakMap,fv=new WeakMap,rB);function Pw(n){var e;return((e=n.options.scope)==null?void 0:e.id)??String(n.mutationId)}function cV(n){return{onFetch:(e,r)=>{var x,S,b,C,j;const o=e.options,a=(b=(S=(x=e.fetchOptions)==null?void 0:x.meta)==null?void 0:S.fetchMore)==null?void 0:b.direction,h=((C=e.state.data)==null?void 0:C.pages)||[],f=((j=e.state.data)==null?void 0:j.pageParams)||[];let p={pages:[],pageParams:[]},g=0;const v=async()=>{let N=!1;const E=V=>{Object.defineProperty(V,"signal",{enumerable:!0,get:()=>(e.signal.aborted?N=!0:e.signal.addEventListener("abort",()=>{N=!0}),e.signal)})},R=IY(e.options,e.fetchOptions),$=async(V,D,B)=>{if(N)return Promise.reject();if(D==null&&V.pages.length)return Promise.resolve(V);const q={queryKey:e.queryKey,pageParam:D,direction:B?"backward":"forward",meta:e.options.meta};E(q);const K=await R(q),{maxPages:J}=e.options,ot=B?ort:srt;return{pages:ot(V.pages,K,J),pageParams:ot(V.pageParams,D,J)}};if(a&&h.length){const V=a==="backward",D=V?vrt:fV,B={pages:h,pageParams:f},q=D(o,B);p=await $(B,q,V)}else{const V=n??h.length;do{const D=g===0?f[0]??o.initialPageParam:fV(o,p);if(g>0&&D==null)break;p=await $(p,D),g++}while(g<V)}return p};e.options.persister?e.fetchFn=()=>{var N,E;return(E=(N=e.options).persister)==null?void 0:E.call(N,v,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=v}}}function fV(n,{pages:e,pageParams:r}){const o=e.length-1;return e.length>0?n.getNextPageParam(e[o],e,r[o],r):void 0}function vrt(n,{pages:e,pageParams:r}){var o;return e.length>0?(o=n.getPreviousPageParam)==null?void 0:o.call(n,e[0],e,r[0],r):void 0}var Pn,dc,pc,Vm,zm,mc,Xm,Bm,sB,xrt=(sB=class{constructor(n={}){pi(this,Pn);pi(this,dc);pi(this,pc);pi(this,Vm);pi(this,zm);pi(this,mc);pi(this,Xm);pi(this,Bm);Ee(this,Pn,n.queryCache||new mrt),Ee(this,dc,n.mutationCache||new Ort),Ee(this,pc,n.defaultOptions||{}),Ee(this,Vm,new Map),Ee(this,zm,new Map),Ee(this,mc,0)}mount(){iw(this,mc)._++,Nt(this,mc)===1&&(Ee(this,Xm,FY.subscribe(async n=>{n&&(await this.resumePausedMutations(),Nt(this,Pn).onFocus())})),Ee(this,Bm,vk.subscribe(async n=>{n&&(await this.resumePausedMutations(),Nt(this,Pn).onOnline())})))}unmount(){var n,e;iw(this,mc)._--,Nt(this,mc)===0&&((n=Nt(this,Xm))==null||n.call(this),Ee(this,Xm,void 0),(e=Nt(this,Bm))==null||e.call(this),Ee(this,Bm,void 0))}isFetching(n){return Nt(this,Pn).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Nt(this,dc).findAll({...n,status:"pending"}).length}getQueryData(n){var r;const e=this.defaultQueryOptions({queryKey:n});return(r=Nt(this,Pn).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const r=this.defaultQueryOptions(n),o=Nt(this,Pn).build(this,r);return n.revalidateIfStale&&o.isStaleByTime(oV(r.staleTime,o))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(n){return Nt(this,Pn).findAll(n).map(({queryKey:e,state:r})=>{const o=r.data;return[e,o]})}setQueryData(n,e,r){const o=this.defaultQueryOptions({queryKey:n}),a=Nt(this,Pn).get(o.queryHash),h=a==null?void 0:a.state.data,f=Jnt(e,h);if(f!==void 0)return Nt(this,Pn).build(this,o).setData(f,{...r,manual:!0})}setQueriesData(n,e,r){return As.batch(()=>Nt(this,Pn).findAll(n).map(({queryKey:o})=>[o,this.setQueryData(o,e,r)]))}getQueryState(n){var r;const e=this.defaultQueryOptions({queryKey:n});return(r=Nt(this,Pn).get(e.queryHash))==null?void 0:r.state}removeQueries(n){const e=Nt(this,Pn);As.batch(()=>{e.findAll(n).forEach(r=>{e.remove(r)})})}resetQueries(n,e){const r=Nt(this,Pn),o={type:"active",...n};return As.batch(()=>(r.findAll(n).forEach(a=>{a.reset()}),this.refetchQueries(o,e)))}cancelQueries(n={},e={}){const r={revert:!0,...e},o=As.batch(()=>Nt(this,Pn).findAll(n).map(a=>a.cancel(r)));return Promise.all(o).then(Gl).catch(Gl)}invalidateQueries(n={},e={}){return As.batch(()=>{if(Nt(this,Pn).findAll(n).forEach(o=>{o.invalidate()}),n.refetchType==="none")return Promise.resolve();const r={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(n={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},o=As.batch(()=>Nt(this,Pn).findAll(n).filter(a=>!a.isDisabled()).map(a=>{let h=a.fetch(void 0,r);return r.throwOnError||(h=h.catch(Gl)),a.state.fetchStatus==="paused"?Promise.resolve():h}));return Promise.all(o).then(Gl)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const r=Nt(this,Pn).build(this,e);return r.isStaleByTime(oV(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Gl).catch(Gl)}fetchInfiniteQuery(n){return n.behavior=cV(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Gl).catch(Gl)}ensureInfiniteQueryData(n){return n.behavior=cV(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return vk.isOnline()?Nt(this,dc).resumePausedMutations():Promise.resolve()}getQueryCache(){return Nt(this,Pn)}getMutationCache(){return Nt(this,dc)}getDefaultOptions(){return Nt(this,pc)}setDefaultOptions(n){Ee(this,pc,n)}setQueryDefaults(n,e){Nt(this,Vm).set(MO(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Nt(this,Vm).values()];let r={};return e.forEach(o=>{QO(n,o.queryKey)&&(r={...r,...o.defaultOptions})}),r}setMutationDefaults(n,e){Nt(this,zm).set(MO(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Nt(this,zm).values()];let r={};return e.forEach(o=>{QO(n,o.mutationKey)&&(r={...r,...o.defaultOptions})}),r}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Nt(this,pc).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=cE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===fE&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Nt(this,pc).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Nt(this,Pn).clear(),Nt(this,dc).clear()}},Pn=new WeakMap,dc=new WeakMap,pc=new WeakMap,Vm=new WeakMap,zm=new WeakMap,mc=new WeakMap,Xm=new WeakMap,Bm=new WeakMap,sB),wrt=Z.createContext(void 0),Srt=({client:n,children:e})=>(Z.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),Q.jsx(wrt.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function NO(){return NO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},NO.apply(this,arguments)}var Oc;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Oc||(Oc={}));const dV="popstate";function krt(n){n===void 0&&(n={});function e(o,a){let{pathname:h,search:f,hash:p}=o.location;return gN("",{pathname:h,search:f,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(o,a){return typeof a=="string"?a:xk(a)}return brt(e,r,null,n)}function $n(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function _Y(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Prt(){return Math.random().toString(36).substr(2,8)}function pV(n,e){return{usr:n.state,key:n.key,idx:e}}function gN(n,e,r,o){return r===void 0&&(r=null),NO({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?wg(e):e,{state:r,key:e&&e.key||o||Prt()})}function xk(n){let{pathname:e="/",search:r="",hash:o=""}=n;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function wg(n){let e={};if(n){let r=n.indexOf("#");r>=0&&(e.hash=n.substr(r),n=n.substr(0,r));let o=n.indexOf("?");o>=0&&(e.search=n.substr(o),n=n.substr(0,o)),n&&(e.pathname=n)}return e}function brt(n,e,r,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:h=!1}=o,f=a.history,p=Oc.Pop,g=null,v=x();v==null&&(v=0,f.replaceState(NO({},f.state,{idx:v}),""));function x(){return(f.state||{idx:null}).idx}function S(){p=Oc.Pop;let E=x(),R=E==null?null:E-v;v=E,g&&g({action:p,location:N.location,delta:R})}function b(E,R){p=Oc.Push;let $=gN(N.location,E,R);v=x()+1;let V=pV($,v),D=N.createHref($);try{f.pushState(V,"",D)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;a.location.assign(D)}h&&g&&g({action:p,location:N.location,delta:1})}function C(E,R){p=Oc.Replace;let $=gN(N.location,E,R);v=x();let V=pV($,v),D=N.createHref($);f.replaceState(V,"",D),h&&g&&g({action:p,location:N.location,delta:0})}function j(E){let R=a.location.origin!=="null"?a.location.origin:a.location.href,$=typeof E=="string"?E:xk(E);return $=$.replace(/ $/,"%20"),$n(R,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,R)}let N={get action(){return p},get location(){return n(a,f)},listen(E){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(dV,S),g=E,()=>{a.removeEventListener(dV,S),g=null}},createHref(E){return e(a,E)},createURL:j,encodeLocation(E){let R=j(E);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:b,replace:C,go(E){return f.go(E)}};return N}var mV;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(mV||(mV={}));function Trt(n,e,r){return r===void 0&&(r="/"),Crt(n,e,r,!1)}function Crt(n,e,r,o){let a=typeof e=="string"?wg(e):e,h=dE(a.pathname||"/",r);if(h==null)return null;let f=ZY(n);Mrt(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let v=Frt(h);p=Drt(f[g],v,o)}return p}function ZY(n,e,r,o){e===void 0&&(e=[]),r===void 0&&(r=[]),o===void 0&&(o="");let a=(h,f,p)=>{let g={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:f,route:h};g.relativePath.startsWith("/")&&($n(g.relativePath.startsWith(o),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(o.length));let v=Nc([o,g.relativePath]),x=r.concat(g);h.children&&h.children.length>0&&($n(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),ZY(h.children,e,x,v)),!(h.path==null&&!h.index)&&e.push({path:v,score:Lrt(v,h.index),routesMeta:x})};return n.forEach((h,f)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))a(h,f);else for(let g of YY(h.path))a(h,f,g)}),e}function YY(n){let e=n.split("/");if(e.length===0)return[];let[r,...o]=e,a=r.endsWith("?"),h=r.replace(/\?$/,"");if(o.length===0)return a?[h,""]:[h];let f=YY(o.join("/")),p=[];return p.push(...f.map(g=>g===""?h:[h,g].join("/"))),a&&p.push(...f),p.map(g=>n.startsWith("/")&&g===""?"/":g)}function Mrt(n){n.sort((e,r)=>e.score!==r.score?r.score-e.score:$rt(e.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const Qrt=/^:[\w-]+$/,Nrt=3,Art=2,jrt=1,Ert=10,Rrt=-2,gV=n=>n==="*";function Lrt(n,e){let r=n.split("/"),o=r.length;return r.some(gV)&&(o+=Rrt),e&&(o+=Art),r.filter(a=>!gV(a)).reduce((a,h)=>a+(Qrt.test(h)?Nrt:h===""?jrt:Ert),o)}function $rt(n,e){return n.length===e.length&&n.slice(0,-1).every((o,a)=>o===e[a])?n[n.length-1]-e[e.length-1]:0}function Drt(n,e,r){let{routesMeta:o}=n,a={},h="/",f=[];for(let p=0;p<o.length;++p){let g=o[p],v=p===o.length-1,x=h==="/"?e:e.slice(h.length)||"/",S=yV({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},x),b=g.route;if(!S&&v&&r&&!o[o.length-1].route.index&&(S=yV({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!S)return null;Object.assign(a,S.params),f.push({params:a,pathname:Nc([h,S.pathname]),pathnameBase:Brt(Nc([h,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(h=Nc([h,S.pathnameBase]))}return f}function yV(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,o]=Irt(n.path,n.caseSensitive,n.end),a=e.match(r);if(!a)return null;let h=a[0],f=h.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:o.reduce((v,x,S)=>{let{paramName:b,isOptional:C}=x;if(b==="*"){let N=p[S]||"";f=h.slice(0,h.length-N.length).replace(/(.)\/+$/,"$1")}const j=p[S];return C&&!j?v[b]=void 0:v[b]=(j||"").replace(/%2F/g,"/"),v},{}),pathname:h,pathnameBase:f,pattern:n}}function Irt(n,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),_Y(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let o=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(o.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(o.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),o]}function Frt(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _Y(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function dE(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,o=n.charAt(r);return o&&o!=="/"?null:n.slice(r)||"/"}function Vrt(n,e){e===void 0&&(e="/");let{pathname:r,search:o="",hash:a=""}=typeof n=="string"?wg(n):n;return{pathname:r?r.startsWith("/")?r:zrt(r,e):e,search:_rt(o),hash:Zrt(a)}}function zrt(n,e){let r=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function tM(n,e,r,o){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Xrt(n){return n.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function pE(n,e){let r=Xrt(n);return e?r.map((o,a)=>a===r.length-1?o.pathname:o.pathnameBase):r.map(o=>o.pathnameBase)}function mE(n,e,r,o){o===void 0&&(o=!1);let a;typeof n=="string"?a=wg(n):(a=NO({},n),$n(!a.pathname||!a.pathname.includes("?"),tM("?","pathname","search",a)),$n(!a.pathname||!a.pathname.includes("#"),tM("#","pathname","hash",a)),$n(!a.search||!a.search.includes("#"),tM("#","search","hash",a)));let h=n===""||a.pathname==="",f=h?"/":a.pathname,p;if(f==null)p=r;else{let S=e.length-1;if(!o&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),S-=1;a.pathname=b.join("/")}p=S>=0?e[S]:"/"}let g=Vrt(a,p),v=f&&f!=="/"&&f.endsWith("/"),x=(h||f===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(v||x)&&(g.pathname+="/"),g}const Nc=n=>n.join("/").replace(/\/\/+/g,"/"),Brt=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),_rt=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Zrt=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Yrt(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const UY=["post","put","patch","delete"];new Set(UY);const Urt=["get",...UY];new Set(Urt);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function AO(){return AO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},AO.apply(this,arguments)}const gE=Z.createContext(null),Wrt=Z.createContext(null),Kc=Z.createContext(null),FP=Z.createContext(null),Jc=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),WY=Z.createContext(null);function qrt(n,e){let{relative:r}=e===void 0?{}:e;Sg()||$n(!1);let{basename:o,navigator:a}=Z.useContext(Kc),{hash:h,pathname:f,search:p}=GY(n,{relative:r}),g=f;return o!=="/"&&(g=f==="/"?o:Nc([o,f])),a.createHref({pathname:g,search:p,hash:h})}function Sg(){return Z.useContext(FP)!=null}function Bo(){return Sg()||$n(!1),Z.useContext(FP).location}function qY(n){Z.useContext(Kc).static||Z.useLayoutEffect(n)}function ua(){let{isDataRoute:n}=Z.useContext(Jc);return n?ast():Grt()}function Grt(){Sg()||$n(!1);let n=Z.useContext(gE),{basename:e,future:r,navigator:o}=Z.useContext(Kc),{matches:a}=Z.useContext(Jc),{pathname:h}=Bo(),f=JSON.stringify(pE(a,r.v7_relativeSplatPath)),p=Z.useRef(!1);return qY(()=>{p.current=!0}),Z.useCallback(function(v,x){if(x===void 0&&(x={}),!p.current)return;if(typeof v=="number"){o.go(v);return}let S=mE(v,JSON.parse(f),h,x.relative==="path");n==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:Nc([e,S.pathname])),(x.replace?o.replace:o.push)(S,x.state,x)},[e,o,f,h,n])}function GY(n,e){let{relative:r}=e===void 0?{}:e,{future:o}=Z.useContext(Kc),{matches:a}=Z.useContext(Jc),{pathname:h}=Bo(),f=JSON.stringify(pE(a,o.v7_relativeSplatPath));return Z.useMemo(()=>mE(n,JSON.parse(f),h,r==="path"),[n,f,h,r])}function Hrt(n,e){return Krt(n,e)}function Krt(n,e,r,o){Sg()||$n(!1);let{navigator:a}=Z.useContext(Kc),{matches:h}=Z.useContext(Jc),f=h[h.length-1],p=f?f.params:{};f&&f.pathname;let g=f?f.pathnameBase:"/";f&&f.route;let v=Bo(),x;if(e){var S;let E=typeof e=="string"?wg(e):e;g==="/"||(S=E.pathname)!=null&&S.startsWith(g)||$n(!1),x=E}else x=v;let b=x.pathname||"/",C=b;if(g!=="/"){let E=g.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let j=Trt(n,{pathname:C}),N=nst(j&&j.map(E=>Object.assign({},E,{params:Object.assign({},p,E.params),pathname:Nc([g,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?g:Nc([g,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),h,r,o);return e&&N?Z.createElement(FP.Provider,{value:{location:AO({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:Oc.Pop}},N):N}function Jrt(){let n=lst(),e=Yrt(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),r?Z.createElement("pre",{style:a},r):null,null)}const tst=Z.createElement(Jrt,null);class est extends Z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?Z.createElement(Jc.Provider,{value:this.props.routeContext},Z.createElement(WY.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ist(n){let{routeContext:e,match:r,children:o}=n,a=Z.useContext(gE);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),Z.createElement(Jc.Provider,{value:e},o)}function nst(n,e,r,o){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),o===void 0&&(o=null),n==null){var h;if(!r)return null;if(r.errors)n=r.matches;else if((h=o)!=null&&h.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let f=n,p=(a=r)==null?void 0:a.errors;if(p!=null){let x=f.findIndex(S=>S.route.id&&(p==null?void 0:p[S.route.id])!==void 0);x>=0||$n(!1),f=f.slice(0,Math.min(f.length,x+1))}let g=!1,v=-1;if(r&&o&&o.v7_partialHydration)for(let x=0;x<f.length;x++){let S=f[x];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(v=x),S.route.id){let{loaderData:b,errors:C}=r,j=S.route.loader&&b[S.route.id]===void 0&&(!C||C[S.route.id]===void 0);if(S.route.lazy||j){g=!0,v>=0?f=f.slice(0,v+1):f=[f[0]];break}}}return f.reduceRight((x,S,b)=>{let C,j=!1,N=null,E=null;r&&(C=p&&S.route.id?p[S.route.id]:void 0,N=S.route.errorElement||tst,g&&(v<0&&b===0?(j=!0,E=null):v===b&&(j=!0,E=S.route.hydrateFallbackElement||null)));let R=e.concat(f.slice(0,b+1)),$=()=>{let V;return C?V=N:j?V=E:S.route.Component?V=Z.createElement(S.route.Component,null):S.route.element?V=S.route.element:V=x,Z.createElement(ist,{match:S,routeContext:{outlet:x,matches:R,isDataRoute:r!=null},children:V})};return r&&(S.route.ErrorBoundary||S.route.errorElement||b===0)?Z.createElement(est,{location:r.location,revalidation:r.revalidation,component:N,error:C,children:$(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):$()},null)}var HY=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(HY||{}),wk=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(wk||{});function rst(n){let e=Z.useContext(gE);return e||$n(!1),e}function sst(n){let e=Z.useContext(Wrt);return e||$n(!1),e}function ost(n){let e=Z.useContext(Jc);return e||$n(!1),e}function KY(n){let e=ost(),r=e.matches[e.matches.length-1];return r.route.id||$n(!1),r.route.id}function lst(){var n;let e=Z.useContext(WY),r=sst(wk.UseRouteError),o=KY(wk.UseRouteError);return e!==void 0?e:(n=r.errors)==null?void 0:n[o]}function ast(){let{router:n}=rst(HY.UseNavigateStable),e=KY(wk.UseNavigateStable),r=Z.useRef(!1);return qY(()=>{r.current=!0}),Z.useCallback(function(a,h){h===void 0&&(h={}),r.current&&(typeof a=="number"?n.navigate(a):n.navigate(a,AO({fromRouteId:e},h)))},[n,e])}function JY(n){let{to:e,replace:r,state:o,relative:a}=n;Sg()||$n(!1);let{future:h,static:f}=Z.useContext(Kc),{matches:p}=Z.useContext(Jc),{pathname:g}=Bo(),v=ua(),x=mE(e,pE(p,h.v7_relativeSplatPath),g,a==="path"),S=JSON.stringify(x);return Z.useEffect(()=>v(JSON.parse(S),{replace:r,state:o,relative:a}),[v,S,a,r,o]),null}function Ul(n){$n(!1)}function ust(n){let{basename:e="/",children:r=null,location:o,navigationType:a=Oc.Pop,navigator:h,static:f=!1,future:p}=n;Sg()&&$n(!1);let g=e.replace(/^\/*/,"/"),v=Z.useMemo(()=>({basename:g,navigator:h,static:f,future:AO({v7_relativeSplatPath:!1},p)}),[g,p,h,f]);typeof o=="string"&&(o=wg(o));let{pathname:x="/",search:S="",hash:b="",state:C=null,key:j="default"}=o,N=Z.useMemo(()=>{let E=dE(x,g);return E==null?null:{location:{pathname:E,search:S,hash:b,state:C,key:j},navigationType:a}},[g,x,S,b,C,j,a]);return N==null?null:Z.createElement(Kc.Provider,{value:v},Z.createElement(FP.Provider,{children:r,value:N}))}function hst(n){let{children:e,location:r}=n;return Hrt(yN(e),r)}new Promise(()=>{});function yN(n,e){e===void 0&&(e=[]);let r=[];return Z.Children.forEach(n,(o,a)=>{if(!Z.isValidElement(o))return;let h=[...e,a];if(o.type===Z.Fragment){r.push.apply(r,yN(o.props.children,h));return}o.type!==Ul&&$n(!1),!o.props.index||!o.props.children||$n(!1);let f={id:o.props.id||h.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=yN(o.props.children,h)),r.push(f)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ON(){return ON=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},ON.apply(this,arguments)}function cst(n,e){if(n==null)return{};var r={},o=Object.keys(n),a,h;for(h=0;h<o.length;h++)a=o[h],!(e.indexOf(a)>=0)&&(r[a]=n[a]);return r}function fst(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function dst(n,e){return n.button===0&&(!e||e==="_self")&&!fst(n)}const pst=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mst="6";try{window.__reactRouterVersion=mst}catch{}const gst="startTransition",OV=yB[gst];function yst(n){let{basename:e,children:r,future:o,window:a}=n,h=Z.useRef();h.current==null&&(h.current=krt({window:a,v5Compat:!0}));let f=h.current,[p,g]=Z.useState({action:f.action,location:f.location}),{v7_startTransition:v}=o||{},x=Z.useCallback(S=>{v&&OV?OV(()=>g(S)):g(S)},[g,v]);return Z.useLayoutEffect(()=>f.listen(x),[f,x]),Z.createElement(ust,{basename:e,children:r,location:p.location,navigationType:p.action,navigator:f,future:o})}const Ost=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vst=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tU=Z.forwardRef(function(e,r){let{onClick:o,relative:a,reloadDocument:h,replace:f,state:p,target:g,to:v,preventScrollReset:x,viewTransition:S}=e,b=cst(e,pst),{basename:C}=Z.useContext(Kc),j,N=!1;if(typeof v=="string"&&vst.test(v)&&(j=v,Ost))try{let V=new URL(window.location.href),D=v.startsWith("//")?new URL(V.protocol+v):new URL(v),B=dE(D.pathname,C);D.origin===V.origin&&B!=null?v=B+D.search+D.hash:N=!0}catch{}let E=qrt(v,{relative:a}),R=xst(v,{replace:f,state:p,target:g,preventScrollReset:x,relative:a,viewTransition:S});function $(V){o&&o(V),V.defaultPrevented||R(V)}return Z.createElement("a",ON({},b,{href:j||E,onClick:N||h?o:$,ref:r,target:g}))});var vV;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(vV||(vV={}));var xV;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(xV||(xV={}));function xst(n,e){let{target:r,replace:o,state:a,preventScrollReset:h,relative:f,viewTransition:p}=e===void 0?{}:e,g=ua(),v=Bo(),x=GY(n,{relative:f});return Z.useCallback(S=>{if(dst(S,r)){S.preventDefault();let b=o!==void 0?o:xk(v)===xk(x);g(n,{replace:b,state:a,preventScrollReset:h,relative:f,viewTransition:p})}},[v,g,x,o,a,r,n,h,f,p])}function eU(n,e){return function(){return n.apply(e,arguments)}}const{toString:wst}=Object.prototype,{getPrototypeOf:yE}=Object,{iterator:VP,toStringTag:iU}=Symbol,zP=(n=>e=>{const r=wst.call(e);return n[r]||(n[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ha=n=>(n=n.toLowerCase(),e=>zP(e)===n),XP=n=>e=>typeof e===n,{isArray:kg}=Array,jO=XP("undefined");function Sst(n){return n!==null&&!jO(n)&&n.constructor!==null&&!jO(n.constructor)&&fo(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const nU=ha("ArrayBuffer");function kst(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&nU(n.buffer),e}const Pst=XP("string"),fo=XP("function"),rU=XP("number"),BP=n=>n!==null&&typeof n=="object",bst=n=>n===!0||n===!1,yS=n=>{if(zP(n)!=="object")return!1;const e=yE(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(iU in n)&&!(VP in n)},Tst=ha("Date"),Cst=ha("File"),Mst=ha("Blob"),Qst=ha("FileList"),Nst=n=>BP(n)&&fo(n.pipe),Ast=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||fo(n.append)&&((e=zP(n))==="formdata"||e==="object"&&fo(n.toString)&&n.toString()==="[object FormData]"))},jst=ha("URLSearchParams"),[Est,Rst,Lst,$st]=["ReadableStream","Request","Response","Headers"].map(ha),Dst=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wv(n,e,{allOwnKeys:r=!1}={}){if(n===null||typeof n>"u")return;let o,a;if(typeof n!="object"&&(n=[n]),kg(n))for(o=0,a=n.length;o<a;o++)e.call(null,n[o],o,n);else{const h=r?Object.getOwnPropertyNames(n):Object.keys(n),f=h.length;let p;for(o=0;o<f;o++)p=h[o],e.call(null,n[p],p,n)}}function sU(n,e){e=e.toLowerCase();const r=Object.keys(n);let o=r.length,a;for(;o-- >0;)if(a=r[o],e===a.toLowerCase())return a;return null}const Jf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,oU=n=>!jO(n)&&n!==Jf;function vN(){const{caseless:n}=oU(this)&&this||{},e={},r=(o,a)=>{const h=n&&sU(e,a)||a;yS(e[h])&&yS(o)?e[h]=vN(e[h],o):yS(o)?e[h]=vN({},o):kg(o)?e[h]=o.slice():e[h]=o};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&wv(arguments[o],r);return e}const Ist=(n,e,r,{allOwnKeys:o}={})=>(wv(e,(a,h)=>{r&&fo(a)?n[h]=eU(a,r):n[h]=a},{allOwnKeys:o}),n),Fst=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Vst=(n,e,r,o)=>{n.prototype=Object.create(e.prototype,o),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),r&&Object.assign(n.prototype,r)},zst=(n,e,r,o)=>{let a,h,f;const p={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),h=a.length;h-- >0;)f=a[h],(!o||o(f,n,e))&&!p[f]&&(e[f]=n[f],p[f]=!0);n=r!==!1&&yE(n)}while(n&&(!r||r(n,e))&&n!==Object.prototype);return e},Xst=(n,e,r)=>{n=String(n),(r===void 0||r>n.length)&&(r=n.length),r-=e.length;const o=n.indexOf(e,r);return o!==-1&&o===r},Bst=n=>{if(!n)return null;if(kg(n))return n;let e=n.length;if(!rU(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=n[e];return r},_st=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&yE(Uint8Array)),Zst=(n,e)=>{const o=(n&&n[VP]).call(n);let a;for(;(a=o.next())&&!a.done;){const h=a.value;e.call(n,h[0],h[1])}},Yst=(n,e)=>{let r;const o=[];for(;(r=n.exec(e))!==null;)o.push(r);return o},Ust=ha("HTMLFormElement"),Wst=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,o,a){return o.toUpperCase()+a}),wV=(({hasOwnProperty:n})=>(e,r)=>n.call(e,r))(Object.prototype),qst=ha("RegExp"),lU=(n,e)=>{const r=Object.getOwnPropertyDescriptors(n),o={};wv(r,(a,h)=>{let f;(f=e(a,h,n))!==!1&&(o[h]=f||a)}),Object.defineProperties(n,o)},Gst=n=>{lU(n,(e,r)=>{if(fo(n)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const o=n[r];if(fo(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Hst=(n,e)=>{const r={},o=a=>{a.forEach(h=>{r[h]=!0})};return kg(n)?o(n):o(String(n).split(e)),r},Kst=()=>{},Jst=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function tot(n){return!!(n&&fo(n.append)&&n[iU]==="FormData"&&n[VP])}const eot=n=>{const e=new Array(10),r=(o,a)=>{if(BP(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[a]=o;const h=kg(o)?[]:{};return wv(o,(f,p)=>{const g=r(f,a+1);!jO(g)&&(h[p]=g)}),e[a]=void 0,h}}return o};return r(n,0)},iot=ha("AsyncFunction"),not=n=>n&&(BP(n)||fo(n))&&fo(n.then)&&fo(n.catch),aU=((n,e)=>n?setImmediate:e?((r,o)=>(Jf.addEventListener("message",({source:a,data:h})=>{a===Jf&&h===r&&o.length&&o.shift()()},!1),a=>{o.push(a),Jf.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",fo(Jf.postMessage)),rot=typeof queueMicrotask<"u"?queueMicrotask.bind(Jf):typeof process<"u"&&process.nextTick||aU,sot=n=>n!=null&&fo(n[VP]),Pt={isArray:kg,isArrayBuffer:nU,isBuffer:Sst,isFormData:Ast,isArrayBufferView:kst,isString:Pst,isNumber:rU,isBoolean:bst,isObject:BP,isPlainObject:yS,isReadableStream:Est,isRequest:Rst,isResponse:Lst,isHeaders:$st,isUndefined:jO,isDate:Tst,isFile:Cst,isBlob:Mst,isRegExp:qst,isFunction:fo,isStream:Nst,isURLSearchParams:jst,isTypedArray:_st,isFileList:Qst,forEach:wv,merge:vN,extend:Ist,trim:Dst,stripBOM:Fst,inherits:Vst,toFlatObject:zst,kindOf:zP,kindOfTest:ha,endsWith:Xst,toArray:Bst,forEachEntry:Zst,matchAll:Yst,isHTMLForm:Ust,hasOwnProperty:wV,hasOwnProp:wV,reduceDescriptors:lU,freezeMethods:Gst,toObjectSet:Hst,toCamelCase:Wst,noop:Kst,toFiniteNumber:Jst,findKey:sU,global:Jf,isContextDefined:oU,isSpecCompliantForm:tot,toJSONObject:eot,isAsyncFn:iot,isThenable:not,setImmediate:aU,asap:rot,isIterable:sot};function Qe(n,e,r,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),o&&(this.request=o),a&&(this.response=a,this.status=a.status?a.status:null)}Pt.inherits(Qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pt.toJSONObject(this.config),code:this.code,status:this.status}}});const uU=Qe.prototype,hU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{hU[n]={value:n}});Object.defineProperties(Qe,hU);Object.defineProperty(uU,"isAxiosError",{value:!0});Qe.from=(n,e,r,o,a,h)=>{const f=Object.create(uU);return Pt.toFlatObject(n,f,function(g){return g!==Error.prototype},p=>p!=="isAxiosError"),Qe.call(f,n.message,e,r,o,a),f.cause=n,f.name=n.name,h&&Object.assign(f,h),f};const oot=null;function xN(n){return Pt.isPlainObject(n)||Pt.isArray(n)}function cU(n){return Pt.endsWith(n,"[]")?n.slice(0,-2):n}function SV(n,e,r){return n?n.concat(e).map(function(a,h){return a=cU(a),!r&&h?"["+a+"]":a}).join(r?".":""):e}function lot(n){return Pt.isArray(n)&&!n.some(xN)}const aot=Pt.toFlatObject(Pt,{},null,function(e){return/^is[A-Z]/.test(e)});function _P(n,e,r){if(!Pt.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,r=Pt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,E){return!Pt.isUndefined(E[N])});const o=r.metaTokens,a=r.visitor||x,h=r.dots,f=r.indexes,g=(r.Blob||typeof Blob<"u"&&Blob)&&Pt.isSpecCompliantForm(e);if(!Pt.isFunction(a))throw new TypeError("visitor must be a function");function v(j){if(j===null)return"";if(Pt.isDate(j))return j.toISOString();if(!g&&Pt.isBlob(j))throw new Qe("Blob is not supported. Use a Buffer instead.");return Pt.isArrayBuffer(j)||Pt.isTypedArray(j)?g&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function x(j,N,E){let R=j;if(j&&!E&&typeof j=="object"){if(Pt.endsWith(N,"{}"))N=o?N:N.slice(0,-2),j=JSON.stringify(j);else if(Pt.isArray(j)&&lot(j)||(Pt.isFileList(j)||Pt.endsWith(N,"[]"))&&(R=Pt.toArray(j)))return N=cU(N),R.forEach(function(V,D){!(Pt.isUndefined(V)||V===null)&&e.append(f===!0?SV([N],D,h):f===null?N:N+"[]",v(V))}),!1}return xN(j)?!0:(e.append(SV(E,N,h),v(j)),!1)}const S=[],b=Object.assign(aot,{defaultVisitor:x,convertValue:v,isVisitable:xN});function C(j,N){if(!Pt.isUndefined(j)){if(S.indexOf(j)!==-1)throw Error("Circular reference detected in "+N.join("."));S.push(j),Pt.forEach(j,function(R,$){(!(Pt.isUndefined(R)||R===null)&&a.call(e,R,Pt.isString($)?$.trim():$,N,b))===!0&&C(R,N?N.concat($):[$])}),S.pop()}}if(!Pt.isObject(n))throw new TypeError("data must be an object");return C(n),e}function kV(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function OE(n,e){this._pairs=[],n&&_P(n,this,e)}const fU=OE.prototype;fU.append=function(e,r){this._pairs.push([e,r])};fU.toString=function(e){const r=e?function(o){return e.call(this,o,kV)}:kV;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function uot(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function dU(n,e,r){if(!e)return n;const o=r&&r.encode||uot;Pt.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let h;if(a?h=a(e,r):h=Pt.isURLSearchParams(e)?e.toString():new OE(e,r).toString(o),h){const f=n.indexOf("#");f!==-1&&(n=n.slice(0,f)),n+=(n.indexOf("?")===-1?"?":"&")+h}return n}class PV{constructor(){this.handlers=[]}use(e,r,o){return this.handlers.push({fulfilled:e,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Pt.forEach(this.handlers,function(o){o!==null&&e(o)})}}const pU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hot=typeof URLSearchParams<"u"?URLSearchParams:OE,cot=typeof FormData<"u"?FormData:null,fot=typeof Blob<"u"?Blob:null,dot={isBrowser:!0,classes:{URLSearchParams:hot,FormData:cot,Blob:fot},protocols:["http","https","file","blob","url","data"]},vE=typeof window<"u"&&typeof document<"u",wN=typeof navigator=="object"&&navigator||void 0,pot=vE&&(!wN||["ReactNative","NativeScript","NS"].indexOf(wN.product)<0),mot=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",got=vE&&window.location.href||"http://localhost",yot=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vE,hasStandardBrowserEnv:pot,hasStandardBrowserWebWorkerEnv:mot,navigator:wN,origin:got},Symbol.toStringTag,{value:"Module"})),us={...yot,...dot};function Oot(n,e){return _P(n,new us.classes.URLSearchParams,Object.assign({visitor:function(r,o,a,h){return us.isNode&&Pt.isBuffer(r)?(this.append(o,r.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},e))}function vot(n){return Pt.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function xot(n){const e={},r=Object.keys(n);let o;const a=r.length;let h;for(o=0;o<a;o++)h=r[o],e[h]=n[h];return e}function mU(n){function e(r,o,a,h){let f=r[h++];if(f==="__proto__")return!0;const p=Number.isFinite(+f),g=h>=r.length;return f=!f&&Pt.isArray(a)?a.length:f,g?(Pt.hasOwnProp(a,f)?a[f]=[a[f],o]:a[f]=o,!p):((!a[f]||!Pt.isObject(a[f]))&&(a[f]=[]),e(r,o,a[f],h)&&Pt.isArray(a[f])&&(a[f]=xot(a[f])),!p)}if(Pt.isFormData(n)&&Pt.isFunction(n.entries)){const r={};return Pt.forEachEntry(n,(o,a)=>{e(vot(o),a,r,0)}),r}return null}function wot(n,e,r){if(Pt.isString(n))try{return(e||JSON.parse)(n),Pt.trim(n)}catch(o){if(o.name!=="SyntaxError")throw o}return(0,JSON.stringify)(n)}const Sv={transitional:pU,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const o=r.getContentType()||"",a=o.indexOf("application/json")>-1,h=Pt.isObject(e);if(h&&Pt.isHTMLForm(e)&&(e=new FormData(e)),Pt.isFormData(e))return a?JSON.stringify(mU(e)):e;if(Pt.isArrayBuffer(e)||Pt.isBuffer(e)||Pt.isStream(e)||Pt.isFile(e)||Pt.isBlob(e)||Pt.isReadableStream(e))return e;if(Pt.isArrayBufferView(e))return e.buffer;if(Pt.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let p;if(h){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Oot(e,this.formSerializer).toString();if((p=Pt.isFileList(e))||o.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return _P(p?{"files[]":e}:e,g&&new g,this.formSerializer)}}return h||a?(r.setContentType("application/json",!1),wot(e)):e}],transformResponse:[function(e){const r=this.transitional||Sv.transitional,o=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Pt.isResponse(e)||Pt.isReadableStream(e))return e;if(e&&Pt.isString(e)&&(o&&!this.responseType||a)){const f=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(p){if(f)throw p.name==="SyntaxError"?Qe.from(p,Qe.ERR_BAD_RESPONSE,this,null,this.response):p}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:us.classes.FormData,Blob:us.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pt.forEach(["delete","get","head","post","put","patch"],n=>{Sv.headers[n]={}});const Sot=Pt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kot=n=>{const e={};let r,o,a;return n&&n.split(`
`).forEach(function(f){a=f.indexOf(":"),r=f.substring(0,a).trim().toLowerCase(),o=f.substring(a+1).trim(),!(!r||e[r]&&Sot[r])&&(r==="set-cookie"?e[r]?e[r].push(o):e[r]=[o]:e[r]=e[r]?e[r]+", "+o:o)}),e},bV=Symbol("internals");function dy(n){return n&&String(n).trim().toLowerCase()}function OS(n){return n===!1||n==null?n:Pt.isArray(n)?n.map(OS):String(n)}function Pot(n){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=r.exec(n);)e[o[1]]=o[2];return e}const bot=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function eM(n,e,r,o,a){if(Pt.isFunction(o))return o.call(this,e,r);if(a&&(e=r),!!Pt.isString(e)){if(Pt.isString(o))return e.indexOf(o)!==-1;if(Pt.isRegExp(o))return o.test(e)}}function Tot(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,o)=>r.toUpperCase()+o)}function Cot(n,e){const r=Pt.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(n,o+r,{value:function(a,h,f){return this[o].call(this,e,a,h,f)},configurable:!0})})}class po{constructor(e){e&&this.set(e)}set(e,r,o){const a=this;function h(p,g,v){const x=dy(g);if(!x)throw new Error("header name must be a non-empty string");const S=Pt.findKey(a,x);(!S||a[S]===void 0||v===!0||v===void 0&&a[S]!==!1)&&(a[S||g]=OS(p))}const f=(p,g)=>Pt.forEach(p,(v,x)=>h(v,x,g));if(Pt.isPlainObject(e)||e instanceof this.constructor)f(e,r);else if(Pt.isString(e)&&(e=e.trim())&&!bot(e))f(kot(e),r);else if(Pt.isObject(e)&&Pt.isIterable(e)){let p={},g,v;for(const x of e){if(!Pt.isArray(x))throw TypeError("Object iterator must return a key-value pair");p[v=x[0]]=(g=p[v])?Pt.isArray(g)?[...g,x[1]]:[g,x[1]]:x[1]}f(p,r)}else e!=null&&h(r,e,o);return this}get(e,r){if(e=dy(e),e){const o=Pt.findKey(this,e);if(o){const a=this[o];if(!r)return a;if(r===!0)return Pot(a);if(Pt.isFunction(r))return r.call(this,a,o);if(Pt.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=dy(e),e){const o=Pt.findKey(this,e);return!!(o&&this[o]!==void 0&&(!r||eM(this,this[o],o,r)))}return!1}delete(e,r){const o=this;let a=!1;function h(f){if(f=dy(f),f){const p=Pt.findKey(o,f);p&&(!r||eM(o,o[p],p,r))&&(delete o[p],a=!0)}}return Pt.isArray(e)?e.forEach(h):h(e),a}clear(e){const r=Object.keys(this);let o=r.length,a=!1;for(;o--;){const h=r[o];(!e||eM(this,this[h],h,e,!0))&&(delete this[h],a=!0)}return a}normalize(e){const r=this,o={};return Pt.forEach(this,(a,h)=>{const f=Pt.findKey(o,h);if(f){r[f]=OS(a),delete r[h];return}const p=e?Tot(h):String(h).trim();p!==h&&delete r[h],r[p]=OS(a),o[p]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Pt.forEach(this,(o,a)=>{o!=null&&o!==!1&&(r[a]=e&&Pt.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const o=new this(e);return r.forEach(a=>o.set(a)),o}static accessor(e){const o=(this[bV]=this[bV]={accessors:{}}).accessors,a=this.prototype;function h(f){const p=dy(f);o[p]||(Cot(a,f),o[p]=!0)}return Pt.isArray(e)?e.forEach(h):h(e),this}}po.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pt.reduceDescriptors(po.prototype,({value:n},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(o){this[r]=o}}});Pt.freezeMethods(po);function iM(n,e){const r=this||Sv,o=e||r,a=po.from(o.headers);let h=o.data;return Pt.forEach(n,function(p){h=p.call(r,h,a.normalize(),e?e.status:void 0)}),a.normalize(),h}function gU(n){return!!(n&&n.__CANCEL__)}function Pg(n,e,r){Qe.call(this,n??"canceled",Qe.ERR_CANCELED,e,r),this.name="CanceledError"}Pt.inherits(Pg,Qe,{__CANCEL__:!0});function yU(n,e,r){const o=r.config.validateStatus;!r.status||!o||o(r.status)?n(r):e(new Qe("Request failed with status code "+r.status,[Qe.ERR_BAD_REQUEST,Qe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Mot(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Qot(n,e){n=n||10;const r=new Array(n),o=new Array(n);let a=0,h=0,f;return e=e!==void 0?e:1e3,function(g){const v=Date.now(),x=o[h];f||(f=v),r[a]=g,o[a]=v;let S=h,b=0;for(;S!==a;)b+=r[S++],S=S%n;if(a=(a+1)%n,a===h&&(h=(h+1)%n),v-f<e)return;const C=x&&v-x;return C?Math.round(b*1e3/C):void 0}}function Not(n,e){let r=0,o=1e3/e,a,h;const f=(v,x=Date.now())=>{r=x,a=null,h&&(clearTimeout(h),h=null),n.apply(null,v)};return[(...v)=>{const x=Date.now(),S=x-r;S>=o?f(v,x):(a=v,h||(h=setTimeout(()=>{h=null,f(a)},o-S)))},()=>a&&f(a)]}const Sk=(n,e,r=3)=>{let o=0;const a=Qot(50,250);return Not(h=>{const f=h.loaded,p=h.lengthComputable?h.total:void 0,g=f-o,v=a(g),x=f<=p;o=f;const S={loaded:f,total:p,progress:p?f/p:void 0,bytes:g,rate:v||void 0,estimated:v&&p&&x?(p-f)/v:void 0,event:h,lengthComputable:p!=null,[e?"download":"upload"]:!0};n(S)},r)},TV=(n,e)=>{const r=n!=null;return[o=>e[0]({lengthComputable:r,total:n,loaded:o}),e[1]]},CV=n=>(...e)=>Pt.asap(()=>n(...e)),Aot=us.hasStandardBrowserEnv?((n,e)=>r=>(r=new URL(r,us.origin),n.protocol===r.protocol&&n.host===r.host&&(e||n.port===r.port)))(new URL(us.origin),us.navigator&&/(msie|trident)/i.test(us.navigator.userAgent)):()=>!0,jot=us.hasStandardBrowserEnv?{write(n,e,r,o,a,h){const f=[n+"="+encodeURIComponent(e)];Pt.isNumber(r)&&f.push("expires="+new Date(r).toGMTString()),Pt.isString(o)&&f.push("path="+o),Pt.isString(a)&&f.push("domain="+a),h===!0&&f.push("secure"),document.cookie=f.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Eot(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Rot(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function OU(n,e,r){let o=!Eot(e);return n&&(o||r==!1)?Rot(n,e):e}const MV=n=>n instanceof po?{...n}:n;function Sd(n,e){e=e||{};const r={};function o(v,x,S,b){return Pt.isPlainObject(v)&&Pt.isPlainObject(x)?Pt.merge.call({caseless:b},v,x):Pt.isPlainObject(x)?Pt.merge({},x):Pt.isArray(x)?x.slice():x}function a(v,x,S,b){if(Pt.isUndefined(x)){if(!Pt.isUndefined(v))return o(void 0,v,S,b)}else return o(v,x,S,b)}function h(v,x){if(!Pt.isUndefined(x))return o(void 0,x)}function f(v,x){if(Pt.isUndefined(x)){if(!Pt.isUndefined(v))return o(void 0,v)}else return o(void 0,x)}function p(v,x,S){if(S in e)return o(v,x);if(S in n)return o(void 0,v)}const g={url:h,method:h,data:h,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:p,headers:(v,x,S)=>a(MV(v),MV(x),S,!0)};return Pt.forEach(Object.keys(Object.assign({},n,e)),function(x){const S=g[x]||a,b=S(n[x],e[x],x);Pt.isUndefined(b)&&S!==p||(r[x]=b)}),r}const vU=n=>{const e=Sd({},n);let{data:r,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:h,headers:f,auth:p}=e;e.headers=f=po.from(f),e.url=dU(OU(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),p&&f.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let g;if(Pt.isFormData(r)){if(us.hasStandardBrowserEnv||us.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if((g=f.getContentType())!==!1){const[v,...x]=g?g.split(";").map(S=>S.trim()).filter(Boolean):[];f.setContentType([v||"multipart/form-data",...x].join("; "))}}if(us.hasStandardBrowserEnv&&(o&&Pt.isFunction(o)&&(o=o(e)),o||o!==!1&&Aot(e.url))){const v=a&&h&&jot.read(h);v&&f.set(a,v)}return e},Lot=typeof XMLHttpRequest<"u",$ot=Lot&&function(n){return new Promise(function(r,o){const a=vU(n);let h=a.data;const f=po.from(a.headers).normalize();let{responseType:p,onUploadProgress:g,onDownloadProgress:v}=a,x,S,b,C,j;function N(){C&&C(),j&&j(),a.cancelToken&&a.cancelToken.unsubscribe(x),a.signal&&a.signal.removeEventListener("abort",x)}let E=new XMLHttpRequest;E.open(a.method.toUpperCase(),a.url,!0),E.timeout=a.timeout;function R(){if(!E)return;const V=po.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),B={data:!p||p==="text"||p==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:V,config:n,request:E};yU(function(K){r(K),N()},function(K){o(K),N()},B),E=null}"onloadend"in E?E.onloadend=R:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(R)},E.onabort=function(){E&&(o(new Qe("Request aborted",Qe.ECONNABORTED,n,E)),E=null)},E.onerror=function(){o(new Qe("Network Error",Qe.ERR_NETWORK,n,E)),E=null},E.ontimeout=function(){let D=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const B=a.transitional||pU;a.timeoutErrorMessage&&(D=a.timeoutErrorMessage),o(new Qe(D,B.clarifyTimeoutError?Qe.ETIMEDOUT:Qe.ECONNABORTED,n,E)),E=null},h===void 0&&f.setContentType(null),"setRequestHeader"in E&&Pt.forEach(f.toJSON(),function(D,B){E.setRequestHeader(B,D)}),Pt.isUndefined(a.withCredentials)||(E.withCredentials=!!a.withCredentials),p&&p!=="json"&&(E.responseType=a.responseType),v&&([b,j]=Sk(v,!0),E.addEventListener("progress",b)),g&&E.upload&&([S,C]=Sk(g),E.upload.addEventListener("progress",S),E.upload.addEventListener("loadend",C)),(a.cancelToken||a.signal)&&(x=V=>{E&&(o(!V||V.type?new Pg(null,n,E):V),E.abort(),E=null)},a.cancelToken&&a.cancelToken.subscribe(x),a.signal&&(a.signal.aborted?x():a.signal.addEventListener("abort",x)));const $=Mot(a.url);if($&&us.protocols.indexOf($)===-1){o(new Qe("Unsupported protocol "+$+":",Qe.ERR_BAD_REQUEST,n));return}E.send(h||null)})},Dot=(n,e)=>{const{length:r}=n=n?n.filter(Boolean):[];if(e||r){let o=new AbortController,a;const h=function(v){if(!a){a=!0,p();const x=v instanceof Error?v:this.reason;o.abort(x instanceof Qe?x:new Pg(x instanceof Error?x.message:x))}};let f=e&&setTimeout(()=>{f=null,h(new Qe(`timeout ${e} of ms exceeded`,Qe.ETIMEDOUT))},e);const p=()=>{n&&(f&&clearTimeout(f),f=null,n.forEach(v=>{v.unsubscribe?v.unsubscribe(h):v.removeEventListener("abort",h)}),n=null)};n.forEach(v=>v.addEventListener("abort",h));const{signal:g}=o;return g.unsubscribe=()=>Pt.asap(p),g}},Iot=function*(n,e){let r=n.byteLength;if(r<e){yield n;return}let o=0,a;for(;o<r;)a=o+e,yield n.slice(o,a),o=a},Fot=async function*(n,e){for await(const r of Vot(n))yield*Iot(r,e)},Vot=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:r,value:o}=await e.read();if(r)break;yield o}}finally{await e.cancel()}},QV=(n,e,r,o)=>{const a=Fot(n,e);let h=0,f,p=g=>{f||(f=!0,o&&o(g))};return new ReadableStream({async pull(g){try{const{done:v,value:x}=await a.next();if(v){p(),g.close();return}let S=x.byteLength;if(r){let b=h+=S;r(b)}g.enqueue(new Uint8Array(x))}catch(v){throw p(v),v}},cancel(g){return p(g),a.return()}},{highWaterMark:2})},ZP=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",xU=ZP&&typeof ReadableStream=="function",zot=ZP&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),wU=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Xot=xU&&wU(()=>{let n=!1;const e=new Request(us.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),NV=64*1024,SN=xU&&wU(()=>Pt.isReadableStream(new Response("").body)),kk={stream:SN&&(n=>n.body)};ZP&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!kk[e]&&(kk[e]=Pt.isFunction(n[e])?r=>r[e]():(r,o)=>{throw new Qe(`Response type '${e}' is not supported`,Qe.ERR_NOT_SUPPORT,o)})})})(new Response);const Bot=async n=>{if(n==null)return 0;if(Pt.isBlob(n))return n.size;if(Pt.isSpecCompliantForm(n))return(await new Request(us.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Pt.isArrayBufferView(n)||Pt.isArrayBuffer(n))return n.byteLength;if(Pt.isURLSearchParams(n)&&(n=n+""),Pt.isString(n))return(await zot(n)).byteLength},_ot=async(n,e)=>{const r=Pt.toFiniteNumber(n.getContentLength());return r??Bot(e)},Zot=ZP&&(async n=>{let{url:e,method:r,data:o,signal:a,cancelToken:h,timeout:f,onDownloadProgress:p,onUploadProgress:g,responseType:v,headers:x,withCredentials:S="same-origin",fetchOptions:b}=vU(n);v=v?(v+"").toLowerCase():"text";let C=Dot([a,h&&h.toAbortSignal()],f),j;const N=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let E;try{if(g&&Xot&&r!=="get"&&r!=="head"&&(E=await _ot(x,o))!==0){let B=new Request(e,{method:"POST",body:o,duplex:"half"}),q;if(Pt.isFormData(o)&&(q=B.headers.get("content-type"))&&x.setContentType(q),B.body){const[K,J]=TV(E,Sk(CV(g)));o=QV(B.body,NV,K,J)}}Pt.isString(S)||(S=S?"include":"omit");const R="credentials"in Request.prototype;j=new Request(e,{...b,signal:C,method:r.toUpperCase(),headers:x.normalize().toJSON(),body:o,duplex:"half",credentials:R?S:void 0});let $=await fetch(j);const V=SN&&(v==="stream"||v==="response");if(SN&&(p||V&&N)){const B={};["status","statusText","headers"].forEach(ot=>{B[ot]=$[ot]});const q=Pt.toFiniteNumber($.headers.get("content-length")),[K,J]=p&&TV(q,Sk(CV(p),!0))||[];$=new Response(QV($.body,NV,K,()=>{J&&J(),N&&N()}),B)}v=v||"text";let D=await kk[Pt.findKey(kk,v)||"text"]($,n);return!V&&N&&N(),await new Promise((B,q)=>{yU(B,q,{data:D,headers:po.from($.headers),status:$.status,statusText:$.statusText,config:n,request:j})})}catch(R){throw N&&N(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new Qe("Network Error",Qe.ERR_NETWORK,n,j),{cause:R.cause||R}):Qe.from(R,R&&R.code,n,j)}}),kN={http:oot,xhr:$ot,fetch:Zot};Pt.forEach(kN,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const AV=n=>`- ${n}`,Yot=n=>Pt.isFunction(n)||n===null||n===!1,SU={getAdapter:n=>{n=Pt.isArray(n)?n:[n];const{length:e}=n;let r,o;const a={};for(let h=0;h<e;h++){r=n[h];let f;if(o=r,!Yot(r)&&(o=kN[(f=String(r)).toLowerCase()],o===void 0))throw new Qe(`Unknown adapter '${f}'`);if(o)break;a[f||"#"+h]=o}if(!o){const h=Object.entries(a).map(([p,g])=>`adapter ${p} `+(g===!1?"is not supported by the environment":"is not available in the build"));let f=e?h.length>1?`since :
`+h.map(AV).join(`
`):" "+AV(h[0]):"as no adapter specified";throw new Qe("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return o},adapters:kN};function nM(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Pg(null,n)}function jV(n){return nM(n),n.headers=po.from(n.headers),n.data=iM.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),SU.getAdapter(n.adapter||Sv.adapter)(n).then(function(o){return nM(n),o.data=iM.call(n,n.transformResponse,o),o.headers=po.from(o.headers),o},function(o){return gU(o)||(nM(n),o&&o.response&&(o.response.data=iM.call(n,n.transformResponse,o.response),o.response.headers=po.from(o.response.headers))),Promise.reject(o)})}const kU="1.9.0",YP={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{YP[n]=function(o){return typeof o===n||"a"+(e<1?"n ":" ")+n}});const EV={};YP.transitional=function(e,r,o){function a(h,f){return"[Axios v"+kU+"] Transitional option '"+h+"'"+f+(o?". "+o:"")}return(h,f,p)=>{if(e===!1)throw new Qe(a(f," has been removed"+(r?" in "+r:"")),Qe.ERR_DEPRECATED);return r&&!EV[f]&&(EV[f]=!0,console.warn(a(f," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(h,f,p):!0}};YP.spelling=function(e){return(r,o)=>(console.warn(`${o} is likely a misspelling of ${e}`),!0)};function Uot(n,e,r){if(typeof n!="object")throw new Qe("options must be an object",Qe.ERR_BAD_OPTION_VALUE);const o=Object.keys(n);let a=o.length;for(;a-- >0;){const h=o[a],f=e[h];if(f){const p=n[h],g=p===void 0||f(p,h,n);if(g!==!0)throw new Qe("option "+h+" must be "+g,Qe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Qe("Unknown option "+h,Qe.ERR_BAD_OPTION)}}const vS={assertOptions:Uot,validators:YP},_a=vS.validators;class cd{constructor(e){this.defaults=e||{},this.interceptors={request:new PV,response:new PV}}async request(e,r){try{return await this._request(e,r)}catch(o){if(o instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const h=a.stack?a.stack.replace(/^.+\n/,""):"";try{o.stack?h&&!String(o.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+h):o.stack=h}catch{}}throw o}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Sd(this.defaults,r);const{transitional:o,paramsSerializer:a,headers:h}=r;o!==void 0&&vS.assertOptions(o,{silentJSONParsing:_a.transitional(_a.boolean),forcedJSONParsing:_a.transitional(_a.boolean),clarifyTimeoutError:_a.transitional(_a.boolean)},!1),a!=null&&(Pt.isFunction(a)?r.paramsSerializer={serialize:a}:vS.assertOptions(a,{encode:_a.function,serialize:_a.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),vS.assertOptions(r,{baseUrl:_a.spelling("baseURL"),withXsrfToken:_a.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let f=h&&Pt.merge(h.common,h[r.method]);h&&Pt.forEach(["delete","get","head","post","put","patch","common"],j=>{delete h[j]}),r.headers=po.concat(f,h);const p=[];let g=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(r)===!1||(g=g&&N.synchronous,p.unshift(N.fulfilled,N.rejected))});const v=[];this.interceptors.response.forEach(function(N){v.push(N.fulfilled,N.rejected)});let x,S=0,b;if(!g){const j=[jV.bind(this),void 0];for(j.unshift.apply(j,p),j.push.apply(j,v),b=j.length,x=Promise.resolve(r);S<b;)x=x.then(j[S++],j[S++]);return x}b=p.length;let C=r;for(S=0;S<b;){const j=p[S++],N=p[S++];try{C=j(C)}catch(E){N.call(this,E);break}}try{x=jV.call(this,C)}catch(j){return Promise.reject(j)}for(S=0,b=v.length;S<b;)x=x.then(v[S++],v[S++]);return x}getUri(e){e=Sd(this.defaults,e);const r=OU(e.baseURL,e.url,e.allowAbsoluteUrls);return dU(r,e.params,e.paramsSerializer)}}Pt.forEach(["delete","get","head","options"],function(e){cd.prototype[e]=function(r,o){return this.request(Sd(o||{},{method:e,url:r,data:(o||{}).data}))}});Pt.forEach(["post","put","patch"],function(e){function r(o){return function(h,f,p){return this.request(Sd(p||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:h,data:f}))}}cd.prototype[e]=r(),cd.prototype[e+"Form"]=r(!0)});class xE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(h){r=h});const o=this;this.promise.then(a=>{if(!o._listeners)return;let h=o._listeners.length;for(;h-- >0;)o._listeners[h](a);o._listeners=null}),this.promise.then=a=>{let h;const f=new Promise(p=>{o.subscribe(p),h=p}).then(a);return f.cancel=function(){o.unsubscribe(h)},f},e(function(h,f,p){o.reason||(o.reason=new Pg(h,f,p),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=o=>{e.abort(o)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new xE(function(a){e=a}),cancel:e}}}function Wot(n){return function(r){return n.apply(null,r)}}function qot(n){return Pt.isObject(n)&&n.isAxiosError===!0}const PN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(PN).forEach(([n,e])=>{PN[e]=n});function PU(n){const e=new cd(n),r=eU(cd.prototype.request,e);return Pt.extend(r,cd.prototype,e,{allOwnKeys:!0}),Pt.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return PU(Sd(n,a))},r}const Hn=PU(Sv);Hn.Axios=cd;Hn.CanceledError=Pg;Hn.CancelToken=xE;Hn.isCancel=gU;Hn.VERSION=kU;Hn.toFormData=_P;Hn.AxiosError=Qe;Hn.Cancel=Hn.CanceledError;Hn.all=function(e){return Promise.all(e)};Hn.spread=Wot;Hn.isAxiosError=qot;Hn.mergeConfig=Sd;Hn.AxiosHeaders=po;Hn.formToJSON=n=>mU(Pt.isHTMLForm(n)?new FormData(n):n);Hn.getAdapter=SU.getAdapter;Hn.HttpStatusCode=PN;Hn.default=Hn;const Ed=Hn.create({baseURL:"http://localhost:5001",withCredentials:!0,headers:{"Content-Type":"application/json"}});Ed.interceptors.request.use(n=>n,n=>Promise.reject(n));Ed.interceptors.response.use(n=>n,n=>{var e,r,o,a,h,f;return((e=n.response)==null?void 0:e.status)===401?console.warn("Unauthorized request:",(r=n.response.data)==null?void 0:r.message):((o=n.response)==null?void 0:o.status)===403?console.warn("Forbidden request:",(a=n.response.data)==null?void 0:a.message):((h=n.response)==null?void 0:h.status)>=500&&console.error("Server error:",(f=n.response.data)==null?void 0:f.message),Promise.reject(n)});const Got=(n,e,r)=>Ed.post("/api/auth/signup",{username:n,email:e,password:r}),Hot=(n,e)=>Ed.post("/api/auth/login",{username:n,password:e}),Kot=()=>Ed.get("/api/auth/user"),Jot=()=>Ed.post("/api/auth/logout"),tlt=()=>{window.location.href="http://localhost:5001/api/auth/google"},elt=()=>Ed.get("/api/auth/check"),bU=Z.createContext(void 0),ilt=({children:n})=>{const[e,r]=Z.useState(null),[o,a]=Z.useState(!0),h=e!==null,f=async()=>{try{const C=await Kot();C.data.status==="success"?r(C.data.user):r(null)}catch(C){console.error("Failed to refresh user:",C),r(null)}},p=async(C,j)=>{try{a(!0);const N=await Hot(C,j);if(N.data.status==="success")r(N.data.user);else throw new Error(N.data.message||"Login failed")}catch(N){throw console.error("Login failed:",N),N}finally{a(!1)}},g=async(C,j,N)=>{try{a(!0);const E=await Got(C,j,N);if(E.data.status==="success")r(E.data.user);else throw new Error(E.data.message||"Signup failed")}catch(E){throw console.error("Signup failed:",E),E}finally{a(!1)}},v=()=>{tlt()},x=async()=>{try{a(!0),await Jot(),r(null)}catch(C){console.error("Logout failed:",C),r(null)}finally{a(!1)}},S=async()=>{try{(await elt()).data.authenticated?await f():r(null)}catch(C){console.error("Auth check failed:",C),r(null)}};Z.useEffect(()=>{(async()=>{try{a(!0),await f()}catch(j){console.error("Failed to initialize auth:",j),r(null)}finally{a(!1)}})()},[]),Z.useEffect(()=>{const C=()=>{!o&&e&&f()};return window.addEventListener("focus",C),()=>window.removeEventListener("focus",C)},[o,e]),Z.useEffect(()=>{if(!e)return;const C=setInterval(()=>{S()},5*60*1e3);return()=>clearInterval(C)},[e]);const b={user:e,loading:o,login:p,signup:g,logout:x,refreshUser:f,loginWithGoogle:v,isAuthenticated:h};return Q.jsx(bU.Provider,{value:b,children:n})},bg=()=>{const n=Z.useContext(bU);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},bw=({children:n})=>{const{user:e,loading:r}=bg(),o=Bo();return r?Q.jsx("div",{children:"Loading..."}):e?n:Q.jsx(JY,{to:"/login",state:{from:o},replace:!0})},wE=Z.createContext({});function SE(n){const e=Z.useRef(null);return e.current===null&&(e.current=n()),e.current}const kE=typeof window<"u",TU=kE?Z.useLayoutEffect:Z.useEffect,UP=Z.createContext(null),PE=Z.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function CU(n){return typeof n=="object"&&n!==null}function bE(n){return CU(n)&&"offsetHeight"in n}class nlt extends Z.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const o=r.offsetParent,a=bE(o)&&o.offsetWidth||0,h=this.props.sizeRef.current;h.height=r.offsetHeight||0,h.width=r.offsetWidth||0,h.top=r.offsetTop,h.left=r.offsetLeft,h.right=a-h.width-h.left}return null}componentDidUpdate(){}render(){return this.props.children}}function rlt({children:n,isPresent:e,anchorX:r}){const o=Z.useId(),a=Z.useRef(null),h=Z.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=Z.useContext(PE);return Z.useInsertionEffect(()=>{const{width:p,height:g,top:v,left:x,right:S}=h.current;if(e||!a.current||!p||!g)return;const b=r==="left"?`left: ${x}`:`right: ${S}`;a.current.dataset.motionPopId=o;const C=document.createElement("style");return f&&(C.nonce=f),document.head.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${b}px !important;
            top: ${v}px !important;
          }
        `),()=>{document.head.contains(C)&&document.head.removeChild(C)}},[e]),Q.jsx(nlt,{isPresent:e,childRef:a,sizeRef:h,children:Z.cloneElement(n,{ref:a})})}const slt=({children:n,initial:e,isPresent:r,onExitComplete:o,custom:a,presenceAffectsLayout:h,mode:f,anchorX:p})=>{const g=SE(olt),v=Z.useId();let x=!0,S=Z.useMemo(()=>(x=!1,{id:v,initial:e,isPresent:r,custom:a,onExitComplete:b=>{g.set(b,!0);for(const C of g.values())if(!C)return;o&&o()},register:b=>(g.set(b,!1),()=>g.delete(b))}),[r,g,o]);return h&&x&&(S={...S}),Z.useMemo(()=>{g.forEach((b,C)=>g.set(C,!1))},[r]),Z.useEffect(()=>{!r&&!g.size&&o&&o()},[r]),f==="popLayout"&&(n=Q.jsx(rlt,{isPresent:r,anchorX:p,children:n})),Q.jsx(UP.Provider,{value:S,children:n})};function olt(){return new Map}function MU(n=!0){const e=Z.useContext(UP);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:o,register:a}=e,h=Z.useId();Z.useEffect(()=>{if(n)return a(h)},[n]);const f=Z.useCallback(()=>n&&o&&o(h),[h,o,n]);return!r&&o?[!1,f]:[!0]}const Tw=n=>n.key||"";function RV(n){const e=[];return Z.Children.forEach(n,r=>{Z.isValidElement(r)&&e.push(r)}),e}const llt=({children:n,custom:e,initial:r=!0,onExitComplete:o,presenceAffectsLayout:a=!0,mode:h="sync",propagate:f=!1,anchorX:p="left"})=>{const[g,v]=MU(f),x=Z.useMemo(()=>RV(n),[n]),S=f&&!g?[]:x.map(Tw),b=Z.useRef(!0),C=Z.useRef(x),j=SE(()=>new Map),[N,E]=Z.useState(x),[R,$]=Z.useState(x);TU(()=>{b.current=!1,C.current=x;for(let B=0;B<R.length;B++){const q=Tw(R[B]);S.includes(q)?j.delete(q):j.get(q)!==!0&&j.set(q,!1)}},[R,S.length,S.join("-")]);const V=[];if(x!==N){let B=[...x];for(let q=0;q<R.length;q++){const K=R[q],J=Tw(K);S.includes(J)||(B.splice(q,0,K),V.push(K))}return h==="wait"&&V.length&&(B=V),$(RV(B)),E(x),null}const{forceRender:D}=Z.useContext(wE);return Q.jsx(Q.Fragment,{children:R.map(B=>{const q=Tw(B),K=f&&!g?!1:x===R||S.includes(q),J=()=>{if(j.has(q))j.set(q,!0);else return;let ot=!0;j.forEach(Ot=>{Ot||(ot=!1)}),ot&&(D==null||D(),$(C.current),f&&(v==null||v()),o&&o())};return Q.jsx(slt,{isPresent:K,initial:!b.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:h,onExitComplete:K?void 0:J,anchorX:p,children:B},q)})})},Cw=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],LV={value:null,addProjectionMetrics:null};function alt(n,e){let r=new Set,o=new Set,a=!1,h=!1;const f=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1},g=0;function v(S){f.has(S)&&(x.schedule(S),n()),g++,S(p)}const x={schedule:(S,b=!1,C=!1)=>{const N=C&&a?r:o;return b&&f.add(S),N.has(S)||N.add(S),S},cancel:S=>{o.delete(S),f.delete(S)},process:S=>{if(p=S,a){h=!0;return}a=!0,[r,o]=[o,r],r.forEach(v),e&&LV.value&&LV.value.frameloop[e].push(g),g=0,r.clear(),a=!1,h&&(h=!1,x.process(S))}};return x}const yh={},ult=40;function QU(n,e){let r=!1,o=!0;const a={delta:0,timestamp:0,isProcessing:!1},h=()=>r=!0,f=Cw.reduce((V,D)=>(V[D]=alt(h,e?D:void 0),V),{}),{setup:p,read:g,resolveKeyframes:v,preUpdate:x,update:S,preRender:b,render:C,postRender:j}=f,N=()=>{const V=yh.useManualTiming?a.timestamp:performance.now();r=!1,yh.useManualTiming||(a.delta=o?1e3/60:Math.max(Math.min(V-a.timestamp,ult),1)),a.timestamp=V,a.isProcessing=!0,p.process(a),g.process(a),v.process(a),x.process(a),S.process(a),b.process(a),C.process(a),j.process(a),a.isProcessing=!1,r&&e&&(o=!1,n(N))},E=()=>{r=!0,o=!0,a.isProcessing||n(N)};return{schedule:Cw.reduce((V,D)=>{const B=f[D];return V[D]=(q,K=!1,J=!1)=>(r||E(),B.schedule(q,K,J)),V},{}),cancel:V=>{for(let D=0;D<Cw.length;D++)f[Cw[D]].cancel(V)},state:a,steps:f}}const kl=n=>n,{schedule:hn,cancel:Fc,state:Ir,steps:rM}=QU(typeof requestAnimationFrame<"u"?requestAnimationFrame:kl,!0),NU=Z.createContext({strict:!1}),$V={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},eg={};for(const n in $V)eg[n]={isEnabled:e=>$V[n].some(r=>!!e[r])};function hlt(n){for(const e in n)eg[e]={...eg[e],...n[e]}}const clt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pk(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||clt.has(n)}let AU=n=>!Pk(n);function flt(n){n&&(AU=e=>e.startsWith("on")?!Pk(e):n(e))}try{flt(require("@emotion/is-prop-valid").default)}catch{}function dlt(n,e,r){const o={};for(const a in n)a==="values"&&typeof n.values=="object"||(AU(a)||r===!0&&Pk(a)||!e&&!Pk(a)||n.draggable&&a.startsWith("onDrag"))&&(o[a]=n[a]);return o}function plt(n){if(typeof Proxy>"u")return n;const e=new Map,r=(...o)=>n(...o);return new Proxy(r,{get:(o,a)=>a==="create"?n:(e.has(a)||e.set(a,n(a)),e.get(a))})}const WP=Z.createContext({});function qP(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function EO(n){return typeof n=="string"||Array.isArray(n)}const TE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],CE=["initial",...TE];function GP(n){return qP(n.animate)||CE.some(e=>EO(n[e]))}function jU(n){return!!(GP(n)||n.variants)}function mlt(n,e){if(GP(n)){const{initial:r,animate:o}=n;return{initial:r===!1||EO(r)?r:void 0,animate:EO(o)?o:void 0}}return n.inherit!==!1?e:{}}function glt(n){const{initial:e,animate:r}=mlt(n,Z.useContext(WP));return Z.useMemo(()=>({initial:e,animate:r}),[DV(e),DV(r)])}function DV(n){return Array.isArray(n)?n.join(" "):n}const ylt=Symbol.for("motionComponentSymbol");function dm(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Olt(n,e,r){return Z.useCallback(o=>{o&&n.onMount&&n.onMount(o),e&&(o?e.mount(o):e.unmount()),r&&(typeof r=="function"?r(o):dm(r)&&(r.current=o))},[e])}const ME=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vlt="framerAppearId",EU="data-"+ME(vlt),RU=Z.createContext({}),{schedule:QE,cancel:vkt}=QU(queueMicrotask,!1);function xlt(n,e,r,o,a){var N,E;const{visualElement:h}=Z.useContext(WP),f=Z.useContext(NU),p=Z.useContext(UP),g=Z.useContext(PE).reducedMotion,v=Z.useRef(null);o=o||f.renderer,!v.current&&o&&(v.current=o(n,{visualState:e,parent:h,props:r,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const x=v.current,S=Z.useContext(RU);x&&!x.projection&&a&&(x.type==="html"||x.type==="svg")&&wlt(v.current,r,a,S);const b=Z.useRef(!1);Z.useInsertionEffect(()=>{x&&b.current&&x.update(r,p)});const C=r[EU],j=Z.useRef(!!C&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,C))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,C)));return TU(()=>{x&&(b.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),QE.render(x.render),j.current&&x.animationState&&x.animationState.animateChanges())}),Z.useEffect(()=>{x&&(!j.current&&x.animationState&&x.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)==null||R.call(window,C)}),j.current=!1))}),x}function wlt(n,e,r,o){const{layoutId:a,layout:h,drag:f,dragConstraints:p,layoutScroll:g,layoutRoot:v,layoutCrossfade:x}=e;n.projection=new r(n.latestValues,e["data-framer-portal-id"]?void 0:LU(n.parent)),n.projection.setOptions({layoutId:a,layout:h,alwaysMeasureLayout:!!f||p&&dm(p),visualElement:n,animationType:typeof h=="string"?h:"both",initialPromotionConfig:o,crossfade:x,layoutScroll:g,layoutRoot:v})}function LU(n){if(n)return n.options.allowProjection!==!1?n.projection:LU(n.parent)}let bk=()=>{};function Slt({preloadedFeatures:n,createVisualElement:e,useRender:r,useVisualState:o,Component:a}){n&&hlt(n);function h(p,g){let v;const x={...Z.useContext(PE),...p,layoutId:klt(p)},{isStatic:S}=x,b=glt(p),C=o(p,S);if(!S&&kE){Plt();const j=blt(x);v=j.MeasureLayout,b.visualElement=xlt(a,C,x,e,j.ProjectionNode)}return Q.jsxs(WP.Provider,{value:b,children:[v&&b.visualElement?Q.jsx(v,{visualElement:b.visualElement,...x}):null,r(a,p,Olt(C,b.visualElement,g),C,S,b.visualElement)]})}h.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const f=Z.forwardRef(h);return f[ylt]=a,f}function klt({layoutId:n}){const e=Z.useContext(wE).id;return e&&n!==void 0?e+"-"+n:n}function Plt(n,e){Z.useContext(NU).strict}function blt(n){const{drag:e,layout:r}=eg;if(!e&&!r)return{};const o={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(n)||r!=null&&r.isEnabled(n)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}const $U=n=>e=>typeof e=="string"&&e.startsWith(n),NE=$U("--"),Tlt=$U("var(--"),AE=n=>Tlt(n)?Clt.test(n.split("/*")[0].trim()):!1,Clt=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,RO={};function Mlt(n){for(const e in n)RO[e]=n[e],NE(e)&&(RO[e].isCSSVariable=!0)}const Tg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cg=new Set(Tg);function DU(n,{layout:e,layoutId:r}){return Cg.has(n)||n.startsWith("origin")||(e||r!==void 0)&&(!!RO[n]||n==="opacity")}const IU=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Oh=(n,e,r)=>r>e?e:r<n?n:r,Mg={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},LO={...Mg,transform:n=>Oh(0,1,n)},Mw={...Mg,default:1},IV={...Mg,transform:Math.round},kv=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),nc=kv("deg"),au=kv("%"),Oe=kv("px"),Qlt=kv("vh"),Nlt=kv("vw"),FV={...au,parse:n=>au.parse(n)/100,transform:n=>au.transform(n*100)},Alt={rotate:nc,rotateX:nc,rotateY:nc,rotateZ:nc,scale:Mw,scaleX:Mw,scaleY:Mw,scaleZ:Mw,skew:nc,skewX:nc,skewY:nc,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:LO,originX:FV,originY:FV,originZ:Oe},jE={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,backgroundPositionX:Oe,backgroundPositionY:Oe,...Alt,zIndex:IV,fillOpacity:LO,strokeOpacity:LO,numOctaves:IV},jlt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Elt=Tg.length;function Rlt(n,e,r){let o="",a=!0;for(let h=0;h<Elt;h++){const f=Tg[h],p=n[f];if(p===void 0)continue;let g=!0;if(typeof p=="number"?g=p===(f.startsWith("scale")?1:0):g=parseFloat(p)===0,!g||r){const v=IU(p,jE[f]);if(!g){a=!1;const x=jlt[f]||f;o+=`${x}(${v}) `}r&&(e[f]=v)}}return o=o.trim(),r?o=r(e,a?"":o):a&&(o="none"),o}function EE(n,e,r){const{style:o,vars:a,transformOrigin:h}=n;let f=!1,p=!1;for(const g in e){const v=e[g];if(Cg.has(g)){f=!0;continue}else if(NE(g)){a[g]=v;continue}else{const x=IU(v,jE[g]);g.startsWith("origin")?(p=!0,h[g]=x):o[g]=x}}if(e.transform||(f||r?o.transform=Rlt(e,n.transform,r):o.transform&&(o.transform="none")),p){const{originX:g="50%",originY:v="50%",originZ:x=0}=h;o.transformOrigin=`${g} ${v} ${x}`}}const RE=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),wr=n=>!!(n&&n.getVelocity);function FU(n,e,r){for(const o in e)!wr(e[o])&&!DU(o,r)&&(n[o]=e[o])}function Llt({transformTemplate:n},e){return Z.useMemo(()=>{const r=RE();return EE(r,e,n),Object.assign({},r.vars,r.style)},[e])}function $lt(n,e){const r=n.style||{},o={};return FU(o,r,n),Object.assign(o,Llt(n,e)),o}function Dlt(n,e){const r={},o=$lt(n,e);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=o,r}const Ilt={offset:"stroke-dashoffset",array:"stroke-dasharray"},Flt={offset:"strokeDashoffset",array:"strokeDasharray"};function Vlt(n,e,r=1,o=0,a=!0){n.pathLength=1;const h=a?Ilt:Flt;n[h.offset]=Oe.transform(-o);const f=Oe.transform(e),p=Oe.transform(r);n[h.array]=`${f} ${p}`}function VU(n,{attrX:e,attrY:r,attrScale:o,pathLength:a,pathSpacing:h=1,pathOffset:f=0,...p},g,v,x){if(EE(n,p,v),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:S,style:b}=n;S.transform&&(b.transform=S.transform,delete S.transform),(b.transform||S.transformOrigin)&&(b.transformOrigin=S.transformOrigin??"50% 50%",delete S.transformOrigin),b.transform&&(b.transformBox=(x==null?void 0:x.transformBox)??"fill-box",delete S.transformBox),e!==void 0&&(S.x=e),r!==void 0&&(S.y=r),o!==void 0&&(S.scale=o),a!==void 0&&Vlt(S,a,h,f,!1)}const zU=()=>({...RE(),attrs:{}}),XU=n=>typeof n=="string"&&n.toLowerCase()==="svg";function zlt(n,e,r,o){const a=Z.useMemo(()=>{const h=zU();return VU(h,e,XU(o),n.transformTemplate,n.style),{...h.attrs,style:{...h.style}}},[e]);if(n.style){const h={};FU(h,n.style,n),a.style={...h,...a.style}}return a}const Xlt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function LE(n){return typeof n!="string"||n.includes("-")?!1:!!(Xlt.indexOf(n)>-1||/[A-Z]/u.test(n))}function Blt(n=!1){return(r,o,a,{latestValues:h},f)=>{const g=(LE(r)?zlt:Dlt)(o,h,f,r),v=dlt(o,typeof r=="string",n),x=r!==Z.Fragment?{...v,...g,ref:a}:{},{children:S}=o,b=Z.useMemo(()=>wr(S)?S.get():S,[S]);return Z.createElement(r,{...x,children:b})}}function VV(n){const e=[{},{}];return n==null||n.values.forEach((r,o)=>{e[0][o]=r.get(),e[1][o]=r.getVelocity()}),e}function $E(n,e,r,o){if(typeof e=="function"){const[a,h]=VV(o);e=e(r!==void 0?r:n.custom,a,h)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,h]=VV(o);e=e(r!==void 0?r:n.custom,a,h)}return e}function xS(n){return wr(n)?n.get():n}function _lt({scrapeMotionValuesFromProps:n,createRenderState:e},r,o,a){return{latestValues:Zlt(r,o,a,n),renderState:e()}}const BU=n=>(e,r)=>{const o=Z.useContext(WP),a=Z.useContext(UP),h=()=>_lt(n,e,o,a);return r?h():SE(h)};function Zlt(n,e,r,o){const a={},h=o(n,{});for(const b in h)a[b]=xS(h[b]);let{initial:f,animate:p}=n;const g=GP(n),v=jU(n);e&&v&&!g&&n.inherit!==!1&&(f===void 0&&(f=e.initial),p===void 0&&(p=e.animate));let x=r?r.initial===!1:!1;x=x||f===!1;const S=x?p:f;if(S&&typeof S!="boolean"&&!qP(S)){const b=Array.isArray(S)?S:[S];for(let C=0;C<b.length;C++){const j=$E(n,b[C]);if(j){const{transitionEnd:N,transition:E,...R}=j;for(const $ in R){let V=R[$];if(Array.isArray(V)){const D=x?V.length-1:0;V=V[D]}V!==null&&(a[$]=V)}for(const $ in N)a[$]=N[$]}}}return a}function DE(n,e,r){var h;const{style:o}=n,a={};for(const f in o)(wr(o[f])||e.style&&wr(e.style[f])||DU(f,n)||((h=r==null?void 0:r.getValue(f))==null?void 0:h.liveStyle)!==void 0)&&(a[f]=o[f]);return a}const Ylt={useVisualState:BU({scrapeMotionValuesFromProps:DE,createRenderState:RE})};function _U(n,e,r){const o=DE(n,e,r);for(const a in n)if(wr(n[a])||wr(e[a])){const h=Tg.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;o[h]=n[a]}return o}const Ult={useVisualState:BU({scrapeMotionValuesFromProps:_U,createRenderState:zU})};function Wlt(n,e){return function(o,{forwardMotionProps:a}={forwardMotionProps:!1}){const f={...LE(o)?Ult:Ylt,preloadedFeatures:n,useRender:Blt(a),createVisualElement:e,Component:o};return Slt(f)}}function $O(n,e,r){const o=n.getProps();return $E(o,e,r!==void 0?r:o.custom,n)}const bN=n=>Array.isArray(n);let wS;function qlt(){wS=void 0}const oo={now:()=>(wS===void 0&&oo.set(Ir.isProcessing||yh.useManualTiming?Ir.timestamp:performance.now()),wS),set:n=>{wS=n,queueMicrotask(qlt)}};function IE(n,e){n.indexOf(e)===-1&&n.push(e)}function HP(n,e){const r=n.indexOf(e);r>-1&&n.splice(r,1)}class FE{constructor(){this.subscriptions=[]}add(e){return IE(this.subscriptions,e),()=>HP(this.subscriptions,e)}notify(e,r,o){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,o);else for(let h=0;h<a;h++){const f=this.subscriptions[h];f&&f(e,r,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ZU(n,e){return e?n*(1e3/e):0}const zV=30,Glt=n=>!isNaN(parseFloat(n));class Hlt{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(o,a=!0)=>{var f,p;const h=oo.now();if(this.updatedAt!==h&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&((f=this.events.change)==null||f.notify(this.current),this.dependents))for(const g of this.dependents)g.dirty();a&&((p=this.events.renderRequest)==null||p.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=oo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Glt(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new FE);const o=this.events[e].add(r);return e==="change"?()=>{o(),hn.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,o){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-o}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=oo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zV)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,zV);return ZU(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ig(n,e){return new Hlt(n,e)}function Klt(n,e,r){n.hasValue(e)?n.getValue(e).set(r):n.addValue(e,ig(r))}function Jlt(n){return bN(n)?n[n.length-1]||0:n}function tat(n,e){const r=$O(n,e);let{transitionEnd:o={},transition:a={},...h}=r||{};h={...h,...o};for(const f in h){const p=Jlt(h[f]);Klt(n,f,p)}}function eat(n){return!!(wr(n)&&n.add)}function TN(n,e){const r=n.getValue("willChange");if(eat(r))return r.add(e);if(!r&&yh.WillChange){const o=new yh.WillChange("auto");n.addValue("willChange",o),o.add(e)}}function YU(n){return n.props[EU]}const iat=n=>n!==null;function nat(n,{repeat:e,repeatType:r="loop"},o){const a=n.filter(iat),h=e&&r!=="loop"&&e%2===1?0:a.length-1;return!h||o===void 0?a[h]:o}const rat={type:"spring",stiffness:500,damping:25,restSpeed:10},sat=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),oat={type:"keyframes",duration:.8},lat={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aat=(n,{keyframes:e})=>e.length>2?oat:Cg.has(n)?n.startsWith("scale")?sat(e[1]):rat:lat;function uat({when:n,delay:e,delayChildren:r,staggerChildren:o,staggerDirection:a,repeat:h,repeatType:f,repeatDelay:p,from:g,elapsed:v,...x}){return!!Object.keys(x).length}function VE(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const ia=n=>n*1e3,uu=n=>n/1e3,Uy=n=>Math.round(n*1e5)/1e5,zE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hat(n){return n==null}const cat=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,XE=(n,e)=>r=>!!(typeof r=="string"&&cat.test(r)&&r.startsWith(n)||e&&!hat(r)&&Object.prototype.hasOwnProperty.call(r,e)),UU=(n,e,r)=>o=>{if(typeof o!="string")return o;const[a,h,f,p]=o.match(zE);return{[n]:parseFloat(a),[e]:parseFloat(h),[r]:parseFloat(f),alpha:p!==void 0?parseFloat(p):1}},fat=n=>Oh(0,255,n),sM={...Mg,transform:n=>Math.round(fat(n))},td={test:XE("rgb","red"),parse:UU("red","green","blue"),transform:({red:n,green:e,blue:r,alpha:o=1})=>"rgba("+sM.transform(n)+", "+sM.transform(e)+", "+sM.transform(r)+", "+Uy(LO.transform(o))+")"};function dat(n){let e="",r="",o="",a="";return n.length>5?(e=n.substring(1,3),r=n.substring(3,5),o=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),r=n.substring(2,3),o=n.substring(3,4),a=n.substring(4,5),e+=e,r+=r,o+=o,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(o,16),alpha:a?parseInt(a,16)/255:1}}const CN={test:XE("#"),parse:dat,transform:td.transform},pm={test:XE("hsl","hue"),parse:UU("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:r,alpha:o=1})=>"hsla("+Math.round(n)+", "+au.transform(Uy(e))+", "+au.transform(Uy(r))+", "+Uy(LO.transform(o))+")"},os={test:n=>td.test(n)||CN.test(n)||pm.test(n),parse:n=>td.test(n)?td.parse(n):pm.test(n)?pm.parse(n):CN.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?td.transform(n):pm.transform(n)},pat=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mat(n){var e,r;return isNaN(n)&&typeof n=="string"&&(((e=n.match(zE))==null?void 0:e.length)||0)+(((r=n.match(pat))==null?void 0:r.length)||0)>0}const WU="number",qU="color",gat="var",yat="var(",XV="${}",Oat=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function DO(n){const e=n.toString(),r=[],o={color:[],number:[],var:[]},a=[];let h=0;const p=e.replace(Oat,g=>(os.test(g)?(o.color.push(h),a.push(qU),r.push(os.parse(g))):g.startsWith(yat)?(o.var.push(h),a.push(gat),r.push(g)):(o.number.push(h),a.push(WU),r.push(parseFloat(g))),++h,XV)).split(XV);return{values:r,split:p,indexes:o,types:a}}function GU(n){return DO(n).values}function HU(n){const{split:e,types:r}=DO(n),o=e.length;return a=>{let h="";for(let f=0;f<o;f++)if(h+=e[f],a[f]!==void 0){const p=r[f];p===WU?h+=Uy(a[f]):p===qU?h+=os.transform(a[f]):h+=a[f]}return h}}const vat=n=>typeof n=="number"?0:n;function xat(n){const e=GU(n);return HU(n)(e.map(vat))}const Vc={test:mat,parse:GU,createTransformer:HU,getAnimatableNone:xat};function oM(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(e-n)*6*r:r<1/2?e:r<2/3?n+(e-n)*(2/3-r)*6:n}function wat({hue:n,saturation:e,lightness:r,alpha:o}){n/=360,e/=100,r/=100;let a=0,h=0,f=0;if(!e)a=h=f=r;else{const p=r<.5?r*(1+e):r+e-r*e,g=2*r-p;a=oM(g,p,n+1/3),h=oM(g,p,n),f=oM(g,p,n-1/3)}return{red:Math.round(a*255),green:Math.round(h*255),blue:Math.round(f*255),alpha:o}}function Tk(n,e){return r=>r>0?e:n}const Gi=(n,e,r)=>n+(e-n)*r,lM=(n,e,r)=>{const o=n*n,a=r*(e*e-o)+o;return a<0?0:Math.sqrt(a)},Sat=[CN,td,pm],kat=n=>Sat.find(e=>e.test(n));function BV(n){const e=kat(n);if(!e)return!1;let r=e.parse(n);return e===pm&&(r=wat(r)),r}const _V=(n,e)=>{const r=BV(n),o=BV(e);if(!r||!o)return Tk(n,e);const a={...r};return h=>(a.red=lM(r.red,o.red,h),a.green=lM(r.green,o.green,h),a.blue=lM(r.blue,o.blue,h),a.alpha=Gi(r.alpha,o.alpha,h),td.transform(a))},MN=new Set(["none","hidden"]);function Pat(n,e){return MN.has(n)?r=>r<=0?n:e:r=>r>=1?e:n}const bat=(n,e)=>r=>e(n(r)),Pv=(...n)=>n.reduce(bat);function Tat(n,e){return r=>Gi(n,e,r)}function BE(n){return typeof n=="number"?Tat:typeof n=="string"?AE(n)?Tk:os.test(n)?_V:Qat:Array.isArray(n)?KU:typeof n=="object"?os.test(n)?_V:Cat:Tk}function KU(n,e){const r=[...n],o=r.length,a=n.map((h,f)=>BE(h)(h,e[f]));return h=>{for(let f=0;f<o;f++)r[f]=a[f](h);return r}}function Cat(n,e){const r={...n,...e},o={};for(const a in r)n[a]!==void 0&&e[a]!==void 0&&(o[a]=BE(n[a])(n[a],e[a]));return a=>{for(const h in o)r[h]=o[h](a);return r}}function Mat(n,e){const r=[],o={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const h=e.types[a],f=n.indexes[h][o[h]],p=n.values[f]??0;r[a]=p,o[h]++}return r}const Qat=(n,e)=>{const r=Vc.createTransformer(e),o=DO(n),a=DO(e);return o.indexes.var.length===a.indexes.var.length&&o.indexes.color.length===a.indexes.color.length&&o.indexes.number.length>=a.indexes.number.length?MN.has(n)&&!a.values.length||MN.has(e)&&!o.values.length?Pat(n,e):Pv(KU(Mat(o,a),a.values),r):Tk(n,e)};function JU(n,e,r){return typeof n=="number"&&typeof e=="number"&&typeof r=="number"?Gi(n,e,r):BE(n)(n,e)}const Nat=n=>{const e=({timestamp:r})=>n(r);return{start:(r=!0)=>hn.update(e,r),stop:()=>Fc(e),now:()=>Ir.isProcessing?Ir.timestamp:oo.now()}},tW=(n,e,r=10)=>{let o="";const a=Math.max(Math.round(e/r),2);for(let h=0;h<a;h++)o+=n(h/(a-1))+", ";return`linear(${o.substring(0,o.length-2)})`},Ck=2e4;function _E(n){let e=0;const r=50;let o=n.next(e);for(;!o.done&&e<Ck;)e+=r,o=n.next(e);return e>=Ck?1/0:e}function eW(n,e=100,r){const o=r({...n,keyframes:[0,e]}),a=Math.min(_E(o),Ck);return{type:"keyframes",ease:h=>o.next(a*h).value/e,duration:uu(a)}}const Aat=5;function iW(n,e,r){const o=Math.max(e-Aat,0);return ZU(r-n(o),e-o)}const Tn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},aM=.001;function jat({duration:n=Tn.duration,bounce:e=Tn.bounce,velocity:r=Tn.velocity,mass:o=Tn.mass}){let a,h,f=1-e;f=Oh(Tn.minDamping,Tn.maxDamping,f),n=Oh(Tn.minDuration,Tn.maxDuration,uu(n)),f<1?(a=v=>{const x=v*f,S=x*n,b=x-r,C=QN(v,f),j=Math.exp(-S);return aM-b/C*j},h=v=>{const S=v*f*n,b=S*r+r,C=Math.pow(f,2)*Math.pow(v,2)*n,j=Math.exp(-S),N=QN(Math.pow(v,2),f);return(-a(v)+aM>0?-1:1)*((b-C)*j)/N}):(a=v=>{const x=Math.exp(-v*n),S=(v-r)*n+1;return-aM+x*S},h=v=>{const x=Math.exp(-v*n),S=(r-v)*(n*n);return x*S});const p=5/n,g=Rat(a,h,p);if(n=ia(n),isNaN(g))return{stiffness:Tn.stiffness,damping:Tn.damping,duration:n};{const v=Math.pow(g,2)*o;return{stiffness:v,damping:f*2*Math.sqrt(o*v),duration:n}}}const Eat=12;function Rat(n,e,r){let o=r;for(let a=1;a<Eat;a++)o=o-n(o)/e(o);return o}function QN(n,e){return n*Math.sqrt(1-e*e)}const Lat=["duration","bounce"],$at=["stiffness","damping","mass"];function ZV(n,e){return e.some(r=>n[r]!==void 0)}function Dat(n){let e={velocity:Tn.velocity,stiffness:Tn.stiffness,damping:Tn.damping,mass:Tn.mass,isResolvedFromDuration:!1,...n};if(!ZV(n,$at)&&ZV(n,Lat))if(n.visualDuration){const r=n.visualDuration,o=2*Math.PI/(r*1.2),a=o*o,h=2*Oh(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:Tn.mass,stiffness:a,damping:h}}else{const r=jat(n);e={...e,...r,mass:Tn.mass},e.isResolvedFromDuration=!0}return e}function IO(n=Tn.visualDuration,e=Tn.bounce){const r=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:o,restDelta:a}=r;const h=r.keyframes[0],f=r.keyframes[r.keyframes.length-1],p={done:!1,value:h},{stiffness:g,damping:v,mass:x,duration:S,velocity:b,isResolvedFromDuration:C}=Dat({...r,velocity:-uu(r.velocity||0)}),j=b||0,N=v/(2*Math.sqrt(g*x)),E=f-h,R=uu(Math.sqrt(g/x)),$=Math.abs(E)<5;o||(o=$?Tn.restSpeed.granular:Tn.restSpeed.default),a||(a=$?Tn.restDelta.granular:Tn.restDelta.default);let V;if(N<1){const B=QN(R,N);V=q=>{const K=Math.exp(-N*R*q);return f-K*((j+N*R*E)/B*Math.sin(B*q)+E*Math.cos(B*q))}}else if(N===1)V=B=>f-Math.exp(-R*B)*(E+(j+R*E)*B);else{const B=R*Math.sqrt(N*N-1);V=q=>{const K=Math.exp(-N*R*q),J=Math.min(B*q,300);return f-K*((j+N*R*E)*Math.sinh(J)+B*E*Math.cosh(J))/B}}const D={calculatedDuration:C&&S||null,next:B=>{const q=V(B);if(C)p.done=B>=S;else{let K=B===0?j:0;N<1&&(K=B===0?ia(j):iW(V,B,q));const J=Math.abs(K)<=o,ot=Math.abs(f-q)<=a;p.done=J&&ot}return p.value=p.done?f:q,p},toString:()=>{const B=Math.min(_E(D),Ck),q=tW(K=>D.next(B*K).value,B,30);return B+"ms "+q},toTransition:()=>{}};return D}IO.applyToOptions=n=>{const e=eW(n,100,IO);return n.ease=e.ease,n.duration=ia(e.duration),n.type="keyframes",n};function NN({keyframes:n,velocity:e=0,power:r=.8,timeConstant:o=325,bounceDamping:a=10,bounceStiffness:h=500,modifyTarget:f,min:p,max:g,restDelta:v=.5,restSpeed:x}){const S=n[0],b={done:!1,value:S},C=J=>p!==void 0&&J<p||g!==void 0&&J>g,j=J=>p===void 0?g:g===void 0||Math.abs(p-J)<Math.abs(g-J)?p:g;let N=r*e;const E=S+N,R=f===void 0?E:f(E);R!==E&&(N=R-S);const $=J=>-N*Math.exp(-J/o),V=J=>R+$(J),D=J=>{const ot=$(J),Ot=V(J);b.done=Math.abs(ot)<=v,b.value=b.done?R:Ot};let B,q;const K=J=>{C(b.value)&&(B=J,q=IO({keyframes:[b.value,j(b.value)],velocity:iW(V,J,b.value),damping:a,stiffness:h,restDelta:v,restSpeed:x}))};return K(0),{calculatedDuration:null,next:J=>{let ot=!1;return!q&&B===void 0&&(ot=!0,D(J),K(J)),B!==void 0&&J>=B?q.next(J-B):(!ot&&D(J),b)}}}const ng=(n,e,r)=>{const o=e-n;return o===0?1:(r-n)/o};function Iat(n,e,r){const o=[],a=r||yh.mix||JU,h=n.length-1;for(let f=0;f<h;f++){let p=a(n[f],n[f+1]);if(e){const g=Array.isArray(e)?e[f]||kl:e;p=Pv(g,p)}o.push(p)}return o}function Fat(n,e,{clamp:r=!0,ease:o,mixer:a}={}){const h=n.length;if(bk(h===e.length),h===1)return()=>e[0];if(h===2&&e[0]===e[1])return()=>e[1];const f=n[0]===n[1];n[0]>n[h-1]&&(n=[...n].reverse(),e=[...e].reverse());const p=Iat(e,o,a),g=p.length,v=x=>{if(f&&x<n[0])return e[0];let S=0;if(g>1)for(;S<n.length-2&&!(x<n[S+1]);S++);const b=ng(n[S],n[S+1],x);return p[S](b)};return r?x=>v(Oh(n[0],n[h-1],x)):v}function nW(n,e){const r=n[n.length-1];for(let o=1;o<=e;o++){const a=ng(0,e,o);n.push(Gi(r,1,a))}}function rW(n){const e=[0];return nW(e,n.length-1),e}function Vat(n,e){return n.map(r=>r*e)}const sW=(n,e,r)=>(((1-3*r+3*e)*n+(3*r-6*e))*n+3*e)*n,zat=1e-7,Xat=12;function Bat(n,e,r,o,a){let h,f,p=0;do f=e+(r-e)/2,h=sW(f,o,a)-n,h>0?r=f:e=f;while(Math.abs(h)>zat&&++p<Xat);return f}function bv(n,e,r,o){if(n===e&&r===o)return kl;const a=h=>Bat(h,0,1,n,r);return h=>h===0||h===1?h:sW(a(h),e,o)}const _at=bv(.42,0,1,1),Zat=bv(0,0,.58,1),oW=bv(.42,0,.58,1),lW=n=>Array.isArray(n)&&typeof n[0]!="number",aW=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,uW=n=>e=>1-n(1-e),hW=bv(.33,1.53,.69,.99),ZE=uW(hW),cW=aW(ZE),fW=n=>(n*=2)<1?.5*ZE(n):.5*(2-Math.pow(2,-10*(n-1))),YE=n=>1-Math.sin(Math.acos(n)),dW=uW(YE),pW=aW(YE),mW=n=>Array.isArray(n)&&typeof n[0]=="number",YV={linear:kl,easeIn:_at,easeInOut:oW,easeOut:Zat,circIn:YE,circInOut:pW,circOut:dW,backIn:ZE,backInOut:cW,backOut:hW,anticipate:fW},Yat=n=>typeof n=="string",UV=n=>{if(mW(n)){bk(n.length===4);const[e,r,o,a]=n;return bv(e,r,o,a)}else if(Yat(n))return bk(YV[n]!==void 0),YV[n];return n};function Uat(n,e){return n.map(()=>e||oW).splice(0,n.length-1)}function Wy({duration:n=300,keyframes:e,times:r,ease:o="easeInOut"}){const a=lW(o)?o.map(UV):UV(o),h={done:!1,value:e[0]},f=Vat(r&&r.length===e.length?r:rW(e),n),p=Fat(f,e,{ease:Array.isArray(a)?a:Uat(e,a)});return{calculatedDuration:n,next:g=>(h.value=p(g),h.done=g>=n,h)}}const Wat=n=>n!==null;function UE(n,{repeat:e,repeatType:r="loop"},o,a=1){const h=n.filter(Wat),p=a<0||e&&r!=="loop"&&e%2===1?0:h.length-1;return!p||o===void 0?h[p]:o}const qat={decay:NN,inertia:NN,tween:Wy,keyframes:Wy,spring:IO};function gW(n){typeof n.type=="string"&&(n.type=qat[n.type])}class WE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Gat=n=>n/100;class qE extends WE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{var o,a;if(r){const{motionValue:h}=this.options;h&&h.updatedAt!==oo.now()&&this.tick(oo.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(o=this.options).onStop)==null||a.call(o))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;gW(e);const{type:r=Wy,repeat:o=0,repeatDelay:a=0,repeatType:h,velocity:f=0}=e;let{keyframes:p}=e;const g=r||Wy;g!==Wy&&typeof p[0]!="number"&&(this.mixKeyframes=Pv(Gat,JU(p[0],p[1])),p=[0,100]);const v=g({...e,keyframes:p});h==="mirror"&&(this.mirroredGenerator=g({...e,keyframes:[...p].reverse(),velocity:-f})),v.calculatedDuration===null&&(v.calculatedDuration=_E(v));const{calculatedDuration:x}=v;this.calculatedDuration=x,this.resolvedDuration=x+a,this.totalDuration=this.resolvedDuration*(o+1)-a,this.generator=v}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:o,totalDuration:a,mixKeyframes:h,mirroredGenerator:f,resolvedDuration:p,calculatedDuration:g}=this;if(this.startTime===null)return o.next(0);const{delay:v=0,keyframes:x,repeat:S,repeatType:b,repeatDelay:C,type:j,onUpdate:N,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const R=this.currentTime-v*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?R<0:R>a;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let V=this.currentTime,D=o;if(S){const J=Math.min(this.currentTime,a)/p;let ot=Math.floor(J),Ot=J%1;!Ot&&J>=1&&(Ot=1),Ot===1&&ot--,ot=Math.min(ot,S+1),!!(ot%2)&&(b==="reverse"?(Ot=1-Ot,C&&(Ot-=C/p)):b==="mirror"&&(D=f)),V=Oh(0,1,Ot)*p}const B=$?{done:!1,value:x[0]}:D.next(V);h&&(B.value=h(B.value));let{done:q}=B;!$&&g!==null&&(q=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const K=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return K&&j!==NN&&(B.value=UE(x,this.options,E,this.speed)),N&&N(B.value),K&&this.finish(),B}then(e,r){return this.finished.then(e,r)}get duration(){return uu(this.calculatedDuration)}get time(){return uu(this.currentTime)}set time(e){var r;e=ia(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(oo.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=uu(this.currentTime))}play(){var a,h;if(this.isStopped)return;const{driver:e=Nat,startTime:r}=this.options;this.driver||(this.driver=e(f=>this.tick(f))),(h=(a=this.options).onPlay)==null||h.call(a);const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=r??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(oo.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function Hat(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const ed=n=>n*180/Math.PI,AN=n=>{const e=ed(Math.atan2(n[1],n[0]));return jN(e)},Kat={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:AN,rotateZ:AN,skewX:n=>ed(Math.atan(n[1])),skewY:n=>ed(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},jN=n=>(n=n%360,n<0&&(n+=360),n),WV=AN,qV=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),GV=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),Jat={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:qV,scaleY:GV,scale:n=>(qV(n)+GV(n))/2,rotateX:n=>jN(ed(Math.atan2(n[6],n[5]))),rotateY:n=>jN(ed(Math.atan2(-n[2],n[0]))),rotateZ:WV,rotate:WV,skewX:n=>ed(Math.atan(n[4])),skewY:n=>ed(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function EN(n){return n.includes("scale")?1:0}function RN(n,e){if(!n||n==="none")return EN(e);const r=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,a;if(r)o=Jat,a=r;else{const p=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=Kat,a=p}if(!a)return EN(e);const h=o[e],f=a[1].split(",").map(eut);return typeof h=="function"?h(f):f[h]}const tut=(n,e)=>{const{transform:r="none"}=getComputedStyle(n);return RN(r,e)};function eut(n){return parseFloat(n.trim())}const HV=n=>n===Mg||n===Oe,iut=new Set(["x","y","z"]),nut=Tg.filter(n=>!iut.has(n));function rut(n){const e=[];return nut.forEach(r=>{const o=n.getValue(r);o!==void 0&&(e.push([r,o.get()]),o.set(r.startsWith("scale")?1:0))}),e}const fd={width:({x:n},{paddingLeft:e="0",paddingRight:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),height:({y:n},{paddingTop:e="0",paddingBottom:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>RN(e,"x"),y:(n,{transform:e})=>RN(e,"y")};fd.translateX=fd.x;fd.translateY=fd.y;const dd=new Set;let LN=!1,$N=!1,DN=!1;function yW(){if($N){const n=Array.from(dd).filter(o=>o.needsMeasurement),e=new Set(n.map(o=>o.element)),r=new Map;e.forEach(o=>{const a=rut(o);a.length&&(r.set(o,a),o.render())}),n.forEach(o=>o.measureInitialState()),e.forEach(o=>{o.render();const a=r.get(o);a&&a.forEach(([h,f])=>{var p;(p=o.getValue(h))==null||p.set(f)})}),n.forEach(o=>o.measureEndState()),n.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}$N=!1,LN=!1,dd.forEach(n=>n.complete(DN)),dd.clear()}function OW(){dd.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&($N=!0)})}function sut(){DN=!0,OW(),yW(),DN=!1}class GE{constructor(e,r,o,a,h,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=o,this.motionValue=a,this.element=h,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(dd.add(this),LN||(LN=!0,hn.read(OW),hn.resolveKeyframes(yW))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:o,motionValue:a}=this;if(e[0]===null){const h=a==null?void 0:a.get(),f=e[e.length-1];if(h!==void 0)e[0]=h;else if(o&&r){const p=o.readValue(r,f);p!=null&&(e[0]=p)}e[0]===void 0&&(e[0]=f),a&&h===void 0&&a.set(e[0])}Hat(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),dd.delete(this)}cancel(){this.state==="scheduled"&&(dd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const out=n=>n.startsWith("--");function lut(n,e,r){out(e)?n.style.setProperty(e,r):n.style[e]=r}function HE(n){let e;return()=>(e===void 0&&(e=n()),e)}const aut=HE(()=>window.ScrollTimeline!==void 0),uut={};function hut(n,e){const r=HE(n);return()=>uut[e]??r()}const vW=hut(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ny=([n,e,r,o])=>`cubic-bezier(${n}, ${e}, ${r}, ${o})`,KV={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ny([0,.65,.55,1]),circOut:Ny([.55,0,1,.45]),backIn:Ny([.31,.01,.66,-.59]),backOut:Ny([.33,1.53,.69,.99])};function xW(n,e){if(n)return typeof n=="function"?vW()?tW(n,e):"ease-out":mW(n)?Ny(n):Array.isArray(n)?n.map(r=>xW(r,e)||KV.easeOut):KV[n]}function cut(n,e,r,{delay:o=0,duration:a=300,repeat:h=0,repeatType:f="loop",ease:p="easeOut",times:g}={},v=void 0){const x={[e]:r};g&&(x.offset=g);const S=xW(p,a);Array.isArray(S)&&(x.easing=S);const b={delay:o,duration:a,easing:Array.isArray(S)?"linear":S,fill:"both",iterations:h+1,direction:f==="reverse"?"alternate":"normal"};return v&&(b.pseudoElement=v),n.animate(x,b)}function KE(n){return typeof n=="function"&&"applyToOptions"in n}function fut({type:n,...e}){return KE(n)&&vW()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class dut extends WE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:o,keyframes:a,pseudoElement:h,allowFlatten:f=!1,finalKeyframe:p,onComplete:g}=e;this.isPseudoElement=!!h,this.allowFlatten=f,this.options=e,bk(typeof e.type!="string");const v=fut(e);this.animation=cut(r,o,a,v,h),v.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!h){const x=UE(a,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(x):lut(r,o,x),this.animation.cancel()}g==null||g(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,o;const e=((o=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:o.call(r).duration)||0;return uu(Number(e))}get time(){return uu(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ia(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var o;return this.allowFlatten&&((o=this.animation.effect)==null||o.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&aut()?(this.animation.timeline=e,kl):r(this)}}const wW={anticipate:fW,backInOut:cW,circInOut:pW};function put(n){return n in wW}function mut(n){typeof n.ease=="string"&&put(n.ease)&&(n.ease=wW[n.ease])}const JV=10;class gut extends dut{constructor(e){mut(e),gW(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:o,onComplete:a,element:h,...f}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const p=new qE({...f,autoplay:!1}),g=ia(this.finishedTime??this.time);r.setWithVelocity(p.sample(g-JV).value,p.sample(g).value,JV),p.stop()}}const tz=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Vc.test(n)||n==="0")&&!n.startsWith("url("));function yut(n){const e=n[0];if(n.length===1)return!0;for(let r=0;r<n.length;r++)if(n[r]!==e)return!0}function Out(n,e,r,o){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const h=n[n.length-1],f=tz(a,e),p=tz(h,e);return!f||!p?!1:yut(n)||(r==="spring"||KE(r))&&o}const vut=new Set(["opacity","clipPath","filter","transform"]),xut=HE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function wut(n){var v;const{motionValue:e,name:r,repeatDelay:o,repeatType:a,damping:h,type:f}=n;if(!bE((v=e==null?void 0:e.owner)==null?void 0:v.current))return!1;const{onUpdate:p,transformTemplate:g}=e.owner.getProps();return xut()&&r&&vut.has(r)&&(r!=="transform"||!g)&&!p&&!o&&a!=="mirror"&&h!==0&&f!=="inertia"}const Sut=40;class kut extends WE{constructor({autoplay:e=!0,delay:r=0,type:o="keyframes",repeat:a=0,repeatDelay:h=0,repeatType:f="loop",keyframes:p,name:g,motionValue:v,element:x,...S}){var j;super(),this.stop=()=>{var N,E;this._animation&&(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=oo.now();const b={autoplay:e,delay:r,type:o,repeat:a,repeatDelay:h,repeatType:f,name:g,motionValue:v,element:x,...S},C=(x==null?void 0:x.KeyframeResolver)||GE;this.keyframeResolver=new C(p,(N,E,R)=>this.onKeyframesResolved(N,E,b,!R),g,v,x),(j=this.keyframeResolver)==null||j.scheduleResolve()}onKeyframesResolved(e,r,o,a){this.keyframeResolver=void 0;const{name:h,type:f,velocity:p,delay:g,isHandoff:v,onUpdate:x}=o;this.resolvedAt=oo.now(),Out(e,h,f,p)||((yh.instantAnimations||!g)&&(x==null||x(UE(e,o,r))),e[0]=e[e.length-1],o.duration=0,o.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Sut?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...o,keyframes:e},C=!v&&wut(b)?new gut({...b,element:b.motionValue.owner.current}):new qE(b);C.finished.then(()=>this.notifyFinished()).catch(kl),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),sut()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const JE=(n,e,r,o={},a,h)=>f=>{const p=VE(o,n)||{},g=p.delay||o.delay||0;let{elapsed:v=0}=o;v=v-ia(g);const x={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...p,delay:-v,onUpdate:b=>{e.set(b),p.onUpdate&&p.onUpdate(b)},onComplete:()=>{f(),p.onComplete&&p.onComplete()},name:n,motionValue:e,element:h?void 0:a};uat(p)||Object.assign(x,aat(n,x)),x.duration&&(x.duration=ia(x.duration)),x.repeatDelay&&(x.repeatDelay=ia(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let S=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(x.duration=0,x.delay===0&&(S=!0)),(yh.instantAnimations||yh.skipAnimations)&&(S=!0,x.duration=0,x.delay=0),x.allowFlatten=!p.type&&!p.ease,S&&!h&&e.get()!==void 0){const b=nat(x.keyframes,p);if(b!==void 0){hn.update(()=>{x.onUpdate(b),x.onComplete()});return}}return p.isSync?new qE(x):new kut(x)},SW=new Set(["width","height","top","left","right","bottom",...Tg]);function Put({protectedKeys:n,needsAnimating:e},r){const o=n.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,o}function tR(n,e,{delay:r=0,transitionOverride:o,type:a}={}){let{transition:h=n.getDefaultTransition(),transitionEnd:f,...p}=e;o&&(h=o);const g=[],v=a&&n.animationState&&n.animationState.getState()[a];for(const x in p){const S=n.getValue(x,n.latestValues[x]??null),b=p[x];if(b===void 0||v&&Put(v,x))continue;const C={delay:r,...VE(h||{},x)},j=S.get();if(j!==void 0&&!S.isAnimating&&!Array.isArray(b)&&b===j&&!C.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const R=YU(n);if(R){const $=window.MotionHandoffAnimation(R,x,hn);$!==null&&(C.startTime=$,N=!0)}}TN(n,x),S.start(JE(x,S,b,n.shouldReduceMotion&&SW.has(x)?{type:!1}:C,n,N));const E=S.animation;E&&g.push(E)}return f&&Promise.all(g).then(()=>{hn.update(()=>{f&&tat(n,f)})}),g}function IN(n,e,r={}){var g;const o=$O(n,e,r.type==="exit"?(g=n.presenceContext)==null?void 0:g.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=o||{};r.transitionOverride&&(a=r.transitionOverride);const h=o?()=>Promise.all(tR(n,o,r)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(v=0)=>{const{delayChildren:x=0,staggerChildren:S,staggerDirection:b}=a;return but(n,e,x+v,S,b,r)}:()=>Promise.resolve(),{when:p}=a;if(p){const[v,x]=p==="beforeChildren"?[h,f]:[f,h];return v().then(()=>x())}else return Promise.all([h(),f(r.delay)])}function but(n,e,r=0,o=0,a=1,h){const f=[],p=(n.variantChildren.size-1)*o,g=a===1?(v=0)=>v*o:(v=0)=>p-v*o;return Array.from(n.variantChildren).sort(Tut).forEach((v,x)=>{v.notify("AnimationStart",e),f.push(IN(v,e,{...h,delay:r+g(x)}).then(()=>v.notify("AnimationComplete",e)))}),Promise.all(f)}function Tut(n,e){return n.sortNodePosition(e)}function Cut(n,e,r={}){n.notify("AnimationStart",e);let o;if(Array.isArray(e)){const a=e.map(h=>IN(n,h,r));o=Promise.all(a)}else if(typeof e=="string")o=IN(n,e,r);else{const a=typeof e=="function"?$O(n,e,r.custom):e;o=Promise.all(tR(n,a,r))}return o.then(()=>{n.notify("AnimationComplete",e)})}function kW(n,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==n.length)return!1;for(let o=0;o<r;o++)if(e[o]!==n[o])return!1;return!0}const Mut=CE.length;function PW(n){if(!n)return;if(!n.isControllingVariants){const r=n.parent?PW(n.parent)||{}:{};return n.props.initial!==void 0&&(r.initial=n.props.initial),r}const e={};for(let r=0;r<Mut;r++){const o=CE[r],a=n.props[o];(EO(a)||a===!1)&&(e[o]=a)}return e}const Qut=[...TE].reverse(),Nut=TE.length;function Aut(n){return e=>Promise.all(e.map(({animation:r,options:o})=>Cut(n,r,o)))}function jut(n){let e=Aut(n),r=ez(),o=!0;const a=g=>(v,x)=>{var b;const S=$O(n,x,g==="exit"?(b=n.presenceContext)==null?void 0:b.custom:void 0);if(S){const{transition:C,transitionEnd:j,...N}=S;v={...v,...N,...j}}return v};function h(g){e=g(n)}function f(g){const{props:v}=n,x=PW(n.parent)||{},S=[],b=new Set;let C={},j=1/0;for(let E=0;E<Nut;E++){const R=Qut[E],$=r[R],V=v[R]!==void 0?v[R]:x[R],D=EO(V),B=R===g?$.isActive:null;B===!1&&(j=E);let q=V===x[R]&&V!==v[R]&&D;if(q&&o&&n.manuallyAnimateOnMount&&(q=!1),$.protectedKeys={...C},!$.isActive&&B===null||!V&&!$.prevProp||qP(V)||typeof V=="boolean")continue;const K=Eut($.prevProp,V);let J=K||R===g&&$.isActive&&!q&&D||E>j&&D,ot=!1;const Ot=Array.isArray(V)?V:[V];let bt=Ot.reduce(a(R),{});B===!1&&(bt={});const{prevResolvedValues:wt={}}=$,St={...wt,...bt},dt=Et=>{J=!0,b.has(Et)&&(ot=!0,b.delete(Et)),$.needsAnimating[Et]=!0;const pt=n.getValue(Et);pt&&(pt.liveStyle=!1)};for(const Et in St){const pt=bt[Et],ht=wt[Et];if(C.hasOwnProperty(Et))continue;let vt=!1;bN(pt)&&bN(ht)?vt=!kW(pt,ht):vt=pt!==ht,vt?pt!=null?dt(Et):b.add(Et):pt!==void 0&&b.has(Et)?dt(Et):$.protectedKeys[Et]=!0}$.prevProp=V,$.prevResolvedValues=bt,$.isActive&&(C={...C,...bt}),o&&n.blockInitialAnimation&&(J=!1),J&&(!(q&&K)||ot)&&S.push(...Ot.map(Et=>({animation:Et,options:{type:R}})))}if(b.size){const E={};if(typeof v.initial!="boolean"){const R=$O(n,Array.isArray(v.initial)?v.initial[0]:v.initial);R&&R.transition&&(E.transition=R.transition)}b.forEach(R=>{const $=n.getBaseTarget(R),V=n.getValue(R);V&&(V.liveStyle=!0),E[R]=$??null}),S.push({animation:E})}let N=!!S.length;return o&&(v.initial===!1||v.initial===v.animate)&&!n.manuallyAnimateOnMount&&(N=!1),o=!1,N?e(S):Promise.resolve()}function p(g,v){var S;if(r[g].isActive===v)return Promise.resolve();(S=n.variantChildren)==null||S.forEach(b=>{var C;return(C=b.animationState)==null?void 0:C.setActive(g,v)}),r[g].isActive=v;const x=f(g);for(const b in r)r[b].protectedKeys={};return x}return{animateChanges:f,setActive:p,setAnimateFunction:h,getState:()=>r,reset:()=>{r=ez(),o=!0}}}function Eut(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!kW(e,n):!1}function Xf(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ez(){return{animate:Xf(!0),whileInView:Xf(),whileHover:Xf(),whileTap:Xf(),whileDrag:Xf(),whileFocus:Xf(),exit:Xf()}}class tf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Rut extends tf{constructor(e){super(e),e.animationState||(e.animationState=jut(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();qP(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Lut=0;class $ut extends tf{constructor(){super(...arguments),this.id=Lut++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Dut={animation:{Feature:Rut},exit:{Feature:$ut}};function FO(n,e,r,o={passive:!0}){return n.addEventListener(e,r,o),()=>n.removeEventListener(e,r)}const eR=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function Tv(n){return{point:{x:n.pageX,y:n.pageY}}}const Iut=n=>e=>eR(e)&&n(e,Tv(e));function qy(n,e,r,o){return FO(n,e,Iut(r),o)}function bW({top:n,left:e,right:r,bottom:o}){return{x:{min:e,max:r},y:{min:n,max:o}}}function Fut({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Vut(n,e){if(!e)return n;const r=e({x:n.left,y:n.top}),o=e({x:n.right,y:n.bottom});return{top:r.y,left:r.x,bottom:o.y,right:o.x}}const TW=1e-4,zut=1-TW,Xut=1+TW,CW=.01,But=0-CW,_ut=0+CW;function js(n){return n.max-n.min}function Zut(n,e,r){return Math.abs(n-e)<=r}function iz(n,e,r,o=.5){n.origin=o,n.originPoint=Gi(e.min,e.max,n.origin),n.scale=js(r)/js(e),n.translate=Gi(r.min,r.max,n.origin)-n.originPoint,(n.scale>=zut&&n.scale<=Xut||isNaN(n.scale))&&(n.scale=1),(n.translate>=But&&n.translate<=_ut||isNaN(n.translate))&&(n.translate=0)}function Gy(n,e,r,o){iz(n.x,e.x,r.x,o?o.originX:void 0),iz(n.y,e.y,r.y,o?o.originY:void 0)}function nz(n,e,r){n.min=r.min+e.min,n.max=n.min+js(e)}function Yut(n,e,r){nz(n.x,e.x,r.x),nz(n.y,e.y,r.y)}function rz(n,e,r){n.min=e.min-r.min,n.max=n.min+js(e)}function Hy(n,e,r){rz(n.x,e.x,r.x),rz(n.y,e.y,r.y)}const sz=()=>({translate:0,scale:1,origin:0,originPoint:0}),mm=()=>({x:sz(),y:sz()}),oz=()=>({min:0,max:0}),bn=()=>({x:oz(),y:oz()});function fl(n){return[n("x"),n("y")]}function uM(n){return n===void 0||n===1}function FN({scale:n,scaleX:e,scaleY:r}){return!uM(n)||!uM(e)||!uM(r)}function Uf(n){return FN(n)||MW(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function MW(n){return lz(n.x)||lz(n.y)}function lz(n){return n&&n!=="0%"}function Mk(n,e,r){const o=n-r,a=e*o;return r+a}function az(n,e,r,o,a){return a!==void 0&&(n=Mk(n,a,o)),Mk(n,r,o)+e}function VN(n,e=0,r=1,o,a){n.min=az(n.min,e,r,o,a),n.max=az(n.max,e,r,o,a)}function QW(n,{x:e,y:r}){VN(n.x,e.translate,e.scale,e.originPoint),VN(n.y,r.translate,r.scale,r.originPoint)}const uz=.999999999999,hz=1.0000000000001;function Uut(n,e,r,o=!1){const a=r.length;if(!a)return;e.x=e.y=1;let h,f;for(let p=0;p<a;p++){h=r[p],f=h.projectionDelta;const{visualElement:g}=h.options;g&&g.props.style&&g.props.style.display==="contents"||(o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&ym(n,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),f&&(e.x*=f.x.scale,e.y*=f.y.scale,QW(n,f)),o&&Uf(h.latestValues)&&ym(n,h.latestValues))}e.x<hz&&e.x>uz&&(e.x=1),e.y<hz&&e.y>uz&&(e.y=1)}function gm(n,e){n.min=n.min+e,n.max=n.max+e}function cz(n,e,r,o,a=.5){const h=Gi(n.min,n.max,a);VN(n,e,r,h,o)}function ym(n,e){cz(n.x,e.x,e.scaleX,e.scale,e.originX),cz(n.y,e.y,e.scaleY,e.scale,e.originY)}function NW(n,e){return bW(Vut(n.getBoundingClientRect(),e))}function Wut(n,e,r){const o=NW(n,r),{scroll:a}=e;return a&&(gm(o.x,a.offset.x),gm(o.y,a.offset.y)),o}const AW=({current:n})=>n?n.ownerDocument.defaultView:null,fz=(n,e)=>Math.abs(n-e);function qut(n,e){const r=fz(n.x,e.x),o=fz(n.y,e.y);return Math.sqrt(r**2+o**2)}class jW{constructor(e,r,{transformPagePoint:o,contextWindow:a,dragSnapToOrigin:h=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=cM(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,C=qut(S.offset,{x:0,y:0})>=3;if(!b&&!C)return;const{point:j}=S,{timestamp:N}=Ir;this.history.push({...j,timestamp:N});const{onStart:E,onMove:R}=this.handlers;b||(E&&E(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,S)},this.handlePointerMove=(S,b)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=hM(b,this.transformPagePoint),hn.update(this.updatePoint,!0)},this.handlePointerUp=(S,b)=>{this.end();const{onEnd:C,onSessionEnd:j,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=cM(S.type==="pointercancel"?this.lastMoveEventInfo:hM(b,this.transformPagePoint),this.history);this.startEvent&&C&&C(S,E),j&&j(S,E)},!eR(e))return;this.dragSnapToOrigin=h,this.handlers=r,this.transformPagePoint=o,this.contextWindow=a||window;const f=Tv(e),p=hM(f,this.transformPagePoint),{point:g}=p,{timestamp:v}=Ir;this.history=[{...g,timestamp:v}];const{onSessionStart:x}=r;x&&x(e,cM(p,this.history)),this.removeListeners=Pv(qy(this.contextWindow,"pointermove",this.handlePointerMove),qy(this.contextWindow,"pointerup",this.handlePointerUp),qy(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fc(this.updatePoint)}}function hM(n,e){return e?{point:e(n.point)}:n}function dz(n,e){return{x:n.x-e.x,y:n.y-e.y}}function cM({point:n},e){return{point:n,delta:dz(n,EW(e)),offset:dz(n,Gut(e)),velocity:Hut(e,.1)}}function Gut(n){return n[0]}function EW(n){return n[n.length-1]}function Hut(n,e){if(n.length<2)return{x:0,y:0};let r=n.length-1,o=null;const a=EW(n);for(;r>=0&&(o=n[r],!(a.timestamp-o.timestamp>ia(e)));)r--;if(!o)return{x:0,y:0};const h=uu(a.timestamp-o.timestamp);if(h===0)return{x:0,y:0};const f={x:(a.x-o.x)/h,y:(a.y-o.y)/h};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function Kut(n,{min:e,max:r},o){return e!==void 0&&n<e?n=o?Gi(e,n,o.min):Math.max(n,e):r!==void 0&&n>r&&(n=o?Gi(r,n,o.max):Math.min(n,r)),n}function pz(n,e,r){return{min:e!==void 0?n.min+e:void 0,max:r!==void 0?n.max+r-(n.max-n.min):void 0}}function Jut(n,{top:e,left:r,bottom:o,right:a}){return{x:pz(n.x,r,a),y:pz(n.y,e,o)}}function mz(n,e){let r=e.min-n.min,o=e.max-n.max;return e.max-e.min<n.max-n.min&&([r,o]=[o,r]),{min:r,max:o}}function tht(n,e){return{x:mz(n.x,e.x),y:mz(n.y,e.y)}}function eht(n,e){let r=.5;const o=js(n),a=js(e);return a>o?r=ng(e.min,e.max-o,n.min):o>a&&(r=ng(n.min,n.max-a,e.min)),Oh(0,1,r)}function iht(n,e){const r={};return e.min!==void 0&&(r.min=e.min-n.min),e.max!==void 0&&(r.max=e.max-n.min),r}const zN=.35;function nht(n=zN){return n===!1?n=0:n===!0&&(n=zN),{x:gz(n,"left","right"),y:gz(n,"top","bottom")}}function gz(n,e,r){return{min:yz(n,e),max:yz(n,r)}}function yz(n,e){return typeof n=="number"?n:n[e]||0}const Wl={x:!1,y:!1};function RW(){return Wl.x||Wl.y}function rht(n){return n==="x"||n==="y"?Wl[n]?null:(Wl[n]=!0,()=>{Wl[n]=!1}):Wl.x||Wl.y?null:(Wl.x=Wl.y=!0,()=>{Wl.x=Wl.y=!1})}const sht=new WeakMap;class oht{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bn(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=x=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Tv(x).point)},h=(x,S)=>{const{drag:b,dragPropagation:C,onDragStart:j}=this.getProps();if(b&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rht(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fl(E=>{let R=this.getAxisMotionValue(E).get()||0;if(au.test(R)){const{projection:$}=this.visualElement;if($&&$.layout){const V=$.layout.layoutBox[E];V&&(R=js(V)*(parseFloat(R)/100))}}this.originPoint[E]=R}),j&&hn.postRender(()=>j(x,S)),TN(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},f=(x,S)=>{const{dragPropagation:b,dragDirectionLock:C,onDirectionLock:j,onDrag:N}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:E}=S;if(C&&this.currentDirection===null){this.currentDirection=lht(E),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",S.point,E),this.updateAxis("y",S.point,E),this.visualElement.render(),N&&N(x,S)},p=(x,S)=>this.stop(x,S),g=()=>fl(x=>{var S;return this.getAnimationState(x)==="paused"&&((S=this.getAxisMotionValue(x).animation)==null?void 0:S.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new jW(e,{onSessionStart:a,onStart:h,onMove:f,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,contextWindow:AW(this.visualElement)})}stop(e,r){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:h}=this.getProps();h&&hn.postRender(()=>h(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,o){const{drag:a}=this.getProps();if(!o||!Qw(e,a,this.currentDirection))return;const h=this.getAxisMotionValue(e);let f=this.originPoint[e]+o[e];this.constraints&&this.constraints[e]&&(f=Kut(f,this.constraints[e],this.elastic[e])),h.set(f)}resolveConstraints(){var h;const{dragConstraints:e,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(h=this.visualElement.projection)==null?void 0:h.layout,a=this.constraints;e&&dm(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&o?this.constraints=Jut(o.layoutBox,e):this.constraints=!1,this.elastic=nht(r),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&fl(f=>{this.constraints!==!1&&this.getAxisMotionValue(f)&&(this.constraints[f]=iht(o.layoutBox[f],this.constraints[f]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!dm(e))return!1;const o=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const h=Wut(o,a.root,this.visualElement.getTransformPagePoint());let f=tht(a.layout.layoutBox,h);if(r){const p=r(Fut(f));this.hasMutatedConstraints=!!p,p&&(f=bW(p))}return f}startAnimation(e){const{drag:r,dragMomentum:o,dragElastic:a,dragTransition:h,dragSnapToOrigin:f,onDragTransitionEnd:p}=this.getProps(),g=this.constraints||{},v=fl(x=>{if(!Qw(x,r,this.currentDirection))return;let S=g&&g[x]||{};f&&(S={min:0,max:0});const b=a?200:1e6,C=a?40:1e7,j={type:"inertia",velocity:o?e[x]:0,bounceStiffness:b,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...h,...S};return this.startAxisValueAnimation(x,j)});return Promise.all(v).then(p)}startAxisValueAnimation(e,r){const o=this.getAxisMotionValue(e);return TN(this.visualElement,e),o.start(JE(e,o,0,r,this.visualElement,!1))}stopAnimation(){fl(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fl(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,o=this.visualElement.getProps(),a=o[r];return a||this.visualElement.getValue(e,(o.initial?o.initial[e]:void 0)||0)}snapToCursor(e){fl(r=>{const{drag:o}=this.getProps();if(!Qw(r,o,this.currentDirection))return;const{projection:a}=this.visualElement,h=this.getAxisMotionValue(r);if(a&&a.layout){const{min:f,max:p}=a.layout.layoutBox[r];h.set(e[r]-Gi(f,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:o}=this.visualElement;if(!dm(r)||!o||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};fl(f=>{const p=this.getAxisMotionValue(f);if(p&&this.constraints!==!1){const g=p.get();a[f]=eht({min:g,max:g},this.constraints[f])}});const{transformTemplate:h}=this.visualElement.getProps();this.visualElement.current.style.transform=h?h({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),fl(f=>{if(!Qw(f,e,null))return;const p=this.getAxisMotionValue(f),{min:g,max:v}=this.constraints[f];p.set(Gi(g,v,a[f]))})}addListeners(){if(!this.visualElement.current)return;sht.set(this.visualElement,this);const e=this.visualElement.current,r=qy(e,"pointerdown",g=>{const{drag:v,dragListener:x=!0}=this.getProps();v&&x&&this.start(g)}),o=()=>{const{dragConstraints:g}=this.getProps();dm(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,h=a.addEventListener("measure",o);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),hn.read(o);const f=FO(window,"resize",()=>this.scalePositionWithinConstraints()),p=a.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v})=>{this.isDragging&&v&&(fl(x=>{const S=this.getAxisMotionValue(x);S&&(this.originPoint[x]+=g[x].translate,S.set(S.get()+g[x].translate))}),this.visualElement.render())});return()=>{f(),r(),h(),p&&p()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:o=!1,dragPropagation:a=!1,dragConstraints:h=!1,dragElastic:f=zN,dragMomentum:p=!0}=e;return{...e,drag:r,dragDirectionLock:o,dragPropagation:a,dragConstraints:h,dragElastic:f,dragMomentum:p}}}function Qw(n,e,r){return(e===!0||e===n)&&(r===null||r===n)}function lht(n,e=10){let r=null;return Math.abs(n.y)>e?r="y":Math.abs(n.x)>e&&(r="x"),r}class aht extends tf{constructor(e){super(e),this.removeGroupControls=kl,this.removeListeners=kl,this.controls=new oht(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kl}unmount(){this.removeGroupControls(),this.removeListeners()}}const Oz=n=>(e,r)=>{n&&hn.postRender(()=>n(e,r))};class uht extends tf{constructor(){super(...arguments),this.removePointerDownListener=kl}onPointerDown(e){this.session=new jW(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AW(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:o,onPanEnd:a}=this.node.getProps();return{onSessionStart:Oz(e),onStart:Oz(r),onMove:o,onEnd:(h,f)=>{delete this.session,a&&hn.postRender(()=>a(h,f))}}}mount(){this.removePointerDownListener=qy(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const SS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vz(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const py={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Oe.test(n))n=parseFloat(n);else return n;const r=vz(n,e.target.x),o=vz(n,e.target.y);return`${r}% ${o}%`}},hht={correct:(n,{treeScale:e,projectionDelta:r})=>{const o=n,a=Vc.parse(n);if(a.length>5)return o;const h=Vc.createTransformer(n),f=typeof a[0]!="number"?1:0,p=r.x.scale*e.x,g=r.y.scale*e.y;a[0+f]/=p,a[1+f]/=g;const v=Gi(p,g,.5);return typeof a[2+f]=="number"&&(a[2+f]/=v),typeof a[3+f]=="number"&&(a[3+f]/=v),h(a)}};class cht extends Z.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:o,layoutId:a}=this.props,{projection:h}=e;Mlt(fht),h&&(r.group&&r.group.add(h),o&&o.register&&a&&o.register(h),h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,onExitComplete:()=>this.safeToRemove()})),SS.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:o,drag:a,isPresent:h}=this.props,{projection:f}=o;return f&&(f.isPresent=h,a||e.layoutDependency!==r||r===void 0||e.isPresent!==h?f.willUpdate():this.safeToRemove(),e.isPresent!==h&&(h?f.promote():f.relegate()||hn.postRender(()=>{const p=f.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),QE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:o}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),o&&o.deregister&&o.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function LW(n){const[e,r]=MU(),o=Z.useContext(wE);return Q.jsx(cht,{...n,layoutGroup:o,switchLayoutGroup:Z.useContext(RU),isPresent:e,safeToRemove:r})}const fht={borderRadius:{...py,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:py,borderTopRightRadius:py,borderBottomLeftRadius:py,borderBottomRightRadius:py,boxShadow:hht};function $W(n,e,r){const o=wr(n)?n:ig(n);return o.start(JE("",o,e,r)),o.animation}const dht=(n,e)=>n.depth-e.depth;class pht{constructor(){this.children=[],this.isDirty=!1}add(e){IE(this.children,e),this.isDirty=!0}remove(e){HP(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dht),this.isDirty=!1,this.children.forEach(e)}}function mht(n,e){const r=oo.now(),o=({timestamp:a})=>{const h=a-r;h>=e&&(Fc(o),n(h-e))};return hn.setup(o,!0),()=>Fc(o)}const DW=["TopLeft","TopRight","BottomLeft","BottomRight"],ght=DW.length,xz=n=>typeof n=="string"?parseFloat(n):n,wz=n=>typeof n=="number"||Oe.test(n);function yht(n,e,r,o,a,h){a?(n.opacity=Gi(0,r.opacity??1,Oht(o)),n.opacityExit=Gi(e.opacity??1,0,vht(o))):h&&(n.opacity=Gi(e.opacity??1,r.opacity??1,o));for(let f=0;f<ght;f++){const p=`border${DW[f]}Radius`;let g=Sz(e,p),v=Sz(r,p);if(g===void 0&&v===void 0)continue;g||(g=0),v||(v=0),g===0||v===0||wz(g)===wz(v)?(n[p]=Math.max(Gi(xz(g),xz(v),o),0),(au.test(v)||au.test(g))&&(n[p]+="%")):n[p]=v}(e.rotate||r.rotate)&&(n.rotate=Gi(e.rotate||0,r.rotate||0,o))}function Sz(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Oht=IW(0,.5,dW),vht=IW(.5,.95,kl);function IW(n,e,r){return o=>o<n?0:o>e?1:r(ng(n,e,o))}function kz(n,e){n.min=e.min,n.max=e.max}function hl(n,e){kz(n.x,e.x),kz(n.y,e.y)}function Pz(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function bz(n,e,r,o,a){return n-=e,n=Mk(n,1/r,o),a!==void 0&&(n=Mk(n,1/a,o)),n}function xht(n,e=0,r=1,o=.5,a,h=n,f=n){if(au.test(e)&&(e=parseFloat(e),e=Gi(f.min,f.max,e/100)-f.min),typeof e!="number")return;let p=Gi(h.min,h.max,o);n===h&&(p-=e),n.min=bz(n.min,e,r,p,a),n.max=bz(n.max,e,r,p,a)}function Tz(n,e,[r,o,a],h,f){xht(n,e[r],e[o],e[a],e.scale,h,f)}const wht=["x","scaleX","originX"],Sht=["y","scaleY","originY"];function Cz(n,e,r,o){Tz(n.x,e,wht,r?r.x:void 0,o?o.x:void 0),Tz(n.y,e,Sht,r?r.y:void 0,o?o.y:void 0)}function Mz(n){return n.translate===0&&n.scale===1}function FW(n){return Mz(n.x)&&Mz(n.y)}function Qz(n,e){return n.min===e.min&&n.max===e.max}function kht(n,e){return Qz(n.x,e.x)&&Qz(n.y,e.y)}function Nz(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function VW(n,e){return Nz(n.x,e.x)&&Nz(n.y,e.y)}function Az(n){return js(n.x)/js(n.y)}function jz(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class Pht{constructor(){this.members=[]}add(e){IE(this.members,e),e.scheduleRender()}remove(e){if(HP(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let o;for(let a=r;a>=0;a--){const h=this.members[a];if(h.isPresent!==!1){o=h;break}}return o?(this.promote(o),!0):!1}promote(e,r){const o=this.lead;if(e!==o&&(this.prevLead=o,this.lead=e,e.show(),o)){o.instance&&o.scheduleRender(),e.scheduleRender(),e.resumeFrom=o,r&&(e.resumeFrom.preserveOpacity=!0),o.snapshot&&(e.snapshot=o.snapshot,e.snapshot.latestValues=o.animationValues||o.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:o}=e;r.onExitComplete&&r.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bht(n,e,r){let o="";const a=n.x.translate/e.x,h=n.y.translate/e.y,f=(r==null?void 0:r.z)||0;if((a||h||f)&&(o=`translate3d(${a}px, ${h}px, ${f}px) `),(e.x!==1||e.y!==1)&&(o+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:v,rotate:x,rotateX:S,rotateY:b,skewX:C,skewY:j}=r;v&&(o=`perspective(${v}px) ${o}`),x&&(o+=`rotate(${x}deg) `),S&&(o+=`rotateX(${S}deg) `),b&&(o+=`rotateY(${b}deg) `),C&&(o+=`skewX(${C}deg) `),j&&(o+=`skewY(${j}deg) `)}const p=n.x.scale*e.x,g=n.y.scale*e.y;return(p!==1||g!==1)&&(o+=`scale(${p}, ${g})`),o||"none"}function iR(n){return CU(n)&&"ownerSVGElement"in n}function zW(n){return iR(n)&&n.tagName==="svg"}const fM=["","X","Y","Z"],Tht={visibility:"hidden"},Cht=1e3;let Mht=0;function dM(n,e,r,o){const{latestValues:a}=e;a[n]&&(r[n]=a[n],e.setStaticValue(n,0),o&&(o[n]=0))}function XW(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const r=YU(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:h}=n.options;window.MotionCancelOptimisedAnimation(r,"transform",hn,!(a||h))}const{parent:o}=n;o&&!o.hasCheckedOptimisedAppear&&XW(o)}function BW({attachResizeListener:n,defaultParent:e,measureScroll:r,checkIsScrollRoot:o,resetTransform:a}){return class{constructor(f={},p=e==null?void 0:e()){this.id=Mht++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Aht),this.nodes.forEach($ht),this.nodes.forEach(Dht),this.nodes.forEach(jht)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new pht)}addEventListener(f,p){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new FE),this.eventHandlers.get(f).add(p)}notifyListeners(f,...p){const g=this.eventHandlers.get(f);g&&g.notify(...p)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=iR(f)&&!zW(f),this.instance=f;const{layoutId:p,layout:g,visualElement:v}=this.options;if(v&&!v.current&&v.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||p)&&(this.isLayoutDirty=!0),n){let x;const S=()=>this.root.updateBlockedByResize=!1;n(f,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=mht(S,250),SS.hasAnimatedSinceResize&&(SS.hasAnimatedSinceResize=!1,this.nodes.forEach(Rz))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&v&&(p||g)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:S,hasRelativeLayoutChanged:b,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||v.getDefaultTransition()||Xht,{onLayoutAnimationStart:N,onLayoutAnimationComplete:E}=v.getProps(),R=!this.targetLayout||!VW(this.targetLayout,C),$=!S&&b;if(this.options.layoutRoot||this.resumeFrom||$||S&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,$);const V={...VE(j,"layout"),onPlay:N,onComplete:E};(v.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V)}else S||Rz(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Iht),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&XW(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const S=this.path[x];S.shouldResetTransform=!0,S.updateScroll("snapshot"),S.options.layoutRoot&&S.willUpdate(!1)}const{layoutId:p,layout:g}=this.options;if(p===void 0&&!g)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ez);return}this.isUpdating||this.nodes.forEach(Rht),this.isUpdating=!1,this.nodes.forEach(Lht),this.nodes.forEach(Qht),this.nodes.forEach(Nht),this.clearAllSnapshots();const p=oo.now();Ir.delta=Oh(0,1e3/60,p-Ir.timestamp),Ir.timestamp=p,Ir.isProcessing=!0,rM.update.process(Ir),rM.preRender.process(Ir),rM.render.process(Ir),Ir.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,QE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Eht),this.sharedNodes.forEach(Fht)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,hn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){hn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!js(this.snapshot.measuredBox.x)&&!js(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(p=!1),p&&this.instance){const g=o(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:g,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!a)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!FW(this.projectionDelta),g=this.getTransformTemplate(),v=g?g(this.latestValues,""):void 0,x=v!==this.prevTransformTemplateValue;f&&this.instance&&(p||Uf(this.latestValues)||x)&&(a(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const p=this.measurePageBox();let g=this.removeElementScroll(p);return f&&(g=this.removeTransform(g)),Bht(g),{animationId:this.root.animationId,measuredBox:p,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var v;const{visualElement:f}=this.options;if(!f)return bn();const p=f.measureViewportBox();if(!(((v=this.scroll)==null?void 0:v.wasRoot)||this.path.some(_ht))){const{scroll:x}=this.root;x&&(gm(p.x,x.offset.x),gm(p.y,x.offset.y))}return p}removeElementScroll(f){var g;const p=bn();if(hl(p,f),(g=this.scroll)!=null&&g.wasRoot)return p;for(let v=0;v<this.path.length;v++){const x=this.path[v],{scroll:S,options:b}=x;x!==this.root&&S&&b.layoutScroll&&(S.wasRoot&&hl(p,f),gm(p.x,S.offset.x),gm(p.y,S.offset.y))}return p}applyTransform(f,p=!1){const g=bn();hl(g,f);for(let v=0;v<this.path.length;v++){const x=this.path[v];!p&&x.options.layoutScroll&&x.scroll&&x!==x.root&&ym(g,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),Uf(x.latestValues)&&ym(g,x.latestValues)}return Uf(this.latestValues)&&ym(g,this.latestValues),g}removeTransform(f){const p=bn();hl(p,f);for(let g=0;g<this.path.length;g++){const v=this.path[g];if(!v.instance||!Uf(v.latestValues))continue;FN(v.latestValues)&&v.updateSnapshot();const x=bn(),S=v.measurePageBox();hl(x,S),Cz(p,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,x)}return Uf(this.latestValues)&&Cz(p,this.latestValues),p}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ir.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){var b;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==p;if(!(f||g&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:S}=this.options;if(!(!this.layout||!(x||S))){if(this.resolvedRelativeTargetAt=Ir.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),Hy(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),hl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bn(),this.targetWithTransforms=bn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Yut(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hl(this.target,this.layout.layoutBox),QW(this.target,this.targetDelta)):hl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),Hy(this.relativeTargetOrigin,this.target,C.target),hl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||FN(this.parent.latestValues)||MW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var j;const f=this.getLead(),p=!!this.resumingFrom||this!==f;let g=!0;if((this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty)&&(g=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===Ir.timestamp&&(g=!1),g)return;const{layout:v,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||x))return;hl(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,b=this.treeScale.y;Uut(this.layoutCorrected,this.treeScale,this.path,p),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=bn());const{target:C}=f;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Pz(this.prevProjectionDelta.x,this.projectionDelta.x),Pz(this.prevProjectionDelta.y,this.projectionDelta.y)),Gy(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==b||!jz(this.projectionDelta.x,this.prevProjectionDelta.x)||!jz(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){var p;if((p=this.options.visualElement)==null||p.scheduleRender(),f){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=mm(),this.projectionDelta=mm(),this.projectionDeltaWithTransform=mm()}setAnimationOrigin(f,p=!1){const g=this.snapshot,v=g?g.latestValues:{},x={...this.latestValues},S=mm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const b=bn(),C=g?g.source:void 0,j=this.layout?this.layout.source:void 0,N=C!==j,E=this.getStack(),R=!E||E.members.length<=1,$=!!(N&&!R&&this.options.crossfade===!0&&!this.path.some(zht));this.animationProgress=0;let V;this.mixTargetDelta=D=>{const B=D/1e3;Lz(S.x,f.x,B),Lz(S.y,f.y,B),this.setTargetDelta(S),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hy(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Vht(this.relativeTarget,this.relativeTargetOrigin,b,B),V&&kht(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=bn()),hl(V,this.relativeTarget)),N&&(this.animationValues=x,yht(x,v,this.latestValues,B,$,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){var p,g,v;this.notifyListeners("animationStart"),(p=this.currentAnimation)==null||p.stop(!1),(v=(g=this.resumingFrom)==null?void 0:g.currentAnimation)==null||v.stop(!1),this.pendingAnimation&&(Fc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=hn.update(()=>{SS.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ig(0)),this.currentAnimation=$W(this.motionValue,[0,1e3],{...f,isSync:!0,onUpdate:x=>{this.mixTargetDelta(x),f.onUpdate&&f.onUpdate(x)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Cht),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:p,target:g,layout:v,latestValues:x}=f;if(!(!p||!g||!v)){if(this!==f&&this.layout&&v&&_W(this.options.animationType,this.layout.layoutBox,v.layoutBox)){g=this.target||bn();const S=js(this.layout.layoutBox.x);g.x.min=f.target.x.min,g.x.max=g.x.min+S;const b=js(this.layout.layoutBox.y);g.y.min=f.target.y.min,g.y.max=g.y.min+b}hl(p,g),ym(p,x),Gy(this.projectionDeltaWithTransform,this.layoutCorrected,p,x)}}registerSharedNode(f,p){this.sharedNodes.has(f)||this.sharedNodes.set(f,new Pht),this.sharedNodes.get(f).add(p);const v=p.options.initialPromotionConfig;p.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(p):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){var p;const{layoutId:f}=this.options;return f?((p=this.getStack())==null?void 0:p.lead)||this:this}getPrevLead(){var p;const{layoutId:f}=this.options;return f?(p=this.getStack())==null?void 0:p.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:p,preserveFollowOpacity:g}={}){const v=this.getStack();v&&v.promote(this,g),f&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let p=!1;const{latestValues:g}=f;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(p=!0),!p)return;const v={};g.z&&dM("z",f,v,this.animationValues);for(let x=0;x<fM.length;x++)dM(`rotate${fM[x]}`,f,v,this.animationValues),dM(`skew${fM[x]}`,f,v,this.animationValues);f.render();for(const x in v)f.setStaticValue(x,v[x]),this.animationValues&&(this.animationValues[x]=v[x]);f.scheduleRender()}getProjectionStyles(f){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Tht;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=xS(f==null?void 0:f.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=xS(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!Uf(this.latestValues)&&(C.transform=g?g({},""):"none",this.hasProjected=!1),C}const x=v.animationValues||v.latestValues;this.applyTransformsToTarget(),p.transform=bht(this.projectionDeltaWithTransform,this.treeScale,x),g&&(p.transform=g(x,p.transform));const{x:S,y:b}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${b.origin*100}% 0`,v.animationValues?p.opacity=v===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:p.opacity=v===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const C in RO){if(x[C]===void 0)continue;const{correct:j,applyTo:N,isCSSVariable:E}=RO[C],R=p.transform==="none"?x[C]:j(x[C],v);if(N){const $=N.length;for(let V=0;V<$;V++)p[N[V]]=R}else E?this.options.visualElement.renderState.vars[C]=R:p[C]=R}return this.options.layoutId&&(p.pointerEvents=v===this?xS(f==null?void 0:f.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>{var p;return(p=f.currentAnimation)==null?void 0:p.stop(!1)}),this.root.nodes.forEach(Ez),this.root.sharedNodes.clear()}}}function Qht(n){n.updateLayout()}function Nht(n){var r;const e=((r=n.resumeFrom)==null?void 0:r.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:a}=n.layout,{animationType:h}=n.options,f=e.source!==n.layout.source;h==="size"?fl(S=>{const b=f?e.measuredBox[S]:e.layoutBox[S],C=js(b);b.min=o[S].min,b.max=b.min+C}):_W(h,e.layoutBox,o)&&fl(S=>{const b=f?e.measuredBox[S]:e.layoutBox[S],C=js(o[S]);b.max=b.min+C,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[S].max=n.relativeTarget[S].min+C)});const p=mm();Gy(p,o,e.layoutBox);const g=mm();f?Gy(g,n.applyTransform(a,!0),e.measuredBox):Gy(g,o,e.layoutBox);const v=!FW(p);let x=!1;if(!n.resumeFrom){const S=n.getClosestProjectingParent();if(S&&!S.resumeFrom){const{snapshot:b,layout:C}=S;if(b&&C){const j=bn();Hy(j,e.layoutBox,b.layoutBox);const N=bn();Hy(N,o,C.layoutBox),VW(j,N)||(x=!0),S.options.layoutRoot&&(n.relativeTarget=N,n.relativeTargetOrigin=j,n.relativeParent=S)}}}n.notifyListeners("didUpdate",{layout:o,snapshot:e,delta:g,layoutDelta:p,hasLayoutChanged:v,hasRelativeLayoutChanged:x})}else if(n.isLead()){const{onExitComplete:o}=n.options;o&&o()}n.options.transition=void 0}function Aht(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function jht(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Eht(n){n.clearSnapshot()}function Ez(n){n.clearMeasurements()}function Rht(n){n.isLayoutDirty=!1}function Lht(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Rz(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function $ht(n){n.resolveTargetDelta()}function Dht(n){n.calcProjection()}function Iht(n){n.resetSkewAndRotation()}function Fht(n){n.removeLeadSnapshot()}function Lz(n,e,r){n.translate=Gi(e.translate,0,r),n.scale=Gi(e.scale,1,r),n.origin=e.origin,n.originPoint=e.originPoint}function $z(n,e,r,o){n.min=Gi(e.min,r.min,o),n.max=Gi(e.max,r.max,o)}function Vht(n,e,r,o){$z(n.x,e.x,r.x,o),$z(n.y,e.y,r.y,o)}function zht(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Xht={duration:.45,ease:[.4,0,.1,1]},Dz=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Iz=Dz("applewebkit/")&&!Dz("chrome/")?Math.round:kl;function Fz(n){n.min=Iz(n.min),n.max=Iz(n.max)}function Bht(n){Fz(n.x),Fz(n.y)}function _W(n,e,r){return n==="position"||n==="preserve-aspect"&&!Zut(Az(e),Az(r),.2)}function _ht(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const Zht=BW({attachResizeListener:(n,e)=>FO(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pM={current:void 0},ZW=BW({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!pM.current){const n=new Zht({});n.mount(window),n.setOptions({layoutScroll:!0}),pM.current=n}return pM.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Yht={pan:{Feature:uht},drag:{Feature:aht,ProjectionNode:ZW,MeasureLayout:LW}};function YW(n,e,r){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let o=document;const a=(r==null?void 0:r[n])??o.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function UW(n,e){const r=YW(n),o=new AbortController,a={passive:!0,...e,signal:o.signal};return[r,a,()=>o.abort()]}function Vz(n){return!(n.pointerType==="touch"||RW())}function Uht(n,e,r={}){const[o,a,h]=UW(n,r),f=p=>{if(!Vz(p))return;const{target:g}=p,v=e(g,p);if(typeof v!="function"||!g)return;const x=S=>{Vz(S)&&(v(S),g.removeEventListener("pointerleave",x))};g.addEventListener("pointerleave",x,a)};return o.forEach(p=>{p.addEventListener("pointerenter",f,a)}),h}function zz(n,e,r){const{props:o}=n;n.animationState&&o.whileHover&&n.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,h=o[a];h&&hn.postRender(()=>h(e,Tv(e)))}class Wht extends tf{mount(){const{current:e}=this.node;e&&(this.unmount=Uht(e,(r,o)=>(zz(this.node,o,"Start"),a=>zz(this.node,a,"End"))))}unmount(){}}class qht extends tf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pv(FO(this.node.current,"focus",()=>this.onFocus()),FO(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const WW=(n,e)=>e?n===e?!0:WW(n,e.parentElement):!1,Ght=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Hht(n){return Ght.has(n.tagName)||n.tabIndex!==-1}const kS=new WeakSet;function Xz(n){return e=>{e.key==="Enter"&&n(e)}}function mM(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Kht=(n,e)=>{const r=n.currentTarget;if(!r)return;const o=Xz(()=>{if(kS.has(r))return;mM(r,"down");const a=Xz(()=>{mM(r,"up")}),h=()=>mM(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",h,e)});r.addEventListener("keydown",o,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",o),e)};function Bz(n){return eR(n)&&!RW()}function Jht(n,e,r={}){const[o,a,h]=UW(n,r),f=p=>{const g=p.currentTarget;if(!Bz(p))return;kS.add(g);const v=e(g,p),x=(C,j)=>{window.removeEventListener("pointerup",S),window.removeEventListener("pointercancel",b),kS.has(g)&&kS.delete(g),Bz(C)&&typeof v=="function"&&v(C,{success:j})},S=C=>{x(C,g===window||g===document||r.useGlobalTarget||WW(g,C.target))},b=C=>{x(C,!1)};window.addEventListener("pointerup",S,a),window.addEventListener("pointercancel",b,a)};return o.forEach(p=>{(r.useGlobalTarget?window:p).addEventListener("pointerdown",f,a),bE(p)&&(p.addEventListener("focus",v=>Kht(v,a)),!Hht(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),h}function _z(n,e,r){const{props:o}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&o.whileTap&&n.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),h=o[a];h&&hn.postRender(()=>h(e,Tv(e)))}class tct extends tf{mount(){const{current:e}=this.node;e&&(this.unmount=Jht(e,(r,o)=>(_z(this.node,o,"Start"),(a,{success:h})=>_z(this.node,a,h?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const XN=new WeakMap,gM=new WeakMap,ect=n=>{const e=XN.get(n.target);e&&e(n)},ict=n=>{n.forEach(ect)};function nct({root:n,...e}){const r=n||document;gM.has(r)||gM.set(r,{});const o=gM.get(r),a=JSON.stringify(e);return o[a]||(o[a]=new IntersectionObserver(ict,{root:n,...e})),o[a]}function rct(n,e,r){const o=nct(e);return XN.set(n,r),o.observe(n),()=>{XN.delete(n),o.unobserve(n)}}const sct={some:0,all:1};class oct extends tf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:o,amount:a="some",once:h}=e,f={root:r?r.current:void 0,rootMargin:o,threshold:typeof a=="number"?a:sct[a]},p=g=>{const{isIntersecting:v}=g;if(this.isInView===v||(this.isInView=v,h&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:x,onViewportLeave:S}=this.node.getProps(),b=v?x:S;b&&b(g)};return rct(this.node.current,f,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(lct(e,r))&&this.startObserver()}unmount(){}}function lct({viewport:n={}},{viewport:e={}}={}){return r=>n[r]!==e[r]}const act={inView:{Feature:oct},tap:{Feature:tct},focus:{Feature:qht},hover:{Feature:Wht}},uct={layout:{ProjectionNode:ZW,MeasureLayout:LW}},BN={current:null},qW={current:!1};function hct(){if(qW.current=!0,!!kE)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>BN.current=n.matches;n.addListener(e),e()}else BN.current=!1}const VO=new WeakMap;function cct(n,e,r){for(const o in e){const a=e[o],h=r[o];if(wr(a))n.addValue(o,a);else if(wr(h))n.addValue(o,ig(a,{owner:n}));else if(h!==a)if(n.hasValue(o)){const f=n.getValue(o);f.liveStyle===!0?f.jump(a):f.hasAnimated||f.set(a)}else{const f=n.getStaticValue(o);n.addValue(o,ig(f!==void 0?f:a,{owner:n}))}}for(const o in r)e[o]===void 0&&n.removeValue(o);return e}const GW=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),HW=n=>/^0[^.\s]+$/u.test(n),fct={test:n=>n==="auto",parse:n=>n},KW=n=>e=>e.test(n),JW=[Mg,Oe,au,nc,Nlt,Qlt,fct],Zz=n=>JW.find(KW(n)),dct=[...JW,os,Vc],pct=n=>dct.find(KW(n)),mct=new Set(["brightness","contrast","saturate","opacity"]);function gct(n){const[e,r]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[o]=r.match(zE)||[];if(!o)return n;const a=r.replace(o,"");let h=mct.has(e)?1:0;return o!==r&&(h*=100),e+"("+h+a+")"}const yct=/\b([a-z-]*)\(.*?\)/gu,_N={...Vc,getAnimatableNone:n=>{const e=n.match(yct);return e?e.map(gct).join(" "):n}},Oct={...jE,color:os,backgroundColor:os,outlineColor:os,fill:os,stroke:os,borderColor:os,borderTopColor:os,borderRightColor:os,borderBottomColor:os,borderLeftColor:os,filter:_N,WebkitFilter:_N},t8=n=>Oct[n];function e8(n,e){let r=t8(n);return r!==_N&&(r=Vc),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Yz=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class i8{scrapeMotionValuesFromProps(e,r,o){return{}}constructor({parent:e,props:r,presenceContext:o,reducedMotionConfig:a,blockInitialAnimation:h,visualState:f},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=GE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=oo.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,hn.render(this.render,!1,!0))};const{latestValues:g,renderState:v}=f;this.latestValues=g,this.baseTarget={...g},this.initialValues=r.initial?{...g}:{},this.renderState=v,this.parent=e,this.props=r,this.presenceContext=o,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=p,this.blockInitialAnimation=!!h,this.isControllingVariants=GP(r),this.isVariantNode=jU(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...S}=this.scrapeMotionValuesFromProps(r,{},this);for(const b in S){const C=S[b];g[b]!==void 0&&wr(C)&&C.set(g[b],!1)}}mount(e){this.current=e,VO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),qW.current||hct(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:BN.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Fc(this.notifyUpdate),Fc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const o=Cg.has(e);o&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",p=>{this.latestValues[e]=p,this.props.onUpdate&&hn.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0)}),h=r.on("renderRequest",this.scheduleRender);let f;window.MotionCheckAppearSync&&(f=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),h(),f&&f(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in eg){const r=eg[e];if(!r)continue;const{isEnabled:o,Feature:a}=r;if(!this.features[e]&&a&&o(this.props)&&(this.features[e]=new a(this)),this.features[e]){const h=this.features[e];h.isMounted?h.update():(h.mount(),h.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let o=0;o<Yz.length;o++){const a=Yz[o];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const h="on"+a,f=e[h];f&&(this.propEventSubscriptions[a]=this.on(a,f))}this.prevMotionValues=cct(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const o=this.values.get(e);r!==o&&(o&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let o=this.values.get(e);return o===void 0&&r!==void 0&&(o=ig(r===null?void 0:r,{owner:this}),this.addValue(e,o)),o}readValue(e,r){let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(GW(o)||HW(o))?o=parseFloat(o):!pct(o)&&Vc.test(r)&&(o=e8(e,r)),this.setBaseTarget(e,wr(o)?o.get():o)),wr(o)?o.get():o}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var h;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const f=$E(this.props,r,(h=this.presenceContext)==null?void 0:h.custom);f&&(o=f[e])}if(r&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!wr(a)?a:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new FE),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}const vct=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xct(n){const e=vct.exec(n);if(!e)return[,];const[,r,o,a]=e;return[`--${r??o}`,a]}function n8(n,e,r=1){const[o,a]=xct(n);if(!o)return;const h=window.getComputedStyle(e).getPropertyValue(o);if(h){const f=h.trim();return GW(f)?parseFloat(f):f}return AE(a)?n8(a,e,r+1):a}function wct(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||HW(n):!0}const Sct=new Set(["auto","none","0"]);function kct(n,e,r){let o=0,a;for(;o<n.length&&!a;){const h=n[o];typeof h=="string"&&!Sct.has(h)&&DO(h).values.length&&(a=n[o]),o++}if(a&&r)for(const h of e)n[h]=e8(r,a)}class Pct extends GE{constructor(e,r,o,a,h){super(e,r,o,a,h,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:o}=this;if(!r||!r.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let v=e[g];if(typeof v=="string"&&(v=v.trim(),AE(v))){const x=n8(v,r.current);x!==void 0&&(e[g]=x),g===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!SW.has(o)||e.length!==2)return;const[a,h]=e,f=Zz(a),p=Zz(h);if(f!==p)if(HV(f)&&HV(p))for(let g=0;g<e.length;g++){const v=e[g];typeof v=="string"&&(e[g]=parseFloat(v))}else fd[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,o=[];for(let a=0;a<e.length;a++)(e[a]===null||wct(e[a]))&&o.push(a);o.length&&kct(e,o,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:o}=this;if(!e||!e.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fd[o](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(o,a).jump(a,!1)}measureEndState(){var p;const{element:e,name:r,unresolvedKeyframes:o}=this;if(!e||!e.current)return;const a=e.getValue(r);a&&a.jump(this.measuredOrigin,!1);const h=o.length-1,f=o[h];o[h]=fd[r](e.measureViewportBox(),window.getComputedStyle(e.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),(p=this.removedTransforms)!=null&&p.length&&this.removedTransforms.forEach(([g,v])=>{e.getValue(g).set(v)}),this.resolveNoneKeyframes()}}class r8 extends i8{constructor(){super(...arguments),this.KeyframeResolver=Pct}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:o}){delete r[e],delete o[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wr(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function s8(n,{style:e,vars:r},o,a){Object.assign(n.style,e,a&&a.getProjectionStyles(o));for(const h in r)n.style.setProperty(h,r[h])}function bct(n){return window.getComputedStyle(n)}class o8 extends r8{constructor(){super(...arguments),this.type="html",this.renderInstance=s8}readValueFromInstance(e,r){var o;if(Cg.has(r))return(o=this.projection)!=null&&o.isProjecting?EN(r):tut(e,r);{const a=bct(e),h=(NE(r)?a.getPropertyValue(r):a[r])||0;return typeof h=="string"?h.trim():h}}measureInstanceViewportBox(e,{transformPagePoint:r}){return NW(e,r)}build(e,r,o){EE(e,r,o.transformTemplate)}scrapeMotionValuesFromProps(e,r,o){return DE(e,r,o)}}const l8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Tct(n,e,r,o){s8(n,e,void 0,o);for(const a in e.attrs)n.setAttribute(l8.has(a)?a:ME(a),e.attrs[a])}class a8 extends r8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bn}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Cg.has(r)){const o=t8(r);return o&&o.default||0}return r=l8.has(r)?r:ME(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,o){return _U(e,r,o)}build(e,r,o){VU(e,r,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(e,r,o,a){Tct(e,r,o,a)}mount(e){this.isSVGTag=XU(e.tagName),super.mount(e)}}const Cct=(n,e)=>LE(n)?new a8(e):new o8(e,{allowProjection:n!==Z.Fragment}),Mct=Wlt({...Dut,...act,...Yht,...uct},Cct),nR=plt(Mct);function rR(n){return typeof n=="object"&&!Array.isArray(n)}function u8(n,e,r,o){return typeof n=="string"&&rR(e)?YW(n,r,o):n instanceof NodeList?Array.from(n):Array.isArray(n)?n:[n]}function Qct(n,e,r){return n*(e+1)}function Uz(n,e,r,o){return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,n+parseFloat(e)):e==="<"?r:o.get(e)??n}const Nct=(n,e,r)=>{const o=e-n;return((r-n)%o+o)%o+n};function h8(n,e){return lW(n)?n[Nct(0,n.length,e)]:n}function Act(n,e,r){for(let o=0;o<n.length;o++){const a=n[o];a.at>e&&a.at<r&&(HP(n,a),o--)}}function jct(n,e,r,o,a,h){Act(n,a,h);for(let f=0;f<e.length;f++)n.push({value:e[f],at:Gi(a,h,o[f]),easing:h8(r,f)})}function Ect(n,e){for(let r=0;r<n.length;r++)n[r]=n[r]/(e+1)}function Rct(n,e){return n.at===e.at?n.value===null?1:e.value===null?-1:0:n.at-e.at}const Lct="easeInOut";function $ct(n,{defaultTransition:e={},...r}={},o,a){const h=e.duration||.3,f=new Map,p=new Map,g={},v=new Map;let x=0,S=0,b=0;for(let C=0;C<n.length;C++){const j=n[C];if(typeof j=="string"){v.set(j,S);continue}else if(!Array.isArray(j)){v.set(j.name,Uz(S,j.at,x,v));continue}let[N,E,R={}]=j;R.at!==void 0&&(S=Uz(S,R.at,x,v));let $=0;const V=(D,B,q,K=0,J=0)=>{const ot=Dct(D),{delay:Ot=0,times:bt=rW(ot),type:wt="keyframes",repeat:St,repeatType:dt,repeatDelay:Vt=0,...Mt}=B;let{ease:Et=e.ease||"easeOut",duration:pt}=B;const ht=typeof Ot=="function"?Ot(K,J):Ot,vt=ot.length,Dt=KE(wt)?wt:a==null?void 0:a[wt];if(vt<=2&&Dt){let Fe=100;if(vt===2&&Vct(ot)){const Le=ot[1]-ot[0];Fe=Math.abs(Le)}const le={...Mt};pt!==void 0&&(le.duration=ia(pt));const Qi=eW(le,Fe,Dt);Et=Qi.ease,pt=Qi.duration}pt??(pt=h);const qt=S+ht;bt.length===1&&bt[0]===0&&(bt[1]=1);const it=bt.length-ot.length;if(it>0&&nW(bt,it),ot.length===1&&ot.unshift(null),St){pt=Qct(pt,St);const Fe=[...ot],le=[...bt];Et=Array.isArray(Et)?[...Et]:[Et];const Qi=[...Et];for(let Le=0;Le<St;Le++){ot.push(...Fe);for(let hi=0;hi<Fe.length;hi++)bt.push(le[hi]+(Le+1)),Et.push(hi===0?"linear":h8(Qi,hi-1))}Ect(bt,St)}const xe=qt+pt;jct(q,ot,Et,bt,qt,xe),$=Math.max(ht+pt,$),b=Math.max(xe,b)};if(wr(N)){const D=Wz(N,p);V(E,R,qz("default",D))}else{const D=u8(N,E,o,g),B=D.length;for(let q=0;q<B;q++){E=E,R=R;const K=D[q],J=Wz(K,p);for(const ot in E)V(E[ot],Ict(R,ot),qz(ot,J),q,B)}}x=S,S+=$}return p.forEach((C,j)=>{for(const N in C){const E=C[N];E.sort(Rct);const R=[],$=[],V=[];for(let B=0;B<E.length;B++){const{at:q,value:K,easing:J}=E[B];R.push(K),$.push(ng(0,b,q)),V.push(J||"easeOut")}$[0]!==0&&($.unshift(0),R.unshift(R[0]),V.unshift(Lct)),$[$.length-1]!==1&&($.push(1),R.push(null)),f.has(j)||f.set(j,{keyframes:{},transition:{}});const D=f.get(j);D.keyframes[N]=R,D.transition[N]={...e,duration:b,ease:V,times:$,...r}}}),f}function Wz(n,e){return!e.has(n)&&e.set(n,{}),e.get(n)}function qz(n,e){return e[n]||(e[n]=[]),e[n]}function Dct(n){return Array.isArray(n)?n:[n]}function Ict(n,e){return n&&n[e]?{...n,...n[e]}:{...n}}const Fct=n=>typeof n=="number",Vct=n=>n.every(Fct);function zct(n,e){return n in e}class Xct extends i8{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,r){if(zct(r,e)){const o=e[r];if(typeof o=="string"||typeof o=="number")return o}}getBaseTargetFromProps(){}removeValueFromRenderState(e,r){delete r.output[e]}measureInstanceViewportBox(){return bn()}build(e,r){Object.assign(e.output,r)}renderInstance(e,{output:r}){Object.assign(e,r)}sortInstanceNodePosition(){return 0}}function Bct(n){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=iR(n)&&!zW(n)?new a8(e):new o8(e);r.mount(n),VO.set(n,r)}function _ct(n){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new Xct(e);r.mount(n),VO.set(n,r)}function Zct(n,e){return wr(n)||typeof n=="number"||typeof n=="string"&&!rR(e)}function c8(n,e,r,o){const a=[];if(Zct(n,e))a.push($W(n,rR(e)&&e.default||e,r&&(r.default||r)));else{const h=u8(n,e,o),f=h.length;for(let p=0;p<f;p++){const g=h[p],v=g instanceof Element?Bct:_ct;VO.has(g)||v(g);const x=VO.get(g),S={...r};"delay"in S&&typeof S.delay=="function"&&(S.delay=S.delay(p,f)),a.push(...tR(x,{...e,transition:S},{}))}}return a}function Yct(n,e,r){const o=[];return $ct(n,e,r,{spring:IO}).forEach(({keyframes:h,transition:f},p)=>{o.push(...c8(p,h,f))}),o}class Uct{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let o=0;o<this.animations.length;o++)this.animations[o][e]=r}attachTimeline(e){const r=this.animations.map(o=>o.attachTimeline(e));return()=>{r.forEach((o,a)=>{o&&o(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Wct extends Uct{then(e,r){return this.finished.finally(e).then(()=>{})}}function qct(n){return Array.isArray(n)&&n.some(Array.isArray)}function Gct(n){function e(r,o,a){let h=[];return qct(r)?h=Yct(r,o,n):h=c8(r,o,a,n),new Wct(h)}return e}const Hct=Gct();function Kct(n,e){const r=-35+Math.random()*10;return{x:Math.random()*n*1.5-n*.25,y:Math.random()*e*1.5-e*.25,width:30+Math.random()*60,length:e*2.5,angle:r,speed:.6+Math.random()*1.2,opacity:.12+Math.random()*.16,hue:190+Math.random()*70,pulse:Math.random()*Math.PI*2,pulseSpeed:.02+Math.random()*.03}}function kh({className:n,intensity:e="strong",children:r}){const o=Z.useRef(null),a=Z.useRef([]),h=Z.useRef(0),f=20,p={subtle:.7,medium:.85,strong:1};return Z.useEffect(()=>{const g=o.current;if(!g)return;const v=g.getContext("2d");if(!v)return;const x=()=>{const j=window.devicePixelRatio||1;g.width=window.innerWidth*j,g.height=window.innerHeight*j,g.style.width=`${window.innerWidth}px`,g.style.height=`${window.innerHeight}px`,v.scale(j,j);const N=f*1.5;a.current=Array.from({length:N},()=>Kct(g.width,g.height))};x(),window.addEventListener("resize",x);function S(j,N,E){if(!g)return j;const R=N%3,$=g.width/3;return j.y=g.height+100,j.x=R*$+$/2+(Math.random()-.5)*$*.5,j.width=100+Math.random()*100,j.speed=.5+Math.random()*.4,j.hue=190+N*70/E,j.opacity=.2+Math.random()*.1,j}function b(j,N){j.save(),j.translate(N.x,N.y),j.rotate(N.angle*Math.PI/180);const E=N.opacity*(.8+Math.sin(N.pulse)*.2)*p[e],R=j.createLinearGradient(0,0,0,N.length);R.addColorStop(0,`hsla(${N.hue}, 85%, 65%, 0)`),R.addColorStop(.1,`hsla(${N.hue}, 85%, 65%, ${E*.5})`),R.addColorStop(.4,`hsla(${N.hue}, 85%, 65%, ${E})`),R.addColorStop(.6,`hsla(${N.hue}, 85%, 65%, ${E})`),R.addColorStop(.9,`hsla(${N.hue}, 85%, 65%, ${E*.5})`),R.addColorStop(1,`hsla(${N.hue}, 85%, 65%, 0)`),j.fillStyle=R,j.fillRect(-N.width/2,0,N.width,N.length),j.restore()}function C(){if(!g||!v)return;v.clearRect(0,0,g.width,g.height),v.filter="blur(35px)";const j=a.current.length;a.current.forEach((N,E)=>{N.y-=N.speed,N.pulse+=N.pulseSpeed,N.y+N.length<-100&&S(N,E,j),b(v,N)}),h.current=requestAnimationFrame(C)}return C(),()=>{window.removeEventListener("resize",x),h.current&&cancelAnimationFrame(h.current)}},[e]),Q.jsxs("div",{className:Dn("relative min-h-screen w-full overflow-hidden bg-neutral-950",n),children:[Q.jsx("canvas",{ref:o,className:"absolute inset-0",style:{filter:"blur(15px)"}}),Q.jsx(nR.div,{className:"absolute inset-0 bg-neutral-950/5",animate:{opacity:[.05,.15,.05]},transition:{duration:10,ease:"easeInOut",repeat:Number.POSITIVE_INFINITY},style:{backdropFilter:"blur(50px)"}}),Q.jsx("div",{className:"relative z-10",children:r})]})}/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jct={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=(n,e,r,o)=>{const a=Z.forwardRef(({color:h="currentColor",size:f=24,stroke:p=2,title:g,className:v,children:x,...S},b)=>Z.createElement("svg",{ref:b,...Jct[n],width:f,height:f,className:["tabler-icon",`tabler-icon-${e}`,v].join(" "),strokeWidth:p,stroke:h,...S},[g&&Z.createElement("title",{key:"svg-title"},g),...o.map(([C,j])=>Z.createElement(C,j)),...Array.isArray(x)?x:[x]]));return a.displayName=`${r}`,a};/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var d8=f8("outline","brand-google","IconBrandGoogle",[["path",{d:"M20.945 11a9 9 0 1 1 -3.284 -5.997l-2.655 2.392a5.5 5.5 0 1 0 2.119 6.605h-4.125v-3h7.945z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tft=f8("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);const eft=()=>{const{login:n,loginWithGoogle:e}=bg(),r=ua(),[o,a]=Z.useState(""),[h,f]=Z.useState(""),[p,g]=Z.useState(null),v=async x=>{var S,b;x.preventDefault();try{await n(o,h),r("/")}catch(C){g(((b=(S=C.response)==null?void 0:S.data)==null?void 0:b.message)||"Login failed")}};return Q.jsx(kh,{children:Q.jsxs("div",{className:"glassmorphic-login-container",children:[Q.jsx("style",{children:`
        .glassmorphic-login-container {
          display: flex;
          justify-content: center;
          align-items: center;
          min-height: 80vh;
          padding: 2rem;
        }
        
        .glassmorphic-login-card {
          backdrop-filter: blur(10px);
          background-color: rgba(15, 15, 30, 0.3);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 12px;
          box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
          padding: 2rem;
          width: 100%;
          max-width: 420px;
          transition: all 0.3s ease;
        }
        
        .glassmorphic-login-card:hover {
          box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
          border-color: rgba(255, 255, 255, 0.15);
          background-color: rgba(15, 15, 30, 0.35);
        }
        
        .glass-title {
          color: rgba(255, 255, 255, 0.95);
          font-size: 1.75rem;
          font-weight: 600;
          margin-bottom: 1.5rem;
          text-align: center;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 0.5rem;
        }
        
        .glass-input-group {
          margin-bottom: 1.5rem;
        }
        
        .glass-label {
          color: rgba(255, 255, 255, 0.8);
          display: block;
          font-size: 0.875rem;
          margin-bottom: 0.5rem;
        }
        
        .glass-input-wrapper {
          position: relative;
        }
        
        .glass-input {
          background-color: rgba(255, 255, 255, 0.05);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 8px;
          color: rgba(255, 255, 255, 0.9);
          font-size: 1rem;
          padding: 0.75rem 1rem 0.75rem 2.5rem;
          width: 100%;
          transition: all 0.2s ease;
        }
        
        .glass-input:focus {
          background-color: rgba(255, 255, 255, 0.08);
          border-color: rgba(255, 255, 255, 0.2);
          outline: none;
          box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
        }
        
        .glass-input::placeholder {
          color: rgba(255, 255, 255, 0.4);
        }
        
        .glass-input-icon {
          position: absolute;
          left: 0.75rem;
          top: 50%;
          transform: translateY(-50%);
          color: rgba(255, 255, 255, 0.5);
        }
        
        .glass-button {
          background: linear-gradient(135deg, rgba(99, 102, 241, 0.6), rgba(79, 70, 229, 0.6));
          border: 1px solid rgba(99, 102, 241, 0.3);
          border-radius: 8px;
          color: white;
          cursor: pointer;
          font-size: 1rem;
          font-weight: 500;
          padding: 0.75rem 1rem;
          width: 100%;
          transition: all 0.2s ease;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 0.5rem;
        }
        
        .glass-button:hover {
          background: linear-gradient(135deg, rgba(99, 102, 241, 0.7), rgba(79, 70, 229, 0.7));
          border-color: rgba(99, 102, 241, 0.4);
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .glass-button:active {
          transform: translateY(0);
        }
        
        .glass-error {
          background-color: rgba(239, 68, 68, 0.15);
          border: 1px solid rgba(239, 68, 68, 0.3);
          border-radius: 8px;
          color: rgba(255, 255, 255, 0.9);
          display: flex;
          align-items: center;
          gap: 0.5rem;
          margin-bottom: 1.5rem;
          padding: 0.75rem;
        }

        .signup-link {
          text-align: center;
          margin-top: 1rem;
          color: rgba(255, 255, 255, 0.7);
          font-size: 0.875rem;
        }

        .signup-link a {
          color: rgba(99, 102, 241, 0.9);
          text-decoration: none;
          font-weight: 500;
          transition: color 0.2s ease;
        }

        .signup-link a:hover {
          color: rgba(99, 102, 241, 1);
          text-decoration: underline;
        }

        .oauth-divider {
  display: flex;
  align-items: center;
  margin: 1.5rem 0;
  color: rgba(255, 255, 255, 0.5);
  font-size: 0.875rem;
}

.oauth-divider::before,
.oauth-divider::after {
  content: '';
  flex: 1;
  height: 1px;
  background: rgba(255, 255, 255, 0.1);
}

.oauth-divider span {
  padding: 0 1rem;
}

.oauth-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  color: rgba(255, 255, 255, 0.9);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem;
  transition: all 0.2s ease;
  width: 100%;
  margin-bottom: 1rem;
}

.oauth-button:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(66, 133, 244, 0.4);
  transform: translateY(-1px);
}
      `}),Q.jsxs("div",{className:"glassmorphic-login-card",children:[Q.jsxs("h2",{className:"glass-title",children:[Q.jsx(_F,{className:"h-6 w-6"}),Q.jsx("span",{children:"Log In"})]}),p&&Q.jsxs("div",{className:"glass-error",children:[Q.jsx(dk,{className:"h-5 w-5"}),Q.jsx("span",{children:p})]}),Q.jsxs("button",{type:"button",className:"oauth-button",onClick:e,children:[Q.jsx(d8,{className:"h-4 w-4"}),Q.jsx("span",{children:"Continue with Google"})]}),Q.jsx("div",{className:"oauth-divider",children:Q.jsx("span",{children:"or continue with email"})}),Q.jsxs("form",{onSubmit:v,children:[Q.jsxs("div",{className:"glass-input-group",children:[Q.jsx("label",{className:"glass-label",children:"Username"}),Q.jsxs("div",{className:"glass-input-wrapper",children:[Q.jsx(JZ,{className:"h-4 w-4 glass-input-icon"}),Q.jsx("input",{type:"text",value:o,onChange:x=>a(x.target.value),className:"glass-input",placeholder:"Enter your username",required:!0})]})]}),Q.jsxs("div",{className:"glass-input-group",children:[Q.jsx("label",{className:"glass-label",children:"Password"}),Q.jsxs("div",{className:"glass-input-wrapper",children:[Q.jsx(oN,{className:"h-4 w-4 glass-input-icon"}),Q.jsx("input",{type:"password",value:h,onChange:x=>f(x.target.value),className:"glass-input",placeholder:"Enter your password",required:!0})]})]}),Q.jsxs("button",{type:"submit",className:"glass-button",children:[Q.jsx(_F,{className:"h-5 w-5"}),Q.jsx("span",{children:"Log In"})]}),Q.jsxs("div",{className:"signup-link",children:["Don't have an account? ",Q.jsx("a",{href:"/signup",children:"Sign up"})]})]})]})]})})},ift=()=>{const{signup:n,loginWithGoogle:e}=bg(),r=ua(),[o,a]=Z.useState(""),[h,f]=Z.useState(""),[p,g]=Z.useState(""),[v,x]=Z.useState(""),[S,b]=Z.useState(null),C=async j=>{var N,E;if(j.preventDefault(),p!==v){b("Passwords do not match");return}try{await n(o,h,p),r("/")}catch(R){b(((E=(N=R.response)==null?void 0:N.data)==null?void 0:E.message)||"Signup failed")}};return Q.jsx(kh,{children:Q.jsxs("div",{className:"glassmorphic-signup-container",children:[Q.jsx("style",{children:`
          .glassmorphic-signup-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 80vh;
            padding: 2rem;
          }
          
          .glassmorphic-signup-card {
            backdrop-filter: blur(10px);
            background-color: rgba(15, 15, 30, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            padding: 2rem;
            width: 100%;
            max-width: 420px;
            transition: all 0.3s ease;
          }
          
          .glassmorphic-signup-card:hover {
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
            border-color: rgba(255, 255, 255, 0.15);
            background-color: rgba(15, 15, 30, 0.35);
          }
          
          .glass-title {
            color: rgba(255, 255, 255, 0.95);
            font-size: 1.75rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
          }
          
          .glass-input-group {
            margin-bottom: 1.5rem;
          }
          
          .glass-label {
            color: rgba(255, 255, 255, 0.8);
            display: block;
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
          }
          
          .glass-input-wrapper {
            position: relative;
          }
          
          .glass-input {
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: rgba(255, 255, 255, 0.9);
            font-size: 1rem;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            width: 100%;
            transition: all 0.2s ease;
          }
          
          .glass-input:focus {
            background-color: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.2);
            outline: none;
            box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
          }
          
          .glass-input::placeholder {
            color: rgba(255, 255, 255, 0.4);
          }
          
          .glass-input-icon {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(255, 255, 255, 0.5);
          }
          
          .glass-button {
            background: linear-gradient(135deg, rgba(52, 211, 153, 0.6), rgba(16, 185, 129, 0.6));
            border: 1px solid rgba(52, 211, 153, 0.3);
            border-radius: 8px;
            color: white;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            padding: 0.75rem 1rem;
            width: 100%;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
          }
          
          .glass-button:hover {
            background: linear-gradient(135deg, rgba(52, 211, 153, 0.7), rgba(16, 185, 129, 0.7));
            border-color: rgba(52, 211, 153, 0.4);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
          }
          
          .glass-button:active {
            transform: translateY(0);
          }
          
          .glass-error {
            background-color: rgba(239, 68, 68, 0.15);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 8px;
            color: rgba(255, 255, 255, 0.9);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            padding: 0.75rem;
          }

          .login-link {
            text-align: center;
            margin-top: 1rem;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.875rem;
          }

          .login-link a {
            color: rgba(52, 211, 153, 0.9);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s ease;
          }

          .login-link a:hover {
            color: rgba(52, 211, 153, 1);
            text-decoration: underline;
          }

          .oauth-divider {
  display: flex;
  align-items: center;
  margin: 1.5rem 0;
  color: rgba(255, 255, 255, 0.5);
  font-size: 0.875rem;
}

.oauth-divider::before,
.oauth-divider::after {
  content: '';
  flex: 1;
  height: 1px;
  background: rgba(255, 255, 255, 0.1);
}

.oauth-divider span {
  padding: 0 1rem;
}

.oauth-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  color: rgba(255, 255, 255, 0.9);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem;
  transition: all 0.2s ease;
  width: 100%;
  margin-bottom: 1rem;
}

.oauth-button:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(66, 133, 244, 0.4);
  transform: translateY(-1px);
}
        `}),Q.jsxs("div",{className:"glassmorphic-signup-card",children:[Q.jsxs("h2",{className:"glass-title",children:[Q.jsx(YF,{className:"h-6 w-6"}),Q.jsx("span",{children:"Sign Up"})]}),S&&Q.jsxs("div",{className:"glass-error",children:[Q.jsx(dk,{className:"h-5 w-5"}),Q.jsx("span",{children:S})]}),Q.jsxs("button",{type:"button",className:"oauth-button",onClick:e,children:[Q.jsx(d8,{className:"h-4 w-4"}),Q.jsx("span",{children:"Sign up with Google"})]}),Q.jsx("div",{className:"oauth-divider",children:Q.jsx("span",{children:"or sign up with email"})}),Q.jsxs("form",{onSubmit:C,children:[Q.jsxs("div",{className:"glass-input-group",children:[Q.jsx("label",{className:"glass-label",children:"Username"}),Q.jsxs("div",{className:"glass-input-wrapper",children:[Q.jsx(JZ,{className:"h-4 w-4 glass-input-icon"}),Q.jsx("input",{type:"text",value:o,onChange:j=>a(j.target.value),className:"glass-input",placeholder:"Choose a username",required:!0})]})]}),Q.jsxs("div",{className:"glass-input-group",children:[Q.jsx("label",{className:"glass-label",children:"Email"}),Q.jsxs("div",{className:"glass-input-wrapper",children:[Q.jsx(iet,{className:"h-4 w-4 glass-input-icon"}),Q.jsx("input",{type:"email",value:h,onChange:j=>f(j.target.value),className:"glass-input",placeholder:"Enter your email",required:!0})]})]}),Q.jsxs("div",{className:"glass-input-group",children:[Q.jsx("label",{className:"glass-label",children:"Password"}),Q.jsxs("div",{className:"glass-input-wrapper",children:[Q.jsx(oN,{className:"h-4 w-4 glass-input-icon"}),Q.jsx("input",{type:"password",value:p,onChange:j=>g(j.target.value),className:"glass-input",placeholder:"Create a password",required:!0})]})]}),Q.jsxs("div",{className:"glass-input-group",children:[Q.jsx("label",{className:"glass-label",children:"Confirm Password"}),Q.jsxs("div",{className:"glass-input-wrapper",children:[Q.jsx(oN,{className:"h-4 w-4 glass-input-icon"}),Q.jsx("input",{type:"password",value:v,onChange:j=>x(j.target.value),className:"glass-input",placeholder:"Confirm your password",required:!0})]})]}),Q.jsxs("button",{type:"submit",className:"glass-button",children:[Q.jsx(YF,{className:"h-5 w-5"}),Q.jsx("span",{children:"Sign Up"})]}),Q.jsxs("div",{className:"login-link",children:["Already have an account? ",Q.jsx(tU,{to:"/login",children:"Log In"})]})]})]})]})})},nft=()=>{const{refreshUser:n,user:e}=bg(),r=ua(),o=Bo(),[a,h]=Z.useState("loading"),[f,p]=Z.useState("Completing authentication...");Z.useEffect(()=>{(async()=>{var x;try{h("loading"),p("Verifying your authentication..."),await new Promise(C=>setTimeout(C,1e3)),await n(),h("success"),p("Authentication successful! Redirecting..."),await new Promise(C=>setTimeout(C,2e3));const S=o.state,b=((x=S==null?void 0:S.from)==null?void 0:x.pathname)||"/";r(b,{replace:!0})}catch(S){console.error("OAuth success handling failed:",S),h("error"),p("Authentication failed. Please try again."),setTimeout(()=>{r("/login",{replace:!0})},3e3)}})()},[n,r,o.state]);const g=()=>{a==="error"?r("/login",{replace:!0}):a==="success"&&e&&r("/",{replace:!0})};return Q.jsx(kh,{children:Q.jsxs("div",{className:"auth-success-container",children:[Q.jsx("style",{children:`
          .auth-success-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 2rem;
          }
          
          .auth-success-card {
            backdrop-filter: blur(10px);
            background-color: rgba(15, 15, 30, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
            padding: 3rem 2rem;
            width: 100%;
            max-width: 420px;
            text-align: center;
            transition: all 0.3s ease;
          }
          
          .auth-success-card:hover {
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.25);
            border-color: rgba(255, 255, 255, 0.15);
            background-color: rgba(15, 15, 30, 0.35);
          }
          
          .status-icon {
            margin: 0 auto 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
          }
          
          .status-icon.loading {
            color: rgba(99, 102, 241, 0.8);
          }
          
          .status-icon.success {
            color: rgba(52, 211, 153, 0.9);
          }
          
          .status-icon.error {
            color: rgba(239, 68, 68, 0.9);
          }
          
          .loading-spinner {
            animation: spin 1s linear infinite;
          }
          
          @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
          
          .status-title {
            color: rgba(255, 255, 255, 0.95);
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
          }
          
          .status-message {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1rem;
            line-height: 1.5;
            margin-bottom: 2rem;
          }
          
          .progress-bar {
            width: 100%;
            height: 4px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
            margin-bottom: 2rem;
          }
          
          .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, rgba(99, 102, 241, 0.6), rgba(79, 70, 229, 0.8));
            border-radius: 2px;
            transition: width 0.3s ease;
          }
          
          .progress-fill.loading {
            width: 60%;
            animation: pulse 2s ease-in-out infinite;
          }
          
          .progress-fill.success {
            width: 100%;
            background: linear-gradient(90deg, rgba(52, 211, 153, 0.6), rgba(16, 185, 129, 0.8));
          }
          
          .progress-fill.error {
            width: 100%;
            background: linear-gradient(90deg, rgba(239, 68, 68, 0.6), rgba(220, 38, 38, 0.8));
          }
          
          @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
          }
          
          .redirect-button {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.6), rgba(79, 70, 229, 0.6));
            border: 1px solid rgba(99, 102, 241, 0.3);
            border-radius: 8px;
            color: white;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 500;
            padding: 0.75rem 1.5rem;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
          }
          
          .redirect-button:hover {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.7), rgba(79, 70, 229, 0.7));
            border-color: rgba(99, 102, 241, 0.4);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
          }
          
          .redirect-button.error {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.6), rgba(220, 38, 38, 0.6));
            border-color: rgba(239, 68, 68, 0.3);
          }
          
          .redirect-button.error:hover {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.7), rgba(220, 38, 38, 0.7));
            border-color: rgba(239, 68, 68, 0.4);
          }
          
          .user-welcome {
            background-color: rgba(52, 211, 153, 0.1);
            border: 1px solid rgba(52, 211, 153, 0.2);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
          }
          
          .user-welcome-text {
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.875rem;
          }
          
          .user-name {
            color: rgba(52, 211, 153, 0.9);
            font-weight: 600;
          }
        `}),Q.jsxs("div",{className:"auth-success-card",children:[Q.jsxs("div",{className:`status-icon ${a}`,children:[a==="loading"&&Q.jsx(tet,{className:"h-12 w-12 loading-spinner"}),a==="success"&&Q.jsx(Utt,{className:"h-12 w-12"}),a==="error"&&Q.jsx(dk,{className:"h-12 w-12"})]}),Q.jsxs("h2",{className:"status-title",children:[a==="loading"&&"Authenticating...",a==="success"&&"Welcome!",a==="error"&&"Authentication Failed"]}),a==="success"&&e&&Q.jsx("div",{className:"user-welcome",children:Q.jsxs("div",{className:"user-welcome-text",children:["Welcome back, ",Q.jsx("span",{className:"user-name",children:e.first_name||e.username}),"!"]})}),Q.jsx("p",{className:"status-message",children:f}),Q.jsx("div",{className:"progress-bar",children:Q.jsx("div",{className:`progress-fill ${a}`})}),(a==="error"||a==="success"&&e)&&Q.jsx("button",{onClick:g,className:`redirect-button ${a}`,children:a==="error"?Q.jsxs(Q.Fragment,{children:[Q.jsx(dk,{className:"h-4 w-4"}),Q.jsx("span",{children:"Back to Login"})]}):Q.jsxs(Q.Fragment,{children:[Q.jsx(Ktt,{className:"h-4 w-4"}),Q.jsx("span",{children:"Go to Dashboard"})]})})]})]})})};function ZN(){return ZN=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)({}).hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},ZN.apply(null,arguments)}function rft(n,e){if(n==null)return{};var r={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(e.includes(o))continue;r[o]=n[o]}return r}let YN=[],p8=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,r=0;e<n.length;e++)(e%2?p8:YN).push(r=r+n[e])})();function sft(n){if(n<768)return!1;for(let e=0,r=YN.length;;){let o=e+r>>1;if(n<YN[o])r=o;else if(n>=p8[o])e=o+1;else return!0;if(e==r)return!1}}function Gz(n){return n>=127462&&n<=127487}const Hz=8205;function oft(n,e,r=!0,o=!0){return(r?m8:lft)(n,e,o)}function m8(n,e,r){if(e==n.length)return e;e&&g8(n.charCodeAt(e))&&y8(n.charCodeAt(e-1))&&e--;let o=yM(n,e);for(e+=Kz(o);e<n.length;){let a=yM(n,e);if(o==Hz||a==Hz||r&&sft(a))e+=Kz(a),o=a;else if(Gz(a)){let h=0,f=e-2;for(;f>=0&&Gz(yM(n,f));)h++,f-=2;if(h%2==0)break;e+=2}else break}return e}function lft(n,e,r){for(;e>0;){let o=m8(n,e-2,r);if(o<e)return o;e--}return 0}function yM(n,e){let r=n.charCodeAt(e);if(!y8(r)||e+1==n.length)return r;let o=n.charCodeAt(e+1);return g8(o)?(r-55296<<10)+(o-56320)+65536:r}function g8(n){return n>=56320&&n<57344}function y8(n){return n>=55296&&n<56320}function Kz(n){return n<65536?1:2}class He{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,r,o){[e,r]=rg(this,e,r);let a=[];return this.decompose(0,e,a,2),o.length&&o.decompose(0,o.length,a,3),this.decompose(r,this.length,a,1),tu.from(a,this.length-(r-e)+o.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,r=this.length){[e,r]=rg(this,e,r);let o=[];return this.decompose(e,r,o,0),tu.from(o,r-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let r=this.scanIdentical(e,1),o=this.length-this.scanIdentical(e,-1),a=new Ky(this),h=new Ky(e);for(let f=r,p=r;;){if(a.next(f),h.next(f),f=0,a.lineBreak!=h.lineBreak||a.done!=h.done||a.value!=h.value)return!1;if(p+=a.value.length,a.done||p>=o)return!0}}iter(e=1){return new Ky(this,e)}iterRange(e,r=this.length){return new O8(this,e,r)}iterLines(e,r){let o;if(e==null)o=this.iter();else{r==null&&(r=this.lines+1);let a=this.line(e).from;o=this.iterRange(a,Math.max(a,r==this.lines+1?this.length:r<=1?0:this.line(r-1).to))}return new v8(o)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?He.empty:e.length<=32?new En(e):tu.from(En.split(e,[]))}}class En extends He{constructor(e,r=aft(e)){super(),this.text=e,this.length=r}get lines(){return this.text.length}get children(){return null}lineInner(e,r,o,a){for(let h=0;;h++){let f=this.text[h],p=a+f.length;if((r?o:p)>=e)return new uft(a,p,o,f);a=p+1,o++}}decompose(e,r,o,a){let h=e<=0&&r>=this.length?this:new En(Jz(this.text,e,r),Math.min(r,this.length)-Math.max(0,e));if(a&1){let f=o.pop(),p=PS(h.text,f.text.slice(),0,h.length);if(p.length<=32)o.push(new En(p,f.length+h.length));else{let g=p.length>>1;o.push(new En(p.slice(0,g)),new En(p.slice(g)))}}else o.push(h)}replace(e,r,o){if(!(o instanceof En))return super.replace(e,r,o);[e,r]=rg(this,e,r);let a=PS(this.text,PS(o.text,Jz(this.text,0,e)),r),h=this.length+o.length-(r-e);return a.length<=32?new En(a,h):tu.from(En.split(a,[]),h)}sliceString(e,r=this.length,o=`
`){[e,r]=rg(this,e,r);let a="";for(let h=0,f=0;h<=r&&f<this.text.length;f++){let p=this.text[f],g=h+p.length;h>e&&f&&(a+=o),e<g&&r>h&&(a+=p.slice(Math.max(0,e-h),r-h)),h=g+1}return a}flatten(e){for(let r of this.text)e.push(r)}scanIdentical(){return 0}static split(e,r){let o=[],a=-1;for(let h of e)o.push(h),a+=h.length+1,o.length==32&&(r.push(new En(o,a)),o=[],a=-1);return a>-1&&r.push(new En(o,a)),r}}class tu extends He{constructor(e,r){super(),this.children=e,this.length=r,this.lines=0;for(let o of e)this.lines+=o.lines}lineInner(e,r,o,a){for(let h=0;;h++){let f=this.children[h],p=a+f.length,g=o+f.lines-1;if((r?g:p)>=e)return f.lineInner(e,r,o,a);a=p+1,o=g+1}}decompose(e,r,o,a){for(let h=0,f=0;f<=r&&h<this.children.length;h++){let p=this.children[h],g=f+p.length;if(e<=g&&r>=f){let v=a&((f<=e?1:0)|(g>=r?2:0));f>=e&&g<=r&&!v?o.push(p):p.decompose(e-f,r-f,o,v)}f=g+1}}replace(e,r,o){if([e,r]=rg(this,e,r),o.lines<this.lines)for(let a=0,h=0;a<this.children.length;a++){let f=this.children[a],p=h+f.length;if(e>=h&&r<=p){let g=f.replace(e-h,r-h,o),v=this.lines-f.lines+g.lines;if(g.lines<v>>4&&g.lines>v>>6){let x=this.children.slice();return x[a]=g,new tu(x,this.length-(r-e)+o.length)}return super.replace(h,p,g)}h=p+1}return super.replace(e,r,o)}sliceString(e,r=this.length,o=`
`){[e,r]=rg(this,e,r);let a="";for(let h=0,f=0;h<this.children.length&&f<=r;h++){let p=this.children[h],g=f+p.length;f>e&&h&&(a+=o),e<g&&r>f&&(a+=p.sliceString(e-f,r-f,o)),f=g+1}return a}flatten(e){for(let r of this.children)r.flatten(e)}scanIdentical(e,r){if(!(e instanceof tu))return 0;let o=0,[a,h,f,p]=r>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;a+=r,h+=r){if(a==f||h==p)return o;let g=this.children[a],v=e.children[h];if(g!=v)return o+g.scanIdentical(v,r);o+=g.length+1}}static from(e,r=e.reduce((o,a)=>o+a.length+1,-1)){let o=0;for(let C of e)o+=C.lines;if(o<32){let C=[];for(let j of e)j.flatten(C);return new En(C,r)}let a=Math.max(32,o>>5),h=a<<1,f=a>>1,p=[],g=0,v=-1,x=[];function S(C){let j;if(C.lines>h&&C instanceof tu)for(let N of C.children)S(N);else C.lines>f&&(g>f||!g)?(b(),p.push(C)):C instanceof En&&g&&(j=x[x.length-1])instanceof En&&C.lines+j.lines<=32?(g+=C.lines,v+=C.length+1,x[x.length-1]=new En(j.text.concat(C.text),j.length+1+C.length)):(g+C.lines>a&&b(),g+=C.lines,v+=C.length+1,x.push(C))}function b(){g!=0&&(p.push(x.length==1?x[0]:tu.from(x,v)),v=-1,g=x.length=0)}for(let C of e)S(C);return b(),p.length==1?p[0]:new tu(p,r)}}He.empty=new En([""],0);function aft(n){let e=-1;for(let r of n)e+=r.length+1;return e}function PS(n,e,r=0,o=1e9){for(let a=0,h=0,f=!0;h<n.length&&a<=o;h++){let p=n[h],g=a+p.length;g>=r&&(g>o&&(p=p.slice(0,o-a)),a<r&&(p=p.slice(r-a)),f?(e[e.length-1]+=p,f=!1):e.push(p)),a=g+1}return e}function Jz(n,e,r){return PS(n,[""],e,r)}class Ky{constructor(e,r=1){this.dir=r,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[r>0?1:(e instanceof En?e.text.length:e.children.length)<<1]}nextInner(e,r){for(this.done=this.lineBreak=!1;;){let o=this.nodes.length-1,a=this.nodes[o],h=this.offsets[o],f=h>>1,p=a instanceof En?a.text.length:a.children.length;if(f==(r>0?p:0)){if(o==0)return this.done=!0,this.value="",this;r>0&&this.offsets[o-1]++,this.nodes.pop(),this.offsets.pop()}else if((h&1)==(r>0?0:1)){if(this.offsets[o]+=r,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(a instanceof En){let g=a.text[f+(r<0?-1:0)];if(this.offsets[o]+=r,g.length>Math.max(0,e))return this.value=e==0?g:r>0?g.slice(e):g.slice(0,g.length-e),this;e-=g.length}else{let g=a.children[f+(r<0?-1:0)];e>g.length?(e-=g.length,this.offsets[o]+=r):(r<0&&this.offsets[o]--,this.nodes.push(g),this.offsets.push(r>0?1:(g instanceof En?g.text.length:g.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class O8{constructor(e,r,o){this.value="",this.done=!1,this.cursor=new Ky(e,r>o?-1:1),this.pos=r>o?e.length:0,this.from=Math.min(r,o),this.to=Math.max(r,o)}nextInner(e,r){if(r<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,r<0?this.pos-this.to:this.from-this.pos);let o=r<0?this.pos-this.from:this.to-this.pos;e>o&&(e=o),o-=e;let{value:a}=this.cursor.next(e);return this.pos+=(a.length+e)*r,this.value=a.length<=o?a:r<0?a.slice(a.length-o):a.slice(0,o),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class v8{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:r,lineBreak:o,value:a}=this.inner.next(e);return r&&this.afterBreak?(this.value="",this.afterBreak=!1):r?(this.done=!0,this.value=""):o?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=a,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(He.prototype[Symbol.iterator]=function(){return this.iter()},Ky.prototype[Symbol.iterator]=O8.prototype[Symbol.iterator]=v8.prototype[Symbol.iterator]=function(){return this});let uft=class{constructor(e,r,o,a){this.from=e,this.to=r,this.number=o,this.text=a}get length(){return this.to-this.from}};function rg(n,e,r){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,r))]}function Xr(n,e,r=!0,o=!0){return oft(n,e,r,o)}function hft(n){return n>=56320&&n<57344}function cft(n){return n>=55296&&n<56320}function io(n,e){let r=n.charCodeAt(e);if(!cft(r)||e+1==n.length)return r;let o=n.charCodeAt(e+1);return hft(o)?(r-55296<<10)+(o-56320)+65536:r}function sR(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function eu(n){return n<65536?1:2}const UN=/\r\n?|\n/;var zr=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(zr||(zr={}));class hu{constructor(e){this.sections=e}get length(){let e=0;for(let r=0;r<this.sections.length;r+=2)e+=this.sections[r];return e}get newLength(){let e=0;for(let r=0;r<this.sections.length;r+=2){let o=this.sections[r+1];e+=o<0?this.sections[r]:o}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let r=0,o=0,a=0;r<this.sections.length;){let h=this.sections[r++],f=this.sections[r++];f<0?(e(o,a,h),a+=h):a+=f,o+=h}}iterChangedRanges(e,r=!1){WN(this,e,r)}get invertedDesc(){let e=[];for(let r=0;r<this.sections.length;){let o=this.sections[r++],a=this.sections[r++];a<0?e.push(o,a):e.push(a,o)}return new hu(e)}composeDesc(e){return this.empty?e:e.empty?this:x8(this,e)}mapDesc(e,r=!1){return e.empty?this:qN(this,e,r)}mapPos(e,r=-1,o=zr.Simple){let a=0,h=0;for(let f=0;f<this.sections.length;){let p=this.sections[f++],g=this.sections[f++],v=a+p;if(g<0){if(v>e)return h+(e-a);h+=p}else{if(o!=zr.Simple&&v>=e&&(o==zr.TrackDel&&a<e&&v>e||o==zr.TrackBefore&&a<e||o==zr.TrackAfter&&v>e))return null;if(v>e||v==e&&r<0&&!p)return e==a||r<0?h:h+g;h+=g}a=v}if(e>a)throw new RangeError(`Position ${e} is out of range for changeset of length ${a}`);return h}touchesRange(e,r=e){for(let o=0,a=0;o<this.sections.length&&a<=r;){let h=this.sections[o++],f=this.sections[o++],p=a+h;if(f>=0&&a<=r&&p>=e)return a<e&&p>r?"cover":!0;a=p}return!1}toString(){let e="";for(let r=0;r<this.sections.length;){let o=this.sections[r++],a=this.sections[r++];e+=(e?" ":"")+o+(a>=0?":"+a:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(r=>typeof r!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new hu(e)}static create(e){return new hu(e)}}class ar extends hu{constructor(e,r){super(e),this.inserted=r}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return WN(this,(r,o,a,h,f)=>e=e.replace(a,a+(o-r),f),!1),e}mapDesc(e,r=!1){return qN(this,e,r,!0)}invert(e){let r=this.sections.slice(),o=[];for(let a=0,h=0;a<r.length;a+=2){let f=r[a],p=r[a+1];if(p>=0){r[a]=p,r[a+1]=f;let g=a>>1;for(;o.length<g;)o.push(He.empty);o.push(f?e.slice(h,h+f):He.empty)}h+=f}return new ar(r,o)}compose(e){return this.empty?e:e.empty?this:x8(this,e,!0)}map(e,r=!1){return e.empty?this:qN(this,e,r,!0)}iterChanges(e,r=!1){WN(this,e,r)}get desc(){return hu.create(this.sections)}filter(e){let r=[],o=[],a=[],h=new zO(this);t:for(let f=0,p=0;;){let g=f==e.length?1e9:e[f++];for(;p<g||p==g&&h.len==0;){if(h.done)break t;let x=Math.min(h.len,g-p);ls(a,x,-1);let S=h.ins==-1?-1:h.off==0?h.ins:0;ls(r,x,S),S>0&&vc(o,r,h.text),h.forward(x),p+=x}let v=e[f++];for(;p<v;){if(h.done)break t;let x=Math.min(h.len,v-p);ls(r,x,-1),ls(a,x,h.ins==-1?-1:h.off==0?h.ins:0),h.forward(x),p+=x}}return{changes:new ar(r,o),filtered:hu.create(a)}}toJSON(){let e=[];for(let r=0;r<this.sections.length;r+=2){let o=this.sections[r],a=this.sections[r+1];a<0?e.push(o):a==0?e.push([o]):e.push([o].concat(this.inserted[r>>1].toJSON()))}return e}static of(e,r,o){let a=[],h=[],f=0,p=null;function g(x=!1){if(!x&&!a.length)return;f<r&&ls(a,r-f,-1);let S=new ar(a,h);p=p?p.compose(S.map(p)):S,a=[],h=[],f=0}function v(x){if(Array.isArray(x))for(let S of x)v(S);else if(x instanceof ar){if(x.length!=r)throw new RangeError(`Mismatched change set length (got ${x.length}, expected ${r})`);g(),p=p?p.compose(x.map(p)):x}else{let{from:S,to:b=S,insert:C}=x;if(S>b||S<0||b>r)throw new RangeError(`Invalid change range ${S} to ${b} (in doc of length ${r})`);let j=C?typeof C=="string"?He.of(C.split(o||UN)):C:He.empty,N=j.length;if(S==b&&N==0)return;S<f&&g(),S>f&&ls(a,S-f,-1),ls(a,b-S,N),vc(h,a,j),f=b}}return v(e),g(!p),p}static empty(e){return new ar(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let r=[],o=[];for(let a=0;a<e.length;a++){let h=e[a];if(typeof h=="number")r.push(h,-1);else{if(!Array.isArray(h)||typeof h[0]!="number"||h.some((f,p)=>p&&typeof f!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(h.length==1)r.push(h[0],0);else{for(;o.length<a;)o.push(He.empty);o[a]=He.of(h.slice(1)),r.push(h[0],o[a].length)}}}return new ar(r,o)}static createSet(e,r){return new ar(e,r)}}function ls(n,e,r,o=!1){if(e==0&&r<=0)return;let a=n.length-2;a>=0&&r<=0&&r==n[a+1]?n[a]+=e:a>=0&&e==0&&n[a]==0?n[a+1]+=r:o?(n[a]+=e,n[a+1]+=r):n.push(e,r)}function vc(n,e,r){if(r.length==0)return;let o=e.length-2>>1;if(o<n.length)n[n.length-1]=n[n.length-1].append(r);else{for(;n.length<o;)n.push(He.empty);n.push(r)}}function WN(n,e,r){let o=n.inserted;for(let a=0,h=0,f=0;f<n.sections.length;){let p=n.sections[f++],g=n.sections[f++];if(g<0)a+=p,h+=p;else{let v=a,x=h,S=He.empty;for(;v+=p,x+=g,g&&o&&(S=S.append(o[f-2>>1])),!(r||f==n.sections.length||n.sections[f+1]<0);)p=n.sections[f++],g=n.sections[f++];e(a,v,h,x,S),a=v,h=x}}}function qN(n,e,r,o=!1){let a=[],h=o?[]:null,f=new zO(n),p=new zO(e);for(let g=-1;;){if(f.done&&p.len||p.done&&f.len)throw new Error("Mismatched change set lengths");if(f.ins==-1&&p.ins==-1){let v=Math.min(f.len,p.len);ls(a,v,-1),f.forward(v),p.forward(v)}else if(p.ins>=0&&(f.ins<0||g==f.i||f.off==0&&(p.len<f.len||p.len==f.len&&!r))){let v=p.len;for(ls(a,p.ins,-1);v;){let x=Math.min(f.len,v);f.ins>=0&&g<f.i&&f.len<=x&&(ls(a,0,f.ins),h&&vc(h,a,f.text),g=f.i),f.forward(x),v-=x}p.next()}else if(f.ins>=0){let v=0,x=f.len;for(;x;)if(p.ins==-1){let S=Math.min(x,p.len);v+=S,x-=S,p.forward(S)}else if(p.ins==0&&p.len<x)x-=p.len,p.next();else break;ls(a,v,g<f.i?f.ins:0),h&&g<f.i&&vc(h,a,f.text),g=f.i,f.forward(f.len-x)}else{if(f.done&&p.done)return h?ar.createSet(a,h):hu.create(a);throw new Error("Mismatched change set lengths")}}}function x8(n,e,r=!1){let o=[],a=r?[]:null,h=new zO(n),f=new zO(e);for(let p=!1;;){if(h.done&&f.done)return a?ar.createSet(o,a):hu.create(o);if(h.ins==0)ls(o,h.len,0,p),h.next();else if(f.len==0&&!f.done)ls(o,0,f.ins,p),a&&vc(a,o,f.text),f.next();else{if(h.done||f.done)throw new Error("Mismatched change set lengths");{let g=Math.min(h.len2,f.len),v=o.length;if(h.ins==-1){let x=f.ins==-1?-1:f.off?0:f.ins;ls(o,g,x,p),a&&x&&vc(a,o,f.text)}else f.ins==-1?(ls(o,h.off?0:h.len,g,p),a&&vc(a,o,h.textBit(g))):(ls(o,h.off?0:h.len,f.off?0:f.ins,p),a&&!f.off&&vc(a,o,f.text));p=(h.ins>g||f.ins>=0&&f.len>g)&&(p||o.length>v),h.forward2(g),f.forward(g)}}}}class zO{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length?He.empty:e[r]}textBit(e){let{inserted:r}=this.set,o=this.i-2>>1;return o>=r.length&&!e?He.empty:r[o].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class id{constructor(e,r,o){this.from=e,this.to=r,this.flags=o}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,r=-1){let o,a;return this.empty?o=a=e.mapPos(this.from,r):(o=e.mapPos(this.from,1),a=e.mapPos(this.to,-1)),o==this.from&&a==this.to?this:new id(o,a,this.flags)}extend(e,r=e){if(e<=this.anchor&&r>=this.anchor)return Ct.range(e,r);let o=Math.abs(e-this.anchor)>Math.abs(r-this.anchor)?e:r;return Ct.range(this.anchor,o)}eq(e,r=!1){return this.anchor==e.anchor&&this.head==e.head&&(!r||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Ct.range(e.anchor,e.head)}static create(e,r,o){return new id(e,r,o)}}class Ct{constructor(e,r){this.ranges=e,this.mainIndex=r}map(e,r=-1){return e.empty?this:Ct.create(this.ranges.map(o=>o.map(e,r)),this.mainIndex)}eq(e,r=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let o=0;o<this.ranges.length;o++)if(!this.ranges[o].eq(e.ranges[o],r))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Ct([this.main],0)}addRange(e,r=!0){return Ct.create([e].concat(this.ranges),r?0:this.mainIndex+1)}replaceRange(e,r=this.mainIndex){let o=this.ranges.slice();return o[r]=e,Ct.create(o,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ct(e.ranges.map(r=>id.fromJSON(r)),e.main)}static single(e,r=e){return new Ct([Ct.range(e,r)],0)}static create(e,r=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let o=0,a=0;a<e.length;a++){let h=e[a];if(h.empty?h.from<=o:h.from<o)return Ct.normalized(e.slice(),r);o=h.to}return new Ct(e,r)}static cursor(e,r=0,o,a){return id.create(e,e,(r==0?0:r<0?8:16)|(o==null?7:Math.min(6,o))|(a??16777215)<<6)}static range(e,r,o,a){let h=(o??16777215)<<6|(a==null?7:Math.min(6,a));return r<e?id.create(r,e,48|h):id.create(e,r,(r>e?8:0)|h)}static normalized(e,r=0){let o=e[r];e.sort((a,h)=>a.from-h.from),r=e.indexOf(o);for(let a=1;a<e.length;a++){let h=e[a],f=e[a-1];if(h.empty?h.from<=f.to:h.from<f.to){let p=f.from,g=Math.max(h.to,f.to);a<=r&&r--,e.splice(--a,2,h.anchor>h.head?Ct.range(g,p):Ct.range(p,g))}}return new Ct(e,r)}}function w8(n,e){for(let r of n.ranges)if(r.to>e)throw new RangeError("Selection points outside of document")}let oR=0;class Ht{constructor(e,r,o,a,h){this.combine=e,this.compareInput=r,this.compare=o,this.isStatic=a,this.id=oR++,this.default=e([]),this.extensions=typeof h=="function"?h(this):h}get reader(){return this}static define(e={}){return new Ht(e.combine||(r=>r),e.compareInput||((r,o)=>r===o),e.compare||(e.combine?(r,o)=>r===o:lR),!!e.static,e.enables)}of(e){return new bS([],this,0,e)}compute(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new bS(e,this,1,r)}computeN(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new bS(e,this,2,r)}from(e,r){return r||(r=o=>o),this.compute([e],o=>r(o.field(e)))}}function lR(n,e){return n==e||n.length==e.length&&n.every((r,o)=>r===e[o])}class bS{constructor(e,r,o,a){this.dependencies=e,this.facet=r,this.type=o,this.value=a,this.id=oR++}dynamicSlot(e){var r;let o=this.value,a=this.facet.compareInput,h=this.id,f=e[h]>>1,p=this.type==2,g=!1,v=!1,x=[];for(let S of this.dependencies)S=="doc"?g=!0:S=="selection"?v=!0:((r=e[S.id])!==null&&r!==void 0?r:1)&1||x.push(e[S.id]);return{create(S){return S.values[f]=o(S),1},update(S,b){if(g&&b.docChanged||v&&(b.docChanged||b.selection)||GN(S,x)){let C=o(S);if(p?!t4(C,S.values[f],a):!a(C,S.values[f]))return S.values[f]=C,1}return 0},reconfigure:(S,b)=>{let C,j=b.config.address[h];if(j!=null){let N=Nk(b,j);if(this.dependencies.every(E=>E instanceof Ht?b.facet(E)===S.facet(E):E instanceof kr?b.field(E,!1)==S.field(E,!1):!0)||(p?t4(C=o(S),N,a):a(C=o(S),N)))return S.values[f]=N,0}else C=o(S);return S.values[f]=C,1}}}}function t4(n,e,r){if(n.length!=e.length)return!1;for(let o=0;o<n.length;o++)if(!r(n[o],e[o]))return!1;return!0}function GN(n,e){let r=!1;for(let o of e)Jy(n,o)&1&&(r=!0);return r}function fft(n,e,r){let o=r.map(g=>n[g.id]),a=r.map(g=>g.type),h=o.filter(g=>!(g&1)),f=n[e.id]>>1;function p(g){let v=[];for(let x=0;x<o.length;x++){let S=Nk(g,o[x]);if(a[x]==2)for(let b of S)v.push(b);else v.push(S)}return e.combine(v)}return{create(g){for(let v of o)Jy(g,v);return g.values[f]=p(g),1},update(g,v){if(!GN(g,h))return 0;let x=p(g);return e.compare(x,g.values[f])?0:(g.values[f]=x,1)},reconfigure(g,v){let x=GN(g,o),S=v.config.facets[e.id],b=v.facet(e);if(S&&!x&&lR(r,S))return g.values[f]=b,0;let C=p(g);return e.compare(C,b)?(g.values[f]=b,0):(g.values[f]=C,1)}}}const Nw=Ht.define({static:!0});class kr{constructor(e,r,o,a,h){this.id=e,this.createF=r,this.updateF=o,this.compareF=a,this.spec=h,this.provides=void 0}static define(e){let r=new kr(oR++,e.create,e.update,e.compare||((o,a)=>o===a),e);return e.provide&&(r.provides=e.provide(r)),r}create(e){let r=e.facet(Nw).find(o=>o.field==this);return((r==null?void 0:r.create)||this.createF)(e)}slot(e){let r=e[this.id]>>1;return{create:o=>(o.values[r]=this.create(o),1),update:(o,a)=>{let h=o.values[r],f=this.updateF(h,a);return this.compareF(h,f)?0:(o.values[r]=f,1)},reconfigure:(o,a)=>{let h=o.facet(Nw),f=a.facet(Nw),p;return(p=h.find(g=>g.field==this))&&p!=f.find(g=>g.field==this)?(o.values[r]=p.create(o),1):a.config.address[this.id]!=null?(o.values[r]=a.field(this),0):(o.values[r]=this.create(o),1)}}}init(e){return[this,Nw.of({field:this,create:e})]}get extension(){return this}}const Wf={lowest:4,low:3,default:2,high:1,highest:0};function my(n){return e=>new S8(e,n)}const Ph={highest:my(Wf.highest),high:my(Wf.high),default:my(Wf.default),low:my(Wf.low),lowest:my(Wf.lowest)};class S8{constructor(e,r){this.inner=e,this.prec=r}}class KP{of(e){return new HN(this,e)}reconfigure(e){return KP.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class HN{constructor(e,r){this.compartment=e,this.inner=r}}class Qk{constructor(e,r,o,a,h,f){for(this.base=e,this.compartments=r,this.dynamicSlots=o,this.address=a,this.staticValues=h,this.facets=f,this.statusTemplate=[];this.statusTemplate.length<o.length;)this.statusTemplate.push(0)}staticFacet(e){let r=this.address[e.id];return r==null?e.default:this.staticValues[r>>1]}static resolve(e,r,o){let a=[],h=Object.create(null),f=new Map;for(let b of dft(e,r,f))b instanceof kr?a.push(b):(h[b.facet.id]||(h[b.facet.id]=[])).push(b);let p=Object.create(null),g=[],v=[];for(let b of a)p[b.id]=v.length<<1,v.push(C=>b.slot(C));let x=o==null?void 0:o.config.facets;for(let b in h){let C=h[b],j=C[0].facet,N=x&&x[b]||[];if(C.every(E=>E.type==0))if(p[j.id]=g.length<<1|1,lR(N,C))g.push(o.facet(j));else{let E=j.combine(C.map(R=>R.value));g.push(o&&j.compare(E,o.facet(j))?o.facet(j):E)}else{for(let E of C)E.type==0?(p[E.id]=g.length<<1|1,g.push(E.value)):(p[E.id]=v.length<<1,v.push(R=>E.dynamicSlot(R)));p[j.id]=v.length<<1,v.push(E=>fft(E,j,C))}}let S=v.map(b=>b(p));return new Qk(e,f,S,p,g,h)}}function dft(n,e,r){let o=[[],[],[],[],[]],a=new Map;function h(f,p){let g=a.get(f);if(g!=null){if(g<=p)return;let v=o[g].indexOf(f);v>-1&&o[g].splice(v,1),f instanceof HN&&r.delete(f.compartment)}if(a.set(f,p),Array.isArray(f))for(let v of f)h(v,p);else if(f instanceof HN){if(r.has(f.compartment))throw new RangeError("Duplicate use of compartment in extensions");let v=e.get(f.compartment)||f.inner;r.set(f.compartment,v),h(v,p)}else if(f instanceof S8)h(f.inner,f.prec);else if(f instanceof kr)o[p].push(f),f.provides&&h(f.provides,p);else if(f instanceof bS)o[p].push(f),f.facet.extensions&&h(f.facet.extensions,Wf.default);else{let v=f.extension;if(!v)throw new Error(`Unrecognized extension value in extension set (${f}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);h(v,p)}}return h(n,Wf.default),o.reduce((f,p)=>f.concat(p))}function Jy(n,e){if(e&1)return 2;let r=e>>1,o=n.status[r];if(o==4)throw new Error("Cyclic dependency between fields and/or facets");if(o&2)return o;n.status[r]=4;let a=n.computeSlot(n,n.config.dynamicSlots[r]);return n.status[r]=2|a}function Nk(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const k8=Ht.define(),KN=Ht.define({combine:n=>n.some(e=>e),static:!0}),P8=Ht.define({combine:n=>n.length?n[0]:void 0,static:!0}),b8=Ht.define(),T8=Ht.define(),C8=Ht.define(),M8=Ht.define({combine:n=>n.length?n[0]:!1});class gu{constructor(e,r){this.type=e,this.value=r}static define(){return new pft}}class pft{of(e){return new gu(this,e)}}class mft{constructor(e){this.map=e}of(e){return new Se(this,e)}}class Se{constructor(e,r){this.type=e,this.value=r}map(e){let r=this.type.map(this.value,e);return r===void 0?void 0:r==this.value?this:new Se(this.type,r)}is(e){return this.type==e}static define(e={}){return new mft(e.map||(r=>r))}static mapEffects(e,r){if(!e.length)return e;let o=[];for(let a of e){let h=a.map(r);h&&o.push(h)}return o}}Se.reconfigure=Se.define();Se.appendConfig=Se.define();class Gn{constructor(e,r,o,a,h,f){this.startState=e,this.changes=r,this.selection=o,this.effects=a,this.annotations=h,this.scrollIntoView=f,this._doc=null,this._state=null,o&&w8(o,r.newLength),h.some(p=>p.type==Gn.time)||(this.annotations=h.concat(Gn.time.of(Date.now())))}static create(e,r,o,a,h,f){return new Gn(e,r,o,a,h,f)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let r of this.annotations)if(r.type==e)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let r=this.annotation(Gn.userEvent);return!!(r&&(r==e||r.length>e.length&&r.slice(0,e.length)==e&&r[e.length]=="."))}}Gn.time=gu.define();Gn.userEvent=gu.define();Gn.addToHistory=gu.define();Gn.remote=gu.define();function gft(n,e){let r=[];for(let o=0,a=0;;){let h,f;if(o<n.length&&(a==e.length||e[a]>=n[o]))h=n[o++],f=n[o++];else if(a<e.length)h=e[a++],f=e[a++];else return r;!r.length||r[r.length-1]<h?r.push(h,f):r[r.length-1]<f&&(r[r.length-1]=f)}}function Q8(n,e,r){var o;let a,h,f;return r?(a=e.changes,h=ar.empty(e.changes.length),f=n.changes.compose(e.changes)):(a=e.changes.map(n.changes),h=n.changes.mapDesc(e.changes,!0),f=n.changes.compose(a)),{changes:f,selection:e.selection?e.selection.map(h):(o=n.selection)===null||o===void 0?void 0:o.map(a),effects:Se.mapEffects(n.effects,a).concat(Se.mapEffects(e.effects,h)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function JN(n,e,r){let o=e.selection,a=Mm(e.annotations);return e.userEvent&&(a=a.concat(Gn.userEvent.of(e.userEvent))),{changes:e.changes instanceof ar?e.changes:ar.of(e.changes||[],r,n.facet(P8)),selection:o&&(o instanceof Ct?o:Ct.single(o.anchor,o.head)),effects:Mm(e.effects),annotations:a,scrollIntoView:!!e.scrollIntoView}}function N8(n,e,r){let o=JN(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(r=!1);for(let h=1;h<e.length;h++){e[h].filter===!1&&(r=!1);let f=!!e[h].sequential;o=Q8(o,JN(n,e[h],f?o.changes.newLength:n.doc.length),f)}let a=Gn.create(n,o.changes,o.selection,o.effects,o.annotations,o.scrollIntoView);return Oft(r?yft(a):a)}function yft(n){let e=n.startState,r=!0;for(let a of e.facet(b8)){let h=a(n);if(h===!1){r=!1;break}Array.isArray(h)&&(r=r===!0?h:gft(r,h))}if(r!==!0){let a,h;if(r===!1)h=n.changes.invertedDesc,a=ar.empty(e.doc.length);else{let f=n.changes.filter(r);a=f.changes,h=f.filtered.mapDesc(f.changes).invertedDesc}n=Gn.create(e,a,n.selection&&n.selection.map(h),Se.mapEffects(n.effects,h),n.annotations,n.scrollIntoView)}let o=e.facet(T8);for(let a=o.length-1;a>=0;a--){let h=o[a](n);h instanceof Gn?n=h:Array.isArray(h)&&h.length==1&&h[0]instanceof Gn?n=h[0]:n=N8(e,Mm(h),!1)}return n}function Oft(n){let e=n.startState,r=e.facet(C8),o=n;for(let a=r.length-1;a>=0;a--){let h=r[a](n);h&&Object.keys(h).length&&(o=Q8(o,JN(e,h,n.changes.newLength),!0))}return o==n?n:Gn.create(e,n.changes,n.selection,o.effects,o.annotations,o.scrollIntoView)}const vft=[];function Mm(n){return n==null?vft:Array.isArray(n)?n:[n]}var Hi=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(Hi||(Hi={}));const xft=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let tA;try{tA=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function wft(n){if(tA)return tA.test(n);for(let e=0;e<n.length;e++){let r=n[e];if(/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||xft.test(r)))return!0}return!1}function Sft(n){return e=>{if(!/\S/.test(e))return Hi.Space;if(wft(e))return Hi.Word;for(let r=0;r<n.length;r++)if(e.indexOf(n[r])>-1)return Hi.Word;return Hi.Other}}class Ye{constructor(e,r,o,a,h,f){this.config=e,this.doc=r,this.selection=o,this.values=a,this.status=e.statusTemplate.slice(),this.computeSlot=h,f&&(f._state=this);for(let p=0;p<this.config.dynamicSlots.length;p++)Jy(this,p<<1);this.computeSlot=null}field(e,r=!0){let o=this.config.address[e.id];if(o==null){if(r)throw new RangeError("Field is not present in this state");return}return Jy(this,o),Nk(this,o)}update(...e){return N8(this,e,!0)}applyTransaction(e){let r=this.config,{base:o,compartments:a}=r;for(let p of e.effects)p.is(KP.reconfigure)?(r&&(a=new Map,r.compartments.forEach((g,v)=>a.set(v,g)),r=null),a.set(p.value.compartment,p.value.extension)):p.is(Se.reconfigure)?(r=null,o=p.value):p.is(Se.appendConfig)&&(r=null,o=Mm(o).concat(p.value));let h;r?h=e.startState.values.slice():(r=Qk.resolve(o,a,this),h=new Ye(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(g,v)=>v.reconfigure(g,this),null).values);let f=e.startState.facet(KN)?e.newSelection:e.newSelection.asSingle();new Ye(r,e.newDoc,f,h,(p,g)=>g.update(p,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:e},range:Ct.cursor(r.from+e.length)}))}changeByRange(e){let r=this.selection,o=e(r.ranges[0]),a=this.changes(o.changes),h=[o.range],f=Mm(o.effects);for(let p=1;p<r.ranges.length;p++){let g=e(r.ranges[p]),v=this.changes(g.changes),x=v.map(a);for(let b=0;b<p;b++)h[b]=h[b].map(x);let S=a.mapDesc(v,!0);h.push(g.range.map(S)),a=a.compose(x),f=Se.mapEffects(f,x).concat(Se.mapEffects(Mm(g.effects),S))}return{changes:a,selection:Ct.create(h,r.mainIndex),effects:f}}changes(e=[]){return e instanceof ar?e:ar.of(e,this.doc.length,this.facet(Ye.lineSeparator))}toText(e){return He.of(e.split(this.facet(Ye.lineSeparator)||UN))}sliceDoc(e=0,r=this.doc.length){return this.doc.sliceString(e,r,this.lineBreak)}facet(e){let r=this.config.address[e.id];return r==null?e.default:(Jy(this,r),Nk(this,r))}toJSON(e){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let o in e){let a=e[o];a instanceof kr&&this.config.address[a.id]!=null&&(r[o]=a.spec.toJSON(this.field(e[o]),this))}return r}static fromJSON(e,r={},o){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let a=[];if(o){for(let h in o)if(Object.prototype.hasOwnProperty.call(e,h)){let f=o[h],p=e[h];a.push(f.init(g=>f.spec.fromJSON(p,g)))}}return Ye.create({doc:e.doc,selection:Ct.fromJSON(e.selection),extensions:r.extensions?a.concat([r.extensions]):a})}static create(e={}){let r=Qk.resolve(e.extensions||[],new Map),o=e.doc instanceof He?e.doc:He.of((e.doc||"").split(r.staticFacet(Ye.lineSeparator)||UN)),a=e.selection?e.selection instanceof Ct?e.selection:Ct.single(e.selection.anchor,e.selection.head):Ct.single(0);return w8(a,o.length),r.staticFacet(KN)||(a=a.asSingle()),new Ye(r,o,a,r.dynamicSlots.map(()=>null),(h,f)=>f.create(h),null)}get tabSize(){return this.facet(Ye.tabSize)}get lineBreak(){return this.facet(Ye.lineSeparator)||`
`}get readOnly(){return this.facet(M8)}phrase(e,...r){for(let o of this.facet(Ye.phrases))if(Object.prototype.hasOwnProperty.call(o,e)){e=o[e];break}return r.length&&(e=e.replace(/\$(\$|\d*)/g,(o,a)=>{if(a=="$")return"$";let h=+(a||1);return!h||h>r.length?o:r[h-1]})),e}languageDataAt(e,r,o=-1){let a=[];for(let h of this.facet(k8))for(let f of h(this,r,o))Object.prototype.hasOwnProperty.call(f,e)&&a.push(f[e]);return a}charCategorizer(e){return Sft(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:r,from:o,length:a}=this.doc.lineAt(e),h=this.charCategorizer(e),f=e-o,p=e-o;for(;f>0;){let g=Xr(r,f,!1);if(h(r.slice(g,f))!=Hi.Word)break;f=g}for(;p<a;){let g=Xr(r,p);if(h(r.slice(p,g))!=Hi.Word)break;p=g}return f==p?null:Ct.range(f+o,p+o)}}Ye.allowMultipleSelections=KN;Ye.tabSize=Ht.define({combine:n=>n.length?n[0]:4});Ye.lineSeparator=P8;Ye.readOnly=M8;Ye.phrases=Ht.define({compare(n,e){let r=Object.keys(n),o=Object.keys(e);return r.length==o.length&&r.every(a=>n[a]==e[a])}});Ye.languageData=k8;Ye.changeFilter=b8;Ye.transactionFilter=T8;Ye.transactionExtender=C8;KP.reconfigure=Se.define();function yu(n,e,r={}){let o={};for(let a of n)for(let h of Object.keys(a)){let f=a[h],p=o[h];if(p===void 0)o[h]=f;else if(!(p===f||f===void 0))if(Object.hasOwnProperty.call(r,h))o[h]=r[h](p,f);else throw new Error("Config merge conflict for field "+h)}for(let a in e)o[a]===void 0&&(o[a]=e[a]);return o}class kd{eq(e){return this==e}range(e,r=e){return eA.create(e,r,this)}}kd.prototype.startSide=kd.prototype.endSide=0;kd.prototype.point=!1;kd.prototype.mapMode=zr.TrackDel;let eA=class A8{constructor(e,r,o){this.from=e,this.to=r,this.value=o}static create(e,r,o){return new A8(e,r,o)}};function iA(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class aR{constructor(e,r,o,a){this.from=e,this.to=r,this.value=o,this.maxPoint=a}get length(){return this.to[this.to.length-1]}findIndex(e,r,o,a=0){let h=o?this.to:this.from;for(let f=a,p=h.length;;){if(f==p)return f;let g=f+p>>1,v=h[g]-e||(o?this.value[g].endSide:this.value[g].startSide)-r;if(g==f)return v>=0?f:p;v>=0?p=g:f=g+1}}between(e,r,o,a){for(let h=this.findIndex(r,-1e9,!0),f=this.findIndex(o,1e9,!1,h);h<f;h++)if(a(this.from[h]+e,this.to[h]+e,this.value[h])===!1)return!1}map(e,r){let o=[],a=[],h=[],f=-1,p=-1;for(let g=0;g<this.value.length;g++){let v=this.value[g],x=this.from[g]+e,S=this.to[g]+e,b,C;if(x==S){let j=r.mapPos(x,v.startSide,v.mapMode);if(j==null||(b=C=j,v.startSide!=v.endSide&&(C=r.mapPos(x,v.endSide),C<b)))continue}else if(b=r.mapPos(x,v.startSide),C=r.mapPos(S,v.endSide),b>C||b==C&&v.startSide>0&&v.endSide<=0)continue;(C-b||v.endSide-v.startSide)<0||(f<0&&(f=b),v.point&&(p=Math.max(p,C-b)),o.push(v),a.push(b-f),h.push(C-f))}return{mapped:o.length?new aR(a,h,o,p):null,pos:f}}}class ri{constructor(e,r,o,a){this.chunkPos=e,this.chunk=r,this.nextLayer=o,this.maxPoint=a}static create(e,r,o,a){return new ri(e,r,o,a)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let r of this.chunk)e+=r.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:r=[],sort:o=!1,filterFrom:a=0,filterTo:h=this.length}=e,f=e.filter;if(r.length==0&&!f)return this;if(o&&(r=r.slice().sort(iA)),this.isEmpty)return r.length?ri.of(r):this;let p=new j8(this,null,-1).goto(0),g=0,v=[],x=new vh;for(;p.value||g<r.length;)if(g<r.length&&(p.from-r[g].from||p.startSide-r[g].value.startSide)>=0){let S=r[g++];x.addInner(S.from,S.to,S.value)||v.push(S)}else p.rangeIndex==1&&p.chunkIndex<this.chunk.length&&(g==r.length||this.chunkEnd(p.chunkIndex)<r[g].from)&&(!f||a>this.chunkEnd(p.chunkIndex)||h<this.chunkPos[p.chunkIndex])&&x.addChunk(this.chunkPos[p.chunkIndex],this.chunk[p.chunkIndex])?p.nextChunk():((!f||a>p.to||h<p.from||f(p.from,p.to,p.value))&&(x.addInner(p.from,p.to,p.value)||v.push(eA.create(p.from,p.to,p.value))),p.next());return x.finishInner(this.nextLayer.isEmpty&&!v.length?ri.empty:this.nextLayer.update({add:v,filter:f,filterFrom:a,filterTo:h}))}map(e){if(e.empty||this.isEmpty)return this;let r=[],o=[],a=-1;for(let f=0;f<this.chunk.length;f++){let p=this.chunkPos[f],g=this.chunk[f],v=e.touchesRange(p,p+g.length);if(v===!1)a=Math.max(a,g.maxPoint),r.push(g),o.push(e.mapPos(p));else if(v===!0){let{mapped:x,pos:S}=g.map(p,e);x&&(a=Math.max(a,x.maxPoint),r.push(x),o.push(S))}}let h=this.nextLayer.map(e);return r.length==0?h:new ri(o,r,h||ri.empty,a)}between(e,r,o){if(!this.isEmpty){for(let a=0;a<this.chunk.length;a++){let h=this.chunkPos[a],f=this.chunk[a];if(r>=h&&e<=h+f.length&&f.between(h,e-h,r-h,o)===!1)return}this.nextLayer.between(e,r,o)}}iter(e=0){return XO.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,r=0){return XO.from(e).goto(r)}static compare(e,r,o,a,h=-1){let f=e.filter(S=>S.maxPoint>0||!S.isEmpty&&S.maxPoint>=h),p=r.filter(S=>S.maxPoint>0||!S.isEmpty&&S.maxPoint>=h),g=e4(f,p,o),v=new gy(f,g,h),x=new gy(p,g,h);o.iterGaps((S,b,C)=>i4(v,S,x,b,C,a)),o.empty&&o.length==0&&i4(v,0,x,0,0,a)}static eq(e,r,o=0,a){a==null&&(a=999999999);let h=e.filter(x=>!x.isEmpty&&r.indexOf(x)<0),f=r.filter(x=>!x.isEmpty&&e.indexOf(x)<0);if(h.length!=f.length)return!1;if(!h.length)return!0;let p=e4(h,f),g=new gy(h,p,0).goto(o),v=new gy(f,p,0).goto(o);for(;;){if(g.to!=v.to||!nA(g.active,v.active)||g.point&&(!v.point||!g.point.eq(v.point)))return!1;if(g.to>a)return!0;g.next(),v.next()}}static spans(e,r,o,a,h=-1){let f=new gy(e,null,h).goto(r),p=r,g=f.openStart;for(;;){let v=Math.min(f.to,o);if(f.point){let x=f.activeForPoint(f.to),S=f.pointFrom<r?x.length+1:f.point.startSide<0?x.length:Math.min(x.length,g);a.point(p,v,f.point,x,S,f.pointRank),g=Math.min(f.openEnd(v),x.length)}else v>p&&(a.span(p,v,f.active,g),g=f.openEnd(v));if(f.to>o)return g+(f.point&&f.to>o?1:0);p=f.to,f.next()}}static of(e,r=!1){let o=new vh;for(let a of e instanceof eA?[e]:r?kft(e):e)o.add(a.from,a.to,a.value);return o.finish()}static join(e){if(!e.length)return ri.empty;let r=e[e.length-1];for(let o=e.length-2;o>=0;o--)for(let a=e[o];a!=ri.empty;a=a.nextLayer)r=new ri(a.chunkPos,a.chunk,r,Math.max(a.maxPoint,r.maxPoint));return r}}ri.empty=new ri([],[],null,-1);function kft(n){if(n.length>1)for(let e=n[0],r=1;r<n.length;r++){let o=n[r];if(iA(e,o)>0)return n.slice().sort(iA);e=o}return n}ri.empty.nextLayer=ri.empty;class vh{finishChunk(e){this.chunks.push(new aR(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,r,o){this.addInner(e,r,o)||(this.nextLayer||(this.nextLayer=new vh)).add(e,r,o)}addInner(e,r,o){let a=e-this.lastTo||o.startSide-this.last.endSide;if(a<=0&&(e-this.lastFrom||o.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return a<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(r-this.chunkStart),this.last=o,this.lastFrom=e,this.lastTo=r,this.value.push(o),o.point&&(this.maxPoint=Math.max(this.maxPoint,r-e)),!0)}addChunk(e,r){if((e-this.lastTo||r.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,r.maxPoint),this.chunks.push(r),this.chunkPos.push(e);let o=r.value.length-1;return this.last=r.value[o],this.lastFrom=r.from[o]+e,this.lastTo=r.to[o]+e,!0}finish(){return this.finishInner(ri.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let r=ri.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,r}}function e4(n,e,r){let o=new Map;for(let h of n)for(let f=0;f<h.chunk.length;f++)h.chunk[f].maxPoint<=0&&o.set(h.chunk[f],h.chunkPos[f]);let a=new Set;for(let h of e)for(let f=0;f<h.chunk.length;f++){let p=o.get(h.chunk[f]);p!=null&&(r?r.mapPos(p):p)==h.chunkPos[f]&&!(r!=null&&r.touchesRange(p,p+h.chunk[f].length))&&a.add(h.chunk[f])}return a}class j8{constructor(e,r,o,a=0){this.layer=e,this.skip=r,this.minPoint=o,this.rank=a}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,r=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,r,!1),this}gotoInner(e,r,o){for(;this.chunkIndex<this.layer.chunk.length;){let a=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(a)||this.layer.chunkEnd(this.chunkIndex)<e||a.maxPoint<this.minPoint))break;this.chunkIndex++,o=!1}if(this.chunkIndex<this.layer.chunk.length){let a=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],r,!0);(!o||this.rangeIndex<a)&&this.setRangeIndex(a)}this.next()}forward(e,r){(this.to-e||this.endSide-r)<0&&this.gotoInner(e,r,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],r=this.layer.chunk[this.chunkIndex],o=e+r.from[this.rangeIndex];if(this.from=o,this.to=e+r.to[this.rangeIndex],this.value=r.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class XO{constructor(e){this.heap=e}static from(e,r=null,o=-1){let a=[];for(let h=0;h<e.length;h++)for(let f=e[h];!f.isEmpty;f=f.nextLayer)f.maxPoint>=o&&a.push(new j8(f,r,o,h));return a.length==1?a[0]:new XO(a)}get startSide(){return this.value?this.value.startSide:0}goto(e,r=-1e9){for(let o of this.heap)o.goto(e,r);for(let o=this.heap.length>>1;o>=0;o--)OM(this.heap,o);return this.next(),this}forward(e,r){for(let o of this.heap)o.forward(e,r);for(let o=this.heap.length>>1;o>=0;o--)OM(this.heap,o);(this.to-e||this.value.endSide-r)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),OM(this.heap,0)}}}function OM(n,e){for(let r=n[e];;){let o=(e<<1)+1;if(o>=n.length)break;let a=n[o];if(o+1<n.length&&a.compare(n[o+1])>=0&&(a=n[o+1],o++),r.compare(a)<0)break;n[o]=r,n[e]=a,e=o}}class gy{constructor(e,r,o){this.minPoint=o,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=XO.from(e,r,o)}goto(e,r=-1e9){return this.cursor.goto(e,r),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=r,this.openStart=-1,this.next(),this}forward(e,r){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-r)<0;)this.removeActive(this.minActive);this.cursor.forward(e,r)}removeActive(e){Aw(this.active,e),Aw(this.activeTo,e),Aw(this.activeRank,e),this.minActive=n4(this.active,this.activeTo)}addActive(e){let r=0,{value:o,to:a,rank:h}=this.cursor;for(;r<this.activeRank.length&&(h-this.activeRank[r]||a-this.activeTo[r])>0;)r++;jw(this.active,r,o),jw(this.activeTo,r,a),jw(this.activeRank,r,h),e&&jw(e,r,this.cursor.from),this.minActive=n4(this.active,this.activeTo)}next(){let e=this.to,r=this.point;this.point=null;let o=this.openStart<0?[]:null;for(;;){let a=this.minActive;if(a>-1&&(this.activeTo[a]-this.cursor.from||this.active[a].endSide-this.cursor.startSide)<0){if(this.activeTo[a]>e){this.to=this.activeTo[a],this.endSide=this.active[a].endSide;break}this.removeActive(a),o&&Aw(o,a)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let h=this.cursor.value;if(!h.point)this.addActive(o),this.cursor.next();else if(r&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=h,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=h.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(o){this.openStart=0;for(let a=o.length-1;a>=0&&o[a]<e;a--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let r=[];for(let o=this.active.length-1;o>=0&&!(this.activeRank[o]<this.pointRank);o--)(this.activeTo[o]>e||this.activeTo[o]==e&&this.active[o].endSide>=this.point.endSide)&&r.push(this.active[o]);return r.reverse()}openEnd(e){let r=0;for(let o=this.activeTo.length-1;o>=0&&this.activeTo[o]>e;o--)r++;return r}}function i4(n,e,r,o,a,h){n.goto(e),r.goto(o);let f=o+a,p=o,g=o-e;for(;;){let v=n.to+g-r.to,x=v||n.endSide-r.endSide,S=x<0?n.to+g:r.to,b=Math.min(S,f);if(n.point||r.point?n.point&&r.point&&(n.point==r.point||n.point.eq(r.point))&&nA(n.activeForPoint(n.to),r.activeForPoint(r.to))||h.comparePoint(p,b,n.point,r.point):b>p&&!nA(n.active,r.active)&&h.compareRange(p,b,n.active,r.active),S>f)break;(v||n.openEnd!=r.openEnd)&&h.boundChange&&h.boundChange(S),p=S,x<=0&&n.next(),x>=0&&r.next()}}function nA(n,e){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(n[r]!=e[r]&&!n[r].eq(e[r]))return!1;return!0}function Aw(n,e){for(let r=e,o=n.length-1;r<o;r++)n[r]=n[r+1];n.pop()}function jw(n,e,r){for(let o=n.length-1;o>=e;o--)n[o+1]=n[o];n[e]=r}function n4(n,e){let r=-1,o=1e9;for(let a=0;a<e.length;a++)(e[a]-o||n[a].endSide-n[r].endSide)<0&&(r=a,o=e[a]);return r}function oa(n,e,r=n.length){let o=0;for(let a=0;a<r&&a<n.length;)n.charCodeAt(a)==9?(o+=e-o%e,a++):(o++,a=Xr(n,a));return o}function rA(n,e,r,o){for(let a=0,h=0;;){if(h>=e)return a;if(a==n.length)break;h+=n.charCodeAt(a)==9?r-h%r:1,a=Xr(n,a)}return o===!0?-1:n.length}const sA="",r4=typeof Symbol>"u"?"__"+sA:Symbol.for(sA),oA=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),s4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class zc{constructor(e,r){this.rules=[];let{finish:o}=r||{};function a(f){return/^@/.test(f)?[f]:f.split(/,\s*/)}function h(f,p,g,v){let x=[],S=/^@(\w+)\b/.exec(f[0]),b=S&&S[1]=="keyframes";if(S&&p==null)return g.push(f[0]+";");for(let C in p){let j=p[C];if(/&/.test(C))h(C.split(/,\s*/).map(N=>f.map(E=>N.replace(/&/,E))).reduce((N,E)=>N.concat(E)),j,g);else if(j&&typeof j=="object"){if(!S)throw new RangeError("The value of a property ("+C+") should be a primitive value.");h(a(C),j,x,b)}else j!=null&&x.push(C.replace(/_.*/,"").replace(/[A-Z]/g,N=>"-"+N.toLowerCase())+": "+j+";")}(x.length||b)&&g.push((o&&!S&&!v?f.map(o):f).join(", ")+" {"+x.join(" ")+"}")}for(let f in e)h(a(f),e[f],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=s4[r4]||1;return s4[r4]=e+1,sA+e.toString(36)}static mount(e,r,o){let a=e[oA],h=o&&o.nonce;a?h&&a.setNonce(h):a=new Pft(e,h),a.mount(Array.isArray(r)?r:[r],e)}}let o4=new Map;class Pft{constructor(e,r){let o=e.ownerDocument||e,a=o.defaultView;if(!e.head&&e.adoptedStyleSheets&&a.CSSStyleSheet){let h=o4.get(o);if(h)return e[oA]=h;this.sheet=new a.CSSStyleSheet,o4.set(o,this)}else this.styleTag=o.createElement("style"),r&&this.styleTag.setAttribute("nonce",r);this.modules=[],e[oA]=this}mount(e,r){let o=this.sheet,a=0,h=0;for(let f=0;f<e.length;f++){let p=e[f],g=this.modules.indexOf(p);if(g<h&&g>-1&&(this.modules.splice(g,1),h--,g=-1),g==-1){if(this.modules.splice(h++,0,p),o)for(let v=0;v<p.rules.length;v++)o.insertRule(p.rules[v],a++)}else{for(;h<g;)a+=this.modules[h++].rules.length;a+=p.rules.length,h++}}if(o)r.adoptedStyleSheets.indexOf(this.sheet)<0&&(r.adoptedStyleSheets=[this.sheet,...r.adoptedStyleSheets]);else{let f="";for(let g=0;g<this.modules.length;g++)f+=this.modules[g].getRules()+`
`;this.styleTag.textContent=f;let p=r.head||r;this.styleTag.parentNode!=p&&p.insertBefore(this.styleTag,p.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Xc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},BO={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},bft=typeof navigator<"u"&&/Mac/.test(navigator.platform),Tft=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Vr=0;Vr<10;Vr++)Xc[48+Vr]=Xc[96+Vr]=String(Vr);for(var Vr=1;Vr<=24;Vr++)Xc[Vr+111]="F"+Vr;for(var Vr=65;Vr<=90;Vr++)Xc[Vr]=String.fromCharCode(Vr+32),BO[Vr]=String.fromCharCode(Vr);for(var vM in Xc)BO.hasOwnProperty(vM)||(BO[vM]=Xc[vM]);function Cft(n){var e=bft&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Tft&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",r=!e&&n.key||(n.shiftKey?BO:Xc)[n.keyCode]||n.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}function _O(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function lA(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function TS(n,e){if(!e.anchorNode)return!1;try{return lA(n,e.anchorNode)}catch{return!1}}function sg(n){return n.nodeType==3?bd(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function tO(n,e,r,o){return r?l4(n,e,r,o,-1)||l4(n,e,r,o,1):!1}function Pd(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Ak(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function l4(n,e,r,o,a){for(;;){if(n==r&&e==o)return!0;if(e==(a<0?0:pu(n))){if(n.nodeName=="DIV")return!1;let h=n.parentNode;if(!h||h.nodeType!=1)return!1;e=Pd(n)+(a<0?0:1),n=h}else if(n.nodeType==1){if(n=n.childNodes[e+(a<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=a<0?pu(n):0}else return!1}}function pu(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Cv(n,e){let r=e?n.left:n.right;return{left:r,right:r,top:n.top,bottom:n.bottom}}function Mft(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function E8(n,e){let r=e.width/n.offsetWidth,o=e.height/n.offsetHeight;return(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.width-n.offsetWidth)<1)&&(r=1),(o>.995&&o<1.005||!isFinite(o)||Math.abs(e.height-n.offsetHeight)<1)&&(o=1),{scaleX:r,scaleY:o}}function Qft(n,e,r,o,a,h,f,p){let g=n.ownerDocument,v=g.defaultView||window;for(let x=n,S=!1;x&&!S;)if(x.nodeType==1){let b,C=x==g.body,j=1,N=1;if(C)b=Mft(v);else{if(/^(fixed|sticky)$/.test(getComputedStyle(x).position)&&(S=!0),x.scrollHeight<=x.clientHeight&&x.scrollWidth<=x.clientWidth){x=x.assignedSlot||x.parentNode;continue}let $=x.getBoundingClientRect();({scaleX:j,scaleY:N}=E8(x,$)),b={left:$.left,right:$.left+x.clientWidth*j,top:$.top,bottom:$.top+x.clientHeight*N}}let E=0,R=0;if(a=="nearest")e.top<b.top?(R=e.top-(b.top+f),r>0&&e.bottom>b.bottom+R&&(R=e.bottom-b.bottom+f)):e.bottom>b.bottom&&(R=e.bottom-b.bottom+f,r<0&&e.top-R<b.top&&(R=e.top-(b.top+f)));else{let $=e.bottom-e.top,V=b.bottom-b.top;R=(a=="center"&&$<=V?e.top+$/2-V/2:a=="start"||a=="center"&&r<0?e.top-f:e.bottom-V+f)-b.top}if(o=="nearest"?e.left<b.left?(E=e.left-(b.left+h),r>0&&e.right>b.right+E&&(E=e.right-b.right+h)):e.right>b.right&&(E=e.right-b.right+h,r<0&&e.left<b.left+E&&(E=e.left-(b.left+h))):E=(o=="center"?e.left+(e.right-e.left)/2-(b.right-b.left)/2:o=="start"==p?e.left-h:e.right-(b.right-b.left)+h)-b.left,E||R)if(C)v.scrollBy(E,R);else{let $=0,V=0;if(R){let D=x.scrollTop;x.scrollTop+=R/N,V=(x.scrollTop-D)*N}if(E){let D=x.scrollLeft;x.scrollLeft+=E/j,$=(x.scrollLeft-D)*j}e={left:e.left-$,top:e.top-V,right:e.right-$,bottom:e.bottom-V},$&&Math.abs($-E)<1&&(o="nearest"),V&&Math.abs(V-R)<1&&(a="nearest")}if(C)break;(e.top<b.top||e.bottom>b.bottom||e.left<b.left||e.right>b.right)&&(e={left:Math.max(e.left,b.left),right:Math.min(e.right,b.right),top:Math.max(e.top,b.top),bottom:Math.min(e.bottom,b.bottom)}),x=x.assignedSlot||x.parentNode}else if(x.nodeType==11)x=x.host;else break}function Nft(n){let e=n.ownerDocument,r,o;for(let a=n.parentNode;a&&!(a==e.body||r&&o);)if(a.nodeType==1)!o&&a.scrollHeight>a.clientHeight&&(o=a),!r&&a.scrollWidth>a.clientWidth&&(r=a),a=a.assignedSlot||a.parentNode;else if(a.nodeType==11)a=a.host;else break;return{x:r,y:o}}class Aft{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:r,focusNode:o}=e;this.set(r,Math.min(e.anchorOffset,r?pu(r):0),o,Math.min(e.focusOffset,o?pu(o):0))}set(e,r,o,a){this.anchorNode=e,this.anchorOffset=r,this.focusNode=o,this.focusOffset=a}}let Gp=null;function R8(n){if(n.setActive)return n.setActive();if(Gp)return n.focus(Gp);let e=[];for(let r=n;r&&(e.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(n.focus(Gp==null?{get preventScroll(){return Gp={preventScroll:!0},!0}}:void 0),!Gp){Gp=!1;for(let r=0;r<e.length;){let o=e[r++],a=e[r++],h=e[r++];o.scrollTop!=a&&(o.scrollTop=a),o.scrollLeft!=h&&(o.scrollLeft=h)}}}let a4;function bd(n,e,r=e){let o=a4||(a4=document.createRange());return o.setEnd(n,r),o.setStart(n,e),o}function Qm(n,e,r,o){let a={key:e,code:e,keyCode:r,which:r,cancelable:!0};o&&({altKey:a.altKey,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,metaKey:a.metaKey}=o);let h=new KeyboardEvent("keydown",a);h.synthetic=!0,n.dispatchEvent(h);let f=new KeyboardEvent("keyup",a);return f.synthetic=!0,n.dispatchEvent(f),h.defaultPrevented||f.defaultPrevented}function jft(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function L8(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function Eft(n,e){let r=e.focusNode,o=e.focusOffset;if(!r||e.anchorNode!=r||e.anchorOffset!=o)return!1;for(o=Math.min(o,pu(r));;)if(o){if(r.nodeType!=1)return!1;let a=r.childNodes[o-1];a.contentEditable=="false"?o--:(r=a,o=pu(r))}else{if(r==n)return!0;o=Pd(r),r=r.parentNode}}function $8(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function D8(n,e){for(let r=n,o=e;;){if(r.nodeType==3&&o>0)return{node:r,offset:o};if(r.nodeType==1&&o>0){if(r.contentEditable=="false")return null;r=r.childNodes[o-1],o=pu(r)}else if(r.parentNode&&!Ak(r))o=Pd(r),r=r.parentNode;else return null}}function I8(n,e){for(let r=n,o=e;;){if(r.nodeType==3&&o<r.nodeValue.length)return{node:r,offset:o};if(r.nodeType==1&&o<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[o],o=0}else if(r.parentNode&&!Ak(r))o=Pd(r)+1,r=r.parentNode;else return null}}class hs{constructor(e,r,o=!0){this.node=e,this.offset=r,this.precise=o}static before(e,r){return new hs(e.parentNode,Pd(e),r)}static after(e,r){return new hs(e.parentNode,Pd(e)+1,r)}}const uR=[];class Ci{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let r=this.posAtStart;for(let o of this.children){if(o==e)return r;r+=o.length+o.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,r){if(this.flags&2){let o=this.dom,a=null,h;for(let f of this.children){if(f.flags&7){if(!f.dom&&(h=a?a.nextSibling:o.firstChild)){let p=Ci.get(h);(!p||!p.parent&&p.canReuseDOM(f))&&f.reuseDOM(h)}f.sync(e,r),f.flags&=-8}if(h=a?a.nextSibling:o.firstChild,r&&!r.written&&r.node==o&&h!=f.dom&&(r.written=!0),f.dom.parentNode==o)for(;h&&h!=f.dom;)h=u4(h);else o.insertBefore(f.dom,h);a=f.dom}for(h=a?a.nextSibling:o.firstChild,h&&r&&r.node==o&&(r.written=!0);h;)h=u4(h)}else if(this.flags&1)for(let o of this.children)o.flags&7&&(o.sync(e,r),o.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,r){let o;if(e==this.dom)o=this.dom.childNodes[r];else{let a=pu(e)==0?0:r==0?-1:1;for(;;){let h=e.parentNode;if(h==this.dom)break;a==0&&h.firstChild!=h.lastChild&&(e==h.firstChild?a=-1:a=1),e=h}a<0?o=e:o=e.nextSibling}if(o==this.dom.firstChild)return 0;for(;o&&!Ci.get(o);)o=o.nextSibling;if(!o)return this.length;for(let a=0,h=0;;a++){let f=this.children[a];if(f.dom==o)return h;h+=f.length+f.breakAfter}}domBoundsAround(e,r,o=0){let a=-1,h=-1,f=-1,p=-1;for(let g=0,v=o,x=o;g<this.children.length;g++){let S=this.children[g],b=v+S.length;if(v<e&&b>r)return S.domBoundsAround(e,r,v);if(b>=e&&a==-1&&(a=g,h=v),v>r&&S.dom.parentNode==this.dom){f=g,p=x;break}x=b,v=b+S.breakAfter}return{from:h,to:p<0?o+this.length:p,startDOM:(a?this.children[a-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:f<this.children.length&&f>=0?this.children[f].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let r=this.parent;r;r=r.parent){if(e&&(r.flags|=2),r.flags&1)return;r.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let r=e.parent;if(!r)return e;e=r}}replaceChildren(e,r,o=uR){this.markDirty();for(let a=e;a<r;a++){let h=this.children[a];h.parent==this&&o.indexOf(h)<0&&h.destroy()}o.length<250?this.children.splice(e,r-e,...o):this.children=[].concat(this.children.slice(0,e),o,this.children.slice(r));for(let a=0;a<o.length;a++)o[a].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new F8(this.children,e,this.children.length)}childPos(e,r=1){return this.childCursor().findPos(e,r)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,r,o,a,h,f){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Ci.prototype.breakAfter=0;function u4(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class F8{constructor(e,r,o){this.children=e,this.pos=r,this.i=o,this.off=0}findPos(e,r=1){for(;;){if(e>this.pos||e==this.pos&&(r>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let o=this.children[--this.i];this.pos-=o.length+o.breakAfter}}}function V8(n,e,r,o,a,h,f,p,g){let{children:v}=n,x=v.length?v[e]:null,S=h.length?h[h.length-1]:null,b=S?S.breakAfter:f;if(!(e==o&&x&&!f&&!b&&h.length<2&&x.merge(r,a,h.length?S:null,r==0,p,g))){if(o<v.length){let C=v[o];C&&(a<C.length||C.breakAfter&&(S!=null&&S.breakAfter))?(e==o&&(C=C.split(a),a=0),!b&&S&&C.merge(0,a,S,!0,0,g)?h[h.length-1]=C:((a||C.children.length&&!C.children[0].length)&&C.merge(0,a,null,!1,0,g),h.push(C))):C!=null&&C.breakAfter&&(S?S.breakAfter=1:f=1),o++}for(x&&(x.breakAfter=f,r>0&&(!f&&h.length&&x.merge(r,x.length,h[0],!1,p,0)?x.breakAfter=h.shift().breakAfter:(r<x.length||x.children.length&&x.children[x.children.length-1].length==0)&&x.merge(r,x.length,null,!1,p,0),e++));e<o&&h.length;)if(v[o-1].become(h[h.length-1]))o--,h.pop(),g=h.length?0:p;else if(v[e].become(h[0]))e++,h.shift(),p=h.length?0:g;else break;!h.length&&e&&o<v.length&&!v[e-1].breakAfter&&v[o].merge(0,0,v[e-1],!1,p,g)&&e--,(e<o||h.length)&&n.replaceChildren(e,o,h)}}function z8(n,e,r,o,a,h){let f=n.childCursor(),{i:p,off:g}=f.findPos(r,1),{i:v,off:x}=f.findPos(e,-1),S=e-r;for(let b of o)S+=b.length;n.length+=S,V8(n,v,x,p,g,o,0,a,h)}let no=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},aA=typeof document<"u"?document:{documentElement:{style:{}}};const uA=/Edge\/(\d+)/.exec(no.userAgent),X8=/MSIE \d/.test(no.userAgent),hA=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(no.userAgent),JP=!!(X8||hA||uA),h4=!JP&&/gecko\/(\d+)/i.test(no.userAgent),xM=!JP&&/Chrome\/(\d+)/.exec(no.userAgent),c4="webkitFontSmoothing"in aA.documentElement.style,B8=!JP&&/Apple Computer/.test(no.vendor),f4=B8&&(/Mobile\/\w+/.test(no.userAgent)||no.maxTouchPoints>2);var te={mac:f4||/Mac/.test(no.platform),windows:/Win/.test(no.platform),linux:/Linux|X11/.test(no.platform),ie:JP,ie_version:X8?aA.documentMode||6:hA?+hA[1]:uA?+uA[1]:0,gecko:h4,gecko_version:h4?+(/Firefox\/(\d+)/.exec(no.userAgent)||[0,0])[1]:0,chrome:!!xM,chrome_version:xM?+xM[1]:0,ios:f4,android:/Android\b/.test(no.userAgent),webkit:c4,safari:B8,webkit_version:c4?+(/\bAppleWebKit\/(\d+)/.exec(no.userAgent)||[0,0])[1]:0,tabSize:aA.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const Rft=256;class la extends Ci{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,r){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,r,o){return this.flags&8||o&&(!(o instanceof la)||this.length-(r-e)+o.length>Rft||o.flags&8)?!1:(this.text=this.text.slice(0,e)+(o?o.text:"")+this.text.slice(r),this.markDirty(),!0)}split(e){let r=new la(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),r.flags|=this.flags&8,r}localPosFromDOM(e,r){return e==this.dom?r:r?this.text.length:0}domAtPos(e){return new hs(this.dom,e)}domBoundsAround(e,r,o){return{from:o,to:o+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,r){return Lft(this.dom,e,r)}}class xh extends Ci{constructor(e,r=[],o=0){super(),this.mark=e,this.children=r,this.length=o;for(let a of r)a.setParent(this)}setAttrs(e){if(L8(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let r in this.mark.attrs)e.setAttribute(r,this.mark.attrs[r]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,r){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,r)}merge(e,r,o,a,h,f){return o&&(!(o instanceof xh&&o.mark.eq(this.mark))||e&&h<=0||r<this.length&&f<=0)?!1:(z8(this,e,r,o?o.children.slice():[],h-1,f-1),this.markDirty(),!0)}split(e){let r=[],o=0,a=-1,h=0;for(let p of this.children){let g=o+p.length;g>e&&r.push(o<e?p.split(e-o):p),a<0&&o>=e&&(a=h),o=g,h++}let f=this.length-e;return this.length=e,a>-1&&(this.children.length=a,this.markDirty()),new xh(this.mark,r,f)}domAtPos(e){return _8(this,e)}coordsAt(e,r){return Y8(this,e,r)}}function Lft(n,e,r){let o=n.nodeValue.length;e>o&&(e=o);let a=e,h=e,f=0;e==0&&r<0||e==o&&r>=0?te.chrome||te.gecko||(e?(a--,f=1):h<o&&(h++,f=-1)):r<0?a--:h<o&&h++;let p=bd(n,a,h).getClientRects();if(!p.length)return null;let g=p[(f?f<0:r>=0)?0:p.length-1];return te.safari&&!f&&g.width==0&&(g=Array.prototype.find.call(p,v=>v.width)||g),f?Cv(g,f<0):g||null}class xc extends Ci{static create(e,r,o){return new xc(e,r,o)}constructor(e,r,o){super(),this.widget=e,this.length=r,this.side=o,this.prevWidget=null}split(e){let r=xc.create(this.widget,this.length-e,this.side);return this.length-=e,r}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,r,o,a,h,f){return o&&(!(o instanceof xc)||!this.widget.compare(o.widget)||e>0&&h<=0||r<this.length&&f<=0)?!1:(this.length=e+(o?o.length:0)+(this.length-r),!0)}become(e){return e instanceof xc&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return He.empty;let e=this;for(;e.parent;)e=e.parent;let{view:r}=e,o=r&&r.state.doc,a=this.posAtStart;return o?o.slice(a,a+this.length):He.empty}domAtPos(e){return(this.length?e==0:this.side>0)?hs.before(this.dom):hs.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,r){let o=this.widget.coordsAt(this.dom,e,r);if(o)return o;let a=this.dom.getClientRects(),h=null;if(!a.length)return null;let f=this.side?this.side<0:e>0;for(let p=f?a.length-1:0;h=a[p],!(e>0?p==0:p==a.length-1||h.top<h.bottom);p+=f?-1:1);return Cv(h,!f)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class og extends Ci{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof og&&e.side==this.side}split(){return new og(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?hs.before(this.dom):hs.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return He.empty}get isHidden(){return!0}}la.prototype.children=xc.prototype.children=og.prototype.children=uR;function _8(n,e){let r=n.dom,{children:o}=n,a=0;for(let h=0;a<o.length;a++){let f=o[a],p=h+f.length;if(!(p==h&&f.getSide()<=0)){if(e>h&&e<p&&f.dom.parentNode==r)return f.domAtPos(e-h);if(e<=h)break;h=p}}for(let h=a;h>0;h--){let f=o[h-1];if(f.dom.parentNode==r)return f.domAtPos(f.length)}for(let h=a;h<o.length;h++){let f=o[h];if(f.dom.parentNode==r)return f.domAtPos(0)}return new hs(r,0)}function Z8(n,e,r){let o,{children:a}=n;r>0&&e instanceof xh&&a.length&&(o=a[a.length-1])instanceof xh&&o.mark.eq(e.mark)?Z8(o,e.children[0],r-1):(a.push(e),e.setParent(n)),n.length+=e.length}function Y8(n,e,r){let o=null,a=-1,h=null,f=-1;function p(v,x){for(let S=0,b=0;S<v.children.length&&b<=x;S++){let C=v.children[S],j=b+C.length;j>=x&&(C.children.length?p(C,x-b):(!h||h.isHidden&&(r>0||Dft(h,C)))&&(j>x||b==j&&C.getSide()>0)?(h=C,f=x-b):(b<x||b==j&&C.getSide()<0&&!C.isHidden)&&(o=C,a=x-b)),b=j}}p(n,e);let g=(r<0?o:h)||o||h;return g?g.coordsAt(Math.max(0,g==o?a:f),r):$ft(n)}function $ft(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let r=sg(e);return r[r.length-1]||null}function Dft(n,e){let r=n.coordsAt(0,1),o=e.coordsAt(0,1);return r&&o&&o.top<r.bottom}function cA(n,e){for(let r in n)r=="class"&&e.class?e.class+=" "+n.class:r=="style"&&e.style?e.style+=";"+n.style:e[r]=n[r];return e}const d4=Object.create(null);function jk(n,e,r){if(n==e)return!0;n||(n=d4),e||(e=d4);let o=Object.keys(n),a=Object.keys(e);if(o.length-(r&&o.indexOf(r)>-1?1:0)!=a.length-(r&&a.indexOf(r)>-1?1:0))return!1;for(let h of o)if(h!=r&&(a.indexOf(h)==-1||n[h]!==e[h]))return!1;return!0}function fA(n,e,r){let o=!1;if(e)for(let a in e)r&&a in r||(o=!0,a=="style"?n.style.cssText="":n.removeAttribute(a));if(r)for(let a in r)e&&e[a]==r[a]||(o=!0,a=="style"?n.style.cssText=r[a]:n.setAttribute(a,r[a]));return o}function Ift(n){let e=Object.create(null);for(let r=0;r<n.attributes.length;r++){let o=n.attributes[r];e[o.name]=o.value}return e}class Ou{eq(e){return!1}updateDOM(e,r){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,r,o){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Rs=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(Rs||(Rs={}));class ue extends kd{constructor(e,r,o,a){super(),this.startSide=e,this.endSide=r,this.widget=o,this.spec=a}get heightRelevant(){return!1}static mark(e){return new Mv(e)}static widget(e){let r=Math.max(-1e4,Math.min(1e4,e.side||0)),o=!!e.block;return r+=o&&!e.inlineOrder?r>0?3e8:-4e8:r>0?1e8:-1e8,new Bc(e,r,r,o,e.widget||null,!1)}static replace(e){let r=!!e.block,o,a;if(e.isBlockGap)o=-5e8,a=4e8;else{let{start:h,end:f}=U8(e,r);o=(h?r?-3e8:-1:5e8)-1,a=(f?r?2e8:1:-6e8)+1}return new Bc(e,o,a,r,e.widget||null,!0)}static line(e){return new Qv(e)}static set(e,r=!1){return ri.of(e,r)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ue.none=ri.empty;class Mv extends ue{constructor(e){let{start:r,end:o}=U8(e);super(r?-1:5e8,o?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var r,o;return this==e||e instanceof Mv&&this.tagName==e.tagName&&(this.class||((r=this.attrs)===null||r===void 0?void 0:r.class))==(e.class||((o=e.attrs)===null||o===void 0?void 0:o.class))&&jk(this.attrs,e.attrs,"class")}range(e,r=e){if(e>=r)throw new RangeError("Mark decorations may not be empty");return super.range(e,r)}}Mv.prototype.point=!1;class Qv extends ue{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Qv&&this.spec.class==e.spec.class&&jk(this.spec.attributes,e.spec.attributes)}range(e,r=e){if(r!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,r)}}Qv.prototype.mapMode=zr.TrackBefore;Qv.prototype.point=!0;class Bc extends ue{constructor(e,r,o,a,h,f){super(r,o,h,e),this.block=a,this.isReplace=f,this.mapMode=a?r<=0?zr.TrackBefore:zr.TrackAfter:zr.TrackDel}get type(){return this.startSide!=this.endSide?Rs.WidgetRange:this.startSide<=0?Rs.WidgetBefore:Rs.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Bc&&Fft(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,r=e){if(this.isReplace&&(e>r||e==r&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&r!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,r)}}Bc.prototype.point=!0;function U8(n,e=!1){let{inclusiveStart:r,inclusiveEnd:o}=n;return r==null&&(r=n.inclusive),o==null&&(o=n.inclusive),{start:r??e,end:o??e}}function Fft(n,e){return n==e||!!(n&&e&&n.compare(e))}function CS(n,e,r,o=0){let a=r.length-1;a>=0&&r[a]+o>=n?r[a]=Math.max(r[a],e):r.push(n,e)}class Wn extends Ci{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,r,o,a,h,f){if(o){if(!(o instanceof Wn))return!1;this.dom||o.transferDOM(this)}return a&&this.setDeco(o?o.attrs:null),z8(this,e,r,o?o.children.slice():[],h,f),!0}split(e){let r=new Wn;if(r.breakAfter=this.breakAfter,this.length==0)return r;let{i:o,off:a}=this.childPos(e);a&&(r.append(this.children[o].split(a),0),this.children[o].merge(a,this.children[o].length,null,!1,0,0),o++);for(let h=o;h<this.children.length;h++)r.append(this.children[h],0);for(;o>0&&this.children[o-1].length==0;)this.children[--o].destroy();return this.children.length=o,this.markDirty(),this.length=e,r}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){jk(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,r){Z8(this,e,r)}addLineDeco(e){let r=e.spec.attributes,o=e.spec.class;r&&(this.attrs=cA(r,this.attrs||{})),o&&(this.attrs=cA({class:o},this.attrs||{}))}domAtPos(e){return _8(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,r){var o;this.dom?this.flags&4&&(L8(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(fA(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,r);let a=this.dom.lastChild;for(;a&&Ci.get(a)instanceof xh;)a=a.lastChild;if(!a||!this.length||a.nodeName!="BR"&&((o=Ci.get(a))===null||o===void 0?void 0:o.isEditable)==!1&&(!te.ios||!this.children.some(h=>h instanceof la))){let h=document.createElement("BR");h.cmIgnore=!0,this.dom.appendChild(h)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,r;for(let o of this.children){if(!(o instanceof la)||/[^ -~]/.test(o.text))return null;let a=sg(o.dom);if(a.length!=1)return null;e+=a[0].width,r=a[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:r}:null}coordsAt(e,r){let o=Y8(this,e,r);if(!this.children.length&&o&&this.parent){let{heightOracle:a}=this.parent.view.viewState,h=o.bottom-o.top;if(Math.abs(h-a.lineHeight)<2&&a.textHeight<h){let f=(h-a.textHeight)/2;return{top:o.top+f,bottom:o.bottom-f,left:o.left,right:o.left}}}return o}become(e){return e instanceof Wn&&this.children.length==0&&e.children.length==0&&jk(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,r){for(let o=0,a=0;o<e.children.length;o++){let h=e.children[o],f=a+h.length;if(f>=r){if(h instanceof Wn)return h;if(f>r)break}a=f+h.breakAfter}return null}}class ah extends Ci{constructor(e,r,o){super(),this.widget=e,this.length=r,this.deco=o,this.breakAfter=0,this.prevWidget=null}merge(e,r,o,a,h,f){return o&&(!(o instanceof ah)||!this.widget.compare(o.widget)||e>0&&h<=0||r<this.length&&f<=0)?!1:(this.length=e+(o?o.length:0)+(this.length-r),!0)}domAtPos(e){return e==0?hs.before(this.dom):hs.after(this.dom,e==this.length)}split(e){let r=this.length-e;this.length=e;let o=new ah(this.widget,r,this.deco);return o.breakAfter=this.breakAfter,o}get children(){return uR}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):He.empty}domBoundsAround(){return null}become(e){return e instanceof ah&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,r){let o=this.widget.coordsAt(this.dom,e,r);return o||(this.widget instanceof dA?null:Cv(this.dom.getBoundingClientRect(),this.length?e==0:r<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:r,endSide:o}=this.deco;return r==o?!1:e<0?r<0:o>0}}class dA extends Ou{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class eO{constructor(e,r,o,a){this.doc=e,this.pos=r,this.end=o,this.disallowBlockEffectsFor=a,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=r}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof ah&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Wn),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Ew(new og(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof ah)&&this.getLine()}buildText(e,r,o){for(;e>0;){if(this.textOff==this.text.length){let{value:h,lineBreak:f,done:p}=this.cursor.next(this.skip);if(this.skip=0,p)throw new Error("Ran out of text content when drawing inline views");if(f){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=h,this.textOff=0}let a=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(r.slice(r.length-o)),this.getLine().append(Ew(new la(this.text.slice(this.textOff,this.textOff+a)),r),o),this.atCursorPos=!0,this.textOff+=a,e-=a,o=0}}span(e,r,o,a){this.buildText(r-e,o,a),this.pos=r,this.openStart<0&&(this.openStart=a)}point(e,r,o,a,h,f){if(this.disallowBlockEffectsFor[f]&&o instanceof Bc){if(o.block)throw new RangeError("Block decorations may not be specified via plugins");if(r>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let p=r-e;if(o instanceof Bc)if(o.block)o.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new ah(o.widget||lg.block,p,o));else{let g=xc.create(o.widget||lg.inline,p,p?0:o.startSide),v=this.atCursorPos&&!g.isEditable&&h<=a.length&&(e<r||o.startSide>0),x=!g.isEditable&&(e<r||h>a.length||o.startSide<=0),S=this.getLine();this.pendingBuffer==2&&!v&&!g.isEditable&&(this.pendingBuffer=0),this.flushBuffer(a),v&&(S.append(Ew(new og(1),a),h),h=a.length+Math.max(0,h-a.length)),S.append(Ew(g,a),h),this.atCursorPos=x,this.pendingBuffer=x?e<r||h>a.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=a.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(o);p&&(this.textOff+p<=this.text.length?this.textOff+=p:(this.skip+=p-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=r),this.openStart<0&&(this.openStart=h)}static build(e,r,o,a,h){let f=new eO(e,r,o,h);return f.openEnd=ri.spans(a,r,o,f),f.openStart<0&&(f.openStart=f.openEnd),f.finish(f.openEnd),f}}function Ew(n,e){for(let r of e)n=new xh(r,[n],n.length);return n}class lg extends Ou{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}lg.inline=new lg("span");lg.block=new lg("div");var Xi=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Xi||(Xi={}));const Td=Xi.LTR,hR=Xi.RTL;function W8(n){let e=[];for(let r=0;r<n.length;r++)e.push(1<<+n[r]);return e}const Vft=W8("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),zft=W8("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),pA=Object.create(null),Za=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),r=n.charCodeAt(1);pA[e]=r,pA[r]=-e}function q8(n){return n<=247?Vft[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?zft[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const Xft=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class wc{get dir(){return this.level%2?hR:Td}constructor(e,r,o){this.from=e,this.to=r,this.level=o}side(e,r){return this.dir==r==e?this.to:this.from}forward(e,r){return e==(this.dir==r)}static find(e,r,o,a){let h=-1;for(let f=0;f<e.length;f++){let p=e[f];if(p.from<=r&&p.to>=r){if(p.level==o)return f;(h<0||(a!=0?a<0?p.from<r:p.to>r:e[h].level>p.level))&&(h=f)}}if(h<0)throw new RangeError("Index out of range");return h}}function G8(n,e){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],a=e[r];if(o.from!=a.from||o.to!=a.to||o.direction!=a.direction||!G8(o.inner,a.inner))return!1}return!0}const bi=[];function Bft(n,e,r,o,a){for(let h=0;h<=o.length;h++){let f=h?o[h-1].to:e,p=h<o.length?o[h].from:r,g=h?256:a;for(let v=f,x=g,S=g;v<p;v++){let b=q8(n.charCodeAt(v));b==512?b=x:b==8&&S==4&&(b=16),bi[v]=b==4?2:b,b&7&&(S=b),x=b}for(let v=f,x=g,S=g;v<p;v++){let b=bi[v];if(b==128)v<p-1&&x==bi[v+1]&&x&24?b=bi[v]=x:bi[v]=256;else if(b==64){let C=v+1;for(;C<p&&bi[C]==64;)C++;let j=v&&x==8||C<r&&bi[C]==8?S==1?1:8:256;for(let N=v;N<C;N++)bi[N]=j;v=C-1}else b==8&&S==1&&(bi[v]=1);x=b,b&7&&(S=b)}}}function _ft(n,e,r,o,a){let h=a==1?2:1;for(let f=0,p=0,g=0;f<=o.length;f++){let v=f?o[f-1].to:e,x=f<o.length?o[f].from:r;for(let S=v,b,C,j;S<x;S++)if(C=pA[b=n.charCodeAt(S)])if(C<0){for(let N=p-3;N>=0;N-=3)if(Za[N+1]==-C){let E=Za[N+2],R=E&2?a:E&4?E&1?h:a:0;R&&(bi[S]=bi[Za[N]]=R),p=N;break}}else{if(Za.length==189)break;Za[p++]=S,Za[p++]=b,Za[p++]=g}else if((j=bi[S])==2||j==1){let N=j==a;g=N?0:1;for(let E=p-3;E>=0;E-=3){let R=Za[E+2];if(R&2)break;if(N)Za[E+2]|=2;else{if(R&4)break;Za[E+2]|=4}}}}}function Zft(n,e,r,o){for(let a=0,h=o;a<=r.length;a++){let f=a?r[a-1].to:n,p=a<r.length?r[a].from:e;for(let g=f;g<p;){let v=bi[g];if(v==256){let x=g+1;for(;;)if(x==p){if(a==r.length)break;x=r[a++].to,p=a<r.length?r[a].from:e}else if(bi[x]==256)x++;else break;let S=h==1,b=(x<e?bi[x]:o)==1,C=S==b?S?1:2:o;for(let j=x,N=a,E=N?r[N-1].to:n;j>g;)j==E&&(j=r[--N].from,E=N?r[N-1].to:n),bi[--j]=C;g=x}else h=v,g++}}}function mA(n,e,r,o,a,h,f){let p=o%2?2:1;if(o%2==a%2)for(let g=e,v=0;g<r;){let x=!0,S=!1;if(v==h.length||g<h[v].from){let N=bi[g];N!=p&&(x=!1,S=N==16)}let b=!x&&p==1?[]:null,C=x?o:o+1,j=g;t:for(;;)if(v<h.length&&j==h[v].from){if(S)break t;let N=h[v];if(!x)for(let E=N.to,R=v+1;;){if(E==r)break t;if(R<h.length&&h[R].from==E)E=h[R++].to;else{if(bi[E]==p)break t;break}}if(v++,b)b.push(N);else{N.from>g&&f.push(new wc(g,N.from,C));let E=N.direction==Td!=!(C%2);gA(n,E?o+1:o,a,N.inner,N.from,N.to,f),g=N.to}j=N.to}else{if(j==r||(x?bi[j]!=p:bi[j]==p))break;j++}b?mA(n,g,j,o+1,a,b,f):g<j&&f.push(new wc(g,j,C)),g=j}else for(let g=r,v=h.length;g>e;){let x=!0,S=!1;if(!v||g>h[v-1].to){let N=bi[g-1];N!=p&&(x=!1,S=N==16)}let b=!x&&p==1?[]:null,C=x?o:o+1,j=g;t:for(;;)if(v&&j==h[v-1].to){if(S)break t;let N=h[--v];if(!x)for(let E=N.from,R=v;;){if(E==e)break t;if(R&&h[R-1].to==E)E=h[--R].from;else{if(bi[E-1]==p)break t;break}}if(b)b.push(N);else{N.to<g&&f.push(new wc(N.to,g,C));let E=N.direction==Td!=!(C%2);gA(n,E?o+1:o,a,N.inner,N.from,N.to,f),g=N.from}j=N.from}else{if(j==e||(x?bi[j-1]!=p:bi[j-1]==p))break;j--}b?mA(n,j,g,o+1,a,b,f):j<g&&f.push(new wc(j,g,C)),g=j}}function gA(n,e,r,o,a,h,f){let p=e%2?2:1;Bft(n,a,h,o,p),_ft(n,a,h,o,p),Zft(a,h,o,p),mA(n,a,h,e,r,o,f)}function Yft(n,e,r){if(!n)return[new wc(0,0,e==hR?1:0)];if(e==Td&&!r.length&&!Xft.test(n))return H8(n.length);if(r.length)for(;n.length>bi.length;)bi[bi.length]=256;let o=[],a=e==Td?0:1;return gA(n,a,a,r,0,n.length,o),o}function H8(n){return[new wc(0,n,0)]}let K8="";function Uft(n,e,r,o,a){var h;let f=o.head-n.from,p=wc.find(e,f,(h=o.bidiLevel)!==null&&h!==void 0?h:-1,o.assoc),g=e[p],v=g.side(a,r);if(f==v){let b=p+=a?1:-1;if(b<0||b>=e.length)return null;g=e[p=b],f=g.side(!a,r),v=g.side(a,r)}let x=Xr(n.text,f,g.forward(a,r));(x<g.from||x>g.to)&&(x=v),K8=n.text.slice(Math.min(f,x),Math.max(f,x));let S=p==(a?e.length-1:0)?null:e[p+(a?1:-1)];return S&&x==v&&S.level+(a?0:1)<g.level?Ct.cursor(S.side(!a,r)+n.from,S.forward(a,r)?1:-1,S.level):Ct.cursor(x+n.from,g.forward(a,r)?-1:1,g.level)}function Wft(n,e,r){for(let o=e;o<r;o++){let a=q8(n.charCodeAt(o));if(a==1)return Td;if(a==2||a==4)return hR}return Td}const J8=Ht.define(),t9=Ht.define(),e9=Ht.define(),i9=Ht.define(),yA=Ht.define(),n9=Ht.define(),r9=Ht.define(),cR=Ht.define(),fR=Ht.define(),s9=Ht.define({combine:n=>n.some(e=>e)}),o9=Ht.define({combine:n=>n.some(e=>e)}),l9=Ht.define();class Nm{constructor(e,r="nearest",o="nearest",a=5,h=5,f=!1){this.range=e,this.y=r,this.x=o,this.yMargin=a,this.xMargin=h,this.isSnapshot=f}map(e){return e.empty?this:new Nm(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Nm(Ct.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Rw=Se.define({map:(n,e)=>n.map(e)}),a9=Se.define();function lo(n,e,r){let o=n.facet(i9);o.length?o[0](e):window.onerror&&window.onerror(String(e),r,void 0,void 0,e)||(r?console.error(r+":",e):console.error(e))}const rh=Ht.define({combine:n=>n.length?n[0]:!0});let qft=0;const Ay=Ht.define();class In{constructor(e,r,o,a,h){this.id=e,this.create=r,this.domEventHandlers=o,this.domEventObservers=a,this.extension=h(this)}static define(e,r){const{eventHandlers:o,eventObservers:a,provide:h,decorations:f}=r||{};return new In(qft++,e,o,a,p=>{let g=[Ay.of(p)];return f&&g.push(ZO.of(v=>{let x=v.plugin(p);return x?f(x):ue.none})),h&&g.push(h(p)),g})}static fromClass(e,r){return In.define(o=>new e(o),r)}}class wM{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let r=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(r)}catch(o){if(lo(r.state,o,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(r){lo(e.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var r;if(!((r=this.value)===null||r===void 0)&&r.destroy)try{this.value.destroy()}catch(o){lo(e.state,o,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const u9=Ht.define(),dR=Ht.define(),ZO=Ht.define(),h9=Ht.define(),pR=Ht.define(),c9=Ht.define();function p4(n,e){let r=n.state.facet(c9);if(!r.length)return r;let o=r.map(h=>h instanceof Function?h(n):h),a=[];return ri.spans(o,e.from,e.to,{point(){},span(h,f,p,g){let v=h-e.from,x=f-e.from,S=a;for(let b=p.length-1;b>=0;b--,g--){let C=p[b].spec.bidiIsolate,j;if(C==null&&(C=Wft(e.text,v,x)),g>0&&S.length&&(j=S[S.length-1]).to==v&&j.direction==C)j.to=x,S=j.inner;else{let N={from:v,to:x,direction:C,inner:[]};S.push(N),S=N.inner}}}}),a}const f9=Ht.define();function mR(n){let e=0,r=0,o=0,a=0;for(let h of n.state.facet(f9)){let f=h(n);f&&(f.left!=null&&(e=Math.max(e,f.left)),f.right!=null&&(r=Math.max(r,f.right)),f.top!=null&&(o=Math.max(o,f.top)),f.bottom!=null&&(a=Math.max(a,f.bottom)))}return{left:e,right:r,top:o,bottom:a}}const jy=Ht.define();class Pl{constructor(e,r,o,a){this.fromA=e,this.toA=r,this.fromB=o,this.toB=a}join(e){return new Pl(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let r=e.length,o=this;for(;r>0;r--){let a=e[r-1];if(!(a.fromA>o.toA)){if(a.toA<o.fromA)break;o=o.join(a),e.splice(r-1,1)}}return e.splice(r,0,o),e}static extendWithRanges(e,r){if(r.length==0)return e;let o=[];for(let a=0,h=0,f=0,p=0;;a++){let g=a==e.length?null:e[a],v=f-p,x=g?g.fromB:1e9;for(;h<r.length&&r[h]<x;){let S=r[h],b=r[h+1],C=Math.max(p,S),j=Math.min(x,b);if(C<=j&&new Pl(C+v,j+v,C,j).addToSet(o),b>x)break;h+=2}if(!g)return o;new Pl(g.fromA,g.toA,g.fromB,g.toB).addToSet(o),f=g.toA,p=g.toB}}}class Ek{constructor(e,r,o){this.view=e,this.state=r,this.transactions=o,this.flags=0,this.startState=e.state,this.changes=ar.empty(this.startState.doc.length);for(let h of o)this.changes=this.changes.compose(h.changes);let a=[];this.changes.iterChangedRanges((h,f,p,g)=>a.push(new Pl(h,f,p,g))),this.changedRanges=a}static create(e,r,o){return new Ek(e,r,o)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class m4 extends Ci{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=ue.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Wn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Pl(0,0,0,e.state.doc.length)],0,null)}update(e){var r;let o=e.changedRanges;this.minWidth>0&&o.length&&(o.every(({fromA:v,toA:x})=>x<this.minWidthFrom||v>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let a=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((r=this.domChanged)===null||r===void 0)&&r.newSel?a=this.domChanged.newSel.head:!idt(e.changes,this.hasComposition)&&!e.selectionSet&&(a=e.state.selection.main.head));let h=a>-1?Hft(this.view,e.changes,a):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:v,to:x}=this.hasComposition;o=new Pl(v,x,e.changes.mapPos(v,-1),e.changes.mapPos(x,1)).addToSet(o.slice())}this.hasComposition=h?{from:h.range.fromB,to:h.range.toB}:null,(te.ie||te.chrome)&&!h&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let f=this.decorations,p=this.updateDeco(),g=tdt(f,p,e.changes);return o=Pl.extendWithRanges(o,g),!(this.flags&7)&&o.length==0?!1:(this.updateInner(o,e.startState.doc.length,h),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,r,o){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,r,o);let{observer:a}=this.view;a.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let f=te.chrome||te.ios?{node:a.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,f),this.flags&=-8,f&&(f.written||a.selectionRange.focusNode!=f.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(f=>f.flags&=-9);let h=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let f of this.children)f instanceof ah&&f.widget instanceof dA&&h.push(f.dom);a.updateGaps(h)}updateChildren(e,r,o){let a=o?o.range.addToSet(e.slice()):e,h=this.childCursor(r);for(let f=a.length-1;;f--){let p=f>=0?a[f]:null;if(!p)break;let{fromA:g,toA:v,fromB:x,toB:S}=p,b,C,j,N;if(o&&o.range.fromB<S&&o.range.toB>x){let D=eO.build(this.view.state.doc,x,o.range.fromB,this.decorations,this.dynamicDecorationMap),B=eO.build(this.view.state.doc,o.range.toB,S,this.decorations,this.dynamicDecorationMap);C=D.breakAtStart,j=D.openStart,N=B.openEnd;let q=this.compositionView(o);B.breakAtStart?q.breakAfter=1:B.content.length&&q.merge(q.length,q.length,B.content[0],!1,B.openStart,0)&&(q.breakAfter=B.content[0].breakAfter,B.content.shift()),D.content.length&&q.merge(0,0,D.content[D.content.length-1],!0,0,D.openEnd)&&D.content.pop(),b=D.content.concat(q).concat(B.content)}else({content:b,breakAtStart:C,openStart:j,openEnd:N}=eO.build(this.view.state.doc,x,S,this.decorations,this.dynamicDecorationMap));let{i:E,off:R}=h.findPos(v,1),{i:$,off:V}=h.findPos(g,-1);V8(this,$,V,E,R,b,C,j,N)}o&&this.fixCompositionDOM(o)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let r of e.transactions)for(let o of r.effects)o.is(a9)&&(this.editContextFormatting=o.value)}compositionView(e){let r=new la(e.text.nodeValue);r.flags|=8;for(let{deco:a}of e.marks)r=new xh(a,[r],r.length);let o=new Wn;return o.append(r,0),o}fixCompositionDOM(e){let r=(h,f)=>{f.flags|=8|(f.children.some(g=>g.flags&7)?1:0),this.markedForComposition.add(f);let p=Ci.get(h);p&&p!=f&&(p.dom=null),f.setDOM(h)},o=this.childPos(e.range.fromB,1),a=this.children[o.i];r(e.line,a);for(let h=e.marks.length-1;h>=-1;h--)o=a.childPos(o.off,1),a=a.children[o.i],r(h>=0?e.marks[h].node:e.text,a)}updateSelection(e=!1,r=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let o=this.view.root.activeElement,a=o==this.dom,h=!a&&!(this.view.state.facet(rh)||this.dom.tabIndex>-1)&&TS(this.dom,this.view.observer.selectionRange)&&!(o&&this.dom.contains(o));if(!(a||r||h))return;let f=this.forceSelection;this.forceSelection=!1;let p=this.view.state.selection.main,g=this.moveToLine(this.domAtPos(p.anchor)),v=p.empty?g:this.moveToLine(this.domAtPos(p.head));if(te.gecko&&p.empty&&!this.hasComposition&&Gft(g)){let S=document.createTextNode("");this.view.observer.ignore(()=>g.node.insertBefore(S,g.node.childNodes[g.offset]||null)),g=v=new hs(S,0),f=!0}let x=this.view.observer.selectionRange;(f||!x.focusNode||(!tO(g.node,g.offset,x.anchorNode,x.anchorOffset)||!tO(v.node,v.offset,x.focusNode,x.focusOffset))&&!this.suppressWidgetCursorChange(x,p))&&(this.view.observer.ignore(()=>{te.android&&te.chrome&&this.dom.contains(x.focusNode)&&edt(x.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let S=_O(this.view.root);if(S)if(p.empty){if(te.gecko){let b=Kft(g.node,g.offset);if(b&&b!=3){let C=(b==1?D8:I8)(g.node,g.offset);C&&(g=new hs(C.node,C.offset))}}S.collapse(g.node,g.offset),p.bidiLevel!=null&&S.caretBidiLevel!==void 0&&(S.caretBidiLevel=p.bidiLevel)}else if(S.extend){S.collapse(g.node,g.offset);try{S.extend(v.node,v.offset)}catch{}}else{let b=document.createRange();p.anchor>p.head&&([g,v]=[v,g]),b.setEnd(v.node,v.offset),b.setStart(g.node,g.offset),S.removeAllRanges(),S.addRange(b)}h&&this.view.root.activeElement==this.dom&&(this.dom.blur(),o&&o.focus())}),this.view.observer.setSelectionRange(g,v)),this.impreciseAnchor=g.precise?null:new hs(x.anchorNode,x.anchorOffset),this.impreciseHead=v.precise?null:new hs(x.focusNode,x.focusOffset)}suppressWidgetCursorChange(e,r){return this.hasComposition&&r.empty&&tO(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==r.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,r=e.state.selection.main,o=_O(e.root),{anchorNode:a,anchorOffset:h}=e.observer.selectionRange;if(!o||!r.empty||!r.assoc||!o.modify)return;let f=Wn.find(this,r.head);if(!f)return;let p=f.posAtStart;if(r.head==p||r.head==p+f.length)return;let g=this.coordsAt(r.head,-1),v=this.coordsAt(r.head,1);if(!g||!v||g.bottom>v.top)return;let x=this.domAtPos(r.head+r.assoc);o.collapse(x.node,x.offset),o.modify("move",r.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let S=e.observer.selectionRange;e.docView.posFromDOM(S.anchorNode,S.anchorOffset)!=r.from&&o.collapse(a,h)}moveToLine(e){let r=this.dom,o;if(e.node!=r)return e;for(let a=e.offset;!o&&a<r.childNodes.length;a++){let h=Ci.get(r.childNodes[a]);h instanceof Wn&&(o=h.domAtPos(0))}for(let a=e.offset-1;!o&&a>=0;a--){let h=Ci.get(r.childNodes[a]);h instanceof Wn&&(o=h.domAtPos(h.length))}return o?new hs(o.node,o.offset,!0):e}nearest(e){for(let r=e;r;){let o=Ci.get(r);if(o&&o.rootView==this)return o;r=r.parentNode}return null}posFromDOM(e,r){let o=this.nearest(e);if(!o)throw new RangeError("Trying to find position for a DOM position outside of the document");return o.localPosFromDOM(e,r)+o.posAtStart}domAtPos(e){let{i:r,off:o}=this.childCursor().findPos(e,-1);for(;r<this.children.length-1;){let a=this.children[r];if(o<a.length||a instanceof Wn)break;r++,o=0}return this.children[r].domAtPos(o)}coordsAt(e,r){let o=null,a=0;for(let h=this.length,f=this.children.length-1;f>=0;f--){let p=this.children[f],g=h-p.breakAfter,v=g-p.length;if(g<e)break;if(v<=e&&(v<e||p.covers(-1))&&(g>e||p.covers(1))&&(!o||p instanceof Wn&&!(o instanceof Wn&&r>=0)))o=p,a=v;else if(o&&v==e&&g==e&&p instanceof ah&&Math.abs(r)<2){if(p.deco.startSide<0)break;f&&(o=null)}h=v}return o?o.coordsAt(e-a,r):null}coordsForChar(e){let{i:r,off:o}=this.childPos(e,1),a=this.children[r];if(!(a instanceof Wn))return null;for(;a.children.length;){let{i:p,off:g}=a.childPos(o,1);for(;;p++){if(p==a.children.length)return null;if((a=a.children[p]).length)break}o=g}if(!(a instanceof la))return null;let h=Xr(a.text,o);if(h==o)return null;let f=bd(a.dom,o,h).getClientRects();for(let p=0;p<f.length;p++){let g=f[p];if(p==f.length-1||g.top<g.bottom&&g.left<g.right)return g}return null}measureVisibleLineHeights(e){let r=[],{from:o,to:a}=e,h=this.view.contentDOM.clientWidth,f=h>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,p=-1,g=this.view.textDirection==Xi.LTR;for(let v=0,x=0;x<this.children.length;x++){let S=this.children[x],b=v+S.length;if(b>a)break;if(v>=o){let C=S.dom.getBoundingClientRect();if(r.push(C.height),f){let j=S.dom.lastChild,N=j?sg(j):[];if(N.length){let E=N[N.length-1],R=g?E.right-C.left:C.right-E.left;R>p&&(p=R,this.minWidth=h,this.minWidthFrom=v,this.minWidthTo=b)}}}v=b+S.breakAfter}return r}textDirectionAt(e){let{i:r}=this.childPos(e,1);return getComputedStyle(this.children[r].dom).direction=="rtl"?Xi.RTL:Xi.LTR}measureTextSize(){for(let h of this.children)if(h instanceof Wn){let f=h.measureTextSize();if(f)return f}let e=document.createElement("div"),r,o,a;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let h=sg(e.firstChild)[0];r=e.getBoundingClientRect().height,o=h?h.width/27:7,a=h?h.height:r,e.remove()}),{lineHeight:r,charWidth:o,textHeight:a}}childCursor(e=this.length){let r=this.children.length;return r&&(e-=this.children[--r].length),new F8(this.children,e,r)}computeBlockGapDeco(){let e=[],r=this.view.viewState;for(let o=0,a=0;;a++){let h=a==r.viewports.length?null:r.viewports[a],f=h?h.from-1:this.length;if(f>o){let p=(r.lineBlockAt(f).bottom-r.lineBlockAt(o).top)/this.view.scaleY;e.push(ue.replace({widget:new dA(p),block:!0,inclusive:!0,isBlockGap:!0}).range(o,f))}if(!h)break;o=h.to+1}return ue.set(e)}updateDeco(){let e=1,r=this.view.state.facet(ZO).map(h=>(this.dynamicDecorationMap[e++]=typeof h=="function")?h(this.view):h),o=!1,a=this.view.state.facet(h9).map((h,f)=>{let p=typeof h=="function";return p&&(o=!0),p?h(this.view):h});for(a.length&&(this.dynamicDecorationMap[e++]=o,r.push(ri.join(a))),this.decorations=[this.editContextFormatting,...r,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let v=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=v.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let v of this.view.state.facet(l9))try{if(v(this.view,e.range,e))return!0}catch(x){lo(this.view.state,x,"scroll handler")}let{range:r}=e,o=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1),a;if(!o)return;!r.empty&&(a=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(o={left:Math.min(o.left,a.left),top:Math.min(o.top,a.top),right:Math.max(o.right,a.right),bottom:Math.max(o.bottom,a.bottom)});let h=mR(this.view),f={left:o.left-h.left,top:o.top-h.top,right:o.right+h.right,bottom:o.bottom+h.bottom},{offsetWidth:p,offsetHeight:g}=this.view.scrollDOM;Qft(this.view.scrollDOM,f,r.head<r.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,p),-p),Math.max(Math.min(e.yMargin,g),-g),this.view.textDirection==Xi.LTR)}}function Gft(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function d9(n,e){let r=n.observer.selectionRange;if(!r.focusNode)return null;let o=D8(r.focusNode,r.focusOffset),a=I8(r.focusNode,r.focusOffset),h=o||a;if(a&&o&&a.node!=o.node){let p=Ci.get(a.node);if(!p||p instanceof la&&p.text!=a.node.nodeValue)h=a;else if(n.docView.lastCompositionAfterCursor){let g=Ci.get(o.node);!g||g instanceof la&&g.text!=o.node.nodeValue||(h=a)}}if(n.docView.lastCompositionAfterCursor=h!=o,!h)return null;let f=e-h.offset;return{from:f,to:f+h.node.nodeValue.length,node:h.node}}function Hft(n,e,r){let o=d9(n,r);if(!o)return null;let{node:a,from:h,to:f}=o,p=a.nodeValue;if(/[\n\r]/.test(p)||n.state.doc.sliceString(o.from,o.to)!=p)return null;let g=e.invertedDesc,v=new Pl(g.mapPos(h),g.mapPos(f),h,f),x=[];for(let S=a.parentNode;;S=S.parentNode){let b=Ci.get(S);if(b instanceof xh)x.push({node:S,deco:b.mark});else{if(b instanceof Wn||S.nodeName=="DIV"&&S.parentNode==n.contentDOM)return{range:v,text:a,marks:x,line:S};if(S!=n.contentDOM)x.push({node:S,deco:new Mv({inclusive:!0,attributes:Ift(S),tagName:S.tagName.toLowerCase()})});else return null}}}function Kft(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let Jft=class{constructor(){this.changes=[]}compareRange(e,r){CS(e,r,this.changes)}comparePoint(e,r){CS(e,r,this.changes)}boundChange(e){CS(e,e,this.changes)}};function tdt(n,e,r){let o=new Jft;return ri.compare(n,e,r,o),o.changes}function edt(n,e){for(let r=n;r&&r!=e;r=r.assignedSlot||r.parentNode)if(r.nodeType==1&&r.contentEditable=="false")return!0;return!1}function idt(n,e){let r=!1;return e&&n.iterChangedRanges((o,a)=>{o<e.to&&a>e.from&&(r=!0)}),r}function ndt(n,e,r=1){let o=n.charCategorizer(e),a=n.doc.lineAt(e),h=e-a.from;if(a.length==0)return Ct.cursor(e);h==0?r=1:h==a.length&&(r=-1);let f=h,p=h;r<0?f=Xr(a.text,h,!1):p=Xr(a.text,h);let g=o(a.text.slice(f,p));for(;f>0;){let v=Xr(a.text,f,!1);if(o(a.text.slice(v,f))!=g)break;f=v}for(;p<a.length;){let v=Xr(a.text,p);if(o(a.text.slice(p,v))!=g)break;p=v}return Ct.range(f+a.from,p+a.from)}function rdt(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function sdt(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function SM(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function g4(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function y4(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function OA(n,e,r){let o,a,h,f,p=!1,g,v,x,S;for(let j=n.firstChild;j;j=j.nextSibling){let N=sg(j);for(let E=0;E<N.length;E++){let R=N[E];a&&SM(a,R)&&(R=g4(y4(R,a.bottom),a.top));let $=rdt(e,R),V=sdt(r,R);if($==0&&V==0)return j.nodeType==3?O4(j,e,r):OA(j,e,r);if(!o||f>V||f==V&&h>$){o=j,a=R,h=$,f=V;let D=V?r<R.top?-1:1:$?e<R.left?-1:1:0;p=!D||(D>0?E<N.length-1:E>0)}$==0?r>R.bottom&&(!x||x.bottom<R.bottom)?(g=j,x=R):r<R.top&&(!S||S.top>R.top)&&(v=j,S=R):x&&SM(x,R)?x=y4(x,R.bottom):S&&SM(S,R)&&(S=g4(S,R.top))}}if(x&&x.bottom>=r?(o=g,a=x):S&&S.top<=r&&(o=v,a=S),!o)return{node:n,offset:0};let b=Math.max(a.left,Math.min(a.right,e));if(o.nodeType==3)return O4(o,b,r);if(p&&o.contentEditable!="false")return OA(o,b,r);let C=Array.prototype.indexOf.call(n.childNodes,o)+(e>=(a.left+a.right)/2?1:0);return{node:n,offset:C}}function O4(n,e,r){let o=n.nodeValue.length,a=-1,h=1e9,f=0;for(let p=0;p<o;p++){let g=bd(n,p,p+1).getClientRects();for(let v=0;v<g.length;v++){let x=g[v];if(x.top==x.bottom)continue;f||(f=e-x.left);let S=(x.top>r?x.top-r:r-x.bottom)-1;if(x.left-1<=e&&x.right+1>=e&&S<h){let b=e>=(x.left+x.right)/2,C=b;if((te.chrome||te.gecko)&&bd(n,p).getBoundingClientRect().left==x.right&&(C=!b),S<=0)return{node:n,offset:p+(C?1:0)};a=p+(C?1:0),h=S}}}return{node:n,offset:a>-1?a:f>0?n.nodeValue.length:0}}function p9(n,e,r,o=-1){var a,h;let f=n.contentDOM.getBoundingClientRect(),p=f.top+n.viewState.paddingTop,g,{docHeight:v}=n.viewState,{x,y:S}=e,b=S-p;if(b<0)return 0;if(b>v)return n.state.doc.length;for(let D=n.viewState.heightOracle.textHeight/2,B=!1;g=n.elementAtHeight(b),g.type!=Rs.Text;)for(;b=o>0?g.bottom+D:g.top-D,!(b>=0&&b<=v);){if(B)return r?null:0;B=!0,o=-o}S=p+b;let C=g.from;if(C<n.viewport.from)return n.viewport.from==0?0:r?null:v4(n,f,g,x,S);if(C>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:r?null:v4(n,f,g,x,S);let j=n.dom.ownerDocument,N=n.root.elementFromPoint?n.root:j,E=N.elementFromPoint(x,S);E&&!n.contentDOM.contains(E)&&(E=null),E||(x=Math.max(f.left+1,Math.min(f.right-1,x)),E=N.elementFromPoint(x,S),E&&!n.contentDOM.contains(E)&&(E=null));let R,$=-1;if(E&&((a=n.docView.nearest(E))===null||a===void 0?void 0:a.isEditable)!=!1){if(j.caretPositionFromPoint){let D=j.caretPositionFromPoint(x,S);D&&({offsetNode:R,offset:$}=D)}else if(j.caretRangeFromPoint){let D=j.caretRangeFromPoint(x,S);D&&({startContainer:R,startOffset:$}=D,(!n.contentDOM.contains(R)||te.safari&&odt(R,$,x)||te.chrome&&ldt(R,$,x))&&(R=void 0))}R&&($=Math.min(pu(R),$))}if(!R||!n.docView.dom.contains(R)){let D=Wn.find(n.docView,C);if(!D)return b>g.top+g.height/2?g.to:g.from;({node:R,offset:$}=OA(D.dom,x,S))}let V=n.docView.nearest(R);if(!V)return null;if(V.isWidget&&((h=V.dom)===null||h===void 0?void 0:h.nodeType)==1){let D=V.dom.getBoundingClientRect();return e.y<D.top||e.y<=D.bottom&&e.x<=(D.left+D.right)/2?V.posAtStart:V.posAtEnd}else return V.localPosFromDOM(R,$)+V.posAtStart}function v4(n,e,r,o,a){let h=Math.round((o-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&r.height>n.defaultLineHeight*1.5){let p=n.viewState.heightOracle.textHeight,g=Math.floor((a-r.top-(n.defaultLineHeight-p)*.5)/p);h+=g*n.viewState.heightOracle.lineLength}let f=n.state.sliceDoc(r.from,r.to);return r.from+rA(f,h,n.state.tabSize)}function odt(n,e,r){let o;if(n.nodeType!=3||e!=(o=n.nodeValue.length))return!1;for(let a=n.nextSibling;a;a=a.nextSibling)if(a.nodeType!=1||a.nodeName!="BR")return!1;return bd(n,o-1,o).getBoundingClientRect().left>r}function ldt(n,e,r){if(e!=0)return!1;for(let a=n;;){let h=a.parentNode;if(!h||h.nodeType!=1||h.firstChild!=a)return!1;if(h.classList.contains("cm-line"))break;a=h}let o=n.nodeType==1?n.getBoundingClientRect():bd(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return r-o.left>5}function vA(n,e,r){let o=n.lineBlockAt(e);if(Array.isArray(o.type)){let a;for(let h of o.type){if(h.from>e)break;if(!(h.to<e)){if(h.from<e&&h.to>e)return h;(!a||h.type==Rs.Text&&(a.type!=h.type||(r<0?h.from<e:h.to>e)))&&(a=h)}}return a||o}return o}function adt(n,e,r,o){let a=vA(n,e.head,e.assoc||-1),h=!o||a.type!=Rs.Text||!(n.lineWrapping||a.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>a.from?e.head-1:e.head);if(h){let f=n.dom.getBoundingClientRect(),p=n.textDirectionAt(a.from),g=n.posAtCoords({x:r==(p==Xi.LTR)?f.right-1:f.left+1,y:(h.top+h.bottom)/2});if(g!=null)return Ct.cursor(g,r?-1:1)}return Ct.cursor(r?a.to:a.from,r?-1:1)}function x4(n,e,r,o){let a=n.state.doc.lineAt(e.head),h=n.bidiSpans(a),f=n.textDirectionAt(a.from);for(let p=e,g=null;;){let v=Uft(a,h,f,p,r),x=K8;if(!v){if(a.number==(r?n.state.doc.lines:1))return p;x=`
`,a=n.state.doc.line(a.number+(r?1:-1)),h=n.bidiSpans(a),v=n.visualLineSide(a,!r)}if(g){if(!g(x))return p}else{if(!o)return v;g=o(x)}p=v}}function udt(n,e,r){let o=n.state.charCategorizer(e),a=o(r);return h=>{let f=o(h);return a==Hi.Space&&(a=f),a==f}}function hdt(n,e,r,o){let a=e.head,h=r?1:-1;if(a==(r?n.state.doc.length:0))return Ct.cursor(a,e.assoc);let f=e.goalColumn,p,g=n.contentDOM.getBoundingClientRect(),v=n.coordsAtPos(a,e.assoc||-1),x=n.documentTop;if(v)f==null&&(f=v.left-g.left),p=h<0?v.top:v.bottom;else{let C=n.viewState.lineBlockAt(a);f==null&&(f=Math.min(g.right-g.left,n.defaultCharacterWidth*(a-C.from))),p=(h<0?C.top:C.bottom)+x}let S=g.left+f,b=o??n.viewState.heightOracle.textHeight>>1;for(let C=0;;C+=10){let j=p+(b+C)*h,N=p9(n,{x:S,y:j},!1,h);if(j<g.top||j>g.bottom||(h<0?N<a:N>a)){let E=n.docView.coordsForChar(N),R=!E||j<E.top?-1:1;return Ct.cursor(N,R,void 0,f)}}}function MS(n,e,r){for(;;){let o=0;for(let a of n)a.between(e-1,e+1,(h,f,p)=>{if(e>h&&e<f){let g=o||r||(e-h<f-e?-1:1);e=g<0?h:f,o=g}});if(!o)return e}}function kM(n,e,r){let o=MS(n.state.facet(pR).map(a=>a(n)),r.from,e.head>r.from?-1:1);return o==r.from?r:Ct.cursor(o,o<r.from?1:-1)}const Ey="";class cdt{constructor(e,r){this.points=e,this.text="",this.lineSeparator=r.facet(Ye.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Ey}readRange(e,r){if(!e)return this;let o=e.parentNode;for(let a=e;;){this.findPointBefore(o,a);let h=this.text.length;this.readNode(a);let f=a.nextSibling;if(f==r)break;let p=Ci.get(a),g=Ci.get(f);(p&&g?p.breakAfter:(p?p.breakAfter:Ak(a))||Ak(f)&&(a.nodeName!="BR"||a.cmIgnore)&&this.text.length>h)&&this.lineBreak(),a=f}return this.findPointBefore(o,r),this}readTextNode(e){let r=e.nodeValue;for(let o of this.points)o.node==e&&(o.pos=this.text.length+Math.min(o.offset,r.length));for(let o=0,a=this.lineSeparator?null:/\r\n?|\n/g;;){let h=-1,f=1,p;if(this.lineSeparator?(h=r.indexOf(this.lineSeparator,o),f=this.lineSeparator.length):(p=a.exec(r))&&(h=p.index,f=p[0].length),this.append(r.slice(o,h<0?r.length:h)),h<0)break;if(this.lineBreak(),f>1)for(let g of this.points)g.node==e&&g.pos>this.text.length&&(g.pos-=f-1);o=h+f}}readNode(e){if(e.cmIgnore)return;let r=Ci.get(e),o=r&&r.overrideDOMText;if(o!=null){this.findPointInside(e,o.length);for(let a=o.iter();!a.next().done;)a.lineBreak?this.lineBreak():this.append(a.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,r){for(let o of this.points)o.node==e&&e.childNodes[o.offset]==r&&(o.pos=this.text.length)}findPointInside(e,r){for(let o of this.points)(e.nodeType==3?o.node==e:e.contains(o.node))&&(o.pos=this.text.length+(fdt(e,o.node,o.offset)?r:0))}}function fdt(n,e,r){for(;;){if(!e||r<pu(e))return!1;if(e==n)return!0;r=Pd(e)+1,e=e.parentNode}}class w4{constructor(e,r){this.node=e,this.offset=r,this.pos=-1}}class ddt{constructor(e,r,o,a){this.typeOver=a,this.bounds=null,this.text="",this.domChanged=r>-1;let{impreciseHead:h,impreciseAnchor:f}=e.docView;if(e.state.readOnly&&r>-1)this.newSel=null;else if(r>-1&&(this.bounds=e.docView.domBoundsAround(r,o,0))){let p=h||f?[]:gdt(e),g=new cdt(p,e.state);g.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=g.text,this.newSel=ydt(p,this.bounds.from)}else{let p=e.observer.selectionRange,g=h&&h.node==p.focusNode&&h.offset==p.focusOffset||!lA(e.contentDOM,p.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(p.focusNode,p.focusOffset),v=f&&f.node==p.anchorNode&&f.offset==p.anchorOffset||!lA(e.contentDOM,p.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(p.anchorNode,p.anchorOffset),x=e.viewport;if((te.ios||te.chrome)&&e.state.selection.main.empty&&g!=v&&(x.from>0||x.to<e.state.doc.length)){let S=Math.min(g,v),b=Math.max(g,v),C=x.from-S,j=x.to-b;(C==0||C==1||S==0)&&(j==0||j==-1||b==e.state.doc.length)&&(g=0,v=e.state.doc.length)}this.newSel=Ct.single(v,g)}}}function m9(n,e){let r,{newSel:o}=e,a=n.state.selection.main,h=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:f,to:p}=e.bounds,g=a.from,v=null;(h===8||te.android&&e.text.length<p-f)&&(g=a.to,v="end");let x=mdt(n.state.doc.sliceString(f,p,Ey),e.text,g-f,v);x&&(te.chrome&&h==13&&x.toB==x.from+2&&e.text.slice(x.from,x.toB)==Ey+Ey&&x.toB--,r={from:f+x.from,to:f+x.toA,insert:He.of(e.text.slice(x.from,x.toB).split(Ey))})}else o&&(!n.hasFocus&&n.state.facet(rh)||o.main.eq(a))&&(o=null);if(!r&&!o)return!1;if(!r&&e.typeOver&&!a.empty&&o&&o.main.empty?r={from:a.from,to:a.to,insert:n.state.doc.slice(a.from,a.to)}:(te.mac||te.android)&&r&&r.from==r.to&&r.from==a.head-1&&/^\. ?$/.test(r.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(o&&r.insert.length==2&&(o=Ct.single(o.main.anchor-1,o.main.head-1)),r={from:r.from,to:r.to,insert:He.of([r.insert.toString().replace("."," ")])}):r&&r.from>=a.from&&r.to<=a.to&&(r.from!=a.from||r.to!=a.to)&&a.to-a.from-(r.to-r.from)<=4?r={from:a.from,to:a.to,insert:n.state.doc.slice(a.from,r.from).append(r.insert).append(n.state.doc.slice(r.to,a.to))}:te.chrome&&r&&r.from==r.to&&r.from==a.head&&r.insert.toString()==`
 `&&n.lineWrapping&&(o&&(o=Ct.single(o.main.anchor-1,o.main.head-1)),r={from:a.from,to:a.to,insert:He.of([" "])}),r)return gR(n,r,o,h);if(o&&!o.main.eq(a)){let f=!1,p="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(f=!0),p=n.inputState.lastSelectionOrigin),n.dispatch({selection:o,scrollIntoView:f,userEvent:p}),!0}else return!1}function gR(n,e,r,o=-1){if(te.ios&&n.inputState.flushIOSKey(e))return!0;let a=n.state.selection.main;if(te.android&&(e.to==a.to&&(e.from==a.from||e.from==a.from-1&&n.state.sliceDoc(e.from,a.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Qm(n.contentDOM,"Enter",13)||(e.from==a.from-1&&e.to==a.to&&e.insert.length==0||o==8&&e.insert.length<e.to-e.from&&e.to>a.head)&&Qm(n.contentDOM,"Backspace",8)||e.from==a.from&&e.to==a.to+1&&e.insert.length==0&&Qm(n.contentDOM,"Delete",46)))return!0;let h=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let f,p=()=>f||(f=pdt(n,e,r));return n.state.facet(n9).some(g=>g(n,e.from,e.to,h,p))||n.dispatch(p()),!0}function pdt(n,e,r){let o,a=n.state,h=a.selection.main;if(e.from>=h.from&&e.to<=h.to&&e.to-e.from>=(h.to-h.from)/3&&(!r||r.main.empty&&r.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let p=h.from<e.from?a.sliceDoc(h.from,e.from):"",g=h.to>e.to?a.sliceDoc(e.to,h.to):"";o=a.replaceSelection(n.state.toText(p+e.insert.sliceString(0,void 0,n.state.lineBreak)+g))}else{let p=a.changes(e),g=r&&r.main.to<=p.newLength?r.main:void 0;if(a.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=h.to&&e.to>=h.to-10){let v=n.state.sliceDoc(e.from,e.to),x,S=r&&d9(n,r.main.head);if(S){let j=e.insert.length-(e.to-e.from);x={from:S.from,to:S.to-j}}else x=n.state.doc.lineAt(h.head);let b=h.to-e.to,C=h.to-h.from;o=a.changeByRange(j=>{if(j.from==h.from&&j.to==h.to)return{changes:p,range:g||j.map(p)};let N=j.to-b,E=N-v.length;if(j.to-j.from!=C||n.state.sliceDoc(E,N)!=v||j.to>=x.from&&j.from<=x.to)return{range:j};let R=a.changes({from:E,to:N,insert:e.insert}),$=j.to-h.to;return{changes:R,range:g?Ct.range(Math.max(0,g.anchor+$),Math.max(0,g.head+$)):j.map(R)}})}else o={changes:p,selection:g&&a.selection.replaceRange(g)}}let f="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,f+=".compose",n.inputState.compositionFirstChange&&(f+=".start",n.inputState.compositionFirstChange=!1)),a.update(o,{userEvent:f,scrollIntoView:!0})}function mdt(n,e,r,o){let a=Math.min(n.length,e.length),h=0;for(;h<a&&n.charCodeAt(h)==e.charCodeAt(h);)h++;if(h==a&&n.length==e.length)return null;let f=n.length,p=e.length;for(;f>0&&p>0&&n.charCodeAt(f-1)==e.charCodeAt(p-1);)f--,p--;if(o=="end"){let g=Math.max(0,h-Math.min(f,p));r-=f+g-h}if(f<h&&n.length<e.length){let g=r<=h&&r>=f?h-r:0;h-=g,p=h+(p-f),f=h}else if(p<h){let g=r<=h&&r>=p?h-r:0;h-=g,f=h+(f-p),p=h}return{from:h,toA:f,toB:p}}function gdt(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:r,anchorOffset:o,focusNode:a,focusOffset:h}=n.observer.selectionRange;return r&&(e.push(new w4(r,o)),(a!=r||h!=o)&&e.push(new w4(a,h))),e}function ydt(n,e){if(n.length==0)return null;let r=n[0].pos,o=n.length==2?n[1].pos:r;return r>-1&&o>-1?Ct.single(r+e,o+e):null}class Odt{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,te.safari&&e.contentDOM.addEventListener("input",()=>null),te.gecko&&Rdt(e.contentDOM.ownerDocument)}handleEvent(e){!Tdt(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,r){let o=this.handlers[e];if(o){for(let a of o.observers)a(this.view,r);for(let a of o.handlers){if(r.defaultPrevented)break;if(a(this.view,r)){r.preventDefault();break}}}}ensureHandlers(e){let r=vdt(e),o=this.handlers,a=this.view.contentDOM;for(let h in r)if(h!="scroll"){let f=!r[h].handlers.length,p=o[h];p&&f!=!p.handlers.length&&(a.removeEventListener(h,this.handleEvent),p=null),p||a.addEventListener(h,this.handleEvent,{passive:f})}for(let h in o)h!="scroll"&&!r[h]&&a.removeEventListener(h,this.handleEvent);this.handlers=r}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&y9.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),te.android&&te.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let r;return te.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((r=g9.find(o=>o.keyCode==e.keyCode))&&!e.ctrlKey||xdt.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=r||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let r=this.pendingIOSKey;return!r||r.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Qm(this.view.contentDOM,r.key,r.keyCode,r instanceof KeyboardEvent?r:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:te.safari&&!te.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function S4(n,e){return(r,o)=>{try{return e.call(n,o,r)}catch(a){lo(r.state,a)}}}function vdt(n){let e=Object.create(null);function r(o){return e[o]||(e[o]={observers:[],handlers:[]})}for(let o of n){let a=o.spec;if(a&&a.domEventHandlers)for(let h in a.domEventHandlers){let f=a.domEventHandlers[h];f&&r(h).handlers.push(S4(o.value,f))}if(a&&a.domEventObservers)for(let h in a.domEventObservers){let f=a.domEventObservers[h];f&&r(h).observers.push(S4(o.value,f))}}for(let o in aa)r(o).handlers.push(aa[o]);for(let o in Cl)r(o).observers.push(Cl[o]);return e}const g9=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],xdt="dthko",y9=[16,17,18,20,91,92,224,225],Lw=6;function $w(n){return Math.max(0,n)*.7+8}function wdt(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class Sdt{constructor(e,r,o,a){this.view=e,this.startEvent=r,this.style=o,this.mustSelect=a,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=r,this.scrollParents=Nft(e.contentDOM),this.atoms=e.state.facet(pR).map(f=>f(e));let h=e.contentDOM.ownerDocument;h.addEventListener("mousemove",this.move=this.move.bind(this)),h.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=r.shiftKey,this.multiple=e.state.facet(Ye.allowMultipleSelections)&&kdt(e,r),this.dragging=bdt(e,r)&&x9(r)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&wdt(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let r=0,o=0,a=0,h=0,f=this.view.win.innerWidth,p=this.view.win.innerHeight;this.scrollParents.x&&({left:a,right:f}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:h,bottom:p}=this.scrollParents.y.getBoundingClientRect());let g=mR(this.view);e.clientX-g.left<=a+Lw?r=-$w(a-e.clientX):e.clientX+g.right>=f-Lw&&(r=$w(e.clientX-f)),e.clientY-g.top<=h+Lw?o=-$w(h-e.clientY):e.clientY+g.bottom>=p-Lw&&(o=$w(e.clientY-p)),this.setScrollSpeed(r,o)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,r){this.scrollSpeed={x:e,y:r},e||r?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:r}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),r&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=r,r=0),(e||r)&&this.view.win.scrollBy(e,r),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let r=null;for(let o=0;o<e.ranges.length;o++){let a=e.ranges[o],h=null;if(a.empty){let f=MS(this.atoms,a.from,0);f!=a.from&&(h=Ct.cursor(f,-1))}else{let f=MS(this.atoms,a.from,-1),p=MS(this.atoms,a.to,1);(f!=a.from||p!=a.to)&&(h=Ct.range(a.from==a.anchor?f:p,a.from==a.head?f:p))}h&&(r||(r=e.ranges.slice()),r[o]=h)}return r?Ct.create(r,e.mainIndex):e}select(e){let{view:r}=this,o=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!o.eq(r.state.selection,this.dragging===!1))&&this.view.dispatch({selection:o,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(r=>r.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function kdt(n,e){let r=n.state.facet(J8);return r.length?r[0](e):te.mac?e.metaKey:e.ctrlKey}function Pdt(n,e){let r=n.state.facet(t9);return r.length?r[0](e):te.mac?!e.altKey:!e.ctrlKey}function bdt(n,e){let{main:r}=n.state.selection;if(r.empty)return!1;let o=_O(n.root);if(!o||o.rangeCount==0)return!0;let a=o.getRangeAt(0).getClientRects();for(let h=0;h<a.length;h++){let f=a[h];if(f.left<=e.clientX&&f.right>=e.clientX&&f.top<=e.clientY&&f.bottom>=e.clientY)return!0}return!1}function Tdt(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target,o;r!=n.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||(o=Ci.get(r))&&o.ignoreEvent(e))return!1;return!0}const aa=Object.create(null),Cl=Object.create(null),O9=te.ie&&te.ie_version<15||te.ios&&te.webkit_version<604;function Cdt(n){let e=n.dom.parentNode;if(!e)return;let r=e.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{n.focus(),r.remove(),v9(n,r.value)},50)}function t2(n,e,r){for(let o of n.facet(e))r=o(r,n);return r}function v9(n,e){e=t2(n.state,cR,e);let{state:r}=n,o,a=1,h=r.toText(e),f=h.lines==r.selection.ranges.length;if(xA!=null&&r.selection.ranges.every(g=>g.empty)&&xA==h.toString()){let g=-1;o=r.changeByRange(v=>{let x=r.doc.lineAt(v.from);if(x.from==g)return{range:v};g=x.from;let S=r.toText((f?h.line(a++).text:e)+r.lineBreak);return{changes:{from:x.from,insert:S},range:Ct.cursor(v.from+S.length)}})}else f?o=r.changeByRange(g=>{let v=h.line(a++);return{changes:{from:g.from,to:g.to,insert:v.text},range:Ct.cursor(g.from+v.length)}}):o=r.replaceSelection(h);n.dispatch(o,{userEvent:"input.paste",scrollIntoView:!0})}Cl.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};aa.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);Cl.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Cl.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};aa.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let r=null;for(let o of n.state.facet(e9))if(r=o(n,e),r)break;if(!r&&e.button==0&&(r=Ndt(n,e)),r){let o=!n.hasFocus;n.inputState.startMouseSelection(new Sdt(n,e,r,o)),o&&n.observer.ignore(()=>{R8(n.contentDOM);let h=n.root.activeElement;h&&!h.contains(n.contentDOM)&&h.blur()});let a=n.inputState.mouseSelection;if(a)return a.start(e),a.dragging===!1}return!1};function k4(n,e,r,o){if(o==1)return Ct.cursor(e,r);if(o==2)return ndt(n.state,e,r);{let a=Wn.find(n.docView,e),h=n.state.doc.lineAt(a?a.posAtEnd:e),f=a?a.posAtStart:h.from,p=a?a.posAtEnd:h.to;return p<n.state.doc.length&&p==h.to&&p++,Ct.range(f,p)}}let P4=(n,e,r)=>e>=r.top&&e<=r.bottom&&n>=r.left&&n<=r.right;function Mdt(n,e,r,o){let a=Wn.find(n.docView,e);if(!a)return 1;let h=e-a.posAtStart;if(h==0)return 1;if(h==a.length)return-1;let f=a.coordsAt(h,-1);if(f&&P4(r,o,f))return-1;let p=a.coordsAt(h,1);return p&&P4(r,o,p)?1:f&&f.bottom>=o?-1:1}function b4(n,e){let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:r,bias:Mdt(n,r,e.clientX,e.clientY)}}const Qdt=te.ie&&te.ie_version<=11;let T4=null,C4=0,M4=0;function x9(n){if(!Qdt)return n.detail;let e=T4,r=M4;return T4=n,M4=Date.now(),C4=!e||r>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(C4+1)%3:1}function Ndt(n,e){let r=b4(n,e),o=x9(e),a=n.state.selection;return{update(h){h.docChanged&&(r.pos=h.changes.mapPos(r.pos),a=a.map(h.changes))},get(h,f,p){let g=b4(n,h),v,x=k4(n,g.pos,g.bias,o);if(r.pos!=g.pos&&!f){let S=k4(n,r.pos,r.bias,o),b=Math.min(S.from,x.from),C=Math.max(S.to,x.to);x=b<x.from?Ct.range(b,C):Ct.range(C,b)}return f?a.replaceRange(a.main.extend(x.from,x.to)):p&&o==1&&a.ranges.length>1&&(v=Adt(a,g.pos))?v:p?a.addRange(x):Ct.create([x])}}}function Adt(n,e){for(let r=0;r<n.ranges.length;r++){let{from:o,to:a}=n.ranges[r];if(o<=e&&a>=e)return Ct.create(n.ranges.slice(0,r).concat(n.ranges.slice(r+1)),n.mainIndex==r?0:n.mainIndex-(n.mainIndex>r?1:0))}return null}aa.dragstart=(n,e)=>{let{selection:{main:r}}=n.state;if(e.target.draggable){let a=n.docView.nearest(e.target);if(a&&a.isWidget){let h=a.posAtStart,f=h+a.length;(h>=r.to||f<=r.from)&&(r=Ct.range(h,f))}}let{inputState:o}=n;return o.mouseSelection&&(o.mouseSelection.dragging=!0),o.draggedContent=r,e.dataTransfer&&(e.dataTransfer.setData("Text",t2(n.state,fR,n.state.sliceDoc(r.from,r.to))),e.dataTransfer.effectAllowed="copyMove"),!1};aa.dragend=n=>(n.inputState.draggedContent=null,!1);function Q4(n,e,r,o){if(r=t2(n.state,cR,r),!r)return;let a=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:h}=n.inputState,f=o&&h&&Pdt(n,e)?{from:h.from,to:h.to}:null,p={from:a,insert:r},g=n.state.changes(f?[f,p]:p);n.focus(),n.dispatch({changes:g,selection:{anchor:g.mapPos(a,-1),head:g.mapPos(a,1)},userEvent:f?"move.drop":"input.drop"}),n.inputState.draggedContent=null}aa.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let r=e.dataTransfer.files;if(r&&r.length){let o=Array(r.length),a=0,h=()=>{++a==r.length&&Q4(n,e,o.filter(f=>f!=null).join(n.state.lineBreak),!1)};for(let f=0;f<r.length;f++){let p=new FileReader;p.onerror=h,p.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(p.result)||(o[f]=p.result),h()},p.readAsText(r[f])}return!0}else{let o=e.dataTransfer.getData("Text");if(o)return Q4(n,e,o,!0),!0}return!1};aa.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let r=O9?null:e.clipboardData;return r?(v9(n,r.getData("text/plain")||r.getData("text/uri-list")),!0):(Cdt(n),!1)};function jdt(n,e){let r=n.dom.parentNode;if(!r)return;let o=r.appendChild(document.createElement("textarea"));o.style.cssText="position: fixed; left: -10000px; top: 10px",o.value=e,o.focus(),o.selectionEnd=e.length,o.selectionStart=0,setTimeout(()=>{o.remove(),n.focus()},50)}function Edt(n){let e=[],r=[],o=!1;for(let a of n.selection.ranges)a.empty||(e.push(n.sliceDoc(a.from,a.to)),r.push(a));if(!e.length){let a=-1;for(let{from:h}of n.selection.ranges){let f=n.doc.lineAt(h);f.number>a&&(e.push(f.text),r.push({from:f.from,to:Math.min(n.doc.length,f.to+1)})),a=f.number}o=!0}return{text:t2(n,fR,e.join(n.lineBreak)),ranges:r,linewise:o}}let xA=null;aa.copy=aa.cut=(n,e)=>{let{text:r,ranges:o,linewise:a}=Edt(n.state);if(!r&&!a)return!1;xA=a?r:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:o,scrollIntoView:!0,userEvent:"delete.cut"});let h=O9?null:e.clipboardData;return h?(h.clearData(),h.setData("text/plain",r),!0):(jdt(n,r),!1)};const w9=gu.define();function S9(n,e){let r=[];for(let o of n.facet(r9)){let a=o(n,e);a&&r.push(a)}return r.length?n.update({effects:r,annotations:w9.of(!0)}):null}function k9(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let r=S9(n.state,e);r?n.dispatch(r):n.update([])}},10)}Cl.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),k9(n)};Cl.blur=n=>{n.observer.clearSelectionRange(),k9(n)};Cl.compositionstart=Cl.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};Cl.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,te.chrome&&te.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};Cl.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};aa.beforeinput=(n,e)=>{var r,o;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let h=(r=e.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain"),f=e.getTargetRanges();if(h&&f.length){let p=f[0],g=n.posAtDOM(p.startContainer,p.startOffset),v=n.posAtDOM(p.endContainer,p.endOffset);return gR(n,{from:g,to:v,insert:n.state.toText(h)},null),!0}}let a;if(te.chrome&&te.android&&(a=g9.find(h=>h.inputType==e.inputType))&&(n.observer.delayAndroidKey(a.key,a.keyCode),a.key=="Backspace"||a.key=="Delete")){let h=((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0;setTimeout(()=>{var f;(((f=window.visualViewport)===null||f===void 0?void 0:f.height)||0)>h+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return te.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),te.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>Cl.compositionend(n,e),20),!1};const N4=new Set;function Rdt(n){N4.has(n)||(N4.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const A4=["pre-wrap","normal","pre-line","break-spaces"];let ag=!1;function j4(){ag=!1}class Ldt{constructor(e){this.lineWrapping=e,this.doc=He.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,r){let o=this.doc.lineAt(r).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(o+=Math.max(0,Math.ceil((r-e-o*this.lineLength*.5)/this.lineLength))),this.lineHeight*o}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return A4.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let r=!1;for(let o=0;o<e.length;o++){let a=e[o];a<0?o++:this.heightSamples[Math.floor(a*10)]||(r=!0,this.heightSamples[Math.floor(a*10)]=!0)}return r}refresh(e,r,o,a,h,f){let p=A4.indexOf(e)>-1,g=Math.round(r)!=Math.round(this.lineHeight)||this.lineWrapping!=p;if(this.lineWrapping=p,this.lineHeight=r,this.charWidth=o,this.textHeight=a,this.lineLength=h,g){this.heightSamples={};for(let v=0;v<f.length;v++){let x=f[v];x<0?v++:this.heightSamples[Math.floor(x*10)]=!0}}return g}}class $dt{constructor(e,r){this.from=e,this.heights=r,this.index=0}get more(){return this.index<this.heights.length}}class iu{constructor(e,r,o,a,h){this.from=e,this.length=r,this.top=o,this.height=a,this._content=h}get type(){return typeof this._content=="number"?Rs.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Bc?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let r=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new iu(this.from,this.length+e.length,this.top,this.height+e.height,r)}}var Vi=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Vi||(Vi={}));const QS=.001;class Ls{constructor(e,r,o=2){this.length=e,this.height=r,this.flags=o}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>QS&&(ag=!0),this.height=e)}replace(e,r,o){return Ls.of(o)}decomposeLeft(e,r){r.push(this)}decomposeRight(e,r){r.push(this)}applyChanges(e,r,o,a){let h=this,f=o.doc;for(let p=a.length-1;p>=0;p--){let{fromA:g,toA:v,fromB:x,toB:S}=a[p],b=h.lineAt(g,Vi.ByPosNoHeight,o.setDoc(r),0,0),C=b.to>=v?b:h.lineAt(v,Vi.ByPosNoHeight,o,0,0);for(S+=C.to-v,v=C.to;p>0&&b.from<=a[p-1].toA;)g=a[p-1].fromA,x=a[p-1].fromB,p--,g<b.from&&(b=h.lineAt(g,Vi.ByPosNoHeight,o,0,0));x+=b.from-g,g=b.from;let j=yR.build(o.setDoc(f),e,x,S);h=Rk(h,h.replace(g,v,j))}return h.updateHeight(o,0)}static empty(){return new Ao(0,0)}static of(e){if(e.length==1)return e[0];let r=0,o=e.length,a=0,h=0;for(;;)if(r==o)if(a>h*2){let p=e[r-1];p.break?e.splice(--r,1,p.left,null,p.right):e.splice(--r,1,p.left,p.right),o+=1+p.break,a-=p.size}else if(h>a*2){let p=e[o];p.break?e.splice(o,1,p.left,null,p.right):e.splice(o,1,p.left,p.right),o+=2+p.break,h-=p.size}else break;else if(a<h){let p=e[r++];p&&(a+=p.size)}else{let p=e[--o];p&&(h+=p.size)}let f=0;return e[r-1]==null?(f=1,r--):e[r]==null&&(f=1,o++),new Ddt(Ls.of(e.slice(0,r)),f,Ls.of(e.slice(o)))}}function Rk(n,e){return n==e?n:(n.constructor!=e.constructor&&(ag=!0),e)}Ls.prototype.size=1;class P9 extends Ls{constructor(e,r,o){super(e,r),this.deco=o}blockAt(e,r,o,a){return new iu(a,this.length,o,this.height,this.deco||0)}lineAt(e,r,o,a,h){return this.blockAt(0,o,a,h)}forEachLine(e,r,o,a,h,f){e<=h+this.length&&r>=h&&f(this.blockAt(0,o,a,h))}updateHeight(e,r=0,o=!1,a){return a&&a.from<=r&&a.more&&this.setHeight(a.heights[a.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Ao extends P9{constructor(e,r){super(e,r,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,r,o,a){return new iu(a,this.length,o,this.height,this.breaks)}replace(e,r,o){let a=o[0];return o.length==1&&(a instanceof Ao||a instanceof Fr&&a.flags&4)&&Math.abs(this.length-a.length)<10?(a instanceof Fr?a=new Ao(a.length,this.height):a.height=this.height,this.outdated||(a.outdated=!1),a):Ls.of(o)}updateHeight(e,r=0,o=!1,a){return a&&a.from<=r&&a.more?this.setHeight(a.heights[a.index++]):(o||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Fr extends Ls{constructor(e){super(e,0)}heightMetrics(e,r){let o=e.doc.lineAt(r).number,a=e.doc.lineAt(r+this.length).number,h=a-o+1,f,p=0;if(e.lineWrapping){let g=Math.min(this.height,e.lineHeight*h);f=g/h,this.length>h+1&&(p=(this.height-g)/(this.length-h-1))}else f=this.height/h;return{firstLine:o,lastLine:a,perLine:f,perChar:p}}blockAt(e,r,o,a){let{firstLine:h,lastLine:f,perLine:p,perChar:g}=this.heightMetrics(r,a);if(r.lineWrapping){let v=a+(e<r.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-o)/this.height))*this.length)),x=r.doc.lineAt(v),S=p+x.length*g,b=Math.max(o,e-S/2);return new iu(x.from,x.length,b,S,0)}else{let v=Math.max(0,Math.min(f-h,Math.floor((e-o)/p))),{from:x,length:S}=r.doc.line(h+v);return new iu(x,S,o+p*v,p,0)}}lineAt(e,r,o,a,h){if(r==Vi.ByHeight)return this.blockAt(e,o,a,h);if(r==Vi.ByPosNoHeight){let{from:C,to:j}=o.doc.lineAt(e);return new iu(C,j-C,0,0,0)}let{firstLine:f,perLine:p,perChar:g}=this.heightMetrics(o,h),v=o.doc.lineAt(e),x=p+v.length*g,S=v.number-f,b=a+p*S+g*(v.from-h-S);return new iu(v.from,v.length,Math.max(a,Math.min(b,a+this.height-x)),x,0)}forEachLine(e,r,o,a,h,f){e=Math.max(e,h),r=Math.min(r,h+this.length);let{firstLine:p,perLine:g,perChar:v}=this.heightMetrics(o,h);for(let x=e,S=a;x<=r;){let b=o.doc.lineAt(x);if(x==e){let j=b.number-p;S+=g*j+v*(e-h-j)}let C=g+v*b.length;f(new iu(b.from,b.length,S,C,0)),S+=C,x=b.to+1}}replace(e,r,o){let a=this.length-r;if(a>0){let h=o[o.length-1];h instanceof Fr?o[o.length-1]=new Fr(h.length+a):o.push(null,new Fr(a-1))}if(e>0){let h=o[0];h instanceof Fr?o[0]=new Fr(e+h.length):o.unshift(new Fr(e-1),null)}return Ls.of(o)}decomposeLeft(e,r){r.push(new Fr(e-1),null)}decomposeRight(e,r){r.push(null,new Fr(this.length-e-1))}updateHeight(e,r=0,o=!1,a){let h=r+this.length;if(a&&a.from<=r+this.length&&a.more){let f=[],p=Math.max(r,a.from),g=-1;for(a.from>r&&f.push(new Fr(a.from-r-1).updateHeight(e,r));p<=h&&a.more;){let x=e.doc.lineAt(p).length;f.length&&f.push(null);let S=a.heights[a.index++];g==-1?g=S:Math.abs(S-g)>=QS&&(g=-2);let b=new Ao(x,S);b.outdated=!1,f.push(b),p+=x+1}p<=h&&f.push(null,new Fr(h-p).updateHeight(e,p));let v=Ls.of(f);return(g<0||Math.abs(v.height-this.height)>=QS||Math.abs(g-this.heightMetrics(e,r).perLine)>=QS)&&(ag=!0),Rk(this,v)}else(o||this.outdated)&&(this.setHeight(e.heightForGap(r,r+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Ddt extends Ls{constructor(e,r,o){super(e.length+r+o.length,e.height+o.height,r|(e.outdated||o.outdated?2:0)),this.left=e,this.right=o,this.size=e.size+o.size}get break(){return this.flags&1}blockAt(e,r,o,a){let h=o+this.left.height;return e<h?this.left.blockAt(e,r,o,a):this.right.blockAt(e,r,h,a+this.left.length+this.break)}lineAt(e,r,o,a,h){let f=a+this.left.height,p=h+this.left.length+this.break,g=r==Vi.ByHeight?e<f:e<p,v=g?this.left.lineAt(e,r,o,a,h):this.right.lineAt(e,r,o,f,p);if(this.break||(g?v.to<p:v.from>p))return v;let x=r==Vi.ByPosNoHeight?Vi.ByPosNoHeight:Vi.ByPos;return g?v.join(this.right.lineAt(p,x,o,f,p)):this.left.lineAt(p,x,o,a,h).join(v)}forEachLine(e,r,o,a,h,f){let p=a+this.left.height,g=h+this.left.length+this.break;if(this.break)e<g&&this.left.forEachLine(e,r,o,a,h,f),r>=g&&this.right.forEachLine(e,r,o,p,g,f);else{let v=this.lineAt(g,Vi.ByPos,o,a,h);e<v.from&&this.left.forEachLine(e,v.from-1,o,a,h,f),v.to>=e&&v.from<=r&&f(v),r>v.to&&this.right.forEachLine(v.to+1,r,o,p,g,f)}}replace(e,r,o){let a=this.left.length+this.break;if(r<a)return this.balanced(this.left.replace(e,r,o),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-a,r-a,o));let h=[];e>0&&this.decomposeLeft(e,h);let f=h.length;for(let p of o)h.push(p);if(e>0&&E4(h,f-1),r<this.length){let p=h.length;this.decomposeRight(r,h),E4(h,p)}return Ls.of(h)}decomposeLeft(e,r){let o=this.left.length;if(e<=o)return this.left.decomposeLeft(e,r);r.push(this.left),this.break&&(o++,e>=o&&r.push(null)),e>o&&this.right.decomposeLeft(e-o,r)}decomposeRight(e,r){let o=this.left.length,a=o+this.break;if(e>=a)return this.right.decomposeRight(e-a,r);e<o&&this.left.decomposeRight(e,r),this.break&&e<a&&r.push(null),r.push(this.right)}balanced(e,r){return e.size>2*r.size||r.size>2*e.size?Ls.of(this.break?[e,null,r]:[e,r]):(this.left=Rk(this.left,e),this.right=Rk(this.right,r),this.setHeight(e.height+r.height),this.outdated=e.outdated||r.outdated,this.size=e.size+r.size,this.length=e.length+this.break+r.length,this)}updateHeight(e,r=0,o=!1,a){let{left:h,right:f}=this,p=r+h.length+this.break,g=null;return a&&a.from<=r+h.length&&a.more?g=h=h.updateHeight(e,r,o,a):h.updateHeight(e,r,o),a&&a.from<=p+f.length&&a.more?g=f=f.updateHeight(e,p,o,a):f.updateHeight(e,p,o),g?this.balanced(h,f):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function E4(n,e){let r,o;n[e]==null&&(r=n[e-1])instanceof Fr&&(o=n[e+1])instanceof Fr&&n.splice(e-1,3,new Fr(r.length+1+o.length))}const Idt=5;class yR{constructor(e,r){this.pos=e,this.oracle=r,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,r){if(this.lineStart>-1){let o=Math.min(r,this.lineEnd),a=this.nodes[this.nodes.length-1];a instanceof Ao?a.length+=o-this.pos:(o>this.pos||!this.isCovered)&&this.nodes.push(new Ao(o-this.pos,-1)),this.writtenTo=o,r>o&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=r}point(e,r,o){if(e<r||o.heightRelevant){let a=o.widget?o.widget.estimatedHeight:0,h=o.widget?o.widget.lineBreaks:0;a<0&&(a=this.oracle.lineHeight);let f=r-e;o.block?this.addBlock(new P9(f,a,o)):(f||h||a>=Idt)&&this.addLineDeco(a,h,f)}else r>e&&this.span(e,r);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:r}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=r,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Ao(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,r){let o=new Fr(r-e);return this.oracle.doc.lineAt(e).to==r&&(o.flags|=4),o}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Ao)return e;let r=new Ao(0,-1);return this.nodes.push(r),r}addBlock(e){this.enterLine();let r=e.deco;r&&r.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,r&&r.endSide>0&&(this.covering=e)}addLineDeco(e,r,o){let a=this.ensureLine();a.length+=o,a.collapsed+=o,a.widgetHeight=Math.max(a.widgetHeight,e),a.breaks+=r,this.writtenTo=this.pos=this.pos+o}finish(e){let r=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(r instanceof Ao)&&!this.isCovered?this.nodes.push(new Ao(0,-1)):(this.writtenTo<this.pos||r==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let o=e;for(let a of this.nodes)a instanceof Ao&&a.updateHeight(this.oracle,o),o+=a?a.length:1;return this.nodes}static build(e,r,o,a){let h=new yR(o,e);return ri.spans(r,o,a,h,0),h.finish(o)}}function Fdt(n,e,r){let o=new Vdt;return ri.compare(n,e,r,o,0),o.changes}class Vdt{constructor(){this.changes=[]}compareRange(){}comparePoint(e,r,o,a){(e<r||o&&o.heightRelevant||a&&a.heightRelevant)&&CS(e,r,this.changes,5)}}function zdt(n,e){let r=n.getBoundingClientRect(),o=n.ownerDocument,a=o.defaultView||window,h=Math.max(0,r.left),f=Math.min(a.innerWidth,r.right),p=Math.max(0,r.top),g=Math.min(a.innerHeight,r.bottom);for(let v=n.parentNode;v&&v!=o.body;)if(v.nodeType==1){let x=v,S=window.getComputedStyle(x);if((x.scrollHeight>x.clientHeight||x.scrollWidth>x.clientWidth)&&S.overflow!="visible"){let b=x.getBoundingClientRect();h=Math.max(h,b.left),f=Math.min(f,b.right),p=Math.max(p,b.top),g=Math.min(v==n.parentNode?a.innerHeight:g,b.bottom)}v=S.position=="absolute"||S.position=="fixed"?x.offsetParent:x.parentNode}else if(v.nodeType==11)v=v.host;else break;return{left:h-r.left,right:Math.max(h,f)-r.left,top:p-(r.top+e),bottom:Math.max(p,g)-(r.top+e)}}function Xdt(n){let e=n.getBoundingClientRect(),r=n.ownerDocument.defaultView||window;return e.left<r.innerWidth&&e.right>0&&e.top<r.innerHeight&&e.bottom>0}function Bdt(n,e){let r=n.getBoundingClientRect();return{left:0,right:r.right-r.left,top:e,bottom:r.bottom-(r.top+e)}}class PM{constructor(e,r,o,a){this.from=e,this.to=r,this.size=o,this.displaySize=a}static same(e,r){if(e.length!=r.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],h=r[o];if(a.from!=h.from||a.to!=h.to||a.size!=h.size)return!1}return!0}draw(e,r){return ue.replace({widget:new _dt(this.displaySize*(r?e.scaleY:e.scaleX),r)}).range(this.from,this.to)}}class _dt extends Ou{constructor(e,r){super(),this.size=e,this.vertical=r}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class R4{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=L4,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Xi.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let r=e.facet(dR).some(o=>typeof o!="function"&&o.class=="cm-lineWrapping");this.heightOracle=new Ldt(r),this.stateDeco=e.facet(ZO).filter(o=>typeof o!="function"),this.heightMap=Ls.empty().applyChanges(this.stateDeco,He.empty,this.heightOracle.setDoc(e.doc),[new Pl(0,0,0,e.doc.length)]);for(let o=0;o<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());o++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ue.set(this.lineGaps.map(o=>o.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:r}=this.state.selection;for(let o=0;o<=1;o++){let a=o?r.head:r.anchor;if(!e.some(({from:h,to:f})=>a>=h&&a<=f)){let{from:h,to:f}=this.lineBlockAt(a);e.push(new Dw(h,f))}}return this.viewports=e.sort((o,a)=>o.from-a.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?L4:new OR(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Ry(e,this.scaler))})}update(e,r=null){this.state=e.state;let o=this.stateDeco;this.stateDeco=this.state.facet(ZO).filter(x=>typeof x!="function");let a=e.changedRanges,h=Pl.extendWithRanges(a,Fdt(o,this.stateDeco,e?e.changes:ar.empty(this.state.doc.length))),f=this.heightMap.height,p=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);j4(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),h),(this.heightMap.height!=f||ag)&&(e.flags|=2),p?(this.scrollAnchorPos=e.changes.mapPos(p.from,-1),this.scrollAnchorHeight=p.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=f);let g=h.length?this.mapViewport(this.viewport,e.changes):this.viewport;(r&&(r.range.head<g.from||r.range.head>g.to)||!this.viewportIsAppropriate(g))&&(g=this.getViewport(0,r));let v=g.from!=this.viewport.from||g.to!=this.viewport.to;this.viewport=g,e.flags|=this.updateForViewport(),(v||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),r&&(this.scrollTarget=r),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(o9)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let r=e.contentDOM,o=window.getComputedStyle(r),a=this.heightOracle,h=o.whiteSpace;this.defaultTextDirection=o.direction=="rtl"?Xi.RTL:Xi.LTR;let f=this.heightOracle.mustRefreshForWrapping(h),p=r.getBoundingClientRect(),g=f||this.mustMeasureContent||this.contentDOMHeight!=p.height;this.contentDOMHeight=p.height,this.mustMeasureContent=!1;let v=0,x=0;if(p.width&&p.height){let{scaleX:D,scaleY:B}=E8(r,p);(D>.005&&Math.abs(this.scaleX-D)>.005||B>.005&&Math.abs(this.scaleY-B)>.005)&&(this.scaleX=D,this.scaleY=B,v|=16,f=g=!0)}let S=(parseInt(o.paddingTop)||0)*this.scaleY,b=(parseInt(o.paddingBottom)||0)*this.scaleY;(this.paddingTop!=S||this.paddingBottom!=b)&&(this.paddingTop=S,this.paddingBottom=b,v|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(a.lineWrapping&&(g=!0),this.editorWidth=e.scrollDOM.clientWidth,v|=16);let C=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=C&&(this.scrollAnchorHeight=-1,this.scrollTop=C),this.scrolledToBottom=$8(e.scrollDOM);let j=(this.printing?Bdt:zdt)(r,this.paddingTop),N=j.top-this.pixelViewport.top,E=j.bottom-this.pixelViewport.bottom;this.pixelViewport=j;let R=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(R!=this.inView&&(this.inView=R,R&&(g=!0)),!this.inView&&!this.scrollTarget&&!Xdt(e.dom))return 0;let $=p.width;if((this.contentDOMWidth!=$||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=p.width,this.editorHeight=e.scrollDOM.clientHeight,v|=16),g){let D=e.docView.measureVisibleLineHeights(this.viewport);if(a.mustRefreshForHeights(D)&&(f=!0),f||a.lineWrapping&&Math.abs($-this.contentDOMWidth)>a.charWidth){let{lineHeight:B,charWidth:q,textHeight:K}=e.docView.measureTextSize();f=B>0&&a.refresh(h,B,q,K,$/q,D),f&&(e.docView.minWidth=0,v|=16)}N>0&&E>0?x=Math.max(N,E):N<0&&E<0&&(x=Math.min(N,E)),j4();for(let B of this.viewports){let q=B.from==this.viewport.from?D:e.docView.measureVisibleLineHeights(B);this.heightMap=(f?Ls.empty().applyChanges(this.stateDeco,He.empty,this.heightOracle,[new Pl(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(a,0,f,new $dt(B.from,q))}ag&&(v|=2)}let V=!this.viewportIsAppropriate(this.viewport,x)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return V&&(v&2&&(v|=this.updateScaler()),this.viewport=this.getViewport(x,this.scrollTarget),v|=this.updateForViewport()),(v&2||V)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(f?[]:this.lineGaps,e)),v|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),v}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,r){let o=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),a=this.heightMap,h=this.heightOracle,{visibleTop:f,visibleBottom:p}=this,g=new Dw(a.lineAt(f-o*1e3,Vi.ByHeight,h,0,0).from,a.lineAt(p+(1-o)*1e3,Vi.ByHeight,h,0,0).to);if(r){let{head:v}=r.range;if(v<g.from||v>g.to){let x=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),S=a.lineAt(v,Vi.ByPos,h,0,0),b;r.y=="center"?b=(S.top+S.bottom)/2-x/2:r.y=="start"||r.y=="nearest"&&v<g.from?b=S.top:b=S.bottom-x,g=new Dw(a.lineAt(b-1e3/2,Vi.ByHeight,h,0,0).from,a.lineAt(b+x+1e3/2,Vi.ByHeight,h,0,0).to)}}return g}mapViewport(e,r){let o=r.mapPos(e.from,-1),a=r.mapPos(e.to,1);return new Dw(this.heightMap.lineAt(o,Vi.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(a,Vi.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:r},o=0){if(!this.inView)return!0;let{top:a}=this.heightMap.lineAt(e,Vi.ByPos,this.heightOracle,0,0),{bottom:h}=this.heightMap.lineAt(r,Vi.ByPos,this.heightOracle,0,0),{visibleTop:f,visibleBottom:p}=this;return(e==0||a<=f-Math.max(10,Math.min(-o,250)))&&(r==this.state.doc.length||h>=p+Math.max(10,Math.min(o,250)))&&a>f-2*1e3&&h<p+2*1e3}mapLineGaps(e,r){if(!e.length||r.empty)return e;let o=[];for(let a of e)r.touchesRange(a.from,a.to)||o.push(new PM(r.mapPos(a.from),r.mapPos(a.to),a.size,a.displaySize));return o}ensureLineGaps(e,r){let o=this.heightOracle.lineWrapping,a=o?1e4:2e3,h=a>>1,f=a<<1;if(this.defaultTextDirection!=Xi.LTR&&!o)return[];let p=[],g=(x,S,b,C)=>{if(S-x<h)return;let j=this.state.selection.main,N=[j.from];j.empty||N.push(j.to);for(let R of N)if(R>x&&R<S){g(x,R-10,b,C),g(R+10,S,b,C);return}let E=Ydt(e,R=>R.from>=b.from&&R.to<=b.to&&Math.abs(R.from-x)<h&&Math.abs(R.to-S)<h&&!N.some($=>R.from<$&&R.to>$));if(!E){if(S<b.to&&r&&o&&r.visibleRanges.some(V=>V.from<=S&&V.to>=S)){let V=r.moveToLineBoundary(Ct.cursor(S),!1,!0).head;V>x&&(S=V)}let R=this.gapSize(b,x,S,C),$=o||R<2e6?R:2e6;E=new PM(x,S,R,$)}p.push(E)},v=x=>{if(x.length<f||x.type!=Rs.Text)return;let S=Zdt(x.from,x.to,this.stateDeco);if(S.total<f)return;let b=this.scrollTarget?this.scrollTarget.range.head:null,C,j;if(o){let N=a/this.heightOracle.lineLength*this.heightOracle.lineHeight,E,R;if(b!=null){let $=Fw(S,b),V=((this.visibleBottom-this.visibleTop)/2+N)/x.height;E=$-V,R=$+V}else E=(this.visibleTop-x.top-N)/x.height,R=(this.visibleBottom-x.top+N)/x.height;C=Iw(S,E),j=Iw(S,R)}else{let N=S.total*this.heightOracle.charWidth,E=a*this.heightOracle.charWidth,R=0;if(N>2e6)for(let q of e)q.from>=x.from&&q.from<x.to&&q.size!=q.displaySize&&q.from*this.heightOracle.charWidth+R<this.pixelViewport.left&&(R=q.size-q.displaySize);let $=this.pixelViewport.left+R,V=this.pixelViewport.right+R,D,B;if(b!=null){let q=Fw(S,b),K=((V-$)/2+E)/N;D=q-K,B=q+K}else D=($-E)/N,B=(V+E)/N;C=Iw(S,D),j=Iw(S,B)}C>x.from&&g(x.from,C,x,S),j<x.to&&g(j,x.to,x,S)};for(let x of this.viewportLines)Array.isArray(x.type)?x.type.forEach(v):v(x);return p}gapSize(e,r,o,a){let h=Fw(a,o)-Fw(a,r);return this.heightOracle.lineWrapping?e.height*h:a.total*this.heightOracle.charWidth*h}updateLineGaps(e){PM.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ue.set(e.map(r=>r.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let r=this.stateDeco;this.lineGaps.length&&(r=r.concat(this.lineGapDeco));let o=[];ri.spans(r,this.viewport.from,this.viewport.to,{span(h,f){o.push({from:h,to:f})},point(){}},20);let a=0;if(o.length!=this.visibleRanges.length)a=12;else for(let h=0;h<o.length&&!(a&8);h++){let f=this.visibleRanges[h],p=o[h];(f.from!=p.from||f.to!=p.to)&&(a|=4,e&&e.mapPos(f.from,-1)==p.from&&e.mapPos(f.to,1)==p.to||(a|=8))}return this.visibleRanges=o,a}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(r=>r.from<=e&&r.to>=e)||Ry(this.heightMap.lineAt(e,Vi.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(r=>r.top<=e&&r.bottom>=e)||Ry(this.heightMap.lineAt(this.scaler.fromDOM(e),Vi.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let r=this.lineBlockAtHeight(e+8);return r.from>=this.viewport.from||this.viewportLines[0].top-e>200?r:this.viewportLines[0]}elementAtHeight(e){return Ry(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Dw{constructor(e,r){this.from=e,this.to=r}}function Zdt(n,e,r){let o=[],a=n,h=0;return ri.spans(r,n,e,{span(){},point(f,p){f>a&&(o.push({from:a,to:f}),h+=f-a),a=p}},20),a<e&&(o.push({from:a,to:e}),h+=e-a),{total:h,ranges:o}}function Iw({total:n,ranges:e},r){if(r<=0)return e[0].from;if(r>=1)return e[e.length-1].to;let o=Math.floor(n*r);for(let a=0;;a++){let{from:h,to:f}=e[a],p=f-h;if(o<=p)return h+o;o-=p}}function Fw(n,e){let r=0;for(let{from:o,to:a}of n.ranges){if(e<=a){r+=e-o;break}r+=a-o}return r/n.total}function Ydt(n,e){for(let r of n)if(e(r))return r}const L4={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class OR{constructor(e,r,o){let a=0,h=0,f=0;this.viewports=o.map(({from:p,to:g})=>{let v=r.lineAt(p,Vi.ByPos,e,0,0).top,x=r.lineAt(g,Vi.ByPos,e,0,0).bottom;return a+=x-v,{from:p,to:g,top:v,bottom:x,domTop:0,domBottom:0}}),this.scale=(7e6-a)/(r.height-a);for(let p of this.viewports)p.domTop=f+(p.top-h)*this.scale,f=p.domBottom=p.domTop+(p.bottom-p.top),h=p.bottom}toDOM(e){for(let r=0,o=0,a=0;;r++){let h=r<this.viewports.length?this.viewports[r]:null;if(!h||e<h.top)return a+(e-o)*this.scale;if(e<=h.bottom)return h.domTop+(e-h.top);o=h.bottom,a=h.domBottom}}fromDOM(e){for(let r=0,o=0,a=0;;r++){let h=r<this.viewports.length?this.viewports[r]:null;if(!h||e<h.domTop)return o+(e-a)/this.scale;if(e<=h.domBottom)return h.top+(e-h.domTop);o=h.bottom,a=h.domBottom}}eq(e){return e instanceof OR?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((r,o)=>r.from==e.viewports[o].from&&r.to==e.viewports[o].to):!1}}function Ry(n,e){if(e.scale==1)return n;let r=e.toDOM(n.top),o=e.toDOM(n.bottom);return new iu(n.from,n.length,r,o-r,Array.isArray(n._content)?n._content.map(a=>Ry(a,e)):n._content)}const Vw=Ht.define({combine:n=>n.join(" ")}),wA=Ht.define({combine:n=>n.indexOf(!0)>-1}),SA=zc.newName(),b9=zc.newName(),T9=zc.newName(),C9={"&light":"."+b9,"&dark":"."+T9};function kA(n,e,r){return new zc(e,{finish(o){return/&/.test(o)?o.replace(/&\w*/,a=>{if(a=="&")return n;if(!r||!r[a])throw new RangeError(`Unsupported selector: ${a}`);return r[a]}):n+" "+o}})}const Udt=kA("."+SA,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},C9),Wdt={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},bM=te.ie&&te.ie_version<=11;class qdt{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new Aft,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let o of r)this.queue.push(o);(te.ie&&te.ie_version<=11||te.ios&&e.composing)&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(te.chrome&&te.chrome_version<126)&&(this.editContext=new Hdt(e),e.state.facet(rh)&&(e.contentDOM.editContext=this.editContext.editContext)),bM&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var r;((r=this.view.docView)===null||r===void 0?void 0:r.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((r,o)=>r!=e[o]))){this.gapIntersection.disconnect();for(let r of e)this.gapIntersection.observe(r);this.gaps=e}}onSelectionChange(e){let r=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:o}=this,a=this.selectionRange;if(o.state.facet(rh)?o.root.activeElement!=this.dom:!TS(this.dom,a))return;let h=a.anchorNode&&o.docView.nearest(a.anchorNode);if(h&&h.ignoreEvent(e)){r||(this.selectionChanged=!1);return}(te.ie&&te.ie_version<=11||te.android&&te.chrome)&&!o.state.selection.main.empty&&a.focusNode&&tO(a.focusNode,a.focusOffset,a.anchorNode,a.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,r=_O(e.root);if(!r)return!1;let o=te.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&Gdt(this.view,r)||r;if(!o||this.selectionRange.eq(o))return!1;let a=TS(this.dom,o);return a&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Eft(this.dom,o)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(o),a&&(this.selectionChanged=!0),!0)}setSelectionRange(e,r){this.selectionRange.set(e.node,e.offset,r.node,r.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,r=null;for(let o=this.dom;o;)if(o.nodeType==1)!r&&e<this.scrollTargets.length&&this.scrollTargets[e]==o?e++:r||(r=this.scrollTargets.slice(0,e)),r&&r.push(o),o=o.assignedSlot||o.parentNode;else if(o.nodeType==11)o=o.host;else break;if(e<this.scrollTargets.length&&!r&&(r=this.scrollTargets.slice(0,e)),r){for(let o of this.scrollTargets)o.removeEventListener("scroll",this.onScroll);for(let o of this.scrollTargets=r)o.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Wdt),bM&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),bM&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,r){var o;if(!this.delayedAndroidKey){let a=()=>{let h=this.delayedAndroidKey;h&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=h.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&h.force&&Qm(this.dom,h.key,h.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(a)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:r,force:this.lastChange<Date.now()-50||!!(!((o=this.delayedAndroidKey)===null||o===void 0)&&o.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let r=-1,o=-1,a=!1;for(let h of e){let f=this.readMutation(h);f&&(f.typeOver&&(a=!0),r==-1?{from:r,to:o}=f:(r=Math.min(f.from,r),o=Math.max(f.to,o)))}return{from:r,to:o,typeOver:a}}readChange(){let{from:e,to:r,typeOver:o}=this.processRecords(),a=this.selectionChanged&&TS(this.dom,this.selectionRange);if(e<0&&!a)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let h=new ddt(this.view,e,r,o);return this.view.docView.domChanged={newSel:h.newSel?h.newSel.main:null},h}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let r=this.readChange();if(!r)return this.view.requestMeasure(),!1;let o=this.view.state,a=m9(this.view,r);return this.view.state==o&&(r.domChanged||r.newSel&&!r.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),a}readMutation(e){let r=this.view.docView.nearest(e.target);if(!r||r.ignoreMutation(e))return null;if(r.markDirty(e.type=="attributes"),e.type=="attributes"&&(r.flags|=4),e.type=="childList"){let o=$4(r,e.previousSibling||e.target.previousSibling,-1),a=$4(r,e.nextSibling||e.target.nextSibling,1);return{from:o?r.posAfter(o):r.posAtStart,to:a?r.posBefore(a):r.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(rh)!=e.state.facet(rh)&&(e.view.contentDOM.editContext=e.state.facet(rh)?this.editContext.editContext:null))}destroy(){var e,r,o;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(r=this.gapIntersection)===null||r===void 0||r.disconnect(),(o=this.resizeScroll)===null||o===void 0||o.disconnect();for(let a of this.scrollTargets)a.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function $4(n,e,r){for(;e;){let o=Ci.get(e);if(o&&o.parent==n)return o;let a=e.parentNode;e=a!=n.dom?a:r>0?e.nextSibling:e.previousSibling}return null}function D4(n,e){let r=e.startContainer,o=e.startOffset,a=e.endContainer,h=e.endOffset,f=n.docView.domAtPos(n.state.selection.main.anchor);return tO(f.node,f.offset,a,h)&&([r,o,a,h]=[a,h,r,o]),{anchorNode:r,anchorOffset:o,focusNode:a,focusOffset:h}}function Gdt(n,e){if(e.getComposedRanges){let a=e.getComposedRanges(n.root)[0];if(a)return D4(n,a)}let r=null;function o(a){a.preventDefault(),a.stopImmediatePropagation(),r=a.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",o,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",o,!0),r?D4(n,r):null}class Hdt{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let r=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=o=>{let a=e.state.selection.main,{anchor:h,head:f}=a,p=this.toEditorPos(o.updateRangeStart),g=this.toEditorPos(o.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:o.updateRangeStart,editorBase:p,drifted:!1});let v={from:p,to:g,insert:He.of(o.text.split(`
`))};if(v.from==this.from&&h<this.from?v.from=h:v.to==this.to&&h>this.to&&(v.to=h),v.from==v.to&&!v.insert.length){let x=Ct.single(this.toEditorPos(o.selectionStart),this.toEditorPos(o.selectionEnd));x.main.eq(a)||e.dispatch({selection:x,userEvent:"select"});return}if((te.mac||te.android)&&v.from==f-1&&/^\. ?$/.test(o.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(v={from:p,to:g,insert:He.of([o.text.replace("."," ")])}),this.pendingContextChange=v,!e.state.readOnly){let x=this.to-this.from+(v.to-v.from+v.insert.length);gR(e,v,Ct.single(this.toEditorPos(o.selectionStart,x),this.toEditorPos(o.selectionEnd,x)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=o=>{let a=[],h=null;for(let f=this.toEditorPos(o.rangeStart),p=this.toEditorPos(o.rangeEnd);f<p;f++){let g=e.coordsForChar(f);h=g&&new DOMRect(g.left,g.top,g.right-g.left,g.bottom-g.top)||h||new DOMRect,a.push(h)}r.updateCharacterBounds(o.rangeStart,a)},this.handlers.textformatupdate=o=>{let a=[];for(let h of o.getTextFormats()){let f=h.underlineStyle,p=h.underlineThickness;if(f!="None"&&p!="None"){let g=this.toEditorPos(h.rangeStart),v=this.toEditorPos(h.rangeEnd);if(g<v){let x=`text-decoration: underline ${f=="Dashed"?"dashed ":f=="Squiggle"?"wavy ":""}${p=="Thin"?1:2}px`;a.push(ue.mark({attributes:{style:x}}).range(g,v))}}}e.dispatch({effects:a9.of(ue.set(a))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:o}=this.composing;this.composing=null,o&&this.reset(e.state)}};for(let o in this.handlers)r.addEventListener(o,this.handlers[o]);this.measureReq={read:o=>{this.editContext.updateControlBounds(o.contentDOM.getBoundingClientRect());let a=_O(o.root);a&&a.rangeCount&&this.editContext.updateSelectionBounds(a.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let r=0,o=!1,a=this.pendingContextChange;return e.changes.iterChanges((h,f,p,g,v)=>{if(o)return;let x=v.length-(f-h);if(a&&f>=a.to)if(a.from==h&&a.to==f&&a.insert.eq(v)){a=this.pendingContextChange=null,r+=x,this.to+=x;return}else a=null,this.revertPending(e.state);if(h+=r,f+=r,f<=this.from)this.from+=x,this.to+=x;else if(h<this.to){if(h<this.from||f>this.to||this.to-this.from+v.length>3e4){o=!0;return}this.editContext.updateText(this.toContextPos(h),this.toContextPos(f),v.toString()),this.to+=x}r+=x}),a&&!o&&this.revertPending(e.state),!o}update(e){let r=this.pendingContextChange,o=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(o.from,o.to)&&e.transactions.some(a=>!a.isUserEvent("input.type")&&a.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||r)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:r}=e.selection.main;this.from=Math.max(0,r-1e4),this.to=Math.min(e.doc.length,r+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let r=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(r.from),this.toContextPos(r.from+r.insert.length),e.doc.sliceString(r.from,r.to))}setSelection(e){let{main:r}=e.selection,o=this.toContextPos(Math.max(this.from,Math.min(this.to,r.anchor))),a=this.toContextPos(r.head);(this.editContext.selectionStart!=o||this.editContext.selectionEnd!=a)&&this.editContext.updateSelection(o,a)}rangeIsValid(e){let{head:r}=e.selection.main;return!(this.from>0&&r-this.from<500||this.to<e.doc.length&&this.to-r<500||this.to-this.from>1e4*3)}toEditorPos(e,r=this.to-this.from){e=Math.min(e,r);let o=this.composing;return o&&o.drifted?o.editorBase+(e-o.contextBase):e+this.from}toContextPos(e){let r=this.composing;return r&&r.drifted?r.contextBase+(e-r.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Yt{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var r;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:o}=e;this.dispatchTransactions=e.dispatchTransactions||o&&(a=>a.forEach(h=>o(h,this)))||(a=>this.update(a)),this.dispatch=this.dispatch.bind(this),this._root=e.root||jft(e.parent)||document,this.viewState=new R4(e.state||Ye.create(e)),e.scrollTo&&e.scrollTo.is(Rw)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Ay).map(a=>new wM(a));for(let a of this.plugins)a.update(this);this.observer=new qdt(this),this.inputState=new Odt(this),this.inputState.ensureHandlers(this.plugins),this.docView=new m4(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((r=document.fonts)===null||r===void 0)&&r.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let r=e.length==1&&e[0]instanceof Gn?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(r,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let r=!1,o=!1,a,h=this.state;for(let b of e){if(b.startState!=h)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");h=b.state}if(this.destroyed){this.viewState.state=h;return}let f=this.hasFocus,p=0,g=null;e.some(b=>b.annotation(w9))?(this.inputState.notifiedFocused=f,p=1):f!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=f,g=S9(h,f),g||(p=1));let v=this.observer.delayedAndroidKey,x=null;if(v?(this.observer.clearDelayedAndroidKey(),x=this.observer.readChange(),(x&&!this.state.doc.eq(h.doc)||!this.state.selection.eq(h.selection))&&(x=null)):this.observer.clear(),h.facet(Ye.phrases)!=this.state.facet(Ye.phrases))return this.setState(h);a=Ek.create(this,h,e),a.flags|=p;let S=this.viewState.scrollTarget;try{this.updateState=2;for(let b of e){if(S&&(S=S.map(b.changes)),b.scrollIntoView){let{main:C}=b.state.selection;S=new Nm(C.empty?C:Ct.cursor(C.head,C.head>C.anchor?-1:1))}for(let C of b.effects)C.is(Rw)&&(S=C.value.clip(this.state))}this.viewState.update(a,S),this.bidiCache=Lk.update(this.bidiCache,a.changes),a.empty||(this.updatePlugins(a),this.inputState.update(a)),r=this.docView.update(a),this.state.facet(jy)!=this.styleModules&&this.mountStyles(),o=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some(b=>b.isUserEvent("select.pointer")))}finally{this.updateState=0}if(a.startState.facet(Vw)!=a.state.facet(Vw)&&(this.viewState.mustMeasureContent=!0),(r||o||S||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),r&&this.docViewUpdate(),!a.empty)for(let b of this.state.facet(yA))try{b(a)}catch(C){lo(this.state,C,"update listener")}(g||x)&&Promise.resolve().then(()=>{g&&this.state==g.startState&&this.dispatch(g),x&&!m9(this,x)&&v.force&&Qm(this.contentDOM,v.key,v.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let r=this.hasFocus;try{for(let o of this.plugins)o.destroy(this);this.viewState=new R4(e),this.plugins=e.facet(Ay).map(o=>new wM(o)),this.pluginMap.clear();for(let o of this.plugins)o.update(this);this.docView.destroy(),this.docView=new m4(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(e){let r=e.startState.facet(Ay),o=e.state.facet(Ay);if(r!=o){let a=[];for(let h of o){let f=r.indexOf(h);if(f<0)a.push(new wM(h));else{let p=this.plugins[f];p.mustUpdate=e,a.push(p)}}for(let h of this.plugins)h.mustUpdate!=e&&h.destroy(this);this.plugins=a,this.pluginMap.clear()}else for(let a of this.plugins)a.mustUpdate=e;for(let a=0;a<this.plugins.length;a++)this.plugins[a].update(this);r!=o&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let r=e.value;if(r&&r.docViewUpdate)try{r.docViewUpdate(this)}catch(o){lo(this.state,o,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let r=null,o=this.scrollDOM,a=o.scrollTop*this.scaleY,{scrollAnchorPos:h,scrollAnchorHeight:f}=this.viewState;Math.abs(a-this.viewState.scrollTop)>1&&(f=-1),this.viewState.scrollAnchorHeight=-1;try{for(let p=0;;p++){if(f<0)if($8(o))h=-1,f=this.viewState.heightMap.height;else{let C=this.viewState.scrollAnchorAt(a);h=C.from,f=C.top}this.updateState=1;let g=this.viewState.measure(this);if(!g&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(p>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let v=[];g&4||([this.measureRequests,v]=[v,this.measureRequests]);let x=v.map(C=>{try{return C.read(this)}catch(j){return lo(this.state,j),I4}}),S=Ek.create(this,this.state,[]),b=!1;S.flags|=g,r?r.flags|=g:r=S,this.updateState=2,S.empty||(this.updatePlugins(S),this.inputState.update(S),this.updateAttrs(),b=this.docView.update(S),b&&this.docViewUpdate());for(let C=0;C<v.length;C++)if(x[C]!=I4)try{let j=v[C];j.write&&j.write(x[C],this)}catch(j){lo(this.state,j)}if(b&&this.docView.updateSelection(!0),!S.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,f=-1;continue}else{let j=(h<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(h).top)-f;if(j>1||j<-1){a=a+j,o.scrollTop=a/this.scaleY,f=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let p of this.state.facet(yA))p(r)}get themeClasses(){return SA+" "+(this.state.facet(wA)?T9:b9)+" "+this.state.facet(Vw)}updateAttrs(){let e=F4(this,u9,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(rh)?"true":"false",class:"cm-content",style:`${te.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),F4(this,dR,r);let o=this.observer.ignore(()=>{let a=fA(this.contentDOM,this.contentAttrs,r),h=fA(this.dom,this.editorAttrs,e);return a||h});return this.editorAttrs=e,this.contentAttrs=r,o}showAnnouncements(e){let r=!0;for(let o of e)for(let a of o.effects)if(a.is(Yt.announce)){r&&(this.announceDOM.textContent=""),r=!1;let h=this.announceDOM.appendChild(document.createElement("div"));h.textContent=a.value}}mountStyles(){this.styleModules=this.state.facet(jy);let e=this.state.facet(Yt.cspNonce);zc.mount(this.root,this.styleModules.concat(Udt).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===e.key){this.measureRequests[r]=e;return}}this.measureRequests.push(e)}}plugin(e){let r=this.pluginMap.get(e);return(r===void 0||r&&r.spec!=e)&&this.pluginMap.set(e,r=this.plugins.find(o=>o.spec==e)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,r,o){return kM(this,e,x4(this,e,r,o))}moveByGroup(e,r){return kM(this,e,x4(this,e,r,o=>udt(this,e.head,o)))}visualLineSide(e,r){let o=this.bidiSpans(e),a=this.textDirectionAt(e.from),h=o[r?o.length-1:0];return Ct.cursor(h.side(r,a)+e.from,h.forward(!r,a)?1:-1)}moveToLineBoundary(e,r,o=!0){return adt(this,e,r,o)}moveVertically(e,r,o){return kM(this,e,hdt(this,e,r,o))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,r=0){return this.docView.posFromDOM(e,r)}posAtCoords(e,r=!0){return this.readMeasured(),p9(this,e,r)}coordsAtPos(e,r=1){this.readMeasured();let o=this.docView.coordsAt(e,r);if(!o||o.left==o.right)return o;let a=this.state.doc.lineAt(e),h=this.bidiSpans(a),f=h[wc.find(h,e-a.from,-1,r)];return Cv(o,f.dir==Xi.LTR==r>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(s9)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Kdt)return H8(e.length);let r=this.textDirectionAt(e.from),o;for(let h of this.bidiCache)if(h.from==e.from&&h.dir==r&&(h.fresh||G8(h.isolates,o=p4(this,e))))return h.order;o||(o=p4(this,e));let a=Yft(e.text,r,o);return this.bidiCache.push(new Lk(e.from,e.to,r,o,!0,a)),a}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||te.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{R8(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,r={}){return Rw.of(new Nm(typeof e=="number"?Ct.cursor(e):e,r.y,r.x,r.yMargin,r.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:r}=this.scrollDOM,o=this.viewState.scrollAnchorAt(e);return Rw.of(new Nm(Ct.cursor(o.from),"start","start",o.top-e,r,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return In.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return In.define(()=>({}),{eventObservers:e})}static theme(e,r){let o=zc.newName(),a=[Vw.of(o),jy.of(kA(`.${o}`,e))];return r&&r.dark&&a.push(wA.of(!0)),a}static baseTheme(e){return Ph.lowest(jy.of(kA("."+SA,e,C9)))}static findFromDOM(e){var r;let o=e.querySelector(".cm-content"),a=o&&Ci.get(o)||Ci.get(e);return((r=a==null?void 0:a.rootView)===null||r===void 0?void 0:r.view)||null}}Yt.styleModule=jy;Yt.inputHandler=n9;Yt.clipboardInputFilter=cR;Yt.clipboardOutputFilter=fR;Yt.scrollHandler=l9;Yt.focusChangeEffect=r9;Yt.perLineTextDirection=s9;Yt.exceptionSink=i9;Yt.updateListener=yA;Yt.editable=rh;Yt.mouseSelectionStyle=e9;Yt.dragMovesSelection=t9;Yt.clickAddsSelectionRange=J8;Yt.decorations=ZO;Yt.outerDecorations=h9;Yt.atomicRanges=pR;Yt.bidiIsolatedRanges=c9;Yt.scrollMargins=f9;Yt.darkTheme=wA;Yt.cspNonce=Ht.define({combine:n=>n.length?n[0]:""});Yt.contentAttributes=dR;Yt.editorAttributes=u9;Yt.lineWrapping=Yt.contentAttributes.of({class:"cm-lineWrapping"});Yt.announce=Se.define();const Kdt=4096,I4={};class Lk{constructor(e,r,o,a,h,f){this.from=e,this.to=r,this.dir=o,this.isolates=a,this.fresh=h,this.order=f}static update(e,r){if(r.empty&&!e.some(h=>h.fresh))return e;let o=[],a=e.length?e[e.length-1].dir:Xi.LTR;for(let h=Math.max(0,e.length-10);h<e.length;h++){let f=e[h];f.dir==a&&!r.touchesRange(f.from,f.to)&&o.push(new Lk(r.mapPos(f.from,1),r.mapPos(f.to,-1),f.dir,f.isolates,!1,f.order))}return o}}function F4(n,e,r){for(let o=n.state.facet(e),a=o.length-1;a>=0;a--){let h=o[a],f=typeof h=="function"?h(n):h;f&&cA(f,r)}return r}const Jdt=te.mac?"mac":te.windows?"win":te.linux?"linux":"key";function tpt(n,e){const r=n.split(/-(?!$)/);let o=r[r.length-1];o=="Space"&&(o=" ");let a,h,f,p;for(let g=0;g<r.length-1;++g){const v=r[g];if(/^(cmd|meta|m)$/i.test(v))p=!0;else if(/^a(lt)?$/i.test(v))a=!0;else if(/^(c|ctrl|control)$/i.test(v))h=!0;else if(/^s(hift)?$/i.test(v))f=!0;else if(/^mod$/i.test(v))e=="mac"?p=!0:h=!0;else throw new Error("Unrecognized modifier name: "+v)}return a&&(o="Alt-"+o),h&&(o="Ctrl-"+o),p&&(o="Meta-"+o),f&&(o="Shift-"+o),o}function zw(n,e,r){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),r!==!1&&e.shiftKey&&(n="Shift-"+n),n}const ept=Ph.default(Yt.domEventHandlers({keydown(n,e){return Q9(M9(e.state),n,e,"editor")}})),Qg=Ht.define({enables:ept}),V4=new WeakMap;function M9(n){let e=n.facet(Qg),r=V4.get(e);return r||V4.set(e,r=rpt(e.reduce((o,a)=>o.concat(a),[]))),r}function ipt(n,e,r){return Q9(M9(n.state),e,n,r)}let hc=null;const npt=4e3;function rpt(n,e=Jdt){let r=Object.create(null),o=Object.create(null),a=(f,p)=>{let g=o[f];if(g==null)o[f]=p;else if(g!=p)throw new Error("Key binding "+f+" is used both as a regular binding and as a multi-stroke prefix")},h=(f,p,g,v,x)=>{var S,b;let C=r[f]||(r[f]=Object.create(null)),j=p.split(/ (?!$)/).map(R=>tpt(R,e));for(let R=1;R<j.length;R++){let $=j.slice(0,R).join(" ");a($,!0),C[$]||(C[$]={preventDefault:!0,stopPropagation:!1,run:[V=>{let D=hc={view:V,prefix:$,scope:f};return setTimeout(()=>{hc==D&&(hc=null)},npt),!0}]})}let N=j.join(" ");a(N,!1);let E=C[N]||(C[N]={preventDefault:!1,stopPropagation:!1,run:((b=(S=C._any)===null||S===void 0?void 0:S.run)===null||b===void 0?void 0:b.slice())||[]});g&&E.run.push(g),v&&(E.preventDefault=!0),x&&(E.stopPropagation=!0)};for(let f of n){let p=f.scope?f.scope.split(" "):["editor"];if(f.any)for(let v of p){let x=r[v]||(r[v]=Object.create(null));x._any||(x._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:S}=f;for(let b in x)x[b].run.push(C=>S(C,PA))}let g=f[e]||f.key;if(g)for(let v of p)h(v,g,f.run,f.preventDefault,f.stopPropagation),f.shift&&h(v,"Shift-"+g,f.shift,f.preventDefault,f.stopPropagation)}return r}let PA=null;function Q9(n,e,r,o){PA=e;let a=Cft(e),h=io(a,0),f=eu(h)==a.length&&a!=" ",p="",g=!1,v=!1,x=!1;hc&&hc.view==r&&hc.scope==o&&(p=hc.prefix+" ",y9.indexOf(e.keyCode)<0&&(v=!0,hc=null));let S=new Set,b=E=>{if(E){for(let R of E.run)if(!S.has(R)&&(S.add(R),R(r)))return E.stopPropagation&&(x=!0),!0;E.preventDefault&&(E.stopPropagation&&(x=!0),v=!0)}return!1},C=n[o],j,N;return C&&(b(C[p+zw(a,e,!f)])?g=!0:f&&(e.altKey||e.metaKey||e.ctrlKey)&&!(te.windows&&e.ctrlKey&&e.altKey)&&(j=Xc[e.keyCode])&&j!=a?(b(C[p+zw(j,e,!0)])||e.shiftKey&&(N=BO[e.keyCode])!=a&&N!=j&&b(C[p+zw(N,e,!1)]))&&(g=!0):f&&e.shiftKey&&b(C[p+zw(a,e,!0)])&&(g=!0),!g&&b(C._any)&&(g=!0)),v&&(g=!0),g&&x&&e.stopPropagation(),PA=null,g}class Nv{constructor(e,r,o,a,h){this.className=e,this.left=r,this.top=o,this.width=a,this.height=h}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,r){return r.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,r,o){if(o.empty){let a=e.coordsAtPos(o.head,o.assoc||1);if(!a)return[];let h=N9(e);return[new Nv(r,a.left-h.left,a.top-h.top,null,a.bottom-a.top)]}else return spt(e,r,o)}}function N9(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Xi.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function z4(n,e,r,o){let a=n.coordsAtPos(e,r*2);if(!a)return o;let h=n.dom.getBoundingClientRect(),f=(a.top+a.bottom)/2,p=n.posAtCoords({x:h.left+1,y:f}),g=n.posAtCoords({x:h.right-1,y:f});return p==null||g==null?o:{from:Math.max(o.from,Math.min(p,g)),to:Math.min(o.to,Math.max(p,g))}}function spt(n,e,r){if(r.to<=n.viewport.from||r.from>=n.viewport.to)return[];let o=Math.max(r.from,n.viewport.from),a=Math.min(r.to,n.viewport.to),h=n.textDirection==Xi.LTR,f=n.contentDOM,p=f.getBoundingClientRect(),g=N9(n),v=f.querySelector(".cm-line"),x=v&&window.getComputedStyle(v),S=p.left+(x?parseInt(x.paddingLeft)+Math.min(0,parseInt(x.textIndent)):0),b=p.right-(x?parseInt(x.paddingRight):0),C=vA(n,o,1),j=vA(n,a,-1),N=C.type==Rs.Text?C:null,E=j.type==Rs.Text?j:null;if(N&&(n.lineWrapping||C.widgetLineBreaks)&&(N=z4(n,o,1,N)),E&&(n.lineWrapping||j.widgetLineBreaks)&&(E=z4(n,a,-1,E)),N&&E&&N.from==E.from&&N.to==E.to)return $(V(r.from,r.to,N));{let B=N?V(r.from,null,N):D(C,!1),q=E?V(null,r.to,E):D(j,!0),K=[];return(N||C).to<(E||j).from-(N&&E?1:0)||C.widgetLineBreaks>1&&B.bottom+n.defaultLineHeight/2<q.top?K.push(R(S,B.bottom,b,q.top)):B.bottom<q.top&&n.elementAtHeight((B.bottom+q.top)/2).type==Rs.Text&&(B.bottom=q.top=(B.bottom+q.top)/2),$(B).concat(K).concat($(q))}function R(B,q,K,J){return new Nv(e,B-g.left,q-g.top,K-B,J-q)}function $({top:B,bottom:q,horizontal:K}){let J=[];for(let ot=0;ot<K.length;ot+=2)J.push(R(K[ot],B,K[ot+1],q));return J}function V(B,q,K){let J=1e9,ot=-1e9,Ot=[];function bt(dt,Vt,Mt,Et,pt){let ht=n.coordsAtPos(dt,dt==K.to?-2:2),vt=n.coordsAtPos(Mt,Mt==K.from?2:-2);!ht||!vt||(J=Math.min(ht.top,vt.top,J),ot=Math.max(ht.bottom,vt.bottom,ot),pt==Xi.LTR?Ot.push(h&&Vt?S:ht.left,h&&Et?b:vt.right):Ot.push(!h&&Et?S:vt.left,!h&&Vt?b:ht.right))}let wt=B??K.from,St=q??K.to;for(let dt of n.visibleRanges)if(dt.to>wt&&dt.from<St)for(let Vt=Math.max(dt.from,wt),Mt=Math.min(dt.to,St);;){let Et=n.state.doc.lineAt(Vt);for(let pt of n.bidiSpans(Et)){let ht=pt.from+Et.from,vt=pt.to+Et.from;if(ht>=Mt)break;vt>Vt&&bt(Math.max(ht,Vt),B==null&&ht<=wt,Math.min(vt,Mt),q==null&&vt>=St,pt.dir)}if(Vt=Et.to+1,Vt>=Mt)break}return Ot.length==0&&bt(wt,B==null,St,q==null,n.textDirection),{top:J,bottom:ot,horizontal:Ot}}function D(B,q){let K=p.top+(q?B.top:B.bottom);return{top:K,bottom:K,horizontal:[]}}}function opt(n,e){return n.constructor==e.constructor&&n.eq(e)}class lpt{constructor(e,r){this.view=e,this.layer=r,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),r.above&&this.dom.classList.add("cm-layer-above"),r.class&&this.dom.classList.add(r.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),r.mount&&r.mount(this.dom,e)}update(e){e.startState.facet(NS)!=e.state.facet(NS)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let r=0,o=e.facet(NS);for(;r<o.length&&o[r]!=this.layer;)r++;this.dom.style.zIndex=String((this.layer.above?150:-1)-r)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:r}=this.view;(e!=this.scaleX||r!=this.scaleY)&&(this.scaleX=e,this.scaleY=r,this.dom.style.transform=`scale(${1/e}, ${1/r})`)}draw(e){if(e.length!=this.drawn.length||e.some((r,o)=>!opt(r,this.drawn[o]))){let r=this.dom.firstChild,o=0;for(let a of e)a.update&&r&&a.constructor&&this.drawn[o].constructor&&a.update(r,this.drawn[o])?(r=r.nextSibling,o++):this.dom.insertBefore(a.draw(),r);for(;r;){let a=r.nextSibling;r.remove(),r=a}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const NS=Ht.define();function A9(n){return[In.define(e=>new lpt(e,n)),NS.of(n)]}const YO=Ht.define({combine(n){return yu(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,r)=>Math.min(e,r),drawRangeCursor:(e,r)=>e||r})}});function apt(n={}){return[YO.of(n),upt,hpt,cpt,o9.of(!0)]}function j9(n){return n.startState.facet(YO)!=n.state.facet(YO)}const upt=A9({above:!0,markers(n){let{state:e}=n,r=e.facet(YO),o=[];for(let a of e.selection.ranges){let h=a==e.selection.main;if(a.empty||r.drawRangeCursor){let f=h?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",p=a.empty?a:Ct.cursor(a.head,a.head>a.anchor?-1:1);for(let g of Nv.forRange(n,f,p))o.push(g)}}return o},update(n,e){n.transactions.some(o=>o.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let r=j9(n);return r&&X4(n.state,e),n.docChanged||n.selectionSet||r},mount(n,e){X4(e.state,n)},class:"cm-cursorLayer"});function X4(n,e){e.style.animationDuration=n.facet(YO).cursorBlinkRate+"ms"}const hpt=A9({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:Nv.forRange(n,"cm-selectionBackground",e)).reduce((e,r)=>e.concat(r))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||j9(n)},class:"cm-selectionLayer"}),cpt=Ph.highest(Yt.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),E9=Se.define({map(n,e){return n==null?null:e.mapPos(n)}}),Ly=kr.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((r,o)=>o.is(E9)?o.value:r,n)}}),fpt=In.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let r=n.state.field(Ly);r==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Ly)!=r||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(Ly),r=e!=null&&n.coordsAtPos(e);if(!r)return null;let o=n.scrollDOM.getBoundingClientRect();return{left:r.left-o.left+n.scrollDOM.scrollLeft*n.scaleX,top:r.top-o.top+n.scrollDOM.scrollTop*n.scaleY,height:r.bottom-r.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:r}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/r+"px",this.cursor.style.height=n.height/r+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Ly)!=n&&this.view.dispatch({effects:E9.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dpt(){return[Ly,fpt]}function B4(n,e,r,o,a){e.lastIndex=0;for(let h=n.iterRange(r,o),f=r,p;!h.next().done;f+=h.value.length)if(!h.lineBreak)for(;p=e.exec(h.value);)a(f+p.index,p)}function ppt(n,e){let r=n.visibleRanges;if(r.length==1&&r[0].from==n.viewport.from&&r[0].to==n.viewport.to)return r;let o=[];for(let{from:a,to:h}of r)a=Math.max(n.state.doc.lineAt(a).from,a-e),h=Math.min(n.state.doc.lineAt(h).to,h+e),o.length&&o[o.length-1].to>=a?o[o.length-1].to=h:o.push({from:a,to:h});return o}class mpt{constructor(e){const{regexp:r,decoration:o,decorate:a,boundary:h,maxLength:f=1e3}=e;if(!r.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=r,a)this.addMatch=(p,g,v,x)=>a(x,v,v+p[0].length,p,g);else if(typeof o=="function")this.addMatch=(p,g,v,x)=>{let S=o(p,g,v);S&&x(v,v+p[0].length,S)};else if(o)this.addMatch=(p,g,v,x)=>x(v,v+p[0].length,o);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=h,this.maxLength=f}createDeco(e){let r=new vh,o=r.add.bind(r);for(let{from:a,to:h}of ppt(e,this.maxLength))B4(e.state.doc,this.regexp,a,h,(f,p)=>this.addMatch(p,e,f,o));return r.finish()}updateDeco(e,r){let o=1e9,a=-1;return e.docChanged&&e.changes.iterChanges((h,f,p,g)=>{g>=e.view.viewport.from&&p<=e.view.viewport.to&&(o=Math.min(p,o),a=Math.max(g,a))}),e.viewportMoved||a-o>1e3?this.createDeco(e.view):a>-1?this.updateRange(e.view,r.map(e.changes),o,a):r}updateRange(e,r,o,a){for(let h of e.visibleRanges){let f=Math.max(h.from,o),p=Math.min(h.to,a);if(p>=f){let g=e.state.doc.lineAt(f),v=g.to<p?e.state.doc.lineAt(p):g,x=Math.max(h.from,g.from),S=Math.min(h.to,v.to);if(this.boundary){for(;f>g.from;f--)if(this.boundary.test(g.text[f-1-g.from])){x=f;break}for(;p<v.to;p++)if(this.boundary.test(v.text[p-v.from])){S=p;break}}let b=[],C,j=(N,E,R)=>b.push(R.range(N,E));if(g==v)for(this.regexp.lastIndex=x-g.from;(C=this.regexp.exec(g.text))&&C.index<S-g.from;)this.addMatch(C,e,C.index+g.from,j);else B4(e.state.doc,this.regexp,x,S,(N,E)=>this.addMatch(E,e,N,j));r=r.update({filterFrom:x,filterTo:S,filter:(N,E)=>N<x||E>S,add:b})}}return r}}const bA=/x/.unicode!=null?"gu":"g",gpt=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,bA),ypt={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let TM=null;function Opt(){var n;if(TM==null&&typeof document<"u"&&document.body){let e=document.body.style;TM=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return TM||!1}const AS=Ht.define({combine(n){let e=yu(n,{render:null,specialChars:gpt,addSpecialChars:null});return(e.replaceTabs=!Opt())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,bA)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,bA)),e}});function vpt(n={}){return[AS.of(n),xpt()]}let _4=null;function xpt(){return _4||(_4=In.fromClass(class{constructor(n){this.view=n,this.decorations=ue.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(AS)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new mpt({regexp:n.specialChars,decoration:(e,r,o)=>{let{doc:a}=r.state,h=io(e[0],0);if(h==9){let f=a.lineAt(o),p=r.state.tabSize,g=oa(f.text,p,o-f.from);return ue.replace({widget:new Ppt((p-g%p)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[h]||(this.decorationCache[h]=ue.replace({widget:new kpt(n,h)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(AS);n.startState.facet(AS)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const wpt="";function Spt(n){return n>=32?wpt:n==10?"":String.fromCharCode(9216+n)}class kpt extends Ou{constructor(e,r){super(),this.options=e,this.code=r}eq(e){return e.code==this.code}toDOM(e){let r=Spt(this.code),o=e.state.phrase("Control character")+" "+(ypt[this.code]||"0x"+this.code.toString(16)),a=this.options.render&&this.options.render(this.code,o,r);if(a)return a;let h=document.createElement("span");return h.textContent=r,h.title=o,h.setAttribute("aria-label",o),h.className="cm-specialChar",h}ignoreEvent(){return!1}}class Ppt extends Ou{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function bpt(){return Cpt}const Tpt=ue.line({class:"cm-activeLine"}),Cpt=In.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,r=[];for(let o of n.state.selection.ranges){let a=n.lineBlockAt(o.head);a.from>e&&(r.push(Tpt.range(a.from)),e=a.from)}return ue.set(r)}},{decorations:n=>n.decorations});class Mpt extends Ou{constructor(e){super(),this.content=e}toDOM(e){let r=document.createElement("span");return r.className="cm-placeholder",r.style.pointerEvents="none",r.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),r.setAttribute("aria-hidden","true"),r}coordsAt(e){let r=e.firstChild?sg(e.firstChild):[];if(!r.length)return null;let o=window.getComputedStyle(e.parentNode),a=Cv(r[0],o.direction!="rtl"),h=parseInt(o.lineHeight);return a.bottom-a.top>h*1.5?{left:a.left,right:a.right,top:a.top,bottom:a.top+h}:a}ignoreEvent(){return!1}}function Qpt(n){let e=In.fromClass(class{constructor(r){this.view=r,this.placeholder=n?ue.set([ue.widget({widget:new Mpt(n),side:1}).range(0)]):ue.none}get decorations(){return this.view.state.doc.length?ue.none:this.placeholder}},{decorations:r=>r.decorations});return typeof n=="string"?[e,Yt.contentAttributes.of({"aria-placeholder":n})]:e}const TA=2e3;function Npt(n,e,r){let o=Math.min(e.line,r.line),a=Math.max(e.line,r.line),h=[];if(e.off>TA||r.off>TA||e.col<0||r.col<0){let f=Math.min(e.off,r.off),p=Math.max(e.off,r.off);for(let g=o;g<=a;g++){let v=n.doc.line(g);v.length<=p&&h.push(Ct.range(v.from+f,v.to+p))}}else{let f=Math.min(e.col,r.col),p=Math.max(e.col,r.col);for(let g=o;g<=a;g++){let v=n.doc.line(g),x=rA(v.text,f,n.tabSize,!0);if(x<0)h.push(Ct.cursor(v.to));else{let S=rA(v.text,p,n.tabSize);h.push(Ct.range(v.from+x,v.from+S))}}}return h}function Apt(n,e){let r=n.coordsAtPos(n.viewport.from);return r?Math.round(Math.abs((r.left-e)/n.defaultCharacterWidth)):-1}function Z4(n,e){let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1),o=n.state.doc.lineAt(r),a=r-o.from,h=a>TA?-1:a==o.length?Apt(n,e.clientX):oa(o.text,n.state.tabSize,r-o.from);return{line:o.number,col:h,off:a}}function jpt(n,e){let r=Z4(n,e),o=n.state.selection;return r?{update(a){if(a.docChanged){let h=a.changes.mapPos(a.startState.doc.line(r.line).from),f=a.state.doc.lineAt(h);r={line:f.number,col:r.col,off:Math.min(r.off,f.length)},o=o.map(a.changes)}},get(a,h,f){let p=Z4(n,a);if(!p)return o;let g=Npt(n.state,r,p);return g.length?f?Ct.create(g.concat(o.ranges)):Ct.create(g):o}}:null}function Ept(n){let e=r=>r.altKey&&r.button==0;return Yt.mouseSelectionStyle.of((r,o)=>e(o)?jpt(r,o):null)}const Rpt={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},Lpt={style:"cursor: crosshair"};function $pt(n={}){let[e,r]=Rpt[n.key||"Alt"],o=In.fromClass(class{constructor(a){this.view=a,this.isDown=!1}set(a){this.isDown!=a&&(this.isDown=a,this.view.update([]))}},{eventObservers:{keydown(a){this.set(a.keyCode==e||r(a))},keyup(a){(a.keyCode==e||!r(a))&&this.set(!1)},mousemove(a){this.set(r(a))}}});return[o,Yt.contentAttributes.of(a=>{var h;return!((h=a.plugin(o))===null||h===void 0)&&h.isDown?Lpt:null})]}const yy="-10000px";class R9{constructor(e,r,o,a){this.facet=r,this.createTooltipView=o,this.removeTooltipView=a,this.input=e.state.facet(r),this.tooltips=this.input.filter(f=>f);let h=null;this.tooltipViews=this.tooltips.map(f=>h=o(f,h))}update(e,r){var o;let a=e.state.facet(this.facet),h=a.filter(g=>g);if(a===this.input){for(let g of this.tooltipViews)g.update&&g.update(e);return!1}let f=[],p=r?[]:null;for(let g=0;g<h.length;g++){let v=h[g],x=-1;if(v){for(let S=0;S<this.tooltips.length;S++){let b=this.tooltips[S];b&&b.create==v.create&&(x=S)}if(x<0)f[g]=this.createTooltipView(v,g?f[g-1]:null),p&&(p[g]=!!v.above);else{let S=f[g]=this.tooltipViews[x];p&&(p[g]=r[x]),S.update&&S.update(e)}}}for(let g of this.tooltipViews)f.indexOf(g)<0&&(this.removeTooltipView(g),(o=g.destroy)===null||o===void 0||o.call(g));return r&&(p.forEach((g,v)=>r[v]=g),r.length=p.length),this.input=a,this.tooltips=h,this.tooltipViews=f,!0}}function Dpt(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const CM=Ht.define({combine:n=>{var e,r,o;return{position:te.ios?"absolute":((e=n.find(a=>a.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((r=n.find(a=>a.parent))===null||r===void 0?void 0:r.parent)||null,tooltipSpace:((o=n.find(a=>a.tooltipSpace))===null||o===void 0?void 0:o.tooltipSpace)||Dpt}}}),Y4=new WeakMap,vR=In.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(CM);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new R9(n,xR,(r,o)=>this.createTooltip(r,o),r=>{this.resizeObserver&&this.resizeObserver.unobserve(r.dom),r.dom.remove()}),this.above=this.manager.tooltips.map(r=>!!r.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(r=>{Date.now()>this.lastTransaction-50&&r.length>0&&r[r.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let r=e||n.geometryChanged,o=n.state.facet(CM);if(o.position!=this.position&&!this.madeAbsolute){this.position=o.position;for(let a of this.manager.tooltipViews)a.dom.style.position=this.position;r=!0}if(o.parent!=this.parent){this.parent&&this.container.remove(),this.parent=o.parent,this.createContainer();for(let a of this.manager.tooltipViews)this.container.appendChild(a.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(n,e){let r=n.create(this.view),o=e?e.dom:null;if(r.dom.classList.add("cm-tooltip"),n.arrow&&!r.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let a=document.createElement("div");a.className="cm-tooltip-arrow",r.dom.appendChild(a)}return r.dom.style.position=this.position,r.dom.style.top=yy,r.dom.style.left="0px",this.container.insertBefore(r.dom,o),r.mount&&r.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(r.dom),r}destroy(){var n,e,r;this.view.win.removeEventListener("resize",this.measureSoon);for(let o of this.manager.tooltipViews)o.dom.remove(),(n=o.destroy)===null||n===void 0||n.call(o);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(r=this.intersectionObserver)===null||r===void 0||r.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:h}=this.manager.tooltipViews[0];if(te.gecko)r=h.offsetParent!=this.container.ownerDocument.body;else if(h.style.top==yy&&h.style.left=="0px"){let f=h.getBoundingClientRect();r=Math.abs(f.top+1e4)>1||Math.abs(f.left)>1}}if(r||this.position=="absolute")if(this.parent){let h=this.parent.getBoundingClientRect();h.width&&h.height&&(n=h.width/this.parent.offsetWidth,e=h.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let o=this.view.scrollDOM.getBoundingClientRect(),a=mR(this.view);return{visible:{left:o.left+a.left,top:o.top+a.top,right:o.right-a.right,bottom:o.bottom-a.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((h,f)=>{let p=this.manager.tooltipViews[f];return p.getCoords?p.getCoords(h.pos):this.view.coordsAtPos(h.pos)}),size:this.manager.tooltipViews.map(({dom:h})=>h.getBoundingClientRect()),space:this.view.state.facet(CM).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:r}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let p of this.manager.tooltipViews)p.dom.style.position="absolute"}let{visible:r,space:o,scaleX:a,scaleY:h}=n,f=[];for(let p=0;p<this.manager.tooltips.length;p++){let g=this.manager.tooltips[p],v=this.manager.tooltipViews[p],{dom:x}=v,S=n.pos[p],b=n.size[p];if(!S||g.clip!==!1&&(S.bottom<=Math.max(r.top,o.top)||S.top>=Math.min(r.bottom,o.bottom)||S.right<Math.max(r.left,o.left)-.1||S.left>Math.min(r.right,o.right)+.1)){x.style.top=yy;continue}let C=g.arrow?v.dom.querySelector(".cm-tooltip-arrow"):null,j=C?7:0,N=b.right-b.left,E=(e=Y4.get(v))!==null&&e!==void 0?e:b.bottom-b.top,R=v.offset||Fpt,$=this.view.textDirection==Xi.LTR,V=b.width>o.right-o.left?$?o.left:o.right-b.width:$?Math.max(o.left,Math.min(S.left-(C?14:0)+R.x,o.right-N)):Math.min(Math.max(o.left,S.left-N+(C?14:0)-R.x),o.right-N),D=this.above[p];!g.strictSide&&(D?S.top-E-j-R.y<o.top:S.bottom+E+j+R.y>o.bottom)&&D==o.bottom-S.bottom>S.top-o.top&&(D=this.above[p]=!D);let B=(D?S.top-o.top:o.bottom-S.bottom)-j;if(B<E&&v.resize!==!1){if(B<this.view.defaultLineHeight){x.style.top=yy;continue}Y4.set(v,E),x.style.height=(E=B)/h+"px"}else x.style.height&&(x.style.height="");let q=D?S.top-E-j-R.y:S.bottom+j+R.y,K=V+N;if(v.overlap!==!0)for(let J of f)J.left<K&&J.right>V&&J.top<q+E&&J.bottom>q&&(q=D?J.top-E-2-j:J.bottom+j+2);if(this.position=="absolute"?(x.style.top=(q-n.parent.top)/h+"px",U4(x,(V-n.parent.left)/a)):(x.style.top=q/h+"px",U4(x,V/a)),C){let J=S.left+($?R.x:-R.x)-(V+14-7);C.style.left=J/a+"px"}v.overlap!==!0&&f.push({left:V,top:q,right:K,bottom:q+E}),x.classList.toggle("cm-tooltip-above",D),x.classList.toggle("cm-tooltip-below",!D),v.positioned&&v.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=yy}},{eventObservers:{scroll(){this.maybeMeasure()}}});function U4(n,e){let r=parseInt(n.style.left,10);(isNaN(r)||Math.abs(e-r)>1)&&(n.style.left=e+"px")}const Ipt=Yt.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Fpt={x:0,y:0},xR=Ht.define({enables:[vR,Ipt]}),$k=Ht.define({combine:n=>n.reduce((e,r)=>e.concat(r),[])});class e2{static create(e){return new e2(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new R9(e,$k,(r,o)=>this.createHostedView(r,o),r=>r.dom.remove())}createHostedView(e,r){let o=e.create(this.view);return o.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(o.dom,r?r.dom.nextSibling:this.dom.firstChild),this.mounted&&o.mount&&o.mount(this.view),o}mount(e){for(let r of this.manager.tooltipViews)r.mount&&r.mount(e);this.mounted=!0}positioned(e){for(let r of this.manager.tooltipViews)r.positioned&&r.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let r of this.manager.tooltipViews)(e=r.destroy)===null||e===void 0||e.call(r)}passProp(e){let r;for(let o of this.manager.tooltipViews){let a=o[e];if(a!==void 0){if(r===void 0)r=a;else if(r!==a)return}}return r}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Vpt=xR.compute([$k],n=>{let e=n.facet($k);return e.length===0?null:{pos:Math.min(...e.map(r=>r.pos)),end:Math.max(...e.map(r=>{var o;return(o=r.end)!==null&&o!==void 0?o:r.pos})),create:e2.create,above:e[0].above,arrow:e.some(r=>r.arrow)}});class zpt{constructor(e,r,o,a,h){this.view=e,this.source=r,this.field=o,this.setHover=a,this.hoverTime=h,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:r}=this,o=e.docView.nearest(r.target);if(!o)return;let a,h=1;if(o instanceof xc)a=o.posAtStart;else{if(a=e.posAtCoords(r),a==null)return;let p=e.coordsAtPos(a);if(!p||r.y<p.top||r.y>p.bottom||r.x<p.left-e.defaultCharacterWidth||r.x>p.right+e.defaultCharacterWidth)return;let g=e.bidiSpans(e.state.doc.lineAt(a)).find(x=>x.from<=a&&x.to>=a),v=g&&g.dir==Xi.RTL?-1:1;h=r.x<p.left?-v:v}let f=this.source(e,a,h);if(f!=null&&f.then){let p=this.pending={pos:a};f.then(g=>{this.pending==p&&(this.pending=null,g&&!(Array.isArray(g)&&!g.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(g)?g:[g])}))},g=>lo(e.state,g,"hover tooltip"))}else f&&!(Array.isArray(f)&&!f.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(f)?f:[f])})}get tooltip(){let e=this.view.plugin(vR),r=e?e.manager.tooltips.findIndex(o=>o.create==e2.create):-1;return r>-1?e.manager.tooltipViews[r]:null}mousemove(e){var r,o;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:a,tooltip:h}=this;if(a.length&&h&&!Xpt(h.dom,e)||this.pending){let{pos:f}=a[0]||this.pending,p=(o=(r=a[0])===null||r===void 0?void 0:r.end)!==null&&o!==void 0?o:f;(f==p?this.view.posAtCoords(this.lastMove)!=f:!Bpt(this.view,f,p,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:r}=this;if(r.length){let{tooltip:o}=this;o&&o.dom.contains(e.relatedTarget)?this.watchTooltipLeave(o.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let r=o=>{e.removeEventListener("mouseleave",r),this.active.length&&!this.view.dom.contains(o.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",r)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Xw=4;function Xpt(n,e){let{left:r,right:o,top:a,bottom:h}=n.getBoundingClientRect(),f;if(f=n.querySelector(".cm-tooltip-arrow")){let p=f.getBoundingClientRect();a=Math.min(p.top,a),h=Math.max(p.bottom,h)}return e.clientX>=r-Xw&&e.clientX<=o+Xw&&e.clientY>=a-Xw&&e.clientY<=h+Xw}function Bpt(n,e,r,o,a,h){let f=n.scrollDOM.getBoundingClientRect(),p=n.documentTop+n.documentPadding.top+n.contentHeight;if(f.left>o||f.right<o||f.top>a||Math.min(f.bottom,p)<a)return!1;let g=n.posAtCoords({x:o,y:a},!1);return g>=e&&g<=r}function _pt(n,e={}){let r=Se.define(),o=kr.define({create(){return[]},update(a,h){if(a.length&&(e.hideOnChange&&(h.docChanged||h.selection)?a=[]:e.hideOn&&(a=a.filter(f=>!e.hideOn(h,f))),h.docChanged)){let f=[];for(let p of a){let g=h.changes.mapPos(p.pos,-1,zr.TrackDel);if(g!=null){let v=Object.assign(Object.create(null),p);v.pos=g,v.end!=null&&(v.end=h.changes.mapPos(v.end)),f.push(v)}}a=f}for(let f of h.effects)f.is(r)&&(a=f.value),f.is(Zpt)&&(a=[]);return a},provide:a=>$k.from(a)});return{active:o,extension:[o,In.define(a=>new zpt(a,n,o,r,e.hoverTime||300)),Vpt]}}function L9(n,e){let r=n.plugin(vR);if(!r)return null;let o=r.manager.tooltips.indexOf(e);return o<0?null:r.manager.tooltipViews[o]}const Zpt=Se.define(),W4=Ht.define({combine(n){let e,r;for(let o of n)e=e||o.topContainer,r=r||o.bottomContainer;return{topContainer:e,bottomContainer:r}}});function UO(n,e){let r=n.plugin($9),o=r?r.specs.indexOf(e):-1;return o>-1?r.panels[o]:null}const $9=In.fromClass(class{constructor(n){this.input=n.state.facet(WO),this.specs=this.input.filter(r=>r),this.panels=this.specs.map(r=>r(n));let e=n.state.facet(W4);this.top=new Bw(n,!0,e.topContainer),this.bottom=new Bw(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(r=>r.top)),this.bottom.sync(this.panels.filter(r=>!r.top));for(let r of this.panels)r.dom.classList.add("cm-panel"),r.mount&&r.mount()}update(n){let e=n.state.facet(W4);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Bw(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Bw(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=n.state.facet(WO);if(r!=this.input){let o=r.filter(g=>g),a=[],h=[],f=[],p=[];for(let g of o){let v=this.specs.indexOf(g),x;v<0?(x=g(n.view),p.push(x)):(x=this.panels[v],x.update&&x.update(n)),a.push(x),(x.top?h:f).push(x)}this.specs=o,this.panels=a,this.top.sync(h),this.bottom.sync(f);for(let g of p)g.dom.classList.add("cm-panel"),g.mount&&g.mount()}else for(let o of this.panels)o.update&&o.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>Yt.scrollMargins.of(e=>{let r=e.plugin(n);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}})});class Bw{constructor(e,r,o){this.view=e,this.top=r,this.container=o,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let r of this.panels)r.destroy&&e.indexOf(r)<0&&r.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let r=this.container||this.view.dom;r.insertBefore(this.dom,this.top?r.firstChild:null)}let e=this.dom.firstChild;for(let r of this.panels)if(r.dom.parentNode==this.dom){for(;e!=r.dom;)e=q4(e);e=e.nextSibling}else this.dom.insertBefore(r.dom,e);for(;e;)e=q4(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function q4(n){let e=n.nextSibling;return n.remove(),e}const WO=Ht.define({enables:$9});class wh extends kd{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}wh.prototype.elementClass="";wh.prototype.toDOM=void 0;wh.prototype.mapMode=zr.TrackBefore;wh.prototype.startSide=wh.prototype.endSide=-1;wh.prototype.point=!0;const jS=Ht.define(),Ypt=Ht.define(),Upt={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>ri.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},iO=Ht.define();function Wpt(n){return[D9(),iO.of(Object.assign(Object.assign({},Upt),n))]}const G4=Ht.define({combine:n=>n.some(e=>e)});function D9(n){return[qpt]}const qpt=In.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(iO).map(e=>new K4(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(G4),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,r=n.view.viewport,o=Math.min(e.to,r.to)-Math.max(e.from,r.from);this.syncGutters(o<(r.to-r.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(G4)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let r=ri.iter(this.view.state.facet(jS),this.view.viewport.from),o=[],a=this.gutters.map(h=>new Gpt(h,this.view.viewport,-this.view.documentPadding.top));for(let h of this.view.viewportLineBlocks)if(o.length&&(o=[]),Array.isArray(h.type)){let f=!0;for(let p of h.type)if(p.type==Rs.Text&&f){CA(r,o,p.from);for(let g of a)g.line(this.view,p,o);f=!1}else if(p.widget)for(let g of a)g.widget(this.view,p)}else if(h.type==Rs.Text){CA(r,o,h.from);for(let f of a)f.line(this.view,h,o)}else if(h.widget)for(let f of a)f.widget(this.view,h);for(let h of a)h.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(iO),r=n.state.facet(iO),o=n.docChanged||n.heightChanged||n.viewportChanged||!ri.eq(n.startState.facet(jS),n.state.facet(jS),n.view.viewport.from,n.view.viewport.to);if(e==r)for(let a of this.gutters)a.update(n)&&(o=!0);else{o=!0;let a=[];for(let h of r){let f=e.indexOf(h);f<0?a.push(new K4(this.view,h)):(this.gutters[f].update(n),a.push(this.gutters[f]))}for(let h of this.gutters)h.dom.remove(),a.indexOf(h)<0&&h.destroy();for(let h of a)this.dom.appendChild(h.dom);this.gutters=a}return o}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>Yt.scrollMargins.of(e=>{let r=e.plugin(n);return!r||r.gutters.length==0||!r.fixed?null:e.textDirection==Xi.LTR?{left:r.dom.offsetWidth*e.scaleX}:{right:r.dom.offsetWidth*e.scaleX}})});function H4(n){return Array.isArray(n)?n:[n]}function CA(n,e,r){for(;n.value&&n.from<=r;)n.from==r&&e.push(n.value),n.next()}class Gpt{constructor(e,r,o){this.gutter=e,this.height=o,this.i=0,this.cursor=ri.iter(e.markers,r.from)}addElement(e,r,o){let{gutter:a}=this,h=(r.top-this.height)/e.scaleY,f=r.height/e.scaleY;if(this.i==a.elements.length){let p=new I9(e,f,h,o);a.elements.push(p),a.dom.appendChild(p.dom)}else a.elements[this.i].update(e,f,h,o);this.height=r.bottom,this.i++}line(e,r,o){let a=[];CA(this.cursor,a,r.from),o.length&&(a=a.concat(o));let h=this.gutter.config.lineMarker(e,r,a);h&&a.unshift(h);let f=this.gutter;a.length==0&&!f.config.renderEmptyElements||this.addElement(e,r,a)}widget(e,r){let o=this.gutter.config.widgetMarker(e,r.widget,r),a=o?[o]:null;for(let h of e.state.facet(Ypt)){let f=h(e,r.widget,r);f&&(a||(a=[])).push(f)}a&&this.addElement(e,r,a)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let r=e.elements.pop();e.dom.removeChild(r.dom),r.destroy()}}}class K4{constructor(e,r){this.view=e,this.config=r,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let o in r.domEventHandlers)this.dom.addEventListener(o,a=>{let h=a.target,f;if(h!=this.dom&&this.dom.contains(h)){for(;h.parentNode!=this.dom;)h=h.parentNode;let g=h.getBoundingClientRect();f=(g.top+g.bottom)/2}else f=a.clientY;let p=e.lineBlockAtHeight(f-e.documentTop);r.domEventHandlers[o](e,p,a)&&a.preventDefault()});this.markers=H4(r.markers(e)),r.initialSpacer&&(this.spacer=new I9(e,0,0,[r.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let r=this.markers;if(this.markers=H4(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let a=this.config.updateSpacer(this.spacer.markers[0],e);a!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[a])}let o=e.view.viewport;return!ri.eq(this.markers,r,o.from,o.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class I9{constructor(e,r,o,a){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,r,o,a)}update(e,r,o,a){this.height!=r&&(this.height=r,this.dom.style.height=r+"px"),this.above!=o&&(this.dom.style.marginTop=(this.above=o)?o+"px":""),Hpt(this.markers,a)||this.setMarkers(e,a)}setMarkers(e,r){let o="cm-gutterElement",a=this.dom.firstChild;for(let h=0,f=0;;){let p=f,g=h<r.length?r[h++]:null,v=!1;if(g){let x=g.elementClass;x&&(o+=" "+x);for(let S=f;S<this.markers.length;S++)if(this.markers[S].compare(g)){p=S,v=!0;break}}else p=this.markers.length;for(;f<p;){let x=this.markers[f++];if(x.toDOM){x.destroy(a);let S=a.nextSibling;a.remove(),a=S}}if(!g)break;g.toDOM&&(v?a=a.nextSibling:this.dom.insertBefore(g.toDOM(e),a)),v&&f++}this.dom.className=o,this.markers=r}destroy(){this.setMarkers(null,[])}}function Hpt(n,e){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!n[r].compare(e[r]))return!1;return!0}const Kpt=Ht.define(),Jpt=Ht.define(),Om=Ht.define({combine(n){return yu(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,r){let o=Object.assign({},e);for(let a in r){let h=o[a],f=r[a];o[a]=h?(p,g,v)=>h(p,g,v)||f(p,g,v):f}return o}})}});class MM extends wh{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function QM(n,e){return n.state.facet(Om).formatNumber(e,n.state)}const tmt=iO.compute([Om],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Kpt)},lineMarker(e,r,o){return o.some(a=>a.toDOM)?null:new MM(QM(e,e.state.doc.lineAt(r.from).number))},widgetMarker:(e,r,o)=>{for(let a of e.state.facet(Jpt)){let h=a(e,r,o);if(h)return h}return null},lineMarkerChange:e=>e.startState.facet(Om)!=e.state.facet(Om),initialSpacer(e){return new MM(QM(e,J4(e.state.doc.lines)))},updateSpacer(e,r){let o=QM(r.view,J4(r.view.state.doc.lines));return o==e.number?e:new MM(o)},domEventHandlers:n.facet(Om).domEventHandlers}));function emt(n={}){return[Om.of(n),D9(),tmt]}function J4(n){let e=9;for(;e<n;)e=e*10+9;return e}const imt=new class extends wh{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},nmt=jS.compute(["selection"],n=>{let e=[],r=-1;for(let o of n.selection.ranges){let a=n.doc.lineAt(o.head).from;a>r&&(r=a,e.push(imt.range(a)))}return ri.of(e)});function rmt(){return nmt}const F9=1024;let smt=0;class Ol{constructor(e,r){this.from=e,this.to=r}}class we{constructor(e={}){this.id=smt++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=hr.match(e)),r=>{let o=e(r);return o===void 0?null:[this,o]}}}we.closedBy=new we({deserialize:n=>n.split(" ")});we.openedBy=new we({deserialize:n=>n.split(" ")});we.group=new we({deserialize:n=>n.split(" ")});we.isolate=new we({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});we.contextHash=new we({perNode:!0});we.lookAhead=new we({perNode:!0});we.mounted=new we({perNode:!0});class qO{constructor(e,r,o){this.tree=e,this.overlay=r,this.parser=o}static get(e){return e&&e.props&&e.props[we.mounted.id]}}const omt=Object.create(null);class hr{constructor(e,r,o,a=0){this.name=e,this.props=r,this.id=o,this.flags=a}static define(e){let r=e.props&&e.props.length?Object.create(null):omt,o=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),a=new hr(e.name||"",r,e.id,o);if(e.props){for(let h of e.props)if(Array.isArray(h)||(h=h(a)),h){if(h[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[h[0].id]=h[1]}}return a}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let r=this.prop(we.group);return r?r.indexOf(e)>-1:!1}return this.id==e}static match(e){let r=Object.create(null);for(let o in e)for(let a of o.split(" "))r[a]=e[o];return o=>{for(let a=o.prop(we.group),h=-1;h<(a?a.length:0);h++){let f=r[h<0?o.name:a[h]];if(f)return f}}}}hr.none=new hr("",Object.create(null),0,8);class Av{constructor(e){this.types=e;for(let r=0;r<e.length;r++)if(e[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let r=[];for(let o of this.types){let a=null;for(let h of e){let f=h(o);f&&(a||(a=Object.assign({},o.props)),a[f[0].id]=f[1])}r.push(a?new hr(o.name,a,o.id,o.flags):o)}return new Av(r)}}const _w=new WeakMap,t3=new WeakMap;var Ti;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Ti||(Ti={}));class mi{constructor(e,r,o,a,h){if(this.type=e,this.children=r,this.positions=o,this.length=a,this.props=null,h&&h.length){this.props=Object.create(null);for(let[f,p]of h)this.props[typeof f=="number"?f:f.id]=p}}toString(){let e=qO.get(this);if(e&&!e.overlay)return e.tree.toString();let r="";for(let o of this.children){let a=o.toString();a&&(r&&(r+=","),r+=a)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(e=0){return new Dk(this.topNode,e)}cursorAt(e,r=0,o=0){let a=_w.get(this)||this.topNode,h=new Dk(a);return h.moveTo(e,r),_w.set(this,h._tree),h}get topNode(){return new cs(this,0,0,null)}resolve(e,r=0){let o=GO(_w.get(this)||this.topNode,e,r,!1);return _w.set(this,o),o}resolveInner(e,r=0){let o=GO(t3.get(this)||this.topNode,e,r,!0);return t3.set(this,o),o}resolveStack(e,r=0){return umt(this,e,r)}iterate(e){let{enter:r,leave:o,from:a=0,to:h=this.length}=e,f=e.mode||0,p=(f&Ti.IncludeAnonymous)>0;for(let g=this.cursor(f|Ti.IncludeAnonymous);;){let v=!1;if(g.from<=h&&g.to>=a&&(!p&&g.type.isAnonymous||r(g)!==!1)){if(g.firstChild())continue;v=!0}for(;v&&o&&(p||!g.type.isAnonymous)&&o(g),!g.nextSibling();){if(!g.parent())return;v=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let r in this.props)e.push([+r,this.props[r]]);return e}balance(e={}){return this.children.length<=8?this:kR(hr.none,this.children,this.positions,0,this.children.length,0,this.length,(r,o,a)=>new mi(this.type,r,o,a,this.propValues),e.makeTree||((r,o,a)=>new mi(hr.none,r,o,a)))}static build(e){return hmt(e)}}mi.empty=new mi(hr.none,[],[],0);class wR{constructor(e,r){this.buffer=e,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new wR(this.buffer,this.index)}}class _c{constructor(e,r,o){this.buffer=e,this.length=r,this.set=o}get type(){return hr.none}toString(){let e=[];for(let r=0;r<this.buffer.length;)e.push(this.childString(r)),r=this.buffer[r+3];return e.join(",")}childString(e){let r=this.buffer[e],o=this.buffer[e+3],a=this.set.types[r],h=a.name;if(/\W/.test(h)&&!a.isError&&(h=JSON.stringify(h)),e+=4,o==e)return h;let f=[];for(;e<o;)f.push(this.childString(e)),e=this.buffer[e+3];return h+"("+f.join(",")+")"}findChild(e,r,o,a,h){let{buffer:f}=this,p=-1;for(let g=e;g!=r&&!(V9(h,a,f[g+1],f[g+2])&&(p=g,o>0));g=f[g+3]);return p}slice(e,r,o){let a=this.buffer,h=new Uint16Array(r-e),f=0;for(let p=e,g=0;p<r;){h[g++]=a[p++],h[g++]=a[p++]-o;let v=h[g++]=a[p++]-o;h[g++]=a[p++]-e,f=Math.max(f,v)}return new _c(h,f,this.set)}}function V9(n,e,r,o){switch(n){case-2:return r<e;case-1:return o>=e&&r<e;case 0:return r<e&&o>e;case 1:return r<=e&&o>e;case 2:return o>e;case 4:return!0}}function GO(n,e,r,o){for(var a;n.from==n.to||(r<1?n.from>=e:n.from>e)||(r>-1?n.to<=e:n.to<e);){let f=!o&&n instanceof cs&&n.index<0?null:n.parent;if(!f)return n;n=f}let h=o?0:Ti.IgnoreOverlays;if(o)for(let f=n,p=f.parent;p;f=p,p=f.parent)f instanceof cs&&f.index<0&&((a=p.enter(e,r,h))===null||a===void 0?void 0:a.from)!=f.from&&(n=p);for(;;){let f=n.enter(e,r,h);if(!f)return n;n=f}}class z9{cursor(e=0){return new Dk(this,e)}getChild(e,r=null,o=null){let a=e3(this,e,r,o);return a.length?a[0]:null}getChildren(e,r=null,o=null){return e3(this,e,r,o)}resolve(e,r=0){return GO(this,e,r,!1)}resolveInner(e,r=0){return GO(this,e,r,!0)}matchContext(e){return MA(this.parent,e)}enterUnfinishedNodesBefore(e){let r=this.childBefore(e),o=this;for(;r;){let a=r.lastChild;if(!a||a.to!=r.to)break;a.type.isError&&a.from==a.to?(o=r,r=a.prevSibling):r=a}return o}get node(){return this}get next(){return this.parent}}class cs extends z9{constructor(e,r,o,a){super(),this._tree=e,this.from=r,this.index=o,this._parent=a}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,r,o,a,h=0){for(let f=this;;){for(let{children:p,positions:g}=f._tree,v=r>0?p.length:-1;e!=v;e+=r){let x=p[e],S=g[e]+f.from;if(V9(a,o,S,S+x.length)){if(x instanceof _c){if(h&Ti.ExcludeBuffers)continue;let b=x.findChild(0,x.buffer.length,r,o-S,a);if(b>-1)return new nu(new lmt(f,x,e,S),null,b)}else if(h&Ti.IncludeAnonymous||!x.type.isAnonymous||SR(x)){let b;if(!(h&Ti.IgnoreMounts)&&(b=qO.get(x))&&!b.overlay)return new cs(b.tree,S,e,f);let C=new cs(x,S,e,f);return h&Ti.IncludeAnonymous||!C.type.isAnonymous?C:C.nextChild(r<0?x.children.length-1:0,r,o,a)}}}if(h&Ti.IncludeAnonymous||!f.type.isAnonymous||(f.index>=0?e=f.index+r:e=r<0?-1:f._parent._tree.children.length,f=f._parent,!f))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,r,o=0){let a;if(!(o&Ti.IgnoreOverlays)&&(a=qO.get(this._tree))&&a.overlay){let h=e-this.from;for(let{from:f,to:p}of a.overlay)if((r>0?f<=h:f<h)&&(r<0?p>=h:p>h))return new cs(a.tree,a.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,r,o)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function e3(n,e,r,o){let a=n.cursor(),h=[];if(!a.firstChild())return h;if(r!=null){for(let f=!1;!f;)if(f=a.type.is(r),!a.nextSibling())return h}for(;;){if(o!=null&&a.type.is(o))return h;if(a.type.is(e)&&h.push(a.node),!a.nextSibling())return o==null?h:[]}}function MA(n,e,r=e.length-1){for(let o=n;r>=0;o=o.parent){if(!o)return!1;if(!o.type.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}class lmt{constructor(e,r,o,a){this.parent=e,this.buffer=r,this.index=o,this.start=a}}class nu extends z9{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,r,o){super(),this.context=e,this._parent=r,this.index=o,this.type=e.buffer.set.types[e.buffer.buffer[o]]}child(e,r,o){let{buffer:a}=this.context,h=a.findChild(this.index+4,a.buffer[this.index+3],e,r-this.context.start,o);return h<0?null:new nu(this.context,this,h)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,r,o=0){if(o&Ti.ExcludeBuffers)return null;let{buffer:a}=this.context,h=a.findChild(this.index+4,a.buffer[this.index+3],r>0?1:-1,e-this.context.start,r);return h<0?null:new nu(this.context,this,h)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,r=e.buffer[this.index+3];return r<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new nu(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new nu(this.context,this._parent,e.findChild(r,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],r=[],{buffer:o}=this.context,a=this.index+4,h=o.buffer[this.index+3];if(h>a){let f=o.buffer[this.index+1];e.push(o.slice(a,h,f)),r.push(0)}return new mi(this.type,e,r,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function X9(n){if(!n.length)return null;let e=0,r=n[0];for(let h=1;h<n.length;h++){let f=n[h];(f.from>r.from||f.to<r.to)&&(r=f,e=h)}let o=r instanceof cs&&r.index<0?null:r.parent,a=n.slice();return o?a[e]=o:a.splice(e,1),new amt(a,r)}class amt{constructor(e,r){this.heads=e,this.node=r}get next(){return X9(this.heads)}}function umt(n,e,r){let o=n.resolveInner(e,r),a=null;for(let h=o instanceof cs?o:o.context.parent;h;h=h.parent)if(h.index<0){let f=h.parent;(a||(a=[o])).push(f.resolve(e,r)),h=f}else{let f=qO.get(h.tree);if(f&&f.overlay&&f.overlay[0].from<=e&&f.overlay[f.overlay.length-1].to>=e){let p=new cs(f.tree,f.overlay[0].from+h.from,-1,h);(a||(a=[o])).push(GO(p,e,r,!1))}}return a?X9(a):o}class Dk{get name(){return this.type.name}constructor(e,r=0){if(this.mode=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof cs)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let o=e._parent;o;o=o._parent)this.stack.unshift(o.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,r){this.index=e;let{start:o,buffer:a}=this.buffer;return this.type=r||a.set.types[a.buffer[e]],this.from=o+a.buffer[e+1],this.to=o+a.buffer[e+2],!0}yield(e){return e?e instanceof cs?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,r,o){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,r,o,this.mode));let{buffer:a}=this.buffer,h=a.findChild(this.index+4,a.buffer[this.index+3],e,r-this.buffer.start,o);return h<0?!1:(this.stack.push(this.index),this.yieldBuf(h))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,r,o=this.mode){return this.buffer?o&Ti.ExcludeBuffers?!1:this.enterChild(1,e,r):this.yield(this._tree.enter(e,r,o))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ti.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ti.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:r}=this.buffer,o=this.stack.length-1;if(e<0){let a=o<0?0:this.stack[o]+4;if(this.index!=a)return this.yieldBuf(r.findChild(a,this.index,-1,0,4))}else{let a=r.buffer[this.index+3];if(a<(o<0?r.buffer.length:r.buffer[this.stack[o]+3]))return this.yieldBuf(a)}return o<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let r,o,{buffer:a}=this;if(a){if(e>0){if(this.index<a.buffer.buffer.length)return!1}else for(let h=0;h<this.index;h++)if(a.buffer.buffer[h+3]<this.index)return!1;({index:r,parent:o}=a)}else({index:r,_parent:o}=this._tree);for(;o;{index:r,_parent:o}=o)if(r>-1)for(let h=r+e,f=e<0?-1:o._tree.children.length;h!=f;h+=e){let p=o._tree.children[h];if(this.mode&Ti.IncludeAnonymous||p instanceof _c||!p.type.isAnonymous||SR(p))return!1}return!0}move(e,r){if(r&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,r=0){for(;(this.from==this.to||(r<1?this.from>=e:this.from>e)||(r>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,r););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,r=null,o=0;if(e&&e.context==this.buffer)t:for(let a=this.index,h=this.stack.length;h>=0;){for(let f=e;f;f=f._parent)if(f.index==a){if(a==this.index)return f;r=f,o=h+1;break t}a=this.stack[--h]}for(let a=o;a<this.stack.length;a++)r=new nu(this.buffer,r,this.stack[a]);return this.bufferNode=new nu(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,r){for(let o=0;;){let a=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){o++;continue}this.type.isAnonymous||(a=!0)}for(;;){if(a&&r&&r(this),a=this.type.isAnonymous,!o)return;if(this.nextSibling())break;this.parent(),o--,a=!0}}}matchContext(e){if(!this.buffer)return MA(this.node.parent,e);let{buffer:r}=this.buffer,{types:o}=r.set;for(let a=e.length-1,h=this.stack.length-1;a>=0;h--){if(h<0)return MA(this._tree,e,a);let f=o[r.buffer[this.stack[h]]];if(!f.isAnonymous){if(e[a]&&e[a]!=f.name)return!1;a--}}return!0}}function SR(n){return n.children.some(e=>e instanceof _c||!e.type.isAnonymous||SR(e))}function hmt(n){var e;let{buffer:r,nodeSet:o,maxBufferLength:a=F9,reused:h=[],minRepeatType:f=o.types.length}=n,p=Array.isArray(r)?new wR(r,r.length):r,g=o.types,v=0,x=0;function S(B,q,K,J,ot,Ot){let{id:bt,start:wt,end:St,size:dt}=p,Vt=x,Mt=v;for(;dt<0;)if(p.next(),dt==-1){let Dt=h[bt];K.push(Dt),J.push(wt-B);return}else if(dt==-3){v=bt;return}else if(dt==-4){x=bt;return}else throw new RangeError(`Unrecognized record size: ${dt}`);let Et=g[bt],pt,ht,vt=wt-B;if(St-wt<=a&&(ht=E(p.pos-q,ot))){let Dt=new Uint16Array(ht.size-ht.skip),qt=p.pos-ht.size,it=Dt.length;for(;p.pos>qt;)it=R(ht.start,Dt,it);pt=new _c(Dt,St-ht.start,o),vt=ht.start-B}else{let Dt=p.pos-dt;p.next();let qt=[],it=[],xe=bt>=f?bt:-1,Fe=0,le=St;for(;p.pos>Dt;)xe>=0&&p.id==xe&&p.size>=0?(p.end<=le-a&&(j(qt,it,wt,Fe,p.end,le,xe,Vt,Mt),Fe=qt.length,le=p.end),p.next()):Ot>2500?b(wt,Dt,qt,it):S(wt,Dt,qt,it,xe,Ot+1);if(xe>=0&&Fe>0&&Fe<qt.length&&j(qt,it,wt,Fe,wt,le,xe,Vt,Mt),qt.reverse(),it.reverse(),xe>-1&&Fe>0){let Qi=C(Et,Mt);pt=kR(Et,qt,it,0,qt.length,0,St-wt,Qi,Qi)}else pt=N(Et,qt,it,St-wt,Vt-St,Mt)}K.push(pt),J.push(vt)}function b(B,q,K,J){let ot=[],Ot=0,bt=-1;for(;p.pos>q;){let{id:wt,start:St,end:dt,size:Vt}=p;if(Vt>4)p.next();else{if(bt>-1&&St<bt)break;bt<0&&(bt=dt-a),ot.push(wt,St,dt),Ot++,p.next()}}if(Ot){let wt=new Uint16Array(Ot*4),St=ot[ot.length-2];for(let dt=ot.length-3,Vt=0;dt>=0;dt-=3)wt[Vt++]=ot[dt],wt[Vt++]=ot[dt+1]-St,wt[Vt++]=ot[dt+2]-St,wt[Vt++]=Vt;K.push(new _c(wt,ot[2]-St,o)),J.push(St-B)}}function C(B,q){return(K,J,ot)=>{let Ot=0,bt=K.length-1,wt,St;if(bt>=0&&(wt=K[bt])instanceof mi){if(!bt&&wt.type==B&&wt.length==ot)return wt;(St=wt.prop(we.lookAhead))&&(Ot=J[bt]+wt.length+St)}return N(B,K,J,ot,Ot,q)}}function j(B,q,K,J,ot,Ot,bt,wt,St){let dt=[],Vt=[];for(;B.length>J;)dt.push(B.pop()),Vt.push(q.pop()+K-ot);B.push(N(o.types[bt],dt,Vt,Ot-ot,wt-Ot,St)),q.push(ot-K)}function N(B,q,K,J,ot,Ot,bt){if(Ot){let wt=[we.contextHash,Ot];bt=bt?[wt].concat(bt):[wt]}if(ot>25){let wt=[we.lookAhead,ot];bt=bt?[wt].concat(bt):[wt]}return new mi(B,q,K,J,bt)}function E(B,q){let K=p.fork(),J=0,ot=0,Ot=0,bt=K.end-a,wt={size:0,start:0,skip:0};t:for(let St=K.pos-B;K.pos>St;){let dt=K.size;if(K.id==q&&dt>=0){wt.size=J,wt.start=ot,wt.skip=Ot,Ot+=4,J+=4,K.next();continue}let Vt=K.pos-dt;if(dt<0||Vt<St||K.start<bt)break;let Mt=K.id>=f?4:0,Et=K.start;for(K.next();K.pos>Vt;){if(K.size<0)if(K.size==-3)Mt+=4;else break t;else K.id>=f&&(Mt+=4);K.next()}ot=Et,J+=dt,Ot+=Mt}return(q<0||J==B)&&(wt.size=J,wt.start=ot,wt.skip=Ot),wt.size>4?wt:void 0}function R(B,q,K){let{id:J,start:ot,end:Ot,size:bt}=p;if(p.next(),bt>=0&&J<f){let wt=K;if(bt>4){let St=p.pos-(bt-4);for(;p.pos>St;)K=R(B,q,K)}q[--K]=wt,q[--K]=Ot-B,q[--K]=ot-B,q[--K]=J}else bt==-3?v=J:bt==-4&&(x=J);return K}let $=[],V=[];for(;p.pos>0;)S(n.start||0,n.bufferStart||0,$,V,-1,0);let D=(e=n.length)!==null&&e!==void 0?e:$.length?V[0]+$[0].length:0;return new mi(g[n.topID],$.reverse(),V.reverse(),D)}const i3=new WeakMap;function ES(n,e){if(!n.isAnonymous||e instanceof _c||e.type!=n)return 1;let r=i3.get(e);if(r==null){r=1;for(let o of e.children){if(o.type!=n||!(o instanceof mi)){r=1;break}r+=ES(n,o)}i3.set(e,r)}return r}function kR(n,e,r,o,a,h,f,p,g){let v=0;for(let j=o;j<a;j++)v+=ES(n,e[j]);let x=Math.ceil(v*1.5/8),S=[],b=[];function C(j,N,E,R,$){for(let V=E;V<R;){let D=V,B=N[V],q=ES(n,j[V]);for(V++;V<R;V++){let K=ES(n,j[V]);if(q+K>=x)break;q+=K}if(V==D+1){if(q>x){let K=j[D];C(K.children,K.positions,0,K.children.length,N[D]+$);continue}S.push(j[D])}else{let K=N[V-1]+j[V-1].length-B;S.push(kR(n,j,N,D,V,B,K,null,g))}b.push(B+$-h)}}return C(e,r,o,a,0),(p||g)(S,b,f)}class PR{constructor(){this.map=new WeakMap}setBuffer(e,r,o){let a=this.map.get(e);a||this.map.set(e,a=new Map),a.set(r,o)}getBuffer(e,r){let o=this.map.get(e);return o&&o.get(r)}set(e,r){e instanceof nu?this.setBuffer(e.context.buffer,e.index,r):e instanceof cs&&this.map.set(e.tree,r)}get(e){return e instanceof nu?this.getBuffer(e.context.buffer,e.index):e instanceof cs?this.map.get(e.tree):void 0}cursorSet(e,r){e.buffer?this.setBuffer(e.buffer.buffer,e.index,r):this.map.set(e.tree,r)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class uh{constructor(e,r,o,a,h=!1,f=!1){this.from=e,this.to=r,this.tree=o,this.offset=a,this.open=(h?1:0)|(f?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,r=[],o=!1){let a=[new uh(0,e.length,e,0,!1,o)];for(let h of r)h.to>e.length&&a.push(h);return a}static applyChanges(e,r,o=128){if(!r.length)return e;let a=[],h=1,f=e.length?e[0]:null;for(let p=0,g=0,v=0;;p++){let x=p<r.length?r[p]:null,S=x?x.fromA:1e9;if(S-g>=o)for(;f&&f.from<S;){let b=f;if(g>=b.from||S<=b.to||v){let C=Math.max(b.from,g)-v,j=Math.min(b.to,S)-v;b=C>=j?null:new uh(C,j,b.tree,b.offset+v,p>0,!!x)}if(b&&a.push(b),f.to>S)break;f=h<e.length?e[h++]:null}if(!x)break;g=x.toA,v=x.toA-x.toB}return a}}class bR{startParse(e,r,o){return typeof e=="string"&&(e=new cmt(e)),o=o?o.length?o.map(a=>new Ol(a.from,a.to)):[new Ol(0,0)]:[new Ol(0,e.length)],this.createParse(e,r||[],o)}parse(e,r,o){let a=this.startParse(e,r,o);for(;;){let h=a.advance();if(h)return h}}}class cmt{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,r){return this.string.slice(e,r)}}function B9(n){return(e,r,o,a)=>new dmt(e,n,r,o,a)}class n3{constructor(e,r,o,a,h){this.parser=e,this.parse=r,this.overlay=o,this.target=a,this.from=h}}function r3(n){if(!n.length||n.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(n))}class fmt{constructor(e,r,o,a,h,f,p){this.parser=e,this.predicate=r,this.mounts=o,this.index=a,this.start=h,this.target=f,this.prev=p,this.depth=0,this.ranges=[]}}const QA=new we({perNode:!0});class dmt{constructor(e,r,o,a,h){this.nest=r,this.input=o,this.fragments=a,this.ranges=h,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let o=this.baseParse.advance();if(!o)return null;if(this.baseParse=null,this.baseTree=o,this.startInner(),this.stoppedAt!=null)for(let a of this.inner)a.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let o=this.baseTree;return this.stoppedAt!=null&&(o=new mi(o.type,o.children,o.positions,o.length,o.propValues.concat([[QA,this.stoppedAt]]))),o}let e=this.inner[this.innerDone],r=e.parse.advance();if(r){this.innerDone++;let o=Object.assign(Object.create(null),e.target.props);o[we.mounted.id]=new qO(r,e.overlay,e.parser),e.target.props=o}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let r=this.innerDone;r<this.inner.length;r++)this.inner[r].from<e&&(e=Math.min(e,this.inner[r].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let r=this.innerDone;r<this.inner.length;r++)this.inner[r].parse.stopAt(e)}startInner(){let e=new gmt(this.fragments),r=null,o=null,a=new Dk(new cs(this.baseTree,this.ranges[0].from,0,null),Ti.IncludeAnonymous|Ti.IgnoreMounts);t:for(let h,f;;){let p=!0,g;if(this.stoppedAt!=null&&a.from>=this.stoppedAt)p=!1;else if(e.hasNode(a)){if(r){let v=r.mounts.find(x=>x.frag.from<=a.from&&x.frag.to>=a.to&&x.mount.overlay);if(v)for(let x of v.mount.overlay){let S=x.from+v.pos,b=x.to+v.pos;S>=a.from&&b<=a.to&&!r.ranges.some(C=>C.from<b&&C.to>S)&&r.ranges.push({from:S,to:b})}}p=!1}else if(o&&(f=pmt(o.ranges,a.from,a.to)))p=f!=2;else if(!a.type.isAnonymous&&(h=this.nest(a,this.input))&&(a.from<a.to||!h.overlay)){a.tree||mmt(a);let v=e.findMounts(a.from,h.parser);if(typeof h.overlay=="function")r=new fmt(h.parser,h.overlay,v,this.inner.length,a.from,a.tree,r);else{let x=l3(this.ranges,h.overlay||(a.from<a.to?[new Ol(a.from,a.to)]:[]));x.length&&r3(x),(x.length||!h.overlay)&&this.inner.push(new n3(h.parser,x.length?h.parser.startParse(this.input,a3(v,x),x):h.parser.startParse(""),h.overlay?h.overlay.map(S=>new Ol(S.from-a.from,S.to-a.from)):null,a.tree,x.length?x[0].from:a.from)),h.overlay?x.length&&(o={ranges:x,depth:0,prev:o}):p=!1}}else if(r&&(g=r.predicate(a))&&(g===!0&&(g=new Ol(a.from,a.to)),g.from<g.to)){let v=r.ranges.length-1;v>=0&&r.ranges[v].to==g.from?r.ranges[v]={from:r.ranges[v].from,to:g.to}:r.ranges.push(g)}if(p&&a.firstChild())r&&r.depth++,o&&o.depth++;else for(;!a.nextSibling();){if(!a.parent())break t;if(r&&!--r.depth){let v=l3(this.ranges,r.ranges);v.length&&(r3(v),this.inner.splice(r.index,0,new n3(r.parser,r.parser.startParse(this.input,a3(r.mounts,v),v),r.ranges.map(x=>new Ol(x.from-r.start,x.to-r.start)),r.target,v[0].from))),r=r.prev}o&&!--o.depth&&(o=o.prev)}}}}function pmt(n,e,r){for(let o of n){if(o.from>=r)break;if(o.to>e)return o.from<=e&&o.to>=r?2:1}return 0}function s3(n,e,r,o,a,h){if(e<r){let f=n.buffer[e+1];o.push(n.slice(e,r,f)),a.push(f-h)}}function mmt(n){let{node:e}=n,r=[],o=e.context.buffer;do r.push(n.index),n.parent();while(!n.tree);let a=n.tree,h=a.children.indexOf(o),f=a.children[h],p=f.buffer,g=[h];function v(x,S,b,C,j,N){let E=r[N],R=[],$=[];s3(f,x,E,R,$,C);let V=p[E+1],D=p[E+2];g.push(R.length);let B=N?v(E+4,p[E+3],f.set.types[p[E]],V,D-V,N-1):e.toTree();return R.push(B),$.push(V-C),s3(f,p[E+3],S,R,$,C),new mi(b,R,$,j)}a.children[h]=v(0,p.length,hr.none,0,f.length,r.length-1);for(let x of g){let S=n.tree.children[x],b=n.tree.positions[x];n.yield(new cs(S,b+n.from,x,n._tree))}}class o3{constructor(e,r){this.offset=r,this.done=!1,this.cursor=e.cursor(Ti.IncludeAnonymous|Ti.IgnoreMounts)}moveTo(e){let{cursor:r}=this,o=e-this.offset;for(;!this.done&&r.from<o;)r.to>=e&&r.enter(o,1,Ti.IgnoreOverlays|Ti.ExcludeBuffers)||r.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let r=this.cursor.tree;;){if(r==e.tree)return!0;if(r.children.length&&r.positions[0]==0&&r.children[0]instanceof mi)r=r.children[0];else break}return!1}}let gmt=class{constructor(e){var r;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let o=this.curFrag=e[0];this.curTo=(r=o.tree.prop(QA))!==null&&r!==void 0?r:o.to,this.inner=new o3(o.tree,-o.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let r=this.curFrag=this.fragments[this.fragI];this.curTo=(e=r.tree.prop(QA))!==null&&e!==void 0?e:r.to,this.inner=new o3(r.tree,-r.offset)}}findMounts(e,r){var o;let a=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let h=this.inner.cursor.node;h;h=h.parent){let f=(o=h.tree)===null||o===void 0?void 0:o.prop(we.mounted);if(f&&f.parser==r)for(let p=this.fragI;p<this.fragments.length;p++){let g=this.fragments[p];if(g.from>=h.to)break;g.tree==this.curFrag.tree&&a.push({frag:g,pos:h.from-g.offset,mount:f})}}}return a}};function l3(n,e){let r=null,o=e;for(let a=1,h=0;a<n.length;a++){let f=n[a-1].to,p=n[a].from;for(;h<o.length;h++){let g=o[h];if(g.from>=p)break;g.to<=f||(r||(o=r=e.slice()),g.from<f?(r[h]=new Ol(g.from,f),g.to>p&&r.splice(h+1,0,new Ol(p,g.to))):g.to>p?r[h--]=new Ol(p,g.to):r.splice(h--,1))}}return o}function ymt(n,e,r,o){let a=0,h=0,f=!1,p=!1,g=-1e9,v=[];for(;;){let x=a==n.length?1e9:f?n[a].to:n[a].from,S=h==e.length?1e9:p?e[h].to:e[h].from;if(f!=p){let b=Math.max(g,r),C=Math.min(x,S,o);b<C&&v.push(new Ol(b,C))}if(g=Math.min(x,S),g==1e9)break;x==g&&(f?(f=!1,a++):f=!0),S==g&&(p?(p=!1,h++):p=!0)}return v}function a3(n,e){let r=[];for(let{pos:o,mount:a,frag:h}of n){let f=o+(a.overlay?a.overlay[0].from:0),p=f+a.tree.length,g=Math.max(h.from,f),v=Math.min(h.to,p);if(a.overlay){let x=a.overlay.map(b=>new Ol(b.from+o,b.to+o)),S=ymt(e,x,g,v);for(let b=0,C=g;;b++){let j=b==S.length,N=j?v:S[b].from;if(N>C&&r.push(new uh(C,N,a.tree,-f,h.from>=C||h.openStart,h.to<=N||h.openEnd)),j)break;C=S[b].to}}else r.push(new uh(g,v,a.tree,-f,h.from>=f||h.openStart,h.to<=p||h.openEnd))}return r}let Omt=0;class Eo{constructor(e,r,o,a){this.name=e,this.set=r,this.base=o,this.modified=a,this.id=Omt++}toString(){let{name:e}=this;for(let r of this.modified)r.name&&(e=`${r.name}(${e})`);return e}static define(e,r){let o=typeof e=="string"?e:"?";if(e instanceof Eo&&(r=e),r!=null&&r.base)throw new Error("Can not derive from a modified tag");let a=new Eo(o,[],null,[]);if(a.set.push(a),r)for(let h of r.set)a.set.push(h);return a}static defineModifier(e){let r=new Ik(e);return o=>o.modified.indexOf(r)>-1?o:Ik.get(o.base||o,o.modified.concat(r).sort((a,h)=>a.id-h.id))}}let vmt=0;class Ik{constructor(e){this.name=e,this.instances=[],this.id=vmt++}static get(e,r){if(!r.length)return e;let o=r[0].instances.find(p=>p.base==e&&xmt(r,p.modified));if(o)return o;let a=[],h=new Eo(e.name,a,e,r);for(let p of r)p.instances.push(h);let f=wmt(r);for(let p of e.set)if(!p.modified.length)for(let g of f)a.push(Ik.get(p,g));return h}}function xmt(n,e){return n.length==e.length&&n.every((r,o)=>r==e[o])}function wmt(n){let e=[[]];for(let r=0;r<n.length;r++)for(let o=0,a=e.length;o<a;o++)e.push(e[o].concat(n[r]));return e.sort((r,o)=>o.length-r.length)}function ef(n){let e=Object.create(null);for(let r in n){let o=n[r];Array.isArray(o)||(o=[o]);for(let a of r.split(" "))if(a){let h=[],f=2,p=a;for(let S=0;;){if(p=="..."&&S>0&&S+3==a.length){f=1;break}let b=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(p);if(!b)throw new RangeError("Invalid path: "+a);if(h.push(b[0]=="*"?"":b[0][0]=='"'?JSON.parse(b[0]):b[0]),S+=b[0].length,S==a.length)break;let C=a[S++];if(S==a.length&&C=="!"){f=0;break}if(C!="/")throw new RangeError("Invalid path: "+a);p=a.slice(S)}let g=h.length-1,v=h[g];if(!v)throw new RangeError("Invalid path: "+a);let x=new Fk(o,f,g>0?h.slice(0,g):null);e[v]=x.sort(e[v])}}return _9.add(e)}const _9=new we;class Fk{constructor(e,r,o,a){this.tags=e,this.mode=r,this.context=o,this.next=a}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Fk.empty=new Fk([],2,null);function Z9(n,e){let r=Object.create(null);for(let h of n)if(!Array.isArray(h.tag))r[h.tag.id]=h.class;else for(let f of h.tag)r[f.id]=h.class;let{scope:o,all:a=null}=e||{};return{style:h=>{let f=a;for(let p of h)for(let g of p.set){let v=r[g.id];if(v){f=f?f+" "+v:v;break}}return f},scope:o}}function Smt(n,e){let r=null;for(let o of n){let a=o.style(e);a&&(r=r?r+" "+a:a)}return r}function kmt(n,e,r,o=0,a=n.length){let h=new Pmt(o,Array.isArray(e)?e:[e],r);h.highlightRange(n.cursor(),o,a,"",h.highlighters),h.flush(a)}class Pmt{constructor(e,r,o){this.at=e,this.highlighters=r,this.span=o,this.class=""}startSpan(e,r){r!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=r)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,r,o,a,h){let{type:f,from:p,to:g}=e;if(p>=o||g<=r)return;f.isTop&&(h=this.highlighters.filter(C=>!C.scope||C.scope(f)));let v=a,x=bmt(e)||Fk.empty,S=Smt(h,x.tags);if(S&&(v&&(v+=" "),v+=S,x.mode==1&&(a+=(a?" ":"")+S)),this.startSpan(Math.max(r,p),v),x.opaque)return;let b=e.tree&&e.tree.prop(we.mounted);if(b&&b.overlay){let C=e.node.enter(b.overlay[0].from+p,1),j=this.highlighters.filter(E=>!E.scope||E.scope(b.tree.type)),N=e.firstChild();for(let E=0,R=p;;E++){let $=E<b.overlay.length?b.overlay[E]:null,V=$?$.from+p:g,D=Math.max(r,R),B=Math.min(o,V);if(D<B&&N)for(;e.from<B&&(this.highlightRange(e,D,B,a,h),this.startSpan(Math.min(B,e.to),v),!(e.to>=V||!e.nextSibling())););if(!$||V>o)break;R=$.to+p,R>r&&(this.highlightRange(C.cursor(),Math.max(r,$.from+p),Math.min(o,R),"",j),this.startSpan(Math.min(o,R),v))}N&&e.parent()}else if(e.firstChild()){b&&(a="");do if(!(e.to<=r)){if(e.from>=o)break;this.highlightRange(e,r,o,a,h),this.startSpan(Math.min(o,e.to),v)}while(e.nextSibling());e.parent()}}}function bmt(n){let e=n.type.prop(_9);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const Ut=Eo.define,Zw=Ut(),oc=Ut(),u3=Ut(oc),h3=Ut(oc),lc=Ut(),Yw=Ut(lc),NM=Ut(lc),Wa=Ut(),Bf=Ut(Wa),Ya=Ut(),Ua=Ut(),NA=Ut(),Oy=Ut(NA),Uw=Ut(),W={comment:Zw,lineComment:Ut(Zw),blockComment:Ut(Zw),docComment:Ut(Zw),name:oc,variableName:Ut(oc),typeName:u3,tagName:Ut(u3),propertyName:h3,attributeName:Ut(h3),className:Ut(oc),labelName:Ut(oc),namespace:Ut(oc),macroName:Ut(oc),literal:lc,string:Yw,docString:Ut(Yw),character:Ut(Yw),attributeValue:Ut(Yw),number:NM,integer:Ut(NM),float:Ut(NM),bool:Ut(lc),regexp:Ut(lc),escape:Ut(lc),color:Ut(lc),url:Ut(lc),keyword:Ya,self:Ut(Ya),null:Ut(Ya),atom:Ut(Ya),unit:Ut(Ya),modifier:Ut(Ya),operatorKeyword:Ut(Ya),controlKeyword:Ut(Ya),definitionKeyword:Ut(Ya),moduleKeyword:Ut(Ya),operator:Ua,derefOperator:Ut(Ua),arithmeticOperator:Ut(Ua),logicOperator:Ut(Ua),bitwiseOperator:Ut(Ua),compareOperator:Ut(Ua),updateOperator:Ut(Ua),definitionOperator:Ut(Ua),typeOperator:Ut(Ua),controlOperator:Ut(Ua),punctuation:NA,separator:Ut(NA),bracket:Oy,angleBracket:Ut(Oy),squareBracket:Ut(Oy),paren:Ut(Oy),brace:Ut(Oy),content:Wa,heading:Bf,heading1:Ut(Bf),heading2:Ut(Bf),heading3:Ut(Bf),heading4:Ut(Bf),heading5:Ut(Bf),heading6:Ut(Bf),contentSeparator:Ut(Wa),list:Ut(Wa),quote:Ut(Wa),emphasis:Ut(Wa),strong:Ut(Wa),link:Ut(Wa),monospace:Ut(Wa),strikethrough:Ut(Wa),inserted:Ut(),deleted:Ut(),changed:Ut(),invalid:Ut(),meta:Uw,documentMeta:Ut(Uw),annotation:Ut(Uw),processingInstruction:Ut(Uw),definition:Eo.defineModifier("definition"),constant:Eo.defineModifier("constant"),function:Eo.defineModifier("function"),standard:Eo.defineModifier("standard"),local:Eo.defineModifier("local"),special:Eo.defineModifier("special")};for(let n in W){let e=W[n];e instanceof Eo&&(e.name=n)}Z9([{tag:W.link,class:"tok-link"},{tag:W.heading,class:"tok-heading"},{tag:W.emphasis,class:"tok-emphasis"},{tag:W.strong,class:"tok-strong"},{tag:W.keyword,class:"tok-keyword"},{tag:W.atom,class:"tok-atom"},{tag:W.bool,class:"tok-bool"},{tag:W.url,class:"tok-url"},{tag:W.labelName,class:"tok-labelName"},{tag:W.inserted,class:"tok-inserted"},{tag:W.deleted,class:"tok-deleted"},{tag:W.literal,class:"tok-literal"},{tag:W.string,class:"tok-string"},{tag:W.number,class:"tok-number"},{tag:[W.regexp,W.escape,W.special(W.string)],class:"tok-string2"},{tag:W.variableName,class:"tok-variableName"},{tag:W.local(W.variableName),class:"tok-variableName tok-local"},{tag:W.definition(W.variableName),class:"tok-variableName tok-definition"},{tag:W.special(W.variableName),class:"tok-variableName2"},{tag:W.definition(W.propertyName),class:"tok-propertyName tok-definition"},{tag:W.typeName,class:"tok-typeName"},{tag:W.namespace,class:"tok-namespace"},{tag:W.className,class:"tok-className"},{tag:W.macroName,class:"tok-macroName"},{tag:W.propertyName,class:"tok-propertyName"},{tag:W.operator,class:"tok-operator"},{tag:W.comment,class:"tok-comment"},{tag:W.meta,class:"tok-meta"},{tag:W.invalid,class:"tok-invalid"},{tag:W.punctuation,class:"tok-punctuation"}]);var AM;const nd=new we;function TR(n){return Ht.define({combine:n?e=>e.concat(n):void 0})}const CR=new we;class vl{constructor(e,r,o=[],a=""){this.data=e,this.name=a,Ye.prototype.hasOwnProperty("tree")||Object.defineProperty(Ye.prototype,"tree",{get(){return Mi(this)}}),this.parser=r,this.extension=[Yc.of(this),Ye.languageData.of((h,f,p)=>{let g=c3(h,f,p),v=g.type.prop(nd);if(!v)return[];let x=h.facet(v),S=g.type.prop(CR);if(S){let b=g.resolve(f-g.from,p);for(let C of S)if(C.test(b,h)){let j=h.facet(C.facet);return C.type=="replace"?j:j.concat(x)}}return x})].concat(o)}isActiveAt(e,r,o=-1){return c3(e,r,o).type.prop(nd)==this.data}findRegions(e){let r=e.facet(Yc);if((r==null?void 0:r.data)==this.data)return[{from:0,to:e.doc.length}];if(!r||!r.allowsNesting)return[];let o=[],a=(h,f)=>{if(h.prop(nd)==this.data){o.push({from:f,to:f+h.length});return}let p=h.prop(we.mounted);if(p){if(p.tree.prop(nd)==this.data){if(p.overlay)for(let g of p.overlay)o.push({from:g.from+f,to:g.to+f});else o.push({from:f,to:f+h.length});return}else if(p.overlay){let g=o.length;if(a(p.tree,p.overlay[0].from+f),o.length>g)return}}for(let g=0;g<h.children.length;g++){let v=h.children[g];v instanceof mi&&a(v,h.positions[g]+f)}};return a(Mi(e),0),o}get allowsNesting(){return!0}}vl.setState=Se.define();function c3(n,e,r){let o=n.facet(Yc),a=Mi(n).topNode;if(!o||o.allowsNesting)for(let h=a;h;h=h.enter(e,r,Ti.ExcludeBuffers))h.type.isTop&&(a=h);return a}class Zc extends vl{constructor(e,r,o){super(e,r,[],o),this.parser=r}static define(e){let r=TR(e.languageData);return new Zc(r,e.parser.configure({props:[nd.add(o=>o.isTop?r:void 0)]}),e.name)}configure(e,r){return new Zc(this.data,this.parser.configure(e),r||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Mi(n){let e=n.field(vl.state,!1);return e?e.tree:mi.empty}class Tmt{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,r){let o=this.cursorPos-this.string.length;return e<o||r>=this.cursorPos?this.doc.sliceString(e,r):this.string.slice(e-o,r-o)}}let vy=null;class HO{constructor(e,r,o=[],a,h,f,p,g){this.parser=e,this.state=r,this.fragments=o,this.tree=a,this.treeLen=h,this.viewport=f,this.skipped=p,this.scheduleOn=g,this.parse=null,this.tempSkipped=[]}static create(e,r,o){return new HO(e,r,[],mi.empty,0,o,[],null)}startParse(){return this.parser.startParse(new Tmt(this.state.doc),this.fragments)}work(e,r){return r!=null&&r>=this.state.doc.length&&(r=void 0),this.tree!=mi.empty&&this.isDone(r??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var o;if(typeof e=="number"){let a=Date.now()+e;e=()=>Date.now()>a}for(this.parse||(this.parse=this.startParse()),r!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&r<this.state.doc.length&&this.parse.stopAt(r);;){let a=this.parse.advance();if(a)if(this.fragments=this.withoutTempSkipped(uh.addTree(a,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(o=this.parse.stoppedAt)!==null&&o!==void 0?o:this.state.doc.length,this.tree=a,this.parse=null,this.treeLen<(r??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,r;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(r=this.parse.advance()););}),this.treeLen=e,this.tree=r,this.fragments=this.withoutTempSkipped(uh.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let r=vy;vy=this;try{return e()}finally{vy=r}}withoutTempSkipped(e){for(let r;r=this.tempSkipped.pop();)e=f3(e,r.from,r.to);return e}changes(e,r){let{fragments:o,tree:a,treeLen:h,viewport:f,skipped:p}=this;if(this.takeTree(),!e.empty){let g=[];if(e.iterChangedRanges((v,x,S,b)=>g.push({fromA:v,toA:x,fromB:S,toB:b})),o=uh.applyChanges(o,g),a=mi.empty,h=0,f={from:e.mapPos(f.from,-1),to:e.mapPos(f.to,1)},this.skipped.length){p=[];for(let v of this.skipped){let x=e.mapPos(v.from,1),S=e.mapPos(v.to,-1);x<S&&p.push({from:x,to:S})}}}return new HO(this.parser,r,o,a,h,f,p,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let r=this.skipped.length;for(let o=0;o<this.skipped.length;o++){let{from:a,to:h}=this.skipped[o];a<e.to&&h>e.from&&(this.fragments=f3(this.fragments,a,h),this.skipped.splice(o--,1))}return this.skipped.length>=r?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,r){this.skipped.push({from:e,to:r})}static getSkippingParser(e){return new class extends bR{createParse(r,o,a){let h=a[0].from,f=a[a.length-1].to;return{parsedPos:h,advance(){let g=vy;if(g){for(let v of a)g.tempSkipped.push(v);e&&(g.scheduleOn=g.scheduleOn?Promise.all([g.scheduleOn,e]):e)}return this.parsedPos=f,new mi(hr.none,[],[],f-h)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let r=this.fragments;return this.treeLen>=e&&r.length&&r[0].from==0&&r[0].to>=e}static get(){return vy}}function f3(n,e,r){return uh.applyChanges(n,[{fromA:e,toA:r,fromB:e,toB:r}])}class ug{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let r=this.context.changes(e.changes,e.state),o=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),r.viewport.to);return r.work(20,o)||r.takeTree(),new ug(r)}static init(e){let r=Math.min(3e3,e.doc.length),o=HO.create(e.facet(Yc).parser,e,{from:0,to:r});return o.work(20,r)||o.takeTree(),new ug(o)}}vl.state=kr.define({create:ug.init,update(n,e){for(let r of e.effects)if(r.is(vl.setState))return r.value;return e.startState.facet(Yc)!=e.state.facet(Yc)?ug.init(e.state):n.apply(e)}});let Y9=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Y9=n=>{let e=-1,r=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(r):cancelIdleCallback(e)});const jM=typeof navigator<"u"&&(!((AM=navigator.scheduling)===null||AM===void 0)&&AM.isInputPending)?()=>navigator.scheduling.isInputPending():null,Cmt=In.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let r=this.view.state.field(vl.state).context;(r.updateViewport(e.view.viewport)||this.view.viewport.to>r.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(r)}scheduleWork(){if(this.working)return;let{state:e}=this.view,r=e.field(vl.state);(r.tree!=r.context.tree||!r.context.isDone(e.doc.length))&&(this.working=Y9(this.work))}work(e){this.working=null;let r=Date.now();if(this.chunkEnd<r&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=r+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:o,viewport:{to:a}}=this.view,h=o.field(vl.state);if(h.tree==h.context.tree&&h.context.isDone(a+1e5))return;let f=Date.now()+Math.min(this.chunkBudget,100,e&&!jM?Math.max(25,e.timeRemaining()-5):1e9),p=h.context.treeLen<a&&o.doc.length>a+1e3,g=h.context.work(()=>jM&&jM()||Date.now()>f,a+(p?0:1e5));this.chunkBudget-=Date.now()-r,(g||this.chunkBudget<=0)&&(h.context.takeTree(),this.view.dispatch({effects:vl.setState.of(new ug(h.context))})),this.chunkBudget>0&&!(g&&!p)&&this.scheduleWork(),this.checkAsyncSchedule(h.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(r=>lo(this.view.state,r)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Yc=Ht.define({combine(n){return n.length?n[0]:null},enables:n=>[vl.state,Cmt,Yt.contentAttributes.compute([n],e=>{let r=e.facet(n);return r&&r.name?{"data-language":r.name}:{}})]});class Cd{constructor(e,r=[]){this.language=e,this.support=r,this.extension=[e,r]}}class Vk{constructor(e,r,o,a,h,f=void 0){this.name=e,this.alias=r,this.extensions=o,this.filename=a,this.loadFunc=h,this.support=f,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:r,support:o}=e;if(!r){if(!o)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");r=()=>Promise.resolve(o)}return new Vk(e.name,(e.alias||[]).concat(e.name).map(a=>a.toLowerCase()),e.extensions||[],e.filename,r,o)}static matchFilename(e,r){for(let a of e)if(a.filename&&a.filename.test(r))return a;let o=/\.([^.]+)$/.exec(r);if(o){for(let a of e)if(a.extensions.indexOf(o[1])>-1)return a}return null}static matchLanguageName(e,r,o=!0){r=r.toLowerCase();for(let a of e)if(a.alias.some(h=>h==r))return a;if(o)for(let a of e)for(let h of a.alias){let f=r.indexOf(h);if(f>-1&&(h.length>2||!/\w/.test(r[f-1])&&!/\w/.test(r[f+h.length])))return a}return null}}const Mmt=Ht.define(),Ng=Ht.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(r=>r!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function zk(n){let e=n.facet(Ng);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function KO(n,e){let r="",o=n.tabSize,a=n.facet(Ng)[0];if(a=="	"){for(;e>=o;)r+="	",e-=o;a=" "}for(let h=0;h<e;h++)r+=a;return r}function MR(n,e){n instanceof Ye&&(n=new i2(n));for(let o of n.state.facet(Mmt)){let a=o(n,e);if(a!==void 0)return a}let r=Mi(n.state);return r.length>=e?Qmt(n,r,e):null}class i2{constructor(e,r={}){this.state=e,this.options=r,this.unit=zk(e)}lineAt(e,r=1){let o=this.state.doc.lineAt(e),{simulateBreak:a,simulateDoubleBreak:h}=this.options;return a!=null&&a>=o.from&&a<=o.to?h&&a==e?{text:"",from:e}:(r<0?a<e:a<=e)?{text:o.text.slice(a-o.from),from:a}:{text:o.text.slice(0,a-o.from),from:o.from}:o}textAfterPos(e,r=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:o,from:a}=this.lineAt(e,r);return o.slice(e-a,Math.min(o.length,e+100-a))}column(e,r=1){let{text:o,from:a}=this.lineAt(e,r),h=this.countColumn(o,e-a),f=this.options.overrideIndentation?this.options.overrideIndentation(a):-1;return f>-1&&(h+=f-this.countColumn(o,o.search(/\S|$/))),h}countColumn(e,r=e.length){return oa(e,this.state.tabSize,r)}lineIndent(e,r=1){let{text:o,from:a}=this.lineAt(e,r),h=this.options.overrideIndentation;if(h){let f=h(a);if(f>-1)return f}return this.countColumn(o,o.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Rd=new we;function Qmt(n,e,r){let o=e.resolveStack(r),a=e.resolveInner(r,-1).resolve(r,0).enterUnfinishedNodesBefore(r);if(a!=o.node){let h=[];for(let f=a;f&&!(f.from==o.node.from&&f.type==o.node.type);f=f.parent)h.push(f);for(let f=h.length-1;f>=0;f--)o={node:h[f],next:o}}return U9(o,n,r)}function U9(n,e,r){for(let o=n;o;o=o.next){let a=Amt(o.node);if(a)return a(QR.create(e,r,o))}return 0}function Nmt(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function Amt(n){let e=n.type.prop(Rd);if(e)return e;let r=n.firstChild,o;if(r&&(o=r.type.prop(we.closedBy))){let a=n.lastChild,h=a&&o.indexOf(a.name)>-1;return f=>W9(f,!0,1,void 0,h&&!Nmt(f)?a.from:void 0)}return n.parent==null?jmt:null}function jmt(){return 0}class QR extends i2{constructor(e,r,o){super(e.state,e.options),this.base=e,this.pos=r,this.context=o}get node(){return this.context.node}static create(e,r,o){return new QR(e,r,o)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let r=this.state.doc.lineAt(e.from);for(;;){let o=e.resolve(r.from);for(;o.parent&&o.parent.from==o.from;)o=o.parent;if(Emt(o,e))break;r=this.state.doc.lineAt(o.from)}return this.lineIndent(r.from)}continue(){return U9(this.context.next,this.base,this.pos)}}function Emt(n,e){for(let r=e;r;r=r.parent)if(n==r)return!0;return!1}function Rmt(n){let e=n.node,r=e.childAfter(e.from),o=e.lastChild;if(!r)return null;let a=n.options.simulateBreak,h=n.state.doc.lineAt(r.from),f=a==null||a<=h.from?h.to:Math.min(h.to,a);for(let p=r.to;;){let g=e.childAfter(p);if(!g||g==o)return null;if(!g.type.isSkipped){if(g.from>=f)return null;let v=/^ */.exec(h.text.slice(r.to-h.from))[0].length;return{from:r.from,to:r.to+v}}p=g.to}}function RS({closing:n,align:e=!0,units:r=1}){return o=>W9(o,e,r,n)}function W9(n,e,r,o,a){let h=n.textAfter,f=h.match(/^\s*/)[0].length,p=o&&h.slice(f,f+o.length)==o||a==n.pos+f,g=e?Rmt(n):null;return g?p?n.column(g.from):n.column(g.to):n.baseIndent+(p?0:n.unit*r)}const Lmt=n=>n.baseIndent;function Am({except:n,units:e=1}={}){return r=>{let o=n&&n.test(r.textAfter);return r.baseIndent+(o?0:e*r.unit)}}const $mt=200;function Dmt(){return Ye.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let r=n.newDoc,{head:o}=n.newSelection.main,a=r.lineAt(o);if(o>a.from+$mt)return n;let h=r.sliceString(a.from,o);if(!e.some(v=>v.test(h)))return n;let{state:f}=n,p=-1,g=[];for(let{head:v}of f.selection.ranges){let x=f.doc.lineAt(v);if(x.from==p)continue;p=x.from;let S=MR(f,x.from);if(S==null)continue;let b=/^\s*/.exec(x.text)[0],C=KO(f,S);b!=C&&g.push({from:x.from,to:x.from+b.length,insert:C})}return g.length?[n,{changes:g,sequential:!0}]:n})}const q9=Ht.define(),nf=new we;function n2(n){let e=n.firstChild,r=n.lastChild;return e&&e.to<r.from?{from:e.to,to:r.type.isError?n.to:r.from}:null}function Imt(n,e,r){let o=Mi(n);if(o.length<r)return null;let a=o.resolveStack(r,1),h=null;for(let f=a;f;f=f.next){let p=f.node;if(p.to<=r||p.from>r)continue;if(h&&p.from<e)break;let g=p.type.prop(nf);if(g&&(p.to<o.length-50||o.length==n.doc.length||!Fmt(p))){let v=g(p,n);v&&v.from<=r&&v.from>=e&&v.to>r&&(h=v)}}return h}function Fmt(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function Xk(n,e,r){for(let o of n.facet(q9)){let a=o(n,e,r);if(a)return a}return Imt(n,e,r)}function G9(n,e){let r=e.mapPos(n.from,1),o=e.mapPos(n.to,-1);return r>=o?void 0:{from:r,to:o}}const r2=Se.define({map:G9}),jv=Se.define({map:G9});function H9(n){let e=[];for(let{head:r}of n.state.selection.ranges)e.some(o=>o.from<=r&&o.to>=r)||e.push(n.lineBlockAt(r));return e}const Md=kr.define({create(){return ue.none},update(n,e){n=n.map(e.changes);for(let r of e.effects)if(r.is(r2)&&!Vmt(n,r.value.from,r.value.to)){let{preparePlaceholder:o}=e.state.facet(t7),a=o?ue.replace({widget:new Umt(o(e.state,r.value))}):d3;n=n.update({add:[a.range(r.value.from,r.value.to)]})}else r.is(jv)&&(n=n.update({filter:(o,a)=>r.value.from!=o||r.value.to!=a,filterFrom:r.value.from,filterTo:r.value.to}));if(e.selection){let r=!1,{head:o}=e.selection.main;n.between(o,o,(a,h)=>{a<o&&h>o&&(r=!0)}),r&&(n=n.update({filterFrom:o,filterTo:o,filter:(a,h)=>h<=o||a>=o}))}return n},provide:n=>Yt.decorations.from(n),toJSON(n,e){let r=[];return n.between(0,e.doc.length,(o,a)=>{r.push(o,a)}),r},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let r=0;r<n.length;){let o=n[r++],a=n[r++];if(typeof o!="number"||typeof a!="number")throw new RangeError("Invalid JSON for fold state");e.push(d3.range(o,a))}return ue.set(e,!0)}});function Bk(n,e,r){var o;let a=null;return(o=n.field(Md,!1))===null||o===void 0||o.between(e,r,(h,f)=>{(!a||a.from>h)&&(a={from:h,to:f})}),a}function Vmt(n,e,r){let o=!1;return n.between(e,e,(a,h)=>{a==e&&h==r&&(o=!0)}),o}function K9(n,e){return n.field(Md,!1)?e:e.concat(Se.appendConfig.of(e7()))}const zmt=n=>{for(let e of H9(n)){let r=Xk(n.state,e.from,e.to);if(r)return n.dispatch({effects:K9(n.state,[r2.of(r),J9(n,r)])}),!0}return!1},Xmt=n=>{if(!n.state.field(Md,!1))return!1;let e=[];for(let r of H9(n)){let o=Bk(n.state,r.from,r.to);o&&e.push(jv.of(o),J9(n,o,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function J9(n,e,r=!0){let o=n.state.doc.lineAt(e.from).number,a=n.state.doc.lineAt(e.to).number;return Yt.announce.of(`${n.state.phrase(r?"Folded lines":"Unfolded lines")} ${o} ${n.state.phrase("to")} ${a}.`)}const Bmt=n=>{let{state:e}=n,r=[];for(let o=0;o<e.doc.length;){let a=n.lineBlockAt(o),h=Xk(e,a.from,a.to);h&&r.push(r2.of(h)),o=(h?n.lineBlockAt(h.to):a).to+1}return r.length&&n.dispatch({effects:K9(n.state,r)}),!!r.length},_mt=n=>{let e=n.state.field(Md,!1);if(!e||!e.size)return!1;let r=[];return e.between(0,n.state.doc.length,(o,a)=>{r.push(jv.of({from:o,to:a}))}),n.dispatch({effects:r}),!0},Zmt=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:zmt},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Xmt},{key:"Ctrl-Alt-[",run:Bmt},{key:"Ctrl-Alt-]",run:_mt}],Ymt={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},t7=Ht.define({combine(n){return yu(n,Ymt)}});function e7(n){return[Md,Gmt]}function i7(n,e){let{state:r}=n,o=r.facet(t7),a=f=>{let p=n.lineBlockAt(n.posAtDOM(f.target)),g=Bk(n.state,p.from,p.to);g&&n.dispatch({effects:jv.of(g)}),f.preventDefault()};if(o.placeholderDOM)return o.placeholderDOM(n,a,e);let h=document.createElement("span");return h.textContent=o.placeholderText,h.setAttribute("aria-label",r.phrase("folded code")),h.title=r.phrase("unfold"),h.className="cm-foldPlaceholder",h.onclick=a,h}const d3=ue.replace({widget:new class extends Ou{toDOM(n){return i7(n,null)}}});class Umt extends Ou{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return i7(e,this.value)}}const Wmt={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class EM extends wh{constructor(e,r){super(),this.config=e,this.open=r}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let r=document.createElement("span");return r.textContent=this.open?this.config.openText:this.config.closedText,r.title=e.state.phrase(this.open?"Fold line":"Unfold line"),r}}function qmt(n={}){let e=Object.assign(Object.assign({},Wmt),n),r=new EM(e,!0),o=new EM(e,!1),a=In.fromClass(class{constructor(f){this.from=f.viewport.from,this.markers=this.buildMarkers(f)}update(f){(f.docChanged||f.viewportChanged||f.startState.facet(Yc)!=f.state.facet(Yc)||f.startState.field(Md,!1)!=f.state.field(Md,!1)||Mi(f.startState)!=Mi(f.state)||e.foldingChanged(f))&&(this.markers=this.buildMarkers(f.view))}buildMarkers(f){let p=new vh;for(let g of f.viewportLineBlocks){let v=Bk(f.state,g.from,g.to)?o:Xk(f.state,g.from,g.to)?r:null;v&&p.add(g.from,g.from,v)}return p.finish()}}),{domEventHandlers:h}=e;return[a,Wpt({class:"cm-foldGutter",markers(f){var p;return((p=f.plugin(a))===null||p===void 0?void 0:p.markers)||ri.empty},initialSpacer(){return new EM(e,!1)},domEventHandlers:Object.assign(Object.assign({},h),{click:(f,p,g)=>{if(h.click&&h.click(f,p,g))return!0;let v=Bk(f.state,p.from,p.to);if(v)return f.dispatch({effects:jv.of(v)}),!0;let x=Xk(f.state,p.from,p.to);return x?(f.dispatch({effects:r2.of(x)}),!0):!1}})}),e7()]}const Gmt=Yt.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Ag{constructor(e,r){this.specs=e;let o;function a(p){let g=zc.newName();return(o||(o=Object.create(null)))["."+g]=p,g}const h=typeof r.all=="string"?r.all:r.all?a(r.all):void 0,f=r.scope;this.scope=f instanceof vl?p=>p.prop(nd)==f.data:f?p=>p==f:void 0,this.style=Z9(e.map(p=>({tag:p.tag,class:p.class||a(Object.assign({},p,{tag:null}))})),{all:h}).style,this.module=o?new zc(o):null,this.themeType=r.themeType}static define(e,r){return new Ag(e,r||{})}}const AA=Ht.define(),n7=Ht.define({combine(n){return n.length?[n[0]]:null}});function RM(n){let e=n.facet(AA);return e.length?e:n.facet(n7)}function NR(n,e){let r=[Kmt],o;return n instanceof Ag&&(n.module&&r.push(Yt.styleModule.of(n.module)),o=n.themeType),e!=null&&e.fallback?r.push(n7.of(n)):o?r.push(AA.computeN([Yt.darkTheme],a=>a.facet(Yt.darkTheme)==(o=="dark")?[n]:[])):r.push(AA.of(n)),r}class Hmt{constructor(e){this.markCache=Object.create(null),this.tree=Mi(e.state),this.decorations=this.buildDeco(e,RM(e.state)),this.decoratedTo=e.viewport.to}update(e){let r=Mi(e.state),o=RM(e.state),a=o!=RM(e.startState),{viewport:h}=e.view,f=e.changes.mapPos(this.decoratedTo,1);r.length<h.to&&!a&&r.type==this.tree.type&&f>=h.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=f):(r!=this.tree||e.viewportChanged||a)&&(this.tree=r,this.decorations=this.buildDeco(e.view,o),this.decoratedTo=h.to)}buildDeco(e,r){if(!r||!this.tree.length)return ue.none;let o=new vh;for(let{from:a,to:h}of e.visibleRanges)kmt(this.tree,r,(f,p,g)=>{o.add(f,p,this.markCache[g]||(this.markCache[g]=ue.mark({class:g})))},a,h);return o.finish()}}const Kmt=Ph.high(In.fromClass(Hmt,{decorations:n=>n.decorations})),Jmt=Ag.define([{tag:W.meta,color:"#404740"},{tag:W.link,textDecoration:"underline"},{tag:W.heading,textDecoration:"underline",fontWeight:"bold"},{tag:W.emphasis,fontStyle:"italic"},{tag:W.strong,fontWeight:"bold"},{tag:W.strikethrough,textDecoration:"line-through"},{tag:W.keyword,color:"#708"},{tag:[W.atom,W.bool,W.url,W.contentSeparator,W.labelName],color:"#219"},{tag:[W.literal,W.inserted],color:"#164"},{tag:[W.string,W.deleted],color:"#a11"},{tag:[W.regexp,W.escape,W.special(W.string)],color:"#e40"},{tag:W.definition(W.variableName),color:"#00f"},{tag:W.local(W.variableName),color:"#30a"},{tag:[W.typeName,W.namespace],color:"#085"},{tag:W.className,color:"#167"},{tag:[W.special(W.variableName),W.macroName],color:"#256"},{tag:W.definition(W.propertyName),color:"#00c"},{tag:W.comment,color:"#940"},{tag:W.invalid,color:"#f00"}]),tgt=Yt.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),r7=1e4,s7="()[]{}",o7=Ht.define({combine(n){return yu(n,{afterCursor:!0,brackets:s7,maxScanDistance:r7,renderMatch:ngt})}}),egt=ue.mark({class:"cm-matchingBracket"}),igt=ue.mark({class:"cm-nonmatchingBracket"});function ngt(n){let e=[],r=n.matched?egt:igt;return e.push(r.range(n.start.from,n.start.to)),n.end&&e.push(r.range(n.end.from,n.end.to)),e}const rgt=kr.define({create(){return ue.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let r=[],o=e.state.facet(o7);for(let a of e.state.selection.ranges){if(!a.empty)continue;let h=ru(e.state,a.head,-1,o)||a.head>0&&ru(e.state,a.head-1,1,o)||o.afterCursor&&(ru(e.state,a.head,1,o)||a.head<e.state.doc.length&&ru(e.state,a.head+1,-1,o));h&&(r=r.concat(o.renderMatch(h,e.state)))}return ue.set(r,!0)},provide:n=>Yt.decorations.from(n)}),sgt=[rgt,tgt];function ogt(n={}){return[o7.of(n),sgt]}const l7=new we;function jA(n,e,r){let o=n.prop(e<0?we.openedBy:we.closedBy);if(o)return o;if(n.name.length==1){let a=r.indexOf(n.name);if(a>-1&&a%2==(e<0?1:0))return[r[a+e]]}return null}function EA(n){let e=n.type.prop(l7);return e?e(n.node):n}function ru(n,e,r,o={}){let a=o.maxScanDistance||r7,h=o.brackets||s7,f=Mi(n),p=f.resolveInner(e,r);for(let g=p;g;g=g.parent){let v=jA(g.type,r,h);if(v&&g.from<g.to){let x=EA(g);if(x&&(r>0?e>=x.from&&e<x.to:e>x.from&&e<=x.to))return lgt(n,e,r,g,x,v,h)}}return agt(n,e,r,f,p.type,a,h)}function lgt(n,e,r,o,a,h,f){let p=o.parent,g={from:a.from,to:a.to},v=0,x=p==null?void 0:p.cursor();if(x&&(r<0?x.childBefore(o.from):x.childAfter(o.to)))do if(r<0?x.to<=o.from:x.from>=o.to){if(v==0&&h.indexOf(x.type.name)>-1&&x.from<x.to){let S=EA(x);return{start:g,end:S?{from:S.from,to:S.to}:void 0,matched:!0}}else if(jA(x.type,r,f))v++;else if(jA(x.type,-r,f)){if(v==0){let S=EA(x);return{start:g,end:S&&S.from<S.to?{from:S.from,to:S.to}:void 0,matched:!1}}v--}}while(r<0?x.prevSibling():x.nextSibling());return{start:g,matched:!1}}function agt(n,e,r,o,a,h,f){let p=r<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),g=f.indexOf(p);if(g<0||g%2==0!=r>0)return null;let v={from:r<0?e-1:e,to:r>0?e+1:e},x=n.doc.iterRange(e,r>0?n.doc.length:0),S=0;for(let b=0;!x.next().done&&b<=h;){let C=x.value;r<0&&(b+=C.length);let j=e+b*r;for(let N=r>0?0:C.length-1,E=r>0?C.length:-1;N!=E;N+=r){let R=f.indexOf(C[N]);if(!(R<0||o.resolveInner(j+N,1).type!=a))if(R%2==0==r>0)S++;else{if(S==1)return{start:v,end:{from:j+N,to:j+N+1},matched:R>>1==g>>1};S--}}r>0&&(b+=C.length)}return x.done?{start:v,matched:!1}:null}const ugt=Object.create(null),p3=[hr.none],m3=[],g3=Object.create(null),hgt=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])hgt[n]=cgt(ugt,e);function LM(n,e){m3.indexOf(n)>-1||(m3.push(n),console.warn(e))}function cgt(n,e){let r=[];for(let p of e.split(" ")){let g=[];for(let v of p.split(".")){let x=n[v]||W[v];x?typeof x=="function"?g.length?g=g.map(x):LM(v,`Modifier ${v} used at start of tag`):g.length?LM(v,`Tag ${v} used as modifier`):g=Array.isArray(x)?x:[x]:LM(v,`Unknown highlighting tag ${v}`)}for(let v of g)r.push(v)}if(!r.length)return 0;let o=e.replace(/ /g,"_"),a=o+" "+r.map(p=>p.id),h=g3[a];if(h)return h.id;let f=g3[a]=hr.define({id:p3.length,name:o,props:[ef({[o]:r})]});return p3.push(f),f.id}Xi.RTL,Xi.LTR;const fgt=n=>{let{state:e}=n,r=e.doc.lineAt(e.selection.main.from),o=jR(n.state,r.from);return o.line?dgt(n):o.block?mgt(n):!1};function AR(n,e){return({state:r,dispatch:o})=>{if(r.readOnly)return!1;let a=n(e,r);return a?(o(r.update(a)),!0):!1}}const dgt=AR(Ogt,0),pgt=AR(a7,0),mgt=AR((n,e)=>a7(n,e,ygt(e)),0);function jR(n,e){let r=n.languageDataAt("commentTokens",e,1);return r.length?r[0]:{}}const xy=50;function ggt(n,{open:e,close:r},o,a){let h=n.sliceDoc(o-xy,o),f=n.sliceDoc(a,a+xy),p=/\s*$/.exec(h)[0].length,g=/^\s*/.exec(f)[0].length,v=h.length-p;if(h.slice(v-e.length,v)==e&&f.slice(g,g+r.length)==r)return{open:{pos:o-p,margin:p&&1},close:{pos:a+g,margin:g&&1}};let x,S;a-o<=2*xy?x=S=n.sliceDoc(o,a):(x=n.sliceDoc(o,o+xy),S=n.sliceDoc(a-xy,a));let b=/^\s*/.exec(x)[0].length,C=/\s*$/.exec(S)[0].length,j=S.length-C-r.length;return x.slice(b,b+e.length)==e&&S.slice(j,j+r.length)==r?{open:{pos:o+b+e.length,margin:/\s/.test(x.charAt(b+e.length))?1:0},close:{pos:a-C-r.length,margin:/\s/.test(S.charAt(j-1))?1:0}}:null}function ygt(n){let e=[];for(let r of n.selection.ranges){let o=n.doc.lineAt(r.from),a=r.to<=o.to?o:n.doc.lineAt(r.to);a.from>o.from&&a.from==r.to&&(a=r.to==o.to+1?o:n.doc.lineAt(r.to-1));let h=e.length-1;h>=0&&e[h].to>o.from?e[h].to=a.to:e.push({from:o.from+/^\s*/.exec(o.text)[0].length,to:a.to})}return e}function a7(n,e,r=e.selection.ranges){let o=r.map(h=>jR(e,h.from).block);if(!o.every(h=>h))return null;let a=r.map((h,f)=>ggt(e,o[f],h.from,h.to));if(n!=2&&!a.every(h=>h))return{changes:e.changes(r.map((h,f)=>a[f]?[]:[{from:h.from,insert:o[f].open+" "},{from:h.to,insert:" "+o[f].close}]))};if(n!=1&&a.some(h=>h)){let h=[];for(let f=0,p;f<a.length;f++)if(p=a[f]){let g=o[f],{open:v,close:x}=p;h.push({from:v.pos-g.open.length,to:v.pos+v.margin},{from:x.pos-x.margin,to:x.pos+g.close.length})}return{changes:h}}return null}function Ogt(n,e,r=e.selection.ranges){let o=[],a=-1;for(let{from:h,to:f}of r){let p=o.length,g=1e9,v=jR(e,h).line;if(v){for(let x=h;x<=f;){let S=e.doc.lineAt(x);if(S.from>a&&(h==f||f>S.from)){a=S.from;let b=/^\s*/.exec(S.text)[0].length,C=b==S.length,j=S.text.slice(b,b+v.length)==v?b:-1;b<S.text.length&&b<g&&(g=b),o.push({line:S,comment:j,token:v,indent:b,empty:C,single:!1})}x=S.to+1}if(g<1e9)for(let x=p;x<o.length;x++)o[x].indent<o[x].line.text.length&&(o[x].indent=g);o.length==p+1&&(o[p].single=!0)}}if(n!=2&&o.some(h=>h.comment<0&&(!h.empty||h.single))){let h=[];for(let{line:p,token:g,indent:v,empty:x,single:S}of o)(S||!x)&&h.push({from:p.from+v,insert:g+" "});let f=e.changes(h);return{changes:f,selection:e.selection.map(f,1)}}else if(n!=1&&o.some(h=>h.comment>=0)){let h=[];for(let{line:f,comment:p,token:g}of o)if(p>=0){let v=f.from+p,x=v+g.length;f.text[x-f.from]==" "&&x++,h.push({from:v,to:x})}return{changes:h}}return null}const RA=gu.define(),vgt=gu.define(),xgt=Ht.define(),u7=Ht.define({combine(n){return yu(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,r)=>r},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,r)=>(o,a)=>e(o,a)||r(o,a)})}}),h7=kr.define({create(){return su.empty},update(n,e){let r=e.state.facet(u7),o=e.annotation(RA);if(o){let g=ao.fromTransaction(e,o.selection),v=o.side,x=v==0?n.undone:n.done;return g?x=_k(x,x.length,r.minDepth,g):x=d7(x,e.startState.selection),new su(v==0?o.rest:x,v==0?x:o.rest)}let a=e.annotation(vgt);if((a=="full"||a=="before")&&(n=n.isolate()),e.annotation(Gn.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let h=ao.fromTransaction(e),f=e.annotation(Gn.time),p=e.annotation(Gn.userEvent);return h?n=n.addChanges(h,f,p,r,e):e.selection&&(n=n.addSelection(e.startState.selection,f,p,r.newGroupDelay)),(a=="full"||a=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new su(n.done.map(ao.fromJSON),n.undone.map(ao.fromJSON))}});function wgt(n={}){return[h7,u7.of(n),Yt.domEventHandlers({beforeinput(e,r){let o=e.inputType=="historyUndo"?c7:e.inputType=="historyRedo"?LA:null;return o?(e.preventDefault(),o(r)):!1}})]}function s2(n,e){return function({state:r,dispatch:o}){if(!e&&r.readOnly)return!1;let a=r.field(h7,!1);if(!a)return!1;let h=a.pop(n,r,e);return h?(o(h),!0):!1}}const c7=s2(0,!1),LA=s2(1,!1),Sgt=s2(0,!0),kgt=s2(1,!0);class ao{constructor(e,r,o,a,h){this.changes=e,this.effects=r,this.mapped=o,this.startSelection=a,this.selectionsAfter=h}setSelAfter(e){return new ao(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,r,o;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(r=this.mapped)===null||r===void 0?void 0:r.toJSON(),startSelection:(o=this.startSelection)===null||o===void 0?void 0:o.toJSON(),selectionsAfter:this.selectionsAfter.map(a=>a.toJSON())}}static fromJSON(e){return new ao(e.changes&&ar.fromJSON(e.changes),[],e.mapped&&hu.fromJSON(e.mapped),e.startSelection&&Ct.fromJSON(e.startSelection),e.selectionsAfter.map(Ct.fromJSON))}static fromTransaction(e,r){let o=xl;for(let a of e.startState.facet(xgt)){let h=a(e);h.length&&(o=o.concat(h))}return!o.length&&e.changes.empty?null:new ao(e.changes.invert(e.startState.doc),o,void 0,r||e.startState.selection,xl)}static selection(e){return new ao(void 0,xl,void 0,void 0,e)}}function _k(n,e,r,o){let a=e+1>r+20?e-r-1:0,h=n.slice(a,e);return h.push(o),h}function Pgt(n,e){let r=[],o=!1;return n.iterChangedRanges((a,h)=>r.push(a,h)),e.iterChangedRanges((a,h,f,p)=>{for(let g=0;g<r.length;){let v=r[g++],x=r[g++];p>=v&&f<=x&&(o=!0)}}),o}function bgt(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((r,o)=>r.empty!=e.ranges[o].empty).length===0}function f7(n,e){return n.length?e.length?n.concat(e):n:e}const xl=[],Tgt=200;function d7(n,e){if(n.length){let r=n[n.length-1],o=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-Tgt));return o.length&&o[o.length-1].eq(e)?n:(o.push(e),_k(n,n.length-1,1e9,r.setSelAfter(o)))}else return[ao.selection([e])]}function Cgt(n){let e=n[n.length-1],r=n.slice();return r[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),r}function $M(n,e){if(!n.length)return n;let r=n.length,o=xl;for(;r;){let a=Mgt(n[r-1],e,o);if(a.changes&&!a.changes.empty||a.effects.length){let h=n.slice(0,r);return h[r-1]=a,h}else e=a.mapped,r--,o=a.selectionsAfter}return o.length?[ao.selection(o)]:xl}function Mgt(n,e,r){let o=f7(n.selectionsAfter.length?n.selectionsAfter.map(p=>p.map(e)):xl,r);if(!n.changes)return ao.selection(o);let a=n.changes.map(e),h=e.mapDesc(n.changes,!0),f=n.mapped?n.mapped.composeDesc(h):h;return new ao(a,Se.mapEffects(n.effects,e),f,n.startSelection.map(h),o)}const Qgt=/^(input\.type|delete)($|\.)/;class su{constructor(e,r,o=0,a=void 0){this.done=e,this.undone=r,this.prevTime=o,this.prevUserEvent=a}isolate(){return this.prevTime?new su(this.done,this.undone):this}addChanges(e,r,o,a,h){let f=this.done,p=f[f.length-1];return p&&p.changes&&!p.changes.empty&&e.changes&&(!o||Qgt.test(o))&&(!p.selectionsAfter.length&&r-this.prevTime<a.newGroupDelay&&a.joinToEvent(h,Pgt(p.changes,e.changes))||o=="input.type.compose")?f=_k(f,f.length-1,a.minDepth,new ao(e.changes.compose(p.changes),f7(Se.mapEffects(e.effects,p.changes),p.effects),p.mapped,p.startSelection,xl)):f=_k(f,f.length,a.minDepth,e),new su(f,xl,r,o)}addSelection(e,r,o,a){let h=this.done.length?this.done[this.done.length-1].selectionsAfter:xl;return h.length>0&&r-this.prevTime<a&&o==this.prevUserEvent&&o&&/^select($|\.)/.test(o)&&bgt(h[h.length-1],e)?this:new su(d7(this.done,e),this.undone,r,o)}addMapping(e){return new su($M(this.done,e),$M(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,r,o){let a=e==0?this.done:this.undone;if(a.length==0)return null;let h=a[a.length-1],f=h.selectionsAfter[0]||r.selection;if(o&&h.selectionsAfter.length)return r.update({selection:h.selectionsAfter[h.selectionsAfter.length-1],annotations:RA.of({side:e,rest:Cgt(a),selection:f}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(h.changes){let p=a.length==1?xl:a.slice(0,a.length-1);return h.mapped&&(p=$M(p,h.mapped)),r.update({changes:h.changes,selection:h.startSelection,effects:h.effects,annotations:RA.of({side:e,rest:p,selection:f}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}su.empty=new su(xl,xl);const Ngt=[{key:"Mod-z",run:c7,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:LA,preventDefault:!0},{linux:"Ctrl-Shift-z",run:LA,preventDefault:!0},{key:"Mod-u",run:Sgt,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:kgt,preventDefault:!0}];function jg(n,e){return Ct.create(n.ranges.map(e),n.mainIndex)}function vu(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function ca({state:n,dispatch:e},r){let o=jg(n.selection,r);return o.eq(n.selection,!0)?!1:(e(vu(n,o)),!0)}function o2(n,e){return Ct.cursor(e?n.to:n.from)}function p7(n,e){return ca(n,r=>r.empty?n.moveByChar(r,e):o2(r,e))}function ds(n){return n.textDirectionAt(n.state.selection.main.head)==Xi.LTR}const m7=n=>p7(n,!ds(n)),g7=n=>p7(n,ds(n));function y7(n,e){return ca(n,r=>r.empty?n.moveByGroup(r,e):o2(r,e))}const Agt=n=>y7(n,!ds(n)),jgt=n=>y7(n,ds(n));function Egt(n,e,r){if(e.type.prop(r))return!0;let o=e.to-e.from;return o&&(o>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function l2(n,e,r){let o=Mi(n).resolveInner(e.head),a=r?we.closedBy:we.openedBy;for(let g=e.head;;){let v=r?o.childAfter(g):o.childBefore(g);if(!v)break;Egt(n,v,a)?o=v:g=r?v.to:v.from}let h=o.type.prop(a),f,p;return h&&(f=r?ru(n,o.from,1):ru(n,o.to,-1))&&f.matched?p=r?f.end.to:f.end.from:p=r?o.to:o.from,Ct.cursor(p,r?-1:1)}const Rgt=n=>ca(n,e=>l2(n.state,e,!ds(n))),Lgt=n=>ca(n,e=>l2(n.state,e,ds(n)));function O7(n,e){return ca(n,r=>{if(!r.empty)return o2(r,e);let o=n.moveVertically(r,e);return o.head!=r.head?o:n.moveToLineBoundary(r,e)})}const v7=n=>O7(n,!1),x7=n=>O7(n,!0);function w7(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,r=0,o=0,a;if(e){for(let h of n.state.facet(Yt.scrollMargins)){let f=h(n);f!=null&&f.top&&(r=Math.max(f==null?void 0:f.top,r)),f!=null&&f.bottom&&(o=Math.max(f==null?void 0:f.bottom,o))}a=n.scrollDOM.clientHeight-r-o}else a=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:o,selfScroll:e,height:Math.max(n.defaultLineHeight,a-5)}}function S7(n,e){let r=w7(n),{state:o}=n,a=jg(o.selection,f=>f.empty?n.moveVertically(f,e,r.height):o2(f,e));if(a.eq(o.selection))return!1;let h;if(r.selfScroll){let f=n.coordsAtPos(o.selection.main.head),p=n.scrollDOM.getBoundingClientRect(),g=p.top+r.marginTop,v=p.bottom-r.marginBottom;f&&f.top>g&&f.bottom<v&&(h=Yt.scrollIntoView(a.main.head,{y:"start",yMargin:f.top-g}))}return n.dispatch(vu(o,a),{effects:h}),!0}const y3=n=>S7(n,!1),$A=n=>S7(n,!0);function rf(n,e,r){let o=n.lineBlockAt(e.head),a=n.moveToLineBoundary(e,r);if(a.head==e.head&&a.head!=(r?o.to:o.from)&&(a=n.moveToLineBoundary(e,r,!1)),!r&&a.head==o.from&&o.length){let h=/^\s*/.exec(n.state.sliceDoc(o.from,Math.min(o.from+100,o.to)))[0].length;h&&e.head!=o.from+h&&(a=Ct.cursor(o.from+h))}return a}const $gt=n=>ca(n,e=>rf(n,e,!0)),Dgt=n=>ca(n,e=>rf(n,e,!1)),Igt=n=>ca(n,e=>rf(n,e,!ds(n))),Fgt=n=>ca(n,e=>rf(n,e,ds(n))),Vgt=n=>ca(n,e=>Ct.cursor(n.lineBlockAt(e.head).from,1)),zgt=n=>ca(n,e=>Ct.cursor(n.lineBlockAt(e.head).to,-1));function Xgt(n,e,r){let o=!1,a=jg(n.selection,h=>{let f=ru(n,h.head,-1)||ru(n,h.head,1)||h.head>0&&ru(n,h.head-1,1)||h.head<n.doc.length&&ru(n,h.head+1,-1);if(!f||!f.end)return h;o=!0;let p=f.start.from==h.head?f.end.to:f.end.from;return Ct.cursor(p)});return o?(e(vu(n,a)),!0):!1}const Bgt=({state:n,dispatch:e})=>Xgt(n,e);function Ml(n,e){let r=jg(n.state.selection,o=>{let a=e(o);return Ct.range(o.anchor,a.head,a.goalColumn,a.bidiLevel||void 0)});return r.eq(n.state.selection)?!1:(n.dispatch(vu(n.state,r)),!0)}function k7(n,e){return Ml(n,r=>n.moveByChar(r,e))}const P7=n=>k7(n,!ds(n)),b7=n=>k7(n,ds(n));function T7(n,e){return Ml(n,r=>n.moveByGroup(r,e))}const _gt=n=>T7(n,!ds(n)),Zgt=n=>T7(n,ds(n)),Ygt=n=>Ml(n,e=>l2(n.state,e,!ds(n))),Ugt=n=>Ml(n,e=>l2(n.state,e,ds(n)));function C7(n,e){return Ml(n,r=>n.moveVertically(r,e))}const M7=n=>C7(n,!1),Q7=n=>C7(n,!0);function N7(n,e){return Ml(n,r=>n.moveVertically(r,e,w7(n).height))}const O3=n=>N7(n,!1),v3=n=>N7(n,!0),Wgt=n=>Ml(n,e=>rf(n,e,!0)),qgt=n=>Ml(n,e=>rf(n,e,!1)),Ggt=n=>Ml(n,e=>rf(n,e,!ds(n))),Hgt=n=>Ml(n,e=>rf(n,e,ds(n))),Kgt=n=>Ml(n,e=>Ct.cursor(n.lineBlockAt(e.head).from)),Jgt=n=>Ml(n,e=>Ct.cursor(n.lineBlockAt(e.head).to)),x3=({state:n,dispatch:e})=>(e(vu(n,{anchor:0})),!0),w3=({state:n,dispatch:e})=>(e(vu(n,{anchor:n.doc.length})),!0),S3=({state:n,dispatch:e})=>(e(vu(n,{anchor:n.selection.main.anchor,head:0})),!0),k3=({state:n,dispatch:e})=>(e(vu(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),t0t=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),e0t=({state:n,dispatch:e})=>{let r=a2(n).map(({from:o,to:a})=>Ct.range(o,Math.min(a+1,n.doc.length)));return e(n.update({selection:Ct.create(r),userEvent:"select"})),!0},i0t=({state:n,dispatch:e})=>{let r=jg(n.selection,o=>{let a=Mi(n),h=a.resolveStack(o.from,1);if(o.empty){let f=a.resolveStack(o.from,-1);f.node.from>=h.node.from&&f.node.to<=h.node.to&&(h=f)}for(let f=h;f;f=f.next){let{node:p}=f;if((p.from<o.from&&p.to>=o.to||p.to>o.to&&p.from<=o.from)&&f.next)return Ct.range(p.to,p.from)}return o});return r.eq(n.selection)?!1:(e(vu(n,r)),!0)},n0t=({state:n,dispatch:e})=>{let r=n.selection,o=null;return r.ranges.length>1?o=Ct.create([r.main]):r.main.empty||(o=Ct.create([Ct.cursor(r.main.head)])),o?(e(vu(n,o)),!0):!1};function Ev(n,e){if(n.state.readOnly)return!1;let r="delete.selection",{state:o}=n,a=o.changeByRange(h=>{let{from:f,to:p}=h;if(f==p){let g=e(h);g<f?(r="delete.backward",g=Ww(n,g,!1)):g>f&&(r="delete.forward",g=Ww(n,g,!0)),f=Math.min(f,g),p=Math.max(p,g)}else f=Ww(n,f,!1),p=Ww(n,p,!0);return f==p?{range:h}:{changes:{from:f,to:p},range:Ct.cursor(f,f<h.head?-1:1)}});return a.changes.empty?!1:(n.dispatch(o.update(a,{scrollIntoView:!0,userEvent:r,effects:r=="delete.selection"?Yt.announce.of(o.phrase("Selection deleted")):void 0})),!0)}function Ww(n,e,r){if(n instanceof Yt)for(let o of n.state.facet(Yt.atomicRanges).map(a=>a(n)))o.between(e,e,(a,h)=>{a<e&&h>e&&(e=r?h:a)});return e}const A7=(n,e,r)=>Ev(n,o=>{let a=o.from,{state:h}=n,f=h.doc.lineAt(a),p,g;if(r&&!e&&a>f.from&&a<f.from+200&&!/[^ \t]/.test(p=f.text.slice(0,a-f.from))){if(p[p.length-1]=="	")return a-1;let v=oa(p,h.tabSize),x=v%zk(h)||zk(h);for(let S=0;S<x&&p[p.length-1-S]==" ";S++)a--;g=a}else g=Xr(f.text,a-f.from,e,e)+f.from,g==a&&f.number!=(e?h.doc.lines:1)?g+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(f.text.slice(g-f.from,a-f.from))&&(g=Xr(f.text,g-f.from,!1,!1)+f.from);return g}),DA=n=>A7(n,!1,!0),j7=n=>A7(n,!0,!1),E7=(n,e)=>Ev(n,r=>{let o=r.head,{state:a}=n,h=a.doc.lineAt(o),f=a.charCategorizer(o);for(let p=null;;){if(o==(e?h.to:h.from)){o==r.head&&h.number!=(e?a.doc.lines:1)&&(o+=e?1:-1);break}let g=Xr(h.text,o-h.from,e)+h.from,v=h.text.slice(Math.min(o,g)-h.from,Math.max(o,g)-h.from),x=f(v);if(p!=null&&x!=p)break;(v!=" "||o!=r.head)&&(p=x),o=g}return o}),R7=n=>E7(n,!1),r0t=n=>E7(n,!0),s0t=n=>Ev(n,e=>{let r=n.lineBlockAt(e.head).to;return e.head<r?r:Math.min(n.state.doc.length,e.head+1)}),o0t=n=>Ev(n,e=>{let r=n.moveToLineBoundary(e,!1).head;return e.head>r?r:Math.max(0,e.head-1)}),l0t=n=>Ev(n,e=>{let r=n.moveToLineBoundary(e,!0).head;return e.head<r?r:Math.min(n.state.doc.length,e.head+1)}),a0t=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=n.changeByRange(o=>({changes:{from:o.from,to:o.to,insert:He.of(["",""])},range:Ct.cursor(o.from)}));return e(n.update(r,{scrollIntoView:!0,userEvent:"input"})),!0},u0t=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=n.changeByRange(o=>{if(!o.empty||o.from==0||o.from==n.doc.length)return{range:o};let a=o.from,h=n.doc.lineAt(a),f=a==h.from?a-1:Xr(h.text,a-h.from,!1)+h.from,p=a==h.to?a+1:Xr(h.text,a-h.from,!0)+h.from;return{changes:{from:f,to:p,insert:n.doc.slice(a,p).append(n.doc.slice(f,a))},range:Ct.cursor(p)}});return r.changes.empty?!1:(e(n.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function a2(n){let e=[],r=-1;for(let o of n.selection.ranges){let a=n.doc.lineAt(o.from),h=n.doc.lineAt(o.to);if(!o.empty&&o.to==h.from&&(h=n.doc.lineAt(o.to-1)),r>=a.number){let f=e[e.length-1];f.to=h.to,f.ranges.push(o)}else e.push({from:a.from,to:h.to,ranges:[o]});r=h.number+1}return e}function L7(n,e,r){if(n.readOnly)return!1;let o=[],a=[];for(let h of a2(n)){if(r?h.to==n.doc.length:h.from==0)continue;let f=n.doc.lineAt(r?h.to+1:h.from-1),p=f.length+1;if(r){o.push({from:h.to,to:f.to},{from:h.from,insert:f.text+n.lineBreak});for(let g of h.ranges)a.push(Ct.range(Math.min(n.doc.length,g.anchor+p),Math.min(n.doc.length,g.head+p)))}else{o.push({from:f.from,to:h.from},{from:h.to,insert:n.lineBreak+f.text});for(let g of h.ranges)a.push(Ct.range(g.anchor-p,g.head-p))}}return o.length?(e(n.update({changes:o,scrollIntoView:!0,selection:Ct.create(a,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const h0t=({state:n,dispatch:e})=>L7(n,e,!1),c0t=({state:n,dispatch:e})=>L7(n,e,!0);function $7(n,e,r){if(n.readOnly)return!1;let o=[];for(let a of a2(n))r?o.push({from:a.from,insert:n.doc.slice(a.from,a.to)+n.lineBreak}):o.push({from:a.to,insert:n.lineBreak+n.doc.slice(a.from,a.to)});return e(n.update({changes:o,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const f0t=({state:n,dispatch:e})=>$7(n,e,!1),d0t=({state:n,dispatch:e})=>$7(n,e,!0),p0t=n=>{if(n.state.readOnly)return!1;let{state:e}=n,r=e.changes(a2(e).map(({from:a,to:h})=>(a>0?a--:h<e.doc.length&&h++,{from:a,to:h}))),o=jg(e.selection,a=>{let h;if(n.lineWrapping){let f=n.lineBlockAt(a.head),p=n.coordsAtPos(a.head,a.assoc||1);p&&(h=f.bottom+n.documentTop-p.bottom+n.defaultLineHeight/2)}return n.moveVertically(a,!0,h)}).map(r);return n.dispatch({changes:r,selection:o,scrollIntoView:!0,userEvent:"delete.line"}),!0};function m0t(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let r=Mi(n).resolveInner(e),o=r.childBefore(e),a=r.childAfter(e),h;return o&&a&&o.to<=e&&a.from>=e&&(h=o.type.prop(we.closedBy))&&h.indexOf(a.name)>-1&&n.doc.lineAt(o.to).from==n.doc.lineAt(a.from).from&&!/\S/.test(n.sliceDoc(o.to,a.from))?{from:o.to,to:a.from}:null}const P3=D7(!1),g0t=D7(!0);function D7(n){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let o=e.changeByRange(a=>{let{from:h,to:f}=a,p=e.doc.lineAt(h),g=!n&&h==f&&m0t(e,h);n&&(h=f=(f<=p.to?p:e.doc.lineAt(f)).to);let v=new i2(e,{simulateBreak:h,simulateDoubleBreak:!!g}),x=MR(v,h);for(x==null&&(x=oa(/^\s*/.exec(e.doc.lineAt(h).text)[0],e.tabSize));f<p.to&&/\s/.test(p.text[f-p.from]);)f++;g?{from:h,to:f}=g:h>p.from&&h<p.from+100&&!/\S/.test(p.text.slice(0,h))&&(h=p.from);let S=["",KO(e,x)];return g&&S.push(KO(e,v.lineIndent(p.from,-1))),{changes:{from:h,to:f,insert:He.of(S)},range:Ct.cursor(h+1+S[1].length)}});return r(e.update(o,{scrollIntoView:!0,userEvent:"input"})),!0}}function ER(n,e){let r=-1;return n.changeByRange(o=>{let a=[];for(let f=o.from;f<=o.to;){let p=n.doc.lineAt(f);p.number>r&&(o.empty||o.to>p.from)&&(e(p,a,o),r=p.number),f=p.to+1}let h=n.changes(a);return{changes:a,range:Ct.range(h.mapPos(o.anchor,1),h.mapPos(o.head,1))}})}const y0t=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=Object.create(null),o=new i2(n,{overrideIndentation:h=>{let f=r[h];return f??-1}}),a=ER(n,(h,f,p)=>{let g=MR(o,h.from);if(g==null)return;/\S/.test(h.text)||(g=0);let v=/^\s*/.exec(h.text)[0],x=KO(n,g);(v!=x||p.from<h.from+v.length)&&(r[h.from]=g,f.push({from:h.from,to:h.from+v.length,insert:x}))});return a.changes.empty||e(n.update(a,{userEvent:"indent"})),!0},I7=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(ER(n,(r,o)=>{o.push({from:r.from,insert:n.facet(Ng)})}),{userEvent:"input.indent"})),!0),F7=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(ER(n,(r,o)=>{let a=/^\s*/.exec(r.text)[0];if(!a)return;let h=oa(a,n.tabSize),f=0,p=KO(n,Math.max(0,h-zk(n)));for(;f<a.length&&f<p.length&&a.charCodeAt(f)==p.charCodeAt(f);)f++;o.push({from:r.from+f,to:r.from+a.length,insert:p.slice(f)})}),{userEvent:"delete.dedent"})),!0),O0t=n=>(n.setTabFocusMode(),!0),v0t=[{key:"Ctrl-b",run:m7,shift:P7,preventDefault:!0},{key:"Ctrl-f",run:g7,shift:b7},{key:"Ctrl-p",run:v7,shift:M7},{key:"Ctrl-n",run:x7,shift:Q7},{key:"Ctrl-a",run:Vgt,shift:Kgt},{key:"Ctrl-e",run:zgt,shift:Jgt},{key:"Ctrl-d",run:j7},{key:"Ctrl-h",run:DA},{key:"Ctrl-k",run:s0t},{key:"Ctrl-Alt-h",run:R7},{key:"Ctrl-o",run:a0t},{key:"Ctrl-t",run:u0t},{key:"Ctrl-v",run:$A}],x0t=[{key:"ArrowLeft",run:m7,shift:P7,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Agt,shift:_gt,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Igt,shift:Ggt,preventDefault:!0},{key:"ArrowRight",run:g7,shift:b7,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:jgt,shift:Zgt,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Fgt,shift:Hgt,preventDefault:!0},{key:"ArrowUp",run:v7,shift:M7,preventDefault:!0},{mac:"Cmd-ArrowUp",run:x3,shift:S3},{mac:"Ctrl-ArrowUp",run:y3,shift:O3},{key:"ArrowDown",run:x7,shift:Q7,preventDefault:!0},{mac:"Cmd-ArrowDown",run:w3,shift:k3},{mac:"Ctrl-ArrowDown",run:$A,shift:v3},{key:"PageUp",run:y3,shift:O3},{key:"PageDown",run:$A,shift:v3},{key:"Home",run:Dgt,shift:qgt,preventDefault:!0},{key:"Mod-Home",run:x3,shift:S3},{key:"End",run:$gt,shift:Wgt,preventDefault:!0},{key:"Mod-End",run:w3,shift:k3},{key:"Enter",run:P3,shift:P3},{key:"Mod-a",run:t0t},{key:"Backspace",run:DA,shift:DA},{key:"Delete",run:j7},{key:"Mod-Backspace",mac:"Alt-Backspace",run:R7},{key:"Mod-Delete",mac:"Alt-Delete",run:r0t},{mac:"Mod-Backspace",run:o0t},{mac:"Mod-Delete",run:l0t}].concat(v0t.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),w0t=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Rgt,shift:Ygt},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Lgt,shift:Ugt},{key:"Alt-ArrowUp",run:h0t},{key:"Shift-Alt-ArrowUp",run:f0t},{key:"Alt-ArrowDown",run:c0t},{key:"Shift-Alt-ArrowDown",run:d0t},{key:"Escape",run:n0t},{key:"Mod-Enter",run:g0t},{key:"Alt-l",mac:"Ctrl-l",run:e0t},{key:"Mod-i",run:i0t,preventDefault:!0},{key:"Mod-[",run:F7},{key:"Mod-]",run:I7},{key:"Mod-Alt-\\",run:y0t},{key:"Shift-Mod-k",run:p0t},{key:"Shift-Mod-\\",run:Bgt},{key:"Mod-/",run:fgt},{key:"Alt-A",run:pgt},{key:"Ctrl-m",mac:"Shift-Alt-m",run:O0t}].concat(x0t),S0t={key:"Tab",run:I7,shift:F7};function Pi(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,r=arguments[1];if(r&&typeof r=="object"&&r.nodeType==null&&!Array.isArray(r)){for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)){var a=r[o];typeof a=="string"?n.setAttribute(o,a):a!=null&&(n[o]=a)}e++}for(;e<arguments.length;e++)V7(n,arguments[e]);return n}function V7(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var r=0;r<e.length;r++)V7(n,e[r]);else throw new RangeError("Unsupported child node: "+e)}const b3=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class hg{constructor(e,r,o=0,a=e.length,h,f){this.test=f,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(o,a),this.bufferStart=o,this.normalize=h?p=>h(b3(p)):b3,this.query=this.normalize(r)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return io(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let r=sR(e),o=this.bufferStart+this.bufferPos;this.bufferPos+=eu(e);let a=this.normalize(r);if(a.length)for(let h=0,f=o;;h++){let p=a.charCodeAt(h),g=this.match(p,f,this.bufferPos+this.bufferStart);if(h==a.length-1){if(g)return this.value=g,this;break}f==o&&h<r.length&&r.charCodeAt(h)==p&&f++}}}match(e,r,o){let a=null;for(let h=0;h<this.matches.length;h+=2){let f=this.matches[h],p=!1;this.query.charCodeAt(f)==e&&(f==this.query.length-1?a={from:this.matches[h+1],to:o}:(this.matches[h]++,p=!0)),p||(this.matches.splice(h,2),h-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?a={from:r,to:o}:this.matches.push(1,r)),a&&this.test&&!this.test(a.from,a.to,this.buffer,this.bufferStart)&&(a=null),a}}typeof Symbol<"u"&&(hg.prototype[Symbol.iterator]=function(){return this});const z7={from:-1,to:-1,match:/.*/.exec("")},RR="gm"+(/x/.unicode==null?"":"u");class X7{constructor(e,r,o,a=0,h=e.length){if(this.text=e,this.to=h,this.curLine="",this.done=!1,this.value=z7,/\\[sWDnr]|\n|\r|\[\^/.test(r))return new B7(e,r,o,a,h);this.re=new RegExp(r,RR+(o!=null&&o.ignoreCase?"i":"")),this.test=o==null?void 0:o.test,this.iter=e.iter();let f=e.lineAt(a);this.curLineStart=f.from,this.matchPos=Zk(e,a),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let r=this.matchPos<=this.to&&this.re.exec(this.curLine);if(r){let o=this.curLineStart+r.index,a=o+r[0].length;if(this.matchPos=Zk(this.text,a+(o==a?1:0)),o==this.curLineStart+this.curLine.length&&this.nextLine(),(o<a||o>this.value.to)&&(!this.test||this.test(o,a,r)))return this.value={from:o,to:a,match:r},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const DM=new WeakMap;class jm{constructor(e,r){this.from=e,this.text=r}get to(){return this.from+this.text.length}static get(e,r,o){let a=DM.get(e);if(!a||a.from>=o||a.to<=r){let p=new jm(r,e.sliceString(r,o));return DM.set(e,p),p}if(a.from==r&&a.to==o)return a;let{text:h,from:f}=a;return f>r&&(h=e.sliceString(r,f)+h,f=r),a.to<o&&(h+=e.sliceString(a.to,o)),DM.set(e,new jm(f,h)),new jm(r,h.slice(r-f,o-f))}}class B7{constructor(e,r,o,a,h){this.text=e,this.to=h,this.done=!1,this.value=z7,this.matchPos=Zk(e,a),this.re=new RegExp(r,RR+(o!=null&&o.ignoreCase?"i":"")),this.test=o==null?void 0:o.test,this.flat=jm.get(e,a,this.chunkEnd(a+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,r=this.re.exec(this.flat.text);if(r&&!r[0]&&r.index==e&&(this.re.lastIndex=e+1,r=this.re.exec(this.flat.text)),r){let o=this.flat.from+r.index,a=o+r[0].length;if((this.flat.to>=this.to||r.index+r[0].length<=this.flat.text.length-10)&&(!this.test||this.test(o,a,r)))return this.value={from:o,to:a,match:r},this.matchPos=Zk(this.text,a+(o==a?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=jm.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(X7.prototype[Symbol.iterator]=B7.prototype[Symbol.iterator]=function(){return this});function k0t(n){try{return new RegExp(n,RR),!0}catch{return!1}}function Zk(n,e){if(e>=n.length)return e;let r=n.lineAt(e),o;for(;e<r.to&&(o=r.text.charCodeAt(e-r.from))>=56320&&o<57344;)e++;return e}function IA(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),r=Pi("input",{class:"cm-textfield",name:"line",value:e}),o=Pi("form",{class:"cm-gotoLine",onkeydown:h=>{h.keyCode==27?(h.preventDefault(),n.dispatch({effects:nO.of(!1)}),n.focus()):h.keyCode==13&&(h.preventDefault(),a())},onsubmit:h=>{h.preventDefault(),a()}},Pi("label",n.state.phrase("Go to line"),": ",r)," ",Pi("button",{class:"cm-button",type:"submit"},n.state.phrase("go")),Pi("button",{name:"close",onclick:()=>{n.dispatch({effects:nO.of(!1)}),n.focus()},"aria-label":n.state.phrase("close"),type:"button"},[""]));function a(){let h=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(r.value);if(!h)return;let{state:f}=n,p=f.doc.lineAt(f.selection.main.head),[,g,v,x,S]=h,b=x?+x.slice(1):0,C=v?+v:p.number;if(v&&S){let E=C/100;g&&(E=E*(g=="-"?-1:1)+p.number/f.doc.lines),C=Math.round(f.doc.lines*E)}else v&&g&&(C=C*(g=="-"?-1:1)+p.number);let j=f.doc.line(Math.max(1,Math.min(f.doc.lines,C))),N=Ct.cursor(j.from+Math.max(0,Math.min(b,j.length)));n.dispatch({effects:[nO.of(!1),Yt.scrollIntoView(N.from,{y:"center"})],selection:N}),n.focus()}return{dom:o}}const nO=Se.define(),T3=kr.define({create(){return!0},update(n,e){for(let r of e.effects)r.is(nO)&&(n=r.value);return n},provide:n=>WO.from(n,e=>e?IA:null)}),P0t=n=>{let e=UO(n,IA);if(!e){let r=[nO.of(!0)];n.state.field(T3,!1)==null&&r.push(Se.appendConfig.of([T3,b0t])),n.dispatch({effects:r}),e=UO(n,IA)}return e&&e.dom.querySelector("input").select(),!0},b0t=Yt.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),T0t={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},C0t=Ht.define({combine(n){return yu(n,T0t,{highlightWordAroundCursor:(e,r)=>e||r,minSelectionLength:Math.min,maxMatches:Math.min})}});function M0t(n){return[E0t,j0t]}const Q0t=ue.mark({class:"cm-selectionMatch"}),N0t=ue.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function C3(n,e,r,o){return(r==0||n(e.sliceDoc(r-1,r))!=Hi.Word)&&(o==e.doc.length||n(e.sliceDoc(o,o+1))!=Hi.Word)}function A0t(n,e,r,o){return n(e.sliceDoc(r,r+1))==Hi.Word&&n(e.sliceDoc(o-1,o))==Hi.Word}const j0t=In.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(C0t),{state:r}=n,o=r.selection;if(o.ranges.length>1)return ue.none;let a=o.main,h,f=null;if(a.empty){if(!e.highlightWordAroundCursor)return ue.none;let g=r.wordAt(a.head);if(!g)return ue.none;f=r.charCategorizer(a.head),h=r.sliceDoc(g.from,g.to)}else{let g=a.to-a.from;if(g<e.minSelectionLength||g>200)return ue.none;if(e.wholeWords){if(h=r.sliceDoc(a.from,a.to),f=r.charCategorizer(a.head),!(C3(f,r,a.from,a.to)&&A0t(f,r,a.from,a.to)))return ue.none}else if(h=r.sliceDoc(a.from,a.to),!h)return ue.none}let p=[];for(let g of n.visibleRanges){let v=new hg(r.doc,h,g.from,g.to);for(;!v.next().done;){let{from:x,to:S}=v.value;if((!f||C3(f,r,x,S))&&(a.empty&&x<=a.from&&S>=a.to?p.push(N0t.range(x,S)):(x>=a.to||S<=a.from)&&p.push(Q0t.range(x,S)),p.length>e.maxMatches))return ue.none}}return ue.set(p)}},{decorations:n=>n.decorations}),E0t=Yt.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),R0t=({state:n,dispatch:e})=>{let{selection:r}=n,o=Ct.create(r.ranges.map(a=>n.wordAt(a.head)||Ct.cursor(a.head)),r.mainIndex);return o.eq(r)?!1:(e(n.update({selection:o})),!0)};function L0t(n,e){let{main:r,ranges:o}=n.selection,a=n.wordAt(r.head),h=a&&a.from==r.from&&a.to==r.to;for(let f=!1,p=new hg(n.doc,e,o[o.length-1].to);;)if(p.next(),p.done){if(f)return null;p=new hg(n.doc,e,0,Math.max(0,o[o.length-1].from-1)),f=!0}else{if(f&&o.some(g=>g.from==p.value.from))continue;if(h){let g=n.wordAt(p.value.from);if(!g||g.from!=p.value.from||g.to!=p.value.to)continue}return p.value}}const $0t=({state:n,dispatch:e})=>{let{ranges:r}=n.selection;if(r.some(h=>h.from===h.to))return R0t({state:n,dispatch:e});let o=n.sliceDoc(r[0].from,r[0].to);if(n.selection.ranges.some(h=>n.sliceDoc(h.from,h.to)!=o))return!1;let a=L0t(n,o);return a?(e(n.update({selection:n.selection.addRange(Ct.range(a.from,a.to),!1),effects:Yt.scrollIntoView(a.to)})),!0):!1},Eg=Ht.define({combine(n){return yu(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new W0t(e),scrollToMatch:e=>Yt.scrollIntoView(e)})}});class _7{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||k0t(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(r,o)=>o=="n"?`
`:o=="r"?"\r":o=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new V0t(this):new I0t(this)}getCursor(e,r=0,o){let a=e.doc?e:Ye.create({doc:e});return o==null&&(o=a.doc.length),this.regexp?Jp(this,a,r,o):Kp(this,a,r,o)}}class Z7{constructor(e){this.spec=e}}function Kp(n,e,r,o){return new hg(e.doc,n.unquoted,r,o,n.caseSensitive?void 0:a=>a.toLowerCase(),n.wholeWord?D0t(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function D0t(n,e){return(r,o,a,h)=>((h>r||h+a.length<o)&&(h=Math.max(0,r-2),a=n.sliceString(h,Math.min(n.length,o+2))),(e(Yk(a,r-h))!=Hi.Word||e(Uk(a,r-h))!=Hi.Word)&&(e(Uk(a,o-h))!=Hi.Word||e(Yk(a,o-h))!=Hi.Word))}class I0t extends Z7{constructor(e){super(e)}nextMatch(e,r,o){let a=Kp(this.spec,e,o,e.doc.length).nextOverlapping();if(a.done){let h=Math.min(e.doc.length,r+this.spec.unquoted.length);a=Kp(this.spec,e,0,h).nextOverlapping()}return a.done||a.value.from==r&&a.value.to==o?null:a.value}prevMatchInRange(e,r,o){for(let a=o;;){let h=Math.max(r,a-1e4-this.spec.unquoted.length),f=Kp(this.spec,e,h,a),p=null;for(;!f.nextOverlapping().done;)p=f.value;if(p)return p;if(h==r)return null;a-=1e4}}prevMatch(e,r,o){let a=this.prevMatchInRange(e,0,r);return a||(a=this.prevMatchInRange(e,Math.max(0,o-this.spec.unquoted.length),e.doc.length)),a&&(a.from!=r||a.to!=o)?a:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,r){let o=Kp(this.spec,e,0,e.doc.length),a=[];for(;!o.next().done;){if(a.length>=r)return null;a.push(o.value)}return a}highlight(e,r,o,a){let h=Kp(this.spec,e,Math.max(0,r-this.spec.unquoted.length),Math.min(o+this.spec.unquoted.length,e.doc.length));for(;!h.next().done;)a(h.value.from,h.value.to)}}function Jp(n,e,r,o){return new X7(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?F0t(e.charCategorizer(e.selection.main.head)):void 0},r,o)}function Yk(n,e){return n.slice(Xr(n,e,!1),e)}function Uk(n,e){return n.slice(e,Xr(n,e))}function F0t(n){return(e,r,o)=>!o[0].length||(n(Yk(o.input,o.index))!=Hi.Word||n(Uk(o.input,o.index))!=Hi.Word)&&(n(Uk(o.input,o.index+o[0].length))!=Hi.Word||n(Yk(o.input,o.index+o[0].length))!=Hi.Word)}class V0t extends Z7{nextMatch(e,r,o){let a=Jp(this.spec,e,o,e.doc.length).next();return a.done&&(a=Jp(this.spec,e,0,r).next()),a.done?null:a.value}prevMatchInRange(e,r,o){for(let a=1;;a++){let h=Math.max(r,o-a*1e4),f=Jp(this.spec,e,h,o),p=null;for(;!f.next().done;)p=f.value;if(p&&(h==r||p.from>h+10))return p;if(h==r)return null}}prevMatch(e,r,o){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,o,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(r,o)=>{if(o=="&")return e.match[0];if(o=="$")return"$";for(let a=o.length;a>0;a--){let h=+o.slice(0,a);if(h>0&&h<e.match.length)return e.match[h]+o.slice(a)}return r})}matchAll(e,r){let o=Jp(this.spec,e,0,e.doc.length),a=[];for(;!o.next().done;){if(a.length>=r)return null;a.push(o.value)}return a}highlight(e,r,o,a){let h=Jp(this.spec,e,Math.max(0,r-250),Math.min(o+250,e.doc.length));for(;!h.next().done;)a(h.value.from,h.value.to)}}const JO=Se.define(),LR=Se.define(),Ac=kr.define({create(n){return new IM(FA(n).create(),null)},update(n,e){for(let r of e.effects)r.is(JO)?n=new IM(r.value.create(),n.panel):r.is(LR)&&(n=new IM(n.query,r.value?$R:null));return n},provide:n=>WO.from(n,e=>e.panel)});class IM{constructor(e,r){this.query=e,this.panel=r}}const z0t=ue.mark({class:"cm-searchMatch"}),X0t=ue.mark({class:"cm-searchMatch cm-searchMatch-selected"}),B0t=In.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Ac))}update(n){let e=n.state.field(Ac);(e!=n.startState.field(Ac)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return ue.none;let{view:r}=this,o=new vh;for(let a=0,h=r.visibleRanges,f=h.length;a<f;a++){let{from:p,to:g}=h[a];for(;a<f-1&&g>h[a+1].from-2*250;)g=h[++a].to;n.highlight(r.state,p,g,(v,x)=>{let S=r.state.selection.ranges.some(b=>b.from==v&&b.to==x);o.add(v,x,S?X0t:z0t)})}return o.finish()}},{decorations:n=>n.decorations});function Rv(n){return e=>{let r=e.state.field(Ac,!1);return r&&r.query.spec.valid?n(e,r):W7(e)}}const Wk=Rv((n,{query:e})=>{let{to:r}=n.state.selection.main,o=e.nextMatch(n.state,r,r);if(!o)return!1;let a=Ct.single(o.from,o.to),h=n.state.facet(Eg);return n.dispatch({selection:a,effects:[DR(n,o),h.scrollToMatch(a.main,n)],userEvent:"select.search"}),U7(n),!0}),qk=Rv((n,{query:e})=>{let{state:r}=n,{from:o}=r.selection.main,a=e.prevMatch(r,o,o);if(!a)return!1;let h=Ct.single(a.from,a.to),f=n.state.facet(Eg);return n.dispatch({selection:h,effects:[DR(n,a),f.scrollToMatch(h.main,n)],userEvent:"select.search"}),U7(n),!0}),_0t=Rv((n,{query:e})=>{let r=e.matchAll(n.state,1e3);return!r||!r.length?!1:(n.dispatch({selection:Ct.create(r.map(o=>Ct.range(o.from,o.to))),userEvent:"select.search.matches"}),!0)}),Z0t=({state:n,dispatch:e})=>{let r=n.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:o,to:a}=r.main,h=[],f=0;for(let p=new hg(n.doc,n.sliceDoc(o,a));!p.next().done;){if(h.length>1e3)return!1;p.value.from==o&&(f=h.length),h.push(Ct.range(p.value.from,p.value.to))}return e(n.update({selection:Ct.create(h,f),userEvent:"select.search.matches"})),!0},M3=Rv((n,{query:e})=>{let{state:r}=n,{from:o,to:a}=r.selection.main;if(r.readOnly)return!1;let h=e.nextMatch(r,o,o);if(!h)return!1;let f=h,p=[],g,v,x=[];f.from==o&&f.to==a&&(v=r.toText(e.getReplacement(f)),p.push({from:f.from,to:f.to,insert:v}),f=e.nextMatch(r,f.from,f.to),x.push(Yt.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(o).number)+".")));let S=n.state.changes(p);return f&&(g=Ct.single(f.from,f.to).map(S),x.push(DR(n,f)),x.push(r.facet(Eg).scrollToMatch(g.main,n))),n.dispatch({changes:S,selection:g,effects:x,userEvent:"input.replace"}),!0}),Y0t=Rv((n,{query:e})=>{if(n.state.readOnly)return!1;let r=e.matchAll(n.state,1e9).map(a=>{let{from:h,to:f}=a;return{from:h,to:f,insert:e.getReplacement(a)}});if(!r.length)return!1;let o=n.state.phrase("replaced $ matches",r.length)+".";return n.dispatch({changes:r,effects:Yt.announce.of(o),userEvent:"input.replace.all"}),!0});function $R(n){return n.state.facet(Eg).createPanel(n)}function FA(n,e){var r,o,a,h,f;let p=n.selection.main,g=p.empty||p.to>p.from+100?"":n.sliceDoc(p.from,p.to);if(e&&!g)return e;let v=n.facet(Eg);return new _7({search:((r=e==null?void 0:e.literal)!==null&&r!==void 0?r:v.literal)?g:g.replace(/\n/g,"\\n"),caseSensitive:(o=e==null?void 0:e.caseSensitive)!==null&&o!==void 0?o:v.caseSensitive,literal:(a=e==null?void 0:e.literal)!==null&&a!==void 0?a:v.literal,regexp:(h=e==null?void 0:e.regexp)!==null&&h!==void 0?h:v.regexp,wholeWord:(f=e==null?void 0:e.wholeWord)!==null&&f!==void 0?f:v.wholeWord})}function Y7(n){let e=UO(n,$R);return e&&e.dom.querySelector("[main-field]")}function U7(n){let e=Y7(n);e&&e==n.root.activeElement&&e.select()}const W7=n=>{let e=n.state.field(Ac,!1);if(e&&e.panel){let r=Y7(n);if(r&&r!=n.root.activeElement){let o=FA(n.state,e.query.spec);o.valid&&n.dispatch({effects:JO.of(o)}),r.focus(),r.select()}}else n.dispatch({effects:[LR.of(!0),e?JO.of(FA(n.state,e.query.spec)):Se.appendConfig.of(G0t)]});return!0},q7=n=>{let e=n.state.field(Ac,!1);if(!e||!e.panel)return!1;let r=UO(n,$R);return r&&r.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:LR.of(!1)}),!0},U0t=[{key:"Mod-f",run:W7,scope:"editor search-panel"},{key:"F3",run:Wk,shift:qk,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Wk,shift:qk,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:q7,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Z0t},{key:"Mod-Alt-g",run:P0t},{key:"Mod-d",run:$0t,preventDefault:!0}];class W0t{constructor(e){this.view=e;let r=this.query=e.state.field(Ac).query.spec;this.commit=this.commit.bind(this),this.searchField=Pi("input",{value:r.search,placeholder:To(e,"Find"),"aria-label":To(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Pi("input",{value:r.replace,placeholder:To(e,"Replace"),"aria-label":To(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Pi("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=Pi("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=Pi("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit});function o(a,h,f){return Pi("button",{class:"cm-button",name:a,onclick:h,type:"button"},f)}this.dom=Pi("div",{onkeydown:a=>this.keydown(a),class:"cm-search"},[this.searchField,o("next",()=>Wk(e),[To(e,"next")]),o("prev",()=>qk(e),[To(e,"previous")]),o("select",()=>_0t(e),[To(e,"all")]),Pi("label",null,[this.caseField,To(e,"match case")]),Pi("label",null,[this.reField,To(e,"regexp")]),Pi("label",null,[this.wordField,To(e,"by word")]),...e.state.readOnly?[]:[Pi("br"),this.replaceField,o("replace",()=>M3(e),[To(e,"replace")]),o("replaceAll",()=>Y0t(e),[To(e,"replace all")])],Pi("button",{name:"close",onclick:()=>q7(e),"aria-label":To(e,"close"),type:"button"},[""])])}commit(){let e=new _7({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:JO.of(e)}))}keydown(e){ipt(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?qk:Wk)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),M3(this.view))}update(e){for(let r of e.transactions)for(let o of r.effects)o.is(JO)&&!o.value.eq(this.query)&&this.setQuery(o.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Eg).top}}function To(n,e){return n.state.phrase(e)}const qw=30,Gw=/[\s\.,:;?!]/;function DR(n,{from:e,to:r}){let o=n.state.doc.lineAt(e),a=n.state.doc.lineAt(r).to,h=Math.max(o.from,e-qw),f=Math.min(a,r+qw),p=n.state.sliceDoc(h,f);if(h!=o.from){for(let g=0;g<qw;g++)if(!Gw.test(p[g+1])&&Gw.test(p[g])){p=p.slice(g);break}}if(f!=a){for(let g=p.length-1;g>p.length-qw;g--)if(!Gw.test(p[g-1])&&Gw.test(p[g])){p=p.slice(0,g);break}}return Yt.announce.of(`${n.state.phrase("current match")}. ${p} ${n.state.phrase("on line")} ${o.number}.`)}const q0t=Yt.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),G0t=[Ac,Ph.low(B0t),q0t];class IR{constructor(e,r,o,a){this.state=e,this.pos=r,this.explicit=o,this.view=a,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let r=Mi(this.state).resolveInner(this.pos,-1);for(;r&&e.indexOf(r.name)<0;)r=r.parent;return r?{from:r.from,to:this.pos,text:this.state.sliceDoc(r.from,this.pos),type:r.type}:null}matchBefore(e){let r=this.state.doc.lineAt(this.pos),o=Math.max(r.from,this.pos-250),a=r.text.slice(o-r.from,this.pos-r.from),h=a.search(H7(e,!1));return h<0?null:{from:o+h,to:this.pos,text:a.slice(h)}}get aborted(){return this.abortListeners==null}addEventListener(e,r,o){e=="abort"&&this.abortListeners&&(this.abortListeners.push(r),o&&o.onDocChange&&(this.abortOnDocChange=!0))}}function Q3(n){let e=Object.keys(n).join(""),r=/\w/.test(e);return r&&(e=e.replace(/\w/g,"")),`[${r?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function H0t(n){let e=Object.create(null),r=Object.create(null);for(let{label:a}of n){e[a[0]]=!0;for(let h=1;h<a.length;h++)r[a[h]]=!0}let o=Q3(e)+Q3(r)+"*$";return[new RegExp("^"+o),new RegExp(o)]}function FR(n){let e=n.map(a=>typeof a=="string"?{label:a}:a),[r,o]=e.every(a=>/^\w+$/.test(a.label))?[/\w*$/,/\w+$/]:H0t(e);return a=>{let h=a.matchBefore(o);return h||a.explicit?{from:h?h.from:a.pos,options:e,validFor:r}:null}}function G7(n,e){return r=>{for(let o=Mi(r.state).resolveInner(r.pos,-1);o;o=o.parent){if(n.indexOf(o.name)>-1)return null;if(o.type.isTop)break}return e(r)}}class N3{constructor(e,r,o,a){this.completion=e,this.source=r,this.match=o,this.score=a}}function pd(n){return n.selection.main.from}function H7(n,e){var r;let{source:o}=n,a=e&&o[0]!="^",h=o[o.length-1]!="$";return!a&&!h?n:new RegExp(`${a?"^":""}(?:${o})${h?"$":""}`,(r=n.flags)!==null&&r!==void 0?r:n.ignoreCase?"i":"")}const VR=gu.define();function K0t(n,e,r,o){let{main:a}=n.selection,h=r-a.from,f=o-a.from;return Object.assign(Object.assign({},n.changeByRange(p=>{if(p!=a&&r!=o&&n.sliceDoc(p.from+h,p.from+f)!=n.sliceDoc(r,o))return{range:p};let g=n.toText(e);return{changes:{from:p.from+h,to:o==a.from?p.to:p.from+f,insert:g},range:Ct.cursor(p.from+h+g.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const A3=new WeakMap;function J0t(n){if(!Array.isArray(n))return n;let e=A3.get(n);return e||A3.set(n,e=FR(n)),e}const Gk=Se.define(),tv=Se.define();class tyt{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let r=0;r<e.length;){let o=io(e,r),a=eu(o);this.chars.push(o);let h=e.slice(r,r+a),f=h.toUpperCase();this.folded.push(io(f==h?h.toLowerCase():f,0)),r+=a}this.astral=e.length!=this.chars.length}ret(e,r){return this.score=e,this.matched=r,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:r,folded:o,any:a,precise:h,byWord:f}=this;if(r.length==1){let $=io(e,0),V=eu($),D=V==e.length?0:-100;if($!=r[0])if($==o[0])D+=-200;else return null;return this.ret(D,[0,V])}let p=e.indexOf(this.pattern);if(p==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let g=r.length,v=0;if(p<0){for(let $=0,V=Math.min(e.length,200);$<V&&v<g;){let D=io(e,$);(D==r[v]||D==o[v])&&(a[v++]=$),$+=eu(D)}if(v<g)return null}let x=0,S=0,b=!1,C=0,j=-1,N=-1,E=/[a-z]/.test(e),R=!0;for(let $=0,V=Math.min(e.length,200),D=0;$<V&&S<g;){let B=io(e,$);p<0&&(x<g&&B==r[x]&&(h[x++]=$),C<g&&(B==r[C]||B==o[C]?(C==0&&(j=$),N=$+1,C++):C=0));let q,K=B<255?B>=48&&B<=57||B>=97&&B<=122?2:B>=65&&B<=90?1:0:(q=sR(B))!=q.toLowerCase()?1:q!=q.toUpperCase()?2:0;(!$||K==1&&E||D==0&&K!=0)&&(r[S]==B||o[S]==B&&(b=!0)?f[S++]=$:f.length&&(R=!1)),D=K,$+=eu(B)}return S==g&&f[0]==0&&R?this.result(-100+(b?-200:0),f,e):C==g&&j==0?this.ret(-200-e.length+(N==e.length?0:-100),[0,N]):p>-1?this.ret(-700-e.length,[p,p+this.pattern.length]):C==g?this.ret(-900-e.length,[j,N]):S==g?this.result(-100+(b?-200:0)+-700+(R?0:-1100),f,e):r.length==2?null:this.result((a[0]?-700:0)+-200+-1100,a,e)}result(e,r,o){let a=[],h=0;for(let f of r){let p=f+(this.astral?eu(io(o,f)):1);h&&a[h-1]==f?a[h-1]=p:(a[h++]=f,a[h++]=p)}return this.ret(e-o.length,a)}}class eyt{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let r=e.slice(0,this.pattern.length),o=r==this.pattern?0:r.toLowerCase()==this.folded?-200:null;return o==null?null:(this.matched=[0,r.length],this.score=o+(e.length==this.pattern.length?0:-100),this)}}const xr=Ht.define({combine(n){return yu(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:iyt,filterStrict:!1,compareCompletions:(e,r)=>e.label.localeCompare(r.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,r)=>e&&r,closeOnBlur:(e,r)=>e&&r,icons:(e,r)=>e&&r,tooltipClass:(e,r)=>o=>j3(e(o),r(o)),optionClass:(e,r)=>o=>j3(e(o),r(o)),addToOptions:(e,r)=>e.concat(r),filterStrict:(e,r)=>e||r})}});function j3(n,e){return n?e?n+" "+e:n:e}function iyt(n,e,r,o,a,h){let f=n.textDirection==Xi.RTL,p=f,g=!1,v="top",x,S,b=e.left-a.left,C=a.right-e.right,j=o.right-o.left,N=o.bottom-o.top;if(p&&b<Math.min(j,C)?p=!1:!p&&C<Math.min(j,b)&&(p=!0),j<=(p?b:C))x=Math.max(a.top,Math.min(r.top,a.bottom-N))-e.top,S=Math.min(400,p?b:C);else{g=!0,S=Math.min(400,(f?e.right:a.right-e.left)-30);let $=a.bottom-e.bottom;$>=N||$>e.top?x=r.bottom-e.top:(v="bottom",x=e.bottom-r.top)}let E=(e.bottom-e.top)/h.offsetHeight,R=(e.right-e.left)/h.offsetWidth;return{style:`${v}: ${x/E}px; max-width: ${S/R}px`,class:"cm-completionInfo-"+(g?f?"left-narrow":"right-narrow":p?"left":"right")}}function nyt(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(r){let o=document.createElement("div");return o.classList.add("cm-completionIcon"),r.type&&o.classList.add(...r.type.split(/\s+/g).map(a=>"cm-completionIcon-"+a)),o.setAttribute("aria-hidden","true"),o},position:20}),e.push({render(r,o,a,h){let f=document.createElement("span");f.className="cm-completionLabel";let p=r.displayLabel||r.label,g=0;for(let v=0;v<h.length;){let x=h[v++],S=h[v++];x>g&&f.appendChild(document.createTextNode(p.slice(g,x)));let b=f.appendChild(document.createElement("span"));b.appendChild(document.createTextNode(p.slice(x,S))),b.className="cm-completionMatchedText",g=S}return g<p.length&&f.appendChild(document.createTextNode(p.slice(g))),f},position:50},{render(r){if(!r.detail)return null;let o=document.createElement("span");return o.className="cm-completionDetail",o.textContent=r.detail,o},position:80}),e.sort((r,o)=>r.position-o.position).map(r=>r.render)}function FM(n,e,r){if(n<=r)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let a=Math.floor(e/r);return{from:a*r,to:(a+1)*r}}let o=Math.floor((n-e)/r);return{from:n-(o+1)*r,to:n-o*r}}class ryt{constructor(e,r,o){this.view=e,this.stateField=r,this.applyCompletion=o,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:g=>this.placeInfo(g),key:this},this.space=null,this.currentClass="";let a=e.state.field(r),{options:h,selected:f}=a.open,p=e.state.facet(xr);this.optionContent=nyt(p),this.optionClass=p.optionClass,this.tooltipClass=p.tooltipClass,this.range=FM(h.length,f,p.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",g=>{let{options:v}=e.state.field(r).open;for(let x=g.target,S;x&&x!=this.dom;x=x.parentNode)if(x.nodeName=="LI"&&(S=/-(\d+)$/.exec(x.id))&&+S[1]<v.length){this.applyCompletion(e,v[+S[1]]),g.preventDefault();return}}),this.dom.addEventListener("focusout",g=>{let v=e.state.field(this.stateField,!1);v&&v.tooltip&&e.state.facet(xr).closeOnBlur&&g.relatedTarget!=e.contentDOM&&e.dispatch({effects:tv.of(null)})}),this.showOptions(h,a.id)}mount(){this.updateSel()}showOptions(e,r){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,r,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var r;let o=e.state.field(this.stateField),a=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),o!=a){let{options:h,selected:f,disabled:p}=o.open;(!a.open||a.open.options!=h)&&(this.range=FM(h.length,f,e.state.facet(xr).maxRenderedOptions),this.showOptions(h,o.id)),this.updateSel(),p!=((r=a.open)===null||r===void 0?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!p)}}updateTooltipClass(e){let r=this.tooltipClass(e);if(r!=this.currentClass){for(let o of this.currentClass.split(" "))o&&this.dom.classList.remove(o);for(let o of r.split(" "))o&&this.dom.classList.add(o);this.currentClass=r}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),r=e.open;if((r.selected>-1&&r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=FM(r.options.length,r.selected,this.view.state.facet(xr).maxRenderedOptions),this.showOptions(r.options,e.id)),this.updateSelectedOption(r.selected)){this.destroyInfo();let{completion:o}=r.options[r.selected],{info:a}=o;if(!a)return;let h=typeof a=="string"?document.createTextNode(a):a(o);if(!h)return;"then"in h?h.then(f=>{f&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(f,o)}).catch(f=>lo(this.view.state,f,"completion info")):this.addInfoPane(h,o)}}addInfoPane(e,r){this.destroyInfo();let o=this.info=document.createElement("div");if(o.className="cm-tooltip cm-completionInfo",e.nodeType!=null)o.appendChild(e),this.infoDestroy=null;else{let{dom:a,destroy:h}=e;o.appendChild(a),this.infoDestroy=h||null}this.dom.appendChild(o),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let r=null;for(let o=this.list.firstChild,a=this.range.from;o;o=o.nextSibling,a++)o.nodeName!="LI"||!o.id?a--:a==e?o.hasAttribute("aria-selected")||(o.setAttribute("aria-selected","true"),r=o):o.hasAttribute("aria-selected")&&o.removeAttribute("aria-selected");return r&&oyt(this.list,r),r}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let r=this.dom.getBoundingClientRect(),o=this.info.getBoundingClientRect(),a=e.getBoundingClientRect(),h=this.space;if(!h){let f=this.dom.ownerDocument.documentElement;h={left:0,top:0,right:f.clientWidth,bottom:f.clientHeight}}return a.top>Math.min(h.bottom,r.bottom)-10||a.bottom<Math.max(h.top,r.top)+10?null:this.view.state.facet(xr).positionInfo(this.view,r,a,o,h,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,r,o){const a=document.createElement("ul");a.id=r,a.setAttribute("role","listbox"),a.setAttribute("aria-expanded","true"),a.setAttribute("aria-label",this.view.state.phrase("Completions")),a.addEventListener("mousedown",f=>{f.target==a&&f.preventDefault()});let h=null;for(let f=o.from;f<o.to;f++){let{completion:p,match:g}=e[f],{section:v}=p;if(v){let b=typeof v=="string"?v:v.name;if(b!=h&&(f>o.from||o.from==0))if(h=b,typeof v!="string"&&v.header)a.appendChild(v.header(v));else{let C=a.appendChild(document.createElement("completion-section"));C.textContent=b}}const x=a.appendChild(document.createElement("li"));x.id=r+"-"+f,x.setAttribute("role","option");let S=this.optionClass(p);S&&(x.className=S);for(let b of this.optionContent){let C=b(p,this.view.state,this.view,g);C&&x.appendChild(C)}}return o.from&&a.classList.add("cm-completionListIncompleteTop"),o.to<e.length&&a.classList.add("cm-completionListIncompleteBottom"),a}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function syt(n,e){return r=>new ryt(r,n,e)}function oyt(n,e){let r=n.getBoundingClientRect(),o=e.getBoundingClientRect(),a=r.height/n.offsetHeight;o.top<r.top?n.scrollTop-=(r.top-o.top)/a:o.bottom>r.bottom&&(n.scrollTop+=(o.bottom-r.bottom)/a)}function E3(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function lyt(n,e){let r=[],o=null,a=v=>{r.push(v);let{section:x}=v.completion;if(x){o||(o=[]);let S=typeof x=="string"?x:x.name;o.some(b=>b.name==S)||o.push(typeof x=="string"?{name:S}:x)}},h=e.facet(xr);for(let v of n)if(v.hasResult()){let x=v.result.getMatch;if(v.result.filter===!1)for(let S of v.result.options)a(new N3(S,v.source,x?x(S):[],1e9-r.length));else{let S=e.sliceDoc(v.from,v.to),b,C=h.filterStrict?new eyt(S):new tyt(S);for(let j of v.result.options)if(b=C.match(j.label)){let N=j.displayLabel?x?x(j,b.matched):[]:b.matched;a(new N3(j,v.source,N,b.score+(j.boost||0)))}}}if(o){let v=Object.create(null),x=0,S=(b,C)=>{var j,N;return((j=b.rank)!==null&&j!==void 0?j:1e9)-((N=C.rank)!==null&&N!==void 0?N:1e9)||(b.name<C.name?-1:1)};for(let b of o.sort(S))x-=1e5,v[b.name]=x;for(let b of r){let{section:C}=b.completion;C&&(b.score+=v[typeof C=="string"?C:C.name])}}let f=[],p=null,g=h.compareCompletions;for(let v of r.sort((x,S)=>S.score-x.score||g(x.completion,S.completion))){let x=v.completion;!p||p.label!=x.label||p.detail!=x.detail||p.type!=null&&x.type!=null&&p.type!=x.type||p.apply!=x.apply||p.boost!=x.boost?f.push(v):E3(v.completion)>E3(p)&&(f[f.length-1]=v),p=v.completion}return f}class vm{constructor(e,r,o,a,h,f){this.options=e,this.attrs=r,this.tooltip=o,this.timestamp=a,this.selected=h,this.disabled=f}setSelected(e,r){return e==this.selected||e>=this.options.length?this:new vm(this.options,R3(r,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,r,o,a,h,f){if(a&&!f&&e.some(v=>v.isPending))return a.setDisabled();let p=lyt(e,r);if(!p.length)return a&&e.some(v=>v.isPending)?a.setDisabled():null;let g=r.facet(xr).selectOnOpen?0:-1;if(a&&a.selected!=g&&a.selected!=-1){let v=a.options[a.selected].completion;for(let x=0;x<p.length;x++)if(p[x].completion==v){g=x;break}}return new vm(p,R3(o,g),{pos:e.reduce((v,x)=>x.hasResult()?Math.min(v,x.from):v,1e8),create:dyt,above:h.aboveCursor},a?a.timestamp:Date.now(),g,!1)}map(e){return new vm(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new vm(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Hk{constructor(e,r,o){this.active=e,this.id=r,this.open=o}static start(){return new Hk(cyt,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:r}=e,o=r.facet(xr),h=(o.override||r.languageDataAt("autocomplete",pd(r)).map(J0t)).map(g=>(this.active.find(x=>x.source==g)||new wl(g,this.active.some(x=>x.state!=0)?1:0)).update(e,o));h.length==this.active.length&&h.every((g,v)=>g==this.active[v])&&(h=this.active);let f=this.open,p=e.effects.some(g=>g.is(zR));f&&e.docChanged&&(f=f.map(e.changes)),e.selection||h.some(g=>g.hasResult()&&e.changes.touchesRange(g.from,g.to))||!ayt(h,this.active)||p?f=vm.build(h,r,this.id,f,o,p):f&&f.disabled&&!h.some(g=>g.isPending)&&(f=null),!f&&h.every(g=>!g.isPending)&&h.some(g=>g.hasResult())&&(h=h.map(g=>g.hasResult()?new wl(g.source,0):g));for(let g of e.effects)g.is(J7)&&(f=f&&f.setSelected(g.value,this.id));return h==this.active&&f==this.open?this:new Hk(h,this.id,f)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?uyt:hyt}}function ayt(n,e){if(n==e)return!0;for(let r=0,o=0;;){for(;r<n.length&&!n[r].hasResult();)r++;for(;o<e.length&&!e[o].hasResult();)o++;let a=r==n.length,h=o==e.length;if(a||h)return a==h;if(n[r++].result!=e[o++].result)return!1}}const uyt={"aria-autocomplete":"list"},hyt={};function R3(n,e){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(r["aria-activedescendant"]=n+"-"+e),r}const cyt=[];function K7(n,e){if(n.isUserEvent("input.complete")){let o=n.annotation(VR);if(o&&e.activateOnCompletion(o))return 12}let r=n.isUserEvent("input.type");return r&&e.activateOnTyping?5:r?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class wl{constructor(e,r,o=!1){this.source=e,this.state=r,this.explicit=o}hasResult(){return!1}get isPending(){return this.state==1}update(e,r){let o=K7(e,r),a=this;(o&8||o&16&&this.touches(e))&&(a=new wl(a.source,0)),o&4&&a.state==0&&(a=new wl(this.source,1)),a=a.updateFor(e,o);for(let h of e.effects)if(h.is(Gk))a=new wl(a.source,1,h.value);else if(h.is(tv))a=new wl(a.source,0);else if(h.is(zR))for(let f of h.value)f.source==a.source&&(a=f);return a}updateFor(e,r){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(pd(e.state))}}class Em extends wl{constructor(e,r,o,a,h,f){super(e,3,r),this.limit=o,this.result=a,this.from=h,this.to=f}hasResult(){return!0}updateFor(e,r){var o;if(!(r&3))return this.map(e.changes);let a=this.result;a.map&&!e.changes.empty&&(a=a.map(a,e.changes));let h=e.changes.mapPos(this.from),f=e.changes.mapPos(this.to,1),p=pd(e.state);if(p>f||!a||r&2&&(pd(e.startState)==this.from||p<this.limit))return new wl(this.source,r&4?1:0);let g=e.changes.mapPos(this.limit);return fyt(a.validFor,e.state,h,f)?new Em(this.source,this.explicit,g,a,h,f):a.update&&(a=a.update(a,h,f,new IR(e.state,p,!1)))?new Em(this.source,this.explicit,g,a,a.from,(o=a.to)!==null&&o!==void 0?o:pd(e.state)):new wl(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Em(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new wl(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function fyt(n,e,r,o){if(!n)return!1;let a=e.sliceDoc(r,o);return typeof n=="function"?n(a,r,o,e):H7(n,!0).test(a)}const zR=Se.define({map(n,e){return n.map(r=>r.map(e))}}),J7=Se.define(),ro=kr.define({create(){return Hk.start()},update(n,e){return n.update(e)},provide:n=>[xR.from(n,e=>e.tooltip),Yt.contentAttributes.from(n,e=>e.attrs)]});function XR(n,e){const r=e.completion.apply||e.completion.label;let o=n.state.field(ro).active.find(a=>a.source==e.source);return o instanceof Em?(typeof r=="string"?n.dispatch(Object.assign(Object.assign({},K0t(n.state,r,o.from,o.to)),{annotations:VR.of(e.completion)})):r(n,e.completion,o.from,o.to),!0):!1}const dyt=syt(ro,XR);function Hw(n,e="option"){return r=>{let o=r.state.field(ro,!1);if(!o||!o.open||o.open.disabled||Date.now()-o.open.timestamp<r.state.facet(xr).interactionDelay)return!1;let a=1,h;e=="page"&&(h=L9(r,o.open.tooltip))&&(a=Math.max(2,Math.floor(h.dom.offsetHeight/h.dom.querySelector("li").offsetHeight)-1));let{length:f}=o.open.options,p=o.open.selected>-1?o.open.selected+a*(n?1:-1):n?0:f-1;return p<0?p=e=="page"?0:f-1:p>=f&&(p=e=="page"?f-1:0),r.dispatch({effects:J7.of(p)}),!0}}const pyt=n=>{let e=n.state.field(ro,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(xr).interactionDelay?!1:XR(n,e.open.options[e.open.selected])},L3=n=>n.state.field(ro,!1)?(n.dispatch({effects:Gk.of(!0)}),!0):!1,myt=n=>{let e=n.state.field(ro,!1);return!e||!e.active.some(r=>r.state!=0)?!1:(n.dispatch({effects:tv.of(null)}),!0)};class gyt{constructor(e,r){this.active=e,this.context=r,this.time=Date.now(),this.updates=[],this.done=void 0}}const yyt=50,Oyt=1e3,vyt=In.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(ro).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(ro),r=n.state.facet(xr);if(!n.selectionSet&&!n.docChanged&&n.startState.field(ro)==e)return;let o=n.transactions.some(h=>{let f=K7(h,r);return f&8||(h.selection||h.docChanged)&&!(f&3)});for(let h=0;h<this.running.length;h++){let f=this.running[h];if(o||f.context.abortOnDocChange&&n.docChanged||f.updates.length+n.transactions.length>yyt&&Date.now()-f.time>Oyt){for(let p of f.context.abortListeners)try{p()}catch(g){lo(this.view.state,g)}f.context.abortListeners=null,this.running.splice(h--,1)}else f.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(h=>h.effects.some(f=>f.is(Gk)))&&(this.pendingStart=!0);let a=this.pendingStart?50:r.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(h=>h.isPending&&!this.running.some(f=>f.active.source==h.source))?setTimeout(()=>this.startUpdate(),a):-1,this.composing!=0)for(let h of n.transactions)h.isUserEvent("input.type")?this.composing=2:this.composing==2&&h.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(ro);for(let r of e.active)r.isPending&&!this.running.some(o=>o.active.source==r.source)&&this.startQuery(r);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(xr).updateSyncTime))}startQuery(n){let{state:e}=this.view,r=pd(e),o=new IR(e,r,n.explicit,this.view),a=new gyt(n,o);this.running.push(a),Promise.resolve(n.source(o)).then(h=>{a.context.aborted||(a.done=h||null,this.scheduleAccept())},h=>{this.view.dispatch({effects:tv.of(null)}),lo(this.view.state,h)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(xr).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],r=this.view.state.facet(xr),o=this.view.state.field(ro);for(let a=0;a<this.running.length;a++){let h=this.running[a];if(h.done===void 0)continue;if(this.running.splice(a--,1),h.done){let p=pd(h.updates.length?h.updates[0].startState:this.view.state),g=Math.min(p,h.done.from+(h.active.explicit?0:1)),v=new Em(h.active.source,h.active.explicit,g,h.done,h.done.from,(n=h.done.to)!==null&&n!==void 0?n:p);for(let x of h.updates)v=v.update(x,r);if(v.hasResult()){e.push(v);continue}}let f=o.active.find(p=>p.source==h.active.source);if(f&&f.isPending)if(h.done==null){let p=new wl(h.active.source,0);for(let g of h.updates)p=p.update(g,r);p.isPending||e.push(p)}else this.startQuery(f)}(e.length||o.open&&o.open.disabled)&&this.view.dispatch({effects:zR.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(ro,!1);if(e&&e.tooltip&&this.view.state.facet(xr).closeOnBlur){let r=e.open&&L9(this.view,e.open.tooltip);(!r||!r.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:tv.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Gk.of(!1)}),20),this.composing=0}}}),xyt=typeof navigator=="object"&&/Win/.test(navigator.platform),wyt=Ph.highest(Yt.domEventHandlers({keydown(n,e){let r=e.state.field(ro,!1);if(!r||!r.open||r.open.disabled||r.open.selected<0||n.key.length>1||n.ctrlKey&&!(xyt&&n.altKey)||n.metaKey)return!1;let o=r.open.options[r.open.selected],a=r.active.find(f=>f.source==o.source),h=o.completion.commitCharacters||a.result.commitCharacters;return h&&h.indexOf(n.key)>-1&&XR(e,o),!1}})),tq=Yt.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class Syt{constructor(e,r,o,a){this.field=e,this.line=r,this.from=o,this.to=a}}class BR{constructor(e,r,o){this.field=e,this.from=r,this.to=o}map(e){let r=e.mapPos(this.from,-1,zr.TrackDel),o=e.mapPos(this.to,1,zr.TrackDel);return r==null||o==null?null:new BR(this.field,r,o)}}class _R{constructor(e,r){this.lines=e,this.fieldPositions=r}instantiate(e,r){let o=[],a=[r],h=e.doc.lineAt(r),f=/^\s*/.exec(h.text)[0];for(let g of this.lines){if(o.length){let v=f,x=/^\t*/.exec(g)[0].length;for(let S=0;S<x;S++)v+=e.facet(Ng);a.push(r+v.length-x),g=v+g.slice(x)}o.push(g),r+=g.length+1}let p=this.fieldPositions.map(g=>new BR(g.field,a[g.line]+g.from,a[g.line]+g.to));return{text:o,ranges:p}}static parse(e){let r=[],o=[],a=[],h;for(let f of e.split(/\r\n?|\n/)){for(;h=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(f);){let p=h[1]?+h[1]:null,g=h[2]||h[3]||"",v=-1,x=g.replace(/\\[{}]/g,S=>S[1]);for(let S=0;S<r.length;S++)(p!=null?r[S].seq==p:x&&r[S].name==x)&&(v=S);if(v<0){let S=0;for(;S<r.length&&(p==null||r[S].seq!=null&&r[S].seq<p);)S++;r.splice(S,0,{seq:p,name:x}),v=S;for(let b of a)b.field>=v&&b.field++}a.push(new Syt(v,o.length,h.index,h.index+x.length)),f=f.slice(0,h.index)+g+f.slice(h.index+h[0].length)}f=f.replace(/\\([{}])/g,(p,g,v)=>{for(let x of a)x.line==o.length&&x.from>v&&(x.from--,x.to--);return g}),o.push(f)}return new _R(o,a)}}let kyt=ue.widget({widget:new class extends Ou{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),Pyt=ue.mark({class:"cm-snippetField"});class Rg{constructor(e,r){this.ranges=e,this.active=r,this.deco=ue.set(e.map(o=>(o.from==o.to?kyt:Pyt).range(o.from,o.to)))}map(e){let r=[];for(let o of this.ranges){let a=o.map(e);if(!a)return null;r.push(a)}return new Rg(r,this.active)}selectionInsideField(e){return e.ranges.every(r=>this.ranges.some(o=>o.field==this.active&&o.from<=r.from&&o.to>=r.to))}}const Lv=Se.define({map(n,e){return n&&n.map(e)}}),byt=Se.define(),ev=kr.define({create(){return null},update(n,e){for(let r of e.effects){if(r.is(Lv))return r.value;if(r.is(byt)&&n)return new Rg(n.ranges,r.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>Yt.decorations.from(n,e=>e?e.deco:ue.none)});function ZR(n,e){return Ct.create(n.filter(r=>r.field==e).map(r=>Ct.range(r.from,r.to)))}function Tyt(n){let e=_R.parse(n);return(r,o,a,h)=>{let{text:f,ranges:p}=e.instantiate(r.state,a),{main:g}=r.state.selection,v={changes:{from:a,to:h==g.from?g.to:h,insert:He.of(f)},scrollIntoView:!0,annotations:o?[VR.of(o),Gn.userEvent.of("input.complete")]:void 0};if(p.length&&(v.selection=ZR(p,0)),p.some(x=>x.field>0)){let x=new Rg(p,0),S=v.effects=[Lv.of(x)];r.state.field(ev,!1)===void 0&&S.push(Se.appendConfig.of([ev,Ayt,jyt,tq]))}r.dispatch(r.state.update(v))}}function eq(n){return({state:e,dispatch:r})=>{let o=e.field(ev,!1);if(!o||n<0&&o.active==0)return!1;let a=o.active+n,h=n>0&&!o.ranges.some(f=>f.field==a+n);return r(e.update({selection:ZR(o.ranges,a),effects:Lv.of(h?null:new Rg(o.ranges,a)),scrollIntoView:!0})),!0}}const Cyt=({state:n,dispatch:e})=>n.field(ev,!1)?(e(n.update({effects:Lv.of(null)})),!0):!1,Myt=eq(1),Qyt=eq(-1),Nyt=[{key:"Tab",run:Myt,shift:Qyt},{key:"Escape",run:Cyt}],$3=Ht.define({combine(n){return n.length?n[0]:Nyt}}),Ayt=Ph.highest(Qg.compute([$3],n=>n.facet($3)));function ln(n,e){return Object.assign(Object.assign({},e),{apply:Tyt(n)})}const jyt=Yt.domEventHandlers({mousedown(n,e){let r=e.state.field(ev,!1),o;if(!r||(o=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let a=r.ranges.find(h=>h.from<=o&&h.to>=o);return!a||a.field==r.active?!1:(e.dispatch({selection:ZR(r.ranges,a.field),effects:Lv.of(r.ranges.some(h=>h.field>a.field)?new Rg(r.ranges,a.field):null),scrollIntoView:!0}),!0)}}),iv={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},rd=Se.define({map(n,e){let r=e.mapPos(n,-1,zr.TrackAfter);return r??void 0}}),YR=new class extends kd{};YR.startSide=1;YR.endSide=-1;const iq=kr.define({create(){return ri.empty},update(n,e){if(n=n.map(e.changes),e.selection){let r=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:o=>o>=r.from&&o<=r.to})}for(let r of e.effects)r.is(rd)&&(n=n.update({add:[YR.range(r.value,r.value+1)]}));return n}});function Eyt(){return[Lyt,iq]}const VM="()[]{}<>";function nq(n){for(let e=0;e<VM.length;e+=2)if(VM.charCodeAt(e)==n)return VM.charAt(e+1);return sR(n<128?n:n+1)}function rq(n,e){return n.languageDataAt("closeBrackets",e)[0]||iv}const Ryt=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Lyt=Yt.inputHandler.of((n,e,r,o)=>{if((Ryt?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let a=n.state.selection.main;if(o.length>2||o.length==2&&eu(io(o,0))==1||e!=a.from||r!=a.to)return!1;let h=Iyt(n.state,o);return h?(n.dispatch(h),!0):!1}),$yt=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let o=rq(n,n.selection.main.head).brackets||iv.brackets,a=null,h=n.changeByRange(f=>{if(f.empty){let p=Fyt(n.doc,f.head);for(let g of o)if(g==p&&u2(n.doc,f.head)==nq(io(g,0)))return{changes:{from:f.head-g.length,to:f.head+g.length},range:Ct.cursor(f.head-g.length)}}return{range:a=f}});return a||e(n.update(h,{scrollIntoView:!0,userEvent:"delete.backward"})),!a},Dyt=[{key:"Backspace",run:$yt}];function Iyt(n,e){let r=rq(n,n.selection.main.head),o=r.brackets||iv.brackets;for(let a of o){let h=nq(io(a,0));if(e==a)return h==a?Xyt(n,a,o.indexOf(a+a+a)>-1,r):Vyt(n,a,h,r.before||iv.before);if(e==h&&sq(n,n.selection.main.from))return zyt(n,a,h)}return null}function sq(n,e){let r=!1;return n.field(iq).between(0,n.doc.length,o=>{o==e&&(r=!0)}),r}function u2(n,e){let r=n.sliceString(e,e+2);return r.slice(0,eu(io(r,0)))}function Fyt(n,e){let r=n.sliceString(e-2,e);return eu(io(r,0))==r.length?r:r.slice(1)}function Vyt(n,e,r,o){let a=null,h=n.changeByRange(f=>{if(!f.empty)return{changes:[{insert:e,from:f.from},{insert:r,from:f.to}],effects:rd.of(f.to+e.length),range:Ct.range(f.anchor+e.length,f.head+e.length)};let p=u2(n.doc,f.head);return!p||/\s/.test(p)||o.indexOf(p)>-1?{changes:{insert:e+r,from:f.head},effects:rd.of(f.head+e.length),range:Ct.cursor(f.head+e.length)}:{range:a=f}});return a?null:n.update(h,{scrollIntoView:!0,userEvent:"input.type"})}function zyt(n,e,r){let o=null,a=n.changeByRange(h=>h.empty&&u2(n.doc,h.head)==r?{changes:{from:h.head,to:h.head+r.length,insert:r},range:Ct.cursor(h.head+r.length)}:o={range:h});return o?null:n.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function Xyt(n,e,r,o){let a=o.stringPrefixes||iv.stringPrefixes,h=null,f=n.changeByRange(p=>{if(!p.empty)return{changes:[{insert:e,from:p.from},{insert:e,from:p.to}],effects:rd.of(p.to+e.length),range:Ct.range(p.anchor+e.length,p.head+e.length)};let g=p.head,v=u2(n.doc,g),x;if(v==e){if(D3(n,g))return{changes:{insert:e+e,from:g},effects:rd.of(g+e.length),range:Ct.cursor(g+e.length)};if(sq(n,g)){let b=r&&n.sliceDoc(g,g+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:g,to:g+b.length,insert:b},range:Ct.cursor(g+b.length)}}}else{if(r&&n.sliceDoc(g-2*e.length,g)==e+e&&(x=I3(n,g-2*e.length,a))>-1&&D3(n,x))return{changes:{insert:e+e+e+e,from:g},effects:rd.of(g+e.length),range:Ct.cursor(g+e.length)};if(n.charCategorizer(g)(v)!=Hi.Word&&I3(n,g,a)>-1&&!Byt(n,g,e,a))return{changes:{insert:e+e,from:g},effects:rd.of(g+e.length),range:Ct.cursor(g+e.length)}}return{range:h=p}});return h?null:n.update(f,{scrollIntoView:!0,userEvent:"input.type"})}function D3(n,e){let r=Mi(n).resolveInner(e+1);return r.parent&&r.from==e}function Byt(n,e,r,o){let a=Mi(n).resolveInner(e,-1),h=o.reduce((f,p)=>Math.max(f,p.length),0);for(let f=0;f<5;f++){let p=n.sliceDoc(a.from,Math.min(a.to,a.from+r.length+h)),g=p.indexOf(r);if(!g||g>-1&&o.indexOf(p.slice(0,g))>-1){let x=a.firstChild;for(;x&&x.from==a.from&&x.to-x.from>r.length+g;){if(n.sliceDoc(x.to-r.length,x.to)==r)return!1;x=x.firstChild}return!0}let v=a.to==e&&a.parent;if(!v)break;a=v}return!1}function I3(n,e,r){let o=n.charCategorizer(e);if(o(n.sliceDoc(e-1,e))!=Hi.Word)return e;for(let a of r){let h=e-a.length;if(n.sliceDoc(h,e)==a&&o(n.sliceDoc(h-1,h))!=Hi.Word)return h}return-1}function _yt(n={}){return[wyt,ro,xr.of(n),vyt,Zyt,tq]}const oq=[{key:"Ctrl-Space",run:L3},{mac:"Alt-`",run:L3},{key:"Escape",run:myt},{key:"ArrowDown",run:Hw(!0)},{key:"ArrowUp",run:Hw(!1)},{key:"PageDown",run:Hw(!0,"page")},{key:"PageUp",run:Hw(!1,"page")},{key:"Enter",run:pyt}],Zyt=Ph.highest(Qg.computeN([xr],n=>n.facet(xr).defaultKeymap?[oq]:[]));class F3{constructor(e,r,o){this.from=e,this.to=r,this.diagnostic=o}}class qf{constructor(e,r,o){this.diagnostics=e,this.panel=r,this.selected=o}static init(e,r,o){let a=o.facet(nv).markerFilter;a&&(e=a(e,o));let h=e.slice().sort((x,S)=>x.from-S.from||x.to-S.to),f=new vh,p=[],g=0;for(let x=0;;){let S=x==h.length?null:h[x];if(!S&&!p.length)break;let b,C;for(p.length?(b=g,C=p.reduce((N,E)=>Math.min(N,E.to),S&&S.from>b?S.from:1e8)):(b=S.from,C=S.to,p.push(S),x++);x<h.length;){let N=h[x];if(N.from==b&&(N.to>N.from||N.to==b))p.push(N),x++,C=Math.min(N.to,C);else{C=Math.min(N.from,C);break}}let j=rOt(p);if(p.some(N=>N.from==N.to||N.from==N.to-1&&o.doc.lineAt(N.from).to==N.from))f.add(b,b,ue.widget({widget:new tOt(j),diagnostics:p.slice()}));else{let N=p.reduce((E,R)=>R.markClass?E+" "+R.markClass:E,"");f.add(b,C,ue.mark({class:"cm-lintRange cm-lintRange-"+j+N,diagnostics:p.slice(),inclusiveEnd:p.some(E=>E.to>C)}))}g=C;for(let N=0;N<p.length;N++)p[N].to<=g&&p.splice(N--,1)}let v=f.finish();return new qf(v,r,cg(v))}}function cg(n,e=null,r=0){let o=null;return n.between(r,1e9,(a,h,{spec:f})=>{if(!(e&&f.diagnostics.indexOf(e)<0))if(!o)o=new F3(a,h,e||f.diagnostics[0]);else{if(f.diagnostics.indexOf(o.diagnostic)<0)return!1;o=new F3(o.from,h,o.diagnostic)}}),o}function Yyt(n,e){let r=e.pos,o=e.end||r,a=n.state.facet(nv).hideOn(n,r,o);if(a!=null)return a;let h=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(f=>f.is(lq))||n.changes.touchesRange(h.from,Math.max(h.to,o)))}function Uyt(n,e){return n.field($o,!1)?e:e.concat(Se.appendConfig.of(sOt))}const lq=Se.define(),UR=Se.define(),aq=Se.define(),$o=kr.define({create(){return new qf(ue.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let r=n.diagnostics.map(e.changes),o=null,a=n.panel;if(n.selected){let h=e.changes.mapPos(n.selected.from,1);o=cg(r,n.selected.diagnostic,h)||cg(r,null,h)}!r.size&&a&&e.state.facet(nv).autoPanel&&(a=null),n=new qf(r,a,o)}for(let r of e.effects)if(r.is(lq)){let o=e.state.facet(nv).autoPanel?r.value.length?rv.open:null:n.panel;n=qf.init(r.value,o,e.state)}else r.is(UR)?n=new qf(n.diagnostics,r.value?rv.open:null,n.selected):r.is(aq)&&(n=new qf(n.diagnostics,n.panel,r.value));return n},provide:n=>[WO.from(n,e=>e.panel),Yt.decorations.from(n,e=>e.diagnostics)]}),Wyt=ue.mark({class:"cm-lintRange cm-lintRange-active"});function qyt(n,e,r){let{diagnostics:o}=n.state.field($o),a,h=-1,f=-1;o.between(e-(r<0?1:0),e+(r>0?1:0),(g,v,{spec:x})=>{if(e>=g&&e<=v&&(g==v||(e>g||r>0)&&(e<v||r<0)))return a=x.diagnostics,h=g,f=v,!1});let p=n.state.facet(nv).tooltipFilter;return a&&p&&(a=p(a,n.state)),a?{pos:h,end:f,above:n.state.doc.lineAt(h).to<f,create(){return{dom:Gyt(n,a)}}}:null}function Gyt(n,e){return Pi("ul",{class:"cm-tooltip-lint"},e.map(r=>hq(n,r,!1)))}const Hyt=n=>{let e=n.state.field($o,!1);(!e||!e.panel)&&n.dispatch({effects:Uyt(n.state,[UR.of(!0)])});let r=UO(n,rv.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0},V3=n=>{let e=n.state.field($o,!1);return!e||!e.panel?!1:(n.dispatch({effects:UR.of(!1)}),!0)},Kyt=n=>{let e=n.state.field($o,!1);if(!e)return!1;let r=n.state.selection.main,o=e.diagnostics.iter(r.to+1);return!o.value&&(o=e.diagnostics.iter(0),!o.value||o.from==r.from&&o.to==r.to)?!1:(n.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0}),!0)},Jyt=[{key:"Mod-Shift-m",run:Hyt,preventDefault:!0},{key:"F8",run:Kyt}],nv=Ht.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},yu(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,r)=>e?r?o=>e(o)||r(o):e:r}))}});function uq(n){let e=[];if(n)t:for(let{name:r}of n){for(let o=0;o<r.length;o++){let a=r[o];if(/[a-zA-Z]/.test(a)&&!e.some(h=>h.toLowerCase()==a.toLowerCase())){e.push(a);continue t}}e.push("")}return e}function hq(n,e,r){var o;let a=r?uq(e.actions):[];return Pi("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Pi("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(o=e.actions)===null||o===void 0?void 0:o.map((h,f)=>{let p=!1,g=b=>{if(b.preventDefault(),p)return;p=!0;let C=cg(n.state.field($o).diagnostics,e);C&&h.apply(n,C.from,C.to)},{name:v}=h,x=a[f]?v.indexOf(a[f]):-1,S=x<0?v:[v.slice(0,x),Pi("u",v.slice(x,x+1)),v.slice(x+1)];return Pi("button",{type:"button",class:"cm-diagnosticAction",onclick:g,onmousedown:g,"aria-label":` Action: ${v}${x<0?"":` (access key "${a[f]})"`}.`},S)}),e.source&&Pi("div",{class:"cm-diagnosticSource"},e.source))}class tOt extends Ou{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Pi("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class z3{constructor(e,r){this.diagnostic=r,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=hq(e,r,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class rv{constructor(e){this.view=e,this.items=[];let r=a=>{if(a.keyCode==27)V3(this.view),this.view.focus();else if(a.keyCode==38||a.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(a.keyCode==40||a.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(a.keyCode==36)this.moveSelection(0);else if(a.keyCode==35)this.moveSelection(this.items.length-1);else if(a.keyCode==13)this.view.focus();else if(a.keyCode>=65&&a.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:h}=this.items[this.selectedIndex],f=uq(h.actions);for(let p=0;p<f.length;p++)if(f[p].toUpperCase().charCodeAt(0)==a.keyCode){let g=cg(this.view.state.field($o).diagnostics,h);g&&h.actions[p].apply(e,g.from,g.to)}}else return;a.preventDefault()},o=a=>{for(let h=0;h<this.items.length;h++)this.items[h].dom.contains(a.target)&&this.moveSelection(h)};this.list=Pi("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:r,onclick:o}),this.dom=Pi("div",{class:"cm-panel-lint"},this.list,Pi("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>V3(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field($o).selected;if(!e)return-1;for(let r=0;r<this.items.length;r++)if(this.items[r].diagnostic==e.diagnostic)return r;return-1}update(){let{diagnostics:e,selected:r}=this.view.state.field($o),o=0,a=!1,h=null,f=new Set;for(e.between(0,this.view.state.doc.length,(p,g,{spec:v})=>{for(let x of v.diagnostics){if(f.has(x))continue;f.add(x);let S=-1,b;for(let C=o;C<this.items.length;C++)if(this.items[C].diagnostic==x){S=C;break}S<0?(b=new z3(this.view,x),this.items.splice(o,0,b),a=!0):(b=this.items[S],S>o&&(this.items.splice(o,S-o),a=!0)),r&&b.diagnostic==r.diagnostic?b.dom.hasAttribute("aria-selected")||(b.dom.setAttribute("aria-selected","true"),h=b):b.dom.hasAttribute("aria-selected")&&b.dom.removeAttribute("aria-selected"),o++}});o<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)a=!0,this.items.pop();this.items.length==0&&(this.items.push(new z3(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),a=!0),h?(this.list.setAttribute("aria-activedescendant",h.id),this.view.requestMeasure({key:this,read:()=>({sel:h.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:p,panel:g})=>{let v=g.height/this.list.offsetHeight;p.top<g.top?this.list.scrollTop-=(g.top-p.top)/v:p.bottom>g.bottom&&(this.list.scrollTop+=(p.bottom-g.bottom)/v)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),a&&this.sync()}sync(){let e=this.list.firstChild;function r(){let o=e;e=o.nextSibling,o.remove()}for(let o of this.items)if(o.dom.parentNode==this.list){for(;e!=o.dom;)r();e=o.dom.nextSibling}else this.list.insertBefore(o.dom,e);for(;e;)r()}moveSelection(e){if(this.selectedIndex<0)return;let r=this.view.state.field($o),o=cg(r.diagnostics,this.items[e].diagnostic);o&&this.view.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0,effects:aq.of(o)})}static open(e){return new rv(e)}}function eOt(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function Kw(n){return eOt(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const iOt=Yt.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Kw("#d11")},".cm-lintRange-warning":{backgroundImage:Kw("orange")},".cm-lintRange-info":{backgroundImage:Kw("#999")},".cm-lintRange-hint":{backgroundImage:Kw("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function nOt(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function rOt(n){let e="hint",r=1;for(let o of n){let a=nOt(o.severity);a>r&&(r=a,e=o.severity)}return e}const sOt=[$o,Yt.decorations.compute([$o],n=>{let{selected:e,panel:r}=n.field($o);return!e||!r||e.from==e.to?ue.none:ue.set([Wyt.range(e.from,e.to)])}),_pt(qyt,{hideOn:Yyt}),iOt];var X3=function(e){e===void 0&&(e={});var{crosshairCursor:r=!1}=e,o=[];e.closeBracketsKeymap!==!1&&(o=o.concat(Dyt)),e.defaultKeymap!==!1&&(o=o.concat(w0t)),e.searchKeymap!==!1&&(o=o.concat(U0t)),e.historyKeymap!==!1&&(o=o.concat(Ngt)),e.foldKeymap!==!1&&(o=o.concat(Zmt)),e.completionKeymap!==!1&&(o=o.concat(oq)),e.lintKeymap!==!1&&(o=o.concat(Jyt));var a=[];return e.lineNumbers!==!1&&a.push(emt()),e.highlightActiveLineGutter!==!1&&a.push(rmt()),e.highlightSpecialChars!==!1&&a.push(vpt()),e.history!==!1&&a.push(wgt()),e.foldGutter!==!1&&a.push(qmt()),e.drawSelection!==!1&&a.push(apt()),e.dropCursor!==!1&&a.push(dpt()),e.allowMultipleSelections!==!1&&a.push(Ye.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&a.push(Dmt()),e.syntaxHighlighting!==!1&&a.push(NR(Jmt,{fallback:!0})),e.bracketMatching!==!1&&a.push(ogt()),e.closeBrackets!==!1&&a.push(Eyt()),e.autocompletion!==!1&&a.push(_yt()),e.rectangularSelection!==!1&&a.push(Ept()),r!==!1&&a.push($pt()),e.highlightActiveLine!==!1&&a.push(bpt()),e.highlightSelectionMatches!==!1&&a.push(M0t()),e.tabSize&&typeof e.tabSize=="number"&&a.push(Ng.of(" ".repeat(e.tabSize))),a.concat([Qg.of(o.flat())]).filter(Boolean)};const oOt="#e5c07b",B3="#e06c75",lOt="#56b6c2",aOt="#ffffff",LS="#abb2bf",VA="#7d8799",uOt="#61afef",hOt="#98c379",_3="#d19a66",cOt="#c678dd",fOt="#21252b",Z3="#2c313a",Y3="#282c34",zM="#353a42",dOt="#3E4451",U3="#528bff",pOt=Yt.theme({"&":{color:LS,backgroundColor:Y3},".cm-content":{caretColor:U3},".cm-cursor, .cm-dropCursor":{borderLeftColor:U3},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:dOt},".cm-panels":{backgroundColor:fOt,color:LS},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Y3,color:VA,border:"none"},".cm-activeLineGutter":{backgroundColor:Z3},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:zM},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:zM,borderBottomColor:zM},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Z3,color:LS}}},{dark:!0}),mOt=Ag.define([{tag:W.keyword,color:cOt},{tag:[W.name,W.deleted,W.character,W.propertyName,W.macroName],color:B3},{tag:[W.function(W.variableName),W.labelName],color:uOt},{tag:[W.color,W.constant(W.name),W.standard(W.name)],color:_3},{tag:[W.definition(W.name),W.separator],color:LS},{tag:[W.typeName,W.className,W.number,W.changed,W.annotation,W.modifier,W.self,W.namespace],color:oOt},{tag:[W.operator,W.operatorKeyword,W.url,W.escape,W.regexp,W.link,W.special(W.string)],color:lOt},{tag:[W.meta,W.comment],color:VA},{tag:W.strong,fontWeight:"bold"},{tag:W.emphasis,fontStyle:"italic"},{tag:W.strikethrough,textDecoration:"line-through"},{tag:W.link,color:VA,textDecoration:"underline"},{tag:W.heading,fontWeight:"bold",color:B3},{tag:[W.atom,W.bool,W.special(W.variableName)],color:_3},{tag:[W.processingInstruction,W.string,W.inserted],color:hOt},{tag:W.invalid,color:aOt}]),gOt=[pOt,NR(mOt)];var yOt=Yt.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),OOt=function(e){e===void 0&&(e={});var{indentWithTab:r=!0,editable:o=!0,readOnly:a=!1,theme:h="light",placeholder:f="",basicSetup:p=!0}=e,g=[];switch(r&&g.unshift(Qg.of([S0t])),p&&(typeof p=="boolean"?g.unshift(X3()):g.unshift(X3(p))),f&&g.unshift(Qpt(f)),h){case"light":g.push(yOt);break;case"dark":g.push(gOt);break;case"none":break;default:g.push(h);break}return o===!1&&g.push(Yt.editable.of(!1)),a&&g.push(Ye.readOnly.of(!0)),[...g]},vOt=n=>({line:n.state.doc.lineAt(n.state.selection.main.from),lineCount:n.state.doc.lines,lineBreak:n.state.lineBreak,length:n.state.doc.length,readOnly:n.state.readOnly,tabSize:n.state.tabSize,selection:n.state.selection,selectionAsSingle:n.state.selection.asSingle().main,ranges:n.state.selection.ranges,selectionCode:n.state.sliceDoc(n.state.selection.main.from,n.state.selection.main.to),selections:n.state.selection.ranges.map(e=>n.state.sliceDoc(e.from,e.to)),selectedText:n.state.selection.ranges.some(e=>!e.empty)}),W3=gu.define(),xOt=[];function wOt(n){var{value:e,selection:r,onChange:o,onStatistics:a,onCreateEditor:h,onUpdate:f,extensions:p=xOt,autoFocus:g,theme:v="light",height:x=null,minHeight:S=null,maxHeight:b=null,width:C=null,minWidth:j=null,maxWidth:N=null,placeholder:E="",editable:R=!0,readOnly:$=!1,indentWithTab:V=!0,basicSetup:D=!0,root:B,initialState:q}=n,[K,J]=Z.useState(),[ot,Ot]=Z.useState(),[bt,wt]=Z.useState(),St=Yt.theme({"&":{height:x,minHeight:S,maxHeight:b,width:C,minWidth:j,maxWidth:N},"& .cm-scroller":{height:"100% !important"}}),dt=Yt.updateListener.of(Et=>{if(Et.docChanged&&typeof o=="function"&&!Et.transactions.some(vt=>vt.annotation(W3))){var pt=Et.state.doc,ht=pt.toString();o(ht,Et)}a&&a(vOt(Et))}),Vt=OOt({theme:v,editable:R,readOnly:$,placeholder:E,indentWithTab:V,basicSetup:D}),Mt=[dt,St,...Vt];return f&&typeof f=="function"&&Mt.push(Yt.updateListener.of(f)),Mt=Mt.concat(p),Z.useLayoutEffect(()=>{if(K&&!bt){var Et={doc:e,selection:r,extensions:Mt},pt=q?Ye.fromJSON(q.json,Et,q.fields):Ye.create(Et);if(wt(pt),!ot){var ht=new Yt({state:pt,parent:K,root:B});Ot(ht),h&&h(ht,pt)}}return()=>{ot&&(wt(void 0),Ot(void 0))}},[K,bt]),Z.useEffect(()=>{n.container&&J(n.container)},[n.container]),Z.useEffect(()=>()=>{ot&&(ot.destroy(),Ot(void 0))},[ot]),Z.useEffect(()=>{g&&ot&&ot.focus()},[g,ot]),Z.useEffect(()=>{ot&&ot.dispatch({effects:Se.reconfigure.of(Mt)})},[v,p,x,S,b,C,j,N,E,R,$,V,D,o,f]),Z.useEffect(()=>{if(e!==void 0){var Et=ot?ot.state.doc.toString():"";ot&&e!==Et&&ot.dispatch({changes:{from:0,to:Et.length,insert:e||""},annotations:[W3.of(!0)]})}},[e,ot]),{state:bt,setState:wt,view:ot,setView:Ot,container:K,setContainer:J}}var SOt=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],cq=Z.forwardRef((n,e)=>{var{className:r,value:o="",selection:a,extensions:h=[],onChange:f,onStatistics:p,onCreateEditor:g,onUpdate:v,autoFocus:x,theme:S="light",height:b,minHeight:C,maxHeight:j,width:N,minWidth:E,maxWidth:R,basicSetup:$,placeholder:V,indentWithTab:D,editable:B,readOnly:q,root:K,initialState:J}=n,ot=rft(n,SOt),Ot=Z.useRef(null),{state:bt,view:wt,container:St,setContainer:dt}=wOt({root:K,value:o,autoFocus:x,theme:S,height:b,minHeight:C,maxHeight:j,width:N,minWidth:E,maxWidth:R,basicSetup:$,placeholder:V,indentWithTab:D,editable:B,readOnly:q,selection:a,onChange:f,onStatistics:p,onCreateEditor:g,onUpdate:v,extensions:h,initialState:J});Z.useImperativeHandle(e,()=>({editor:Ot.current,state:bt,view:wt}),[Ot,St,bt,wt]);var Vt=Z.useCallback(Et=>{Ot.current=Et,dt(Et)},[dt]);if(typeof o!="string")throw new Error("value must be typeof string but got "+typeof o);var Mt=typeof S=="string"?"cm-theme-"+S:"cm-theme";return Q.jsx("div",ZN({ref:Vt,className:""+Mt+(r?" "+r:"")},ot))});cq.displayName="CodeMirror";var q3={};class Kk{constructor(e,r,o,a,h,f,p,g,v,x=0,S){this.p=e,this.stack=r,this.state=o,this.reducePos=a,this.pos=h,this.score=f,this.buffer=p,this.bufferBase=g,this.curContext=v,this.lookAhead=x,this.parent=S}toString(){return`[${this.stack.filter((e,r)=>r%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,r,o=0){let a=e.parser.context;return new Kk(e,[],r,o,o,0,[],0,a?new G3(a,a.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,r){this.stack.push(this.state,r,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var r;let o=e>>19,a=e&65535,{parser:h}=this.p,f=this.reducePos<this.pos-25;f&&this.setLookAhead(this.pos);let p=h.dynamicPrecedence(a);if(p&&(this.score+=p),o==0){this.pushState(h.getGoto(this.state,a,!0),this.reducePos),a<h.minRepeatTerm&&this.storeNode(a,this.reducePos,this.reducePos,f?8:4,!0),this.reduceContext(a,this.reducePos);return}let g=this.stack.length-(o-1)*3-(e&262144?6:0),v=g?this.stack[g-2]:this.p.ranges[0].from,x=this.reducePos-v;x>=2e3&&!(!((r=this.p.parser.nodeSet.types[a])===null||r===void 0)&&r.isAnonymous)&&(v==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=x):this.p.lastBigReductionSize<x&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=v,this.p.lastBigReductionSize=x));let S=g?this.stack[g-1]:0,b=this.bufferBase+this.buffer.length-S;if(a<h.minRepeatTerm||e&131072){let C=h.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(a,v,C,b+4,!0)}if(e&262144)this.state=this.stack[g];else{let C=this.stack[g-3];this.state=h.getGoto(C,a,!0)}for(;this.stack.length>g;)this.stack.pop();this.reduceContext(a,v)}storeNode(e,r,o,a=4,h=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let f=this,p=this.buffer.length;if(p==0&&f.parent&&(p=f.bufferBase-f.parent.bufferBase,f=f.parent),p>0&&f.buffer[p-4]==0&&f.buffer[p-1]>-1){if(r==o)return;if(f.buffer[p-2]>=r){f.buffer[p-2]=o;return}}}if(!h||this.pos==o)this.buffer.push(e,r,o,a);else{let f=this.buffer.length;if(f>0&&this.buffer[f-4]!=0){let p=!1;for(let g=f;g>0&&this.buffer[g-2]>o;g-=4)if(this.buffer[g-1]>=0){p=!0;break}if(p)for(;f>0&&this.buffer[f-2]>o;)this.buffer[f]=this.buffer[f-4],this.buffer[f+1]=this.buffer[f-3],this.buffer[f+2]=this.buffer[f-2],this.buffer[f+3]=this.buffer[f-1],f-=4,a>4&&(a-=4)}this.buffer[f]=e,this.buffer[f+1]=r,this.buffer[f+2]=o,this.buffer[f+3]=a}}shift(e,r,o,a){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=a,this.shiftContext(r,o),r<=this.p.parser.maxNode&&this.buffer.push(r,o,a,4);else{let h=e,{parser:f}=this.p;(a>this.pos||r<=f.maxNode)&&(this.pos=a,f.stateFlag(h,1)||(this.reducePos=a)),this.pushState(h,o),this.shiftContext(r,o),r<=f.maxNode&&this.buffer.push(r,o,a,4)}}apply(e,r,o,a){e&65536?this.reduce(e):this.shift(e,r,o,a)}useNode(e,r){let o=this.p.reused.length-1;(o<0||this.p.reused[o]!=e)&&(this.p.reused.push(e),o++);let a=this.pos;this.reducePos=this.pos=a+e.length,this.pushState(r,a),this.buffer.push(o,a,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,r=e.buffer.length;for(;r>0&&e.buffer[r-2]>e.reducePos;)r-=4;let o=e.buffer.slice(r),a=e.bufferBase+r;for(;e&&a==e.bufferBase;)e=e.parent;return new Kk(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,o,a,this.curContext,this.lookAhead,e)}recoverByDelete(e,r){let o=e<=this.p.parser.maxNode;o&&this.storeNode(e,this.pos,r,4),this.storeNode(0,this.pos,r,o?8:4),this.pos=this.reducePos=r,this.score-=190}canShift(e){for(let r=new kOt(this);;){let o=this.p.parser.stateSlot(r.state,4)||this.p.parser.hasAction(r.state,e);if(o==0)return!1;if(!(o&65536))return!0;r.reduce(o)}}recoverByInsert(e){if(this.stack.length>=300)return[];let r=this.p.parser.nextStates(this.state);if(r.length>8||this.stack.length>=120){let a=[];for(let h=0,f;h<r.length;h+=2)(f=r[h+1])!=this.state&&this.p.parser.hasAction(f,e)&&a.push(r[h],f);if(this.stack.length<120)for(let h=0;a.length<8&&h<r.length;h+=2){let f=r[h+1];a.some((p,g)=>g&1&&p==f)||a.push(r[h],f)}r=a}let o=[];for(let a=0;a<r.length&&o.length<4;a+=2){let h=r[a+1];if(h==this.state)continue;let f=this.split();f.pushState(h,this.pos),f.storeNode(0,f.pos,f.pos,4,!0),f.shiftContext(r[a],this.pos),f.reducePos=this.pos,f.score-=200,o.push(f)}return o}forceReduce(){let{parser:e}=this.p,r=e.stateSlot(this.state,5);if(!(r&65536))return!1;if(!e.validAction(this.state,r)){let o=r>>19,a=r&65535,h=this.stack.length-o*3;if(h<0||e.getGoto(this.stack[h],a,!1)<0){let f=this.findForcedReduction();if(f==null)return!1;r=f}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(r),!0}findForcedReduction(){let{parser:e}=this.p,r=[],o=(a,h)=>{if(!r.includes(a))return r.push(a),e.allActions(a,f=>{if(!(f&393216))if(f&65536){let p=(f>>19)-h;if(p>1){let g=f&65535,v=this.stack.length-p*3;if(v>=0&&e.getGoto(this.stack[v],g,!1)>=0)return p<<19|65536|g}}else{let p=o(f,h+1);if(p!=null)return p}})};return o(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let r=0;r<this.stack.length;r+=3)if(this.stack[r]!=e.stack[r])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(r)))}reduceContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(r)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let r=new G3(this.curContext.tracker,e);r.hash!=this.curContext.hash&&this.emitContext(),this.curContext=r}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class G3{constructor(e,r){this.tracker=e,this.context=r,this.hash=e.strict?e.hash(r):0}}class kOt{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let r=e&65535,o=e>>19;o==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(o-1)*3;let a=this.start.p.parser.getGoto(this.stack[this.base-3],r,!0);this.state=a}}class Jk{constructor(e,r,o){this.stack=e,this.pos=r,this.index=o,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,r=e.bufferBase+e.buffer.length){return new Jk(e,r,r-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Jk(this.stack,this.pos,this.index)}}function $y(n,e=Uint16Array){if(typeof n!="string")return n;let r=null;for(let o=0,a=0;o<n.length;){let h=0;for(;;){let f=n.charCodeAt(o++),p=!1;if(f==126){h=65535;break}f>=92&&f--,f>=34&&f--;let g=f-32;if(g>=46&&(g-=46,p=!0),h+=g,p)break;h*=46}r?r[a++]=h:r=new e(h)}return r}class $S{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const H3=new $S;class POt{constructor(e,r){this.input=e,this.ranges=r,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=H3,this.rangeIndex=0,this.pos=this.chunkPos=r[0].from,this.range=r[0],this.end=r[r.length-1].to,this.readNext()}resolveOffset(e,r){let o=this.range,a=this.rangeIndex,h=this.pos+e;for(;h<o.from;){if(!a)return null;let f=this.ranges[--a];h-=o.from-f.to,o=f}for(;r<0?h>o.to:h>=o.to;){if(a==this.ranges.length-1)return null;let f=this.ranges[++a];h+=f.from-o.to,o=f}return h}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let r of this.ranges)if(r.to>e)return Math.max(e,r.from);return this.end}peek(e){let r=this.chunkOff+e,o,a;if(r>=0&&r<this.chunk.length)o=this.pos+e,a=this.chunk.charCodeAt(r);else{let h=this.resolveOffset(e,1);if(h==null)return-1;if(o=h,o>=this.chunk2Pos&&o<this.chunk2Pos+this.chunk2.length)a=this.chunk2.charCodeAt(o-this.chunk2Pos);else{let f=this.rangeIndex,p=this.range;for(;p.to<=o;)p=this.ranges[++f];this.chunk2=this.input.chunk(this.chunk2Pos=o),o+this.chunk2.length>p.to&&(this.chunk2=this.chunk2.slice(0,p.to-o)),a=this.chunk2.charCodeAt(0)}}return o>=this.token.lookAhead&&(this.token.lookAhead=o+1),a}acceptToken(e,r=0){let o=r?this.resolveOffset(r,-1):this.pos;if(o==null||o<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=o}acceptTokenTo(e,r){this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:r}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=r,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),r=this.pos+e.length;this.chunk=r>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,r){if(r?(this.token=r,r.start=e,r.lookAhead=e+1,r.value=r.extended=-1):this.token=H3,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,r){if(e>=this.chunkPos&&r<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,r-this.chunkPos);if(e>=this.chunk2Pos&&r<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,r-this.chunk2Pos);if(e>=this.range.from&&r<=this.range.to)return this.input.read(e,r);let o="";for(let a of this.ranges){if(a.from>=r)break;a.to>e&&(o+=this.input.read(Math.max(a.from,e),Math.min(a.to,r)))}return o}}class Rm{constructor(e,r){this.data=e,this.id=r}token(e,r){let{parser:o}=r.p;fq(this.data,e,r,this.id,o.data,o.tokenPrecTable)}}Rm.prototype.contextual=Rm.prototype.fallback=Rm.prototype.extend=!1;class tP{constructor(e,r,o){this.precTable=r,this.elseToken=o,this.data=typeof e=="string"?$y(e):e}token(e,r){let o=e.pos,a=0;for(;;){let h=e.next<0,f=e.resolveOffset(1,1);if(fq(this.data,e,r,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(h||a++,f==null)break;e.reset(f,e.token)}a&&(e.reset(o,e.token),e.acceptToken(this.elseToken,a))}}tP.prototype.contextual=Rm.prototype.fallback=Rm.prototype.extend=!1;class ps{constructor(e,r={}){this.token=e,this.contextual=!!r.contextual,this.fallback=!!r.fallback,this.extend=!!r.extend}}function fq(n,e,r,o,a,h){let f=0,p=1<<o,{dialect:g}=r.p.parser;t:for(;p&n[f];){let v=n[f+1];for(let C=f+3;C<v;C+=2)if((n[C+1]&p)>0){let j=n[C];if(g.allows(j)&&(e.token.value==-1||e.token.value==j||bOt(j,e.token.value,a,h))){e.acceptToken(j);break}}let x=e.next,S=0,b=n[f+2];if(e.next<0&&b>S&&n[v+b*3-3]==65535){f=n[v+b*3-1];continue t}for(;S<b;){let C=S+b>>1,j=v+C+(C<<1),N=n[j],E=n[j+1]||65536;if(x<N)b=C;else if(x>=E)S=C+1;else{f=n[j+2],e.advance();continue t}}break}}function K3(n,e,r){for(let o=e,a;(a=n[o])!=65535;o++)if(a==r)return o-e;return-1}function bOt(n,e,r,o){let a=K3(r,o,e);return a<0||K3(r,o,n)<a}const Co=typeof process<"u"&&q3&&/\bparse\b/.test(q3.LOG);let XM=null;function J3(n,e,r){let o=n.cursor(Ti.IncludeAnonymous);for(o.moveTo(e);;)if(!(r<0?o.childBefore(e):o.childAfter(e)))for(;;){if((r<0?o.to<e:o.from>e)&&!o.type.isError)return r<0?Math.max(0,Math.min(o.to-1,e-25)):Math.min(n.length,Math.max(o.from+1,e+25));if(r<0?o.prevSibling():o.nextSibling())break;if(!o.parent())return r<0?0:n.length}}let TOt=class{constructor(e,r){this.fragments=e,this.nodeSet=r,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?J3(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?J3(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let r=this.trees.length-1;if(r<0)return this.nextFragment(),null;let o=this.trees[r],a=this.index[r];if(a==o.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let h=o.children[a],f=this.start[r]+o.positions[a];if(f>e)return this.nextStart=f,null;if(h instanceof mi){if(f==e){if(f<this.safeFrom)return null;let p=f+h.length;if(p<=this.safeTo){let g=h.prop(we.lookAhead);if(!g||p+g<this.fragment.to)return h}}this.index[r]++,f+h.length>=Math.max(this.safeFrom,e)&&(this.trees.push(h),this.start.push(f),this.index.push(0))}else this.index[r]++,this.nextStart=f+h.length}}};class COt{constructor(e,r){this.stream=r,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(o=>new $S)}getActions(e){let r=0,o=null,{parser:a}=e.p,{tokenizers:h}=a,f=a.stateSlot(e.state,3),p=e.curContext?e.curContext.hash:0,g=0;for(let v=0;v<h.length;v++){if(!(1<<v&f))continue;let x=h[v],S=this.tokens[v];if(!(o&&!x.fallback)&&((x.contextual||S.start!=e.pos||S.mask!=f||S.context!=p)&&(this.updateCachedToken(S,x,e),S.mask=f,S.context=p),S.lookAhead>S.end+25&&(g=Math.max(S.lookAhead,g)),S.value!=0)){let b=r;if(S.extended>-1&&(r=this.addActions(e,S.extended,S.end,r)),r=this.addActions(e,S.value,S.end,r),!x.extend&&(o=S,r>b))break}}for(;this.actions.length>r;)this.actions.pop();return g&&e.setLookAhead(g),!o&&e.pos==this.stream.end&&(o=new $S,o.value=e.p.parser.eofTerm,o.start=o.end=e.pos,r=this.addActions(e,o.value,o.end,r)),this.mainToken=o,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let r=new $S,{pos:o,p:a}=e;return r.start=o,r.end=Math.min(o+1,a.stream.end),r.value=o==a.stream.end?a.parser.eofTerm:0,r}updateCachedToken(e,r,o){let a=this.stream.clipPos(o.pos);if(r.token(this.stream.reset(a,e),o),e.value>-1){let{parser:h}=o.p;for(let f=0;f<h.specialized.length;f++)if(h.specialized[f]==e.value){let p=h.specializers[f](this.stream.read(e.start,e.end),o);if(p>=0&&o.p.parser.dialect.allows(p>>1)){p&1?e.extended=p>>1:e.value=p>>1;break}}}else e.value=0,e.end=this.stream.clipPos(a+1)}putAction(e,r,o,a){for(let h=0;h<a;h+=3)if(this.actions[h]==e)return a;return this.actions[a++]=e,this.actions[a++]=r,this.actions[a++]=o,a}addActions(e,r,o,a){let{state:h}=e,{parser:f}=e.p,{data:p}=f;for(let g=0;g<2;g++)for(let v=f.stateSlot(h,g?2:1);;v+=3){if(p[v]==65535)if(p[v+1]==1)v=nh(p,v+2);else{a==0&&p[v+1]==2&&(a=this.putAction(nh(p,v+2),r,o,a));break}p[v]==r&&(a=this.putAction(nh(p,v+1),r,o,a))}return a}}class MOt{constructor(e,r,o,a){this.parser=e,this.input=r,this.ranges=a,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new POt(r,a),this.tokens=new COt(e,this.stream),this.topTerm=e.top[1];let{from:h}=a[0];this.stacks=[Kk.start(this,e.top[0],h)],this.fragments=o.length&&this.stream.end-h>e.bufferLength*4?new TOt(o,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,r=this.minStackPos,o=this.stacks=[],a,h;if(this.bigReductionCount>300&&e.length==1){let[f]=e;for(;f.forceReduce()&&f.stack.length&&f.stack[f.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let f=0;f<e.length;f++){let p=e[f];for(;;){if(this.tokens.mainToken=null,p.pos>r)o.push(p);else{if(this.advanceStack(p,o,e))continue;{a||(a=[],h=[]),a.push(p);let g=this.tokens.getMainToken(p);h.push(g.value,g.end)}}break}}if(!o.length){let f=a&&NOt(a);if(f)return Co&&console.log("Finish with "+this.stackID(f)),this.stackToTree(f);if(this.parser.strict)throw Co&&a&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&a){let f=this.stoppedAt!=null&&a[0].pos>this.stoppedAt?a[0]:this.runRecovery(a,h,o);if(f)return Co&&console.log("Force-finish "+this.stackID(f)),this.stackToTree(f.forceAll())}if(this.recovering){let f=this.recovering==1?1:this.recovering*3;if(o.length>f)for(o.sort((p,g)=>g.score-p.score);o.length>f;)o.pop();o.some(p=>p.reducePos>r)&&this.recovering--}else if(o.length>1){t:for(let f=0;f<o.length-1;f++){let p=o[f];for(let g=f+1;g<o.length;g++){let v=o[g];if(p.sameState(v)||p.buffer.length>500&&v.buffer.length>500)if((p.score-v.score||p.buffer.length-v.buffer.length)>0)o.splice(g--,1);else{o.splice(f--,1);continue t}}}o.length>12&&o.splice(12,o.length-12)}this.minStackPos=o[0].pos;for(let f=1;f<o.length;f++)o[f].pos<this.minStackPos&&(this.minStackPos=o[f].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,r,o){let a=e.pos,{parser:h}=this,f=Co?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&a>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let v=e.curContext&&e.curContext.tracker.strict,x=v?e.curContext.hash:0;for(let S=this.fragments.nodeAt(a);S;){let b=this.parser.nodeSet.types[S.type.id]==S.type?h.getGoto(e.state,S.type.id):-1;if(b>-1&&S.length&&(!v||(S.prop(we.contextHash)||0)==x))return e.useNode(S,b),Co&&console.log(f+this.stackID(e)+` (via reuse of ${h.getName(S.type.id)})`),!0;if(!(S instanceof mi)||S.children.length==0||S.positions[0]>0)break;let C=S.children[0];if(C instanceof mi&&S.positions[0]==0)S=C;else break}}let p=h.stateSlot(e.state,4);if(p>0)return e.reduce(p),Co&&console.log(f+this.stackID(e)+` (via always-reduce ${h.getName(p&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let g=this.tokens.getActions(e);for(let v=0;v<g.length;){let x=g[v++],S=g[v++],b=g[v++],C=v==g.length||!o,j=C?e:e.split(),N=this.tokens.mainToken;if(j.apply(x,S,N?N.start:j.pos,b),Co&&console.log(f+this.stackID(j)+` (via ${x&65536?`reduce of ${h.getName(x&65535)}`:"shift"} for ${h.getName(S)} @ ${a}${j==e?"":", split"})`),C)return!0;j.pos>a?r.push(j):o.push(j)}return!1}advanceFully(e,r){let o=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>o)return tX(e,r),!0}}runRecovery(e,r,o){let a=null,h=!1;for(let f=0;f<e.length;f++){let p=e[f],g=r[f<<1],v=r[(f<<1)+1],x=Co?this.stackID(p)+" -> ":"";if(p.deadEnd&&(h||(h=!0,p.restart(),Co&&console.log(x+this.stackID(p)+" (restarted)"),this.advanceFully(p,o))))continue;let S=p.split(),b=x;for(let C=0;S.forceReduce()&&C<10&&(Co&&console.log(b+this.stackID(S)+" (via force-reduce)"),!this.advanceFully(S,o));C++)Co&&(b=this.stackID(S)+" -> ");for(let C of p.recoverByInsert(g))Co&&console.log(x+this.stackID(C)+" (via recover-insert)"),this.advanceFully(C,o);this.stream.end>p.pos?(v==p.pos&&(v++,g=0),p.recoverByDelete(g,v),Co&&console.log(x+this.stackID(p)+` (via recover-delete ${this.parser.getName(g)})`),tX(p,o)):(!a||a.score<p.score)&&(a=p)}return a}stackToTree(e){return e.close(),mi.build({buffer:Jk.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let r=(XM||(XM=new WeakMap)).get(e);return r||XM.set(e,r=String.fromCodePoint(this.nextStackID++)),r+e}}function tX(n,e){for(let r=0;r<e.length;r++){let o=e[r];if(o.pos==n.pos&&o.sameState(n)){e[r].score<n.score&&(e[r]=n);return}}e.push(n)}class QOt{constructor(e,r,o){this.source=e,this.flags=r,this.disabled=o}allows(e){return!this.disabled||this.disabled[e]==0}}const BM=n=>n;class WR{constructor(e){this.start=e.start,this.shift=e.shift||BM,this.reduce=e.reduce||BM,this.reuse=e.reuse||BM,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Uc extends bR{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let r=e.nodeNames.split(" ");this.minRepeatTerm=r.length;for(let p=0;p<e.repeatNodeCount;p++)r.push("");let o=Object.keys(e.topRules).map(p=>e.topRules[p][1]),a=[];for(let p=0;p<r.length;p++)a.push([]);function h(p,g,v){a[p].push([g,g.deserialize(String(v))])}if(e.nodeProps)for(let p of e.nodeProps){let g=p[0];typeof g=="string"&&(g=we[g]);for(let v=1;v<p.length;){let x=p[v++];if(x>=0)h(x,g,p[v++]);else{let S=p[v+-x];for(let b=-x;b>0;b--)h(p[v++],g,S);v++}}}this.nodeSet=new Av(r.map((p,g)=>hr.define({name:g>=this.minRepeatTerm?void 0:p,id:g,props:a[g],top:o.indexOf(g)>-1,error:g==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(g)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=F9;let f=$y(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let p=0;p<this.specializerSpecs.length;p++)this.specialized[p]=this.specializerSpecs[p].term;this.specializers=this.specializerSpecs.map(eX),this.states=$y(e.states,Uint32Array),this.data=$y(e.stateData),this.goto=$y(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(p=>typeof p=="number"?new Rm(f,p):p),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,r,o){let a=new MOt(this,e,r,o);for(let h of this.wrappers)a=h(a,e,r,o);return a}getGoto(e,r,o=!1){let a=this.goto;if(r>=a[0])return-1;for(let h=a[r+1];;){let f=a[h++],p=f&1,g=a[h++];if(p&&o)return g;for(let v=h+(f>>1);h<v;h++)if(a[h]==e)return g;if(p)return-1}}hasAction(e,r){let o=this.data;for(let a=0;a<2;a++)for(let h=this.stateSlot(e,a?2:1),f;;h+=3){if((f=o[h])==65535)if(o[h+1]==1)f=o[h=nh(o,h+2)];else{if(o[h+1]==2)return nh(o,h+2);break}if(f==r||f==0)return nh(o,h+1)}return 0}stateSlot(e,r){return this.states[e*6+r]}stateFlag(e,r){return(this.stateSlot(e,0)&r)>0}validAction(e,r){return!!this.allActions(e,o=>o==r?!0:null)}allActions(e,r){let o=this.stateSlot(e,4),a=o?r(o):void 0;for(let h=this.stateSlot(e,1);a==null;h+=3){if(this.data[h]==65535)if(this.data[h+1]==1)h=nh(this.data,h+2);else break;a=r(nh(this.data,h+1))}return a}nextStates(e){let r=[];for(let o=this.stateSlot(e,1);;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=nh(this.data,o+2);else break;if(!(this.data[o+2]&1)){let a=this.data[o+1];r.some((h,f)=>f&1&&h==a)||r.push(this.data[o],a)}}return r}configure(e){let r=Object.assign(Object.create(Uc.prototype),this);if(e.props&&(r.nodeSet=this.nodeSet.extend(...e.props)),e.top){let o=this.topRules[e.top];if(!o)throw new RangeError(`Invalid top rule name ${e.top}`);r.top=o}return e.tokenizers&&(r.tokenizers=this.tokenizers.map(o=>{let a=e.tokenizers.find(h=>h.from==o);return a?a.to:o})),e.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map((o,a)=>{let h=e.specializers.find(p=>p.from==o.external);if(!h)return o;let f=Object.assign(Object.assign({},o),{external:h.to});return r.specializers[a]=eX(f),f})),e.contextTracker&&(r.context=e.contextTracker),e.dialect&&(r.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(r.strict=e.strict),e.wrap&&(r.wrappers=r.wrappers.concat(e.wrap)),e.bufferLength!=null&&(r.bufferLength=e.bufferLength),r}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let r=this.dynamicPrecedences;return r==null?0:r[e]||0}parseDialect(e){let r=Object.keys(this.dialects),o=r.map(()=>!1);if(e)for(let h of e.split(" ")){let f=r.indexOf(h);f>=0&&(o[f]=!0)}let a=null;for(let h=0;h<r.length;h++)if(!o[h])for(let f=this.dialects[r[h]],p;(p=this.data[f++])!=65535;)(a||(a=new Uint8Array(this.maxTerm+1)))[p]=1;return new QOt(e,o,a)}static deserialize(e){return new Uc(e)}}function nh(n,e){return n[e]|n[e+1]<<16}function NOt(n){let e=null;for(let r of n){let o=r.p.stoppedAt;(r.pos==r.p.stream.end||o!=null&&r.pos>o)&&r.p.parser.stateFlag(r.state,2)&&(!e||e.score<r.score)&&(e=r)}return e}function eX(n){if(n.external){let e=n.extend?1:0;return(r,o)=>n.external(r,o)<<1|e}return n.get}const AOt=315,jOt=316,iX=1,EOt=2,ROt=3,LOt=4,$Ot=317,DOt=319,IOt=320,FOt=5,VOt=6,zOt=0,zA=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],dq=125,XOt=59,XA=47,BOt=42,_Ot=43,ZOt=45,YOt=60,UOt=44,WOt=63,qOt=46,GOt=91,HOt=new WR({start:!1,shift(n,e){return e==FOt||e==VOt||e==DOt?n:e==IOt},strict:!1}),KOt=new ps((n,e)=>{let{next:r}=n;(r==dq||r==-1||e.context)&&n.acceptToken($Ot)},{contextual:!0,fallback:!0}),JOt=new ps((n,e)=>{let{next:r}=n,o;zA.indexOf(r)>-1||r==XA&&((o=n.peek(1))==XA||o==BOt)||r!=dq&&r!=XOt&&r!=-1&&!e.context&&n.acceptToken(AOt)},{contextual:!0}),tvt=new ps((n,e)=>{n.next==GOt&&!e.context&&n.acceptToken(jOt)},{contextual:!0}),evt=new ps((n,e)=>{let{next:r}=n;if(r==_Ot||r==ZOt){if(n.advance(),r==n.next){n.advance();let o=!e.context&&e.canShift(iX);n.acceptToken(o?iX:EOt)}}else r==WOt&&n.peek(1)==qOt&&(n.advance(),n.advance(),(n.next<48||n.next>57)&&n.acceptToken(ROt))},{contextual:!0});function _M(n,e){return n>=65&&n<=90||n>=97&&n<=122||n==95||n>=192||!e&&n>=48&&n<=57}const ivt=new ps((n,e)=>{if(n.next!=YOt||!e.dialectEnabled(zOt)||(n.advance(),n.next==XA))return;let r=0;for(;zA.indexOf(n.next)>-1;)n.advance(),r++;if(_M(n.next,!0)){for(n.advance(),r++;_M(n.next,!1);)n.advance(),r++;for(;zA.indexOf(n.next)>-1;)n.advance(),r++;if(n.next==UOt)return;for(let o=0;;o++){if(o==7){if(!_M(n.next,!0))return;break}if(n.next!="extends".charCodeAt(o))break;n.advance(),r++}}n.acceptToken(LOt,-r)}),nvt=ef({"get set async static":W.modifier,"for while do if else switch try catch finally return throw break continue default case":W.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":W.operatorKeyword,"let var const using function class extends":W.definitionKeyword,"import export from":W.moduleKeyword,"with debugger new":W.keyword,TemplateString:W.special(W.string),super:W.atom,BooleanLiteral:W.bool,this:W.self,null:W.null,Star:W.modifier,VariableName:W.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":W.function(W.variableName),VariableDefinition:W.definition(W.variableName),Label:W.labelName,PropertyName:W.propertyName,PrivatePropertyName:W.special(W.propertyName),"CallExpression/MemberExpression/PropertyName":W.function(W.propertyName),"FunctionDeclaration/VariableDefinition":W.function(W.definition(W.variableName)),"ClassDeclaration/VariableDefinition":W.definition(W.className),"NewExpression/VariableName":W.className,PropertyDefinition:W.definition(W.propertyName),PrivatePropertyDefinition:W.definition(W.special(W.propertyName)),UpdateOp:W.updateOperator,"LineComment Hashbang":W.lineComment,BlockComment:W.blockComment,Number:W.number,String:W.string,Escape:W.escape,ArithOp:W.arithmeticOperator,LogicOp:W.logicOperator,BitOp:W.bitwiseOperator,CompareOp:W.compareOperator,RegExp:W.regexp,Equals:W.definitionOperator,Arrow:W.function(W.punctuation),": Spread":W.punctuation,"( )":W.paren,"[ ]":W.squareBracket,"{ }":W.brace,"InterpolationStart InterpolationEnd":W.special(W.brace),".":W.derefOperator,", ;":W.separator,"@":W.meta,TypeName:W.typeName,TypeDefinition:W.definition(W.typeName),"type enum interface implements namespace module declare":W.definitionKeyword,"abstract global Privacy readonly override":W.modifier,"is keyof unique infer asserts":W.operatorKeyword,JSXAttributeValue:W.attributeValue,JSXText:W.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":W.angleBracket,"JSXIdentifier JSXNameSpacedName":W.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":W.attributeName,"JSXBuiltin/JSXIdentifier":W.standard(W.tagName)}),rvt={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,for:474,of:483,while:486,with:490,do:494,if:498,else:500,switch:504,case:510,try:516,catch:520,finally:524,return:528,throw:532,break:536,continue:540,debugger:544},svt={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},ovt={__proto__:null,"<":193},lvt=Uc.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Ik'#IkO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JqO6[Q!0MxO'#JrO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO7eQMhO'#F|O9[Q`O'#F{OOQ!0Lf'#Jr'#JrOOQ!0Lb'#Jq'#JqO9aQ`O'#GwOOQ['#K^'#K^O9lQ`O'#IXO9qQ!0LrO'#IYOOQ['#J_'#J_OOQ['#I^'#I^Q`QlOOQ`QlOOO9yQ!L^O'#DvO:QQlO'#EOO:XQlO'#EQO9gQ`O'#GsO:`QMhO'#CoO:nQ`O'#EnO:yQ`O'#EyO;OQMhO'#FeO;mQ`O'#GsOOQO'#K_'#K_O;rQ`O'#K_O<QQ`O'#G{O<QQ`O'#G|O<QQ`O'#HOO9gQ`O'#HRO<wQ`O'#HUO>`Q`O'#CeO>pQ`O'#HbO>xQ`O'#HhO>xQ`O'#HjO`QlO'#HlO>xQ`O'#HnO>xQ`O'#HqO>}Q`O'#HwO?SQ!0LsO'#H}O%[QlO'#IPO?_Q!0LsO'#IRO?jQ!0LsO'#ITO9qQ!0LrO'#IVO?uQ!0MxO'#CiO@wQpO'#DlQOQ`OOO%[QlO'#EQOA_Q`O'#ETO:`QMhO'#EnOAjQ`O'#EnOAuQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Ju'#JuO%[QlO'#JuOOQO'#Jx'#JxOOQO'#Ig'#IgOBuQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J|'#J|OCqQ!0MSO'#EgOC{QpO'#EWOOQO'#Jw'#JwODaQpO'#JxOEnQpO'#EWOC{QpO'#EgPE{O&2DjO'#CbPOOO)CD|)CD|OOOO'#I_'#I_OFWO#tO,59UOOQ!0Lh,59U,59UOOOO'#I`'#I`OFfO&jO,59UOFtQ!L^O'#DcOOOO'#Ib'#IbOF{O#@ItO,59{OOQ!0Lf,59{,59{OGZQlO'#IcOGnQ`O'#JsOImQ!fO'#JsO+}QlO'#JsOItQ`O,5:ROJ[Q`O'#EpOJiQ`O'#KSOJtQ`O'#KROJtQ`O'#KROJ|Q`O,5;^OKRQ`O'#KQOOQ!0Ln,5:^,5:^OKYQlO,5:^OMWQ!0MxO,5:fOMwQ`O,5:nONbQ!0LrO'#KPONiQ`O'#KOO9aQ`O'#KOON}Q`O'#KOO! VQ`O,5;]O! [Q`O'#KOO!#aQ!fO'#JrOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$PQ!fO,5:sOOQS'#Jy'#JyOOQO-E<i-E<iO9gQ`O,5=_O!$gQ`O,5=_O!$lQlO,5;ZO!&oQMhO'#EkO!(YQ`O,5;ZO!(_QlO'#DyO!(iQpO,5;dO!(qQpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)PQlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IoO!+SQ!0LrO,5<iO%[QlO,5;eO!&oQMhO,5;eO!+qQMhO,5;eO!-cQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-jQ,UO'#FjO!.gQ,UO'#KWO!.RQ,UO'#KWO!.nQ,UO'#KWOOQO'#KW'#KWO!/SQ,UO,5<SOOOW,5<`,5<`O!/eQlO'#FvOOOW'#In'#InO7VO7dO,5<QO!/lQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0]Q$IUO'#CyOOQ!0Lh'#C}'#C}O!0pO#@ItO'#DRO!1^QMjO,5<eO!1eQ`O,5<hO!3QQ(CWO'#GXO!3_Q`O'#GYO!3dQ`O'#GYO!5SQ(CWO'#G^O!6XQpO'#GbOOQO'#Gn'#GnO!+xQMhO'#GmOOQO'#Gp'#GpO!+xQMhO'#GoO!6zQ$IUO'#JkOOQ!0Lh'#Jk'#JkO!7UQ`O'#JjO!7dQ`O'#JiO!7lQ`O'#CuOOQ!0Lh'#C{'#C{O!7}Q`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO1SQ`O'#DZO!+xQMhO'#GPO!+xQMhO'#GRO!8SQ`O'#GTO!8XQ`O'#GUO!3dQ`O'#G[O!+xQMhO'#GaO<QQ`O'#JjO!8^Q`O'#EqO!8{Q`O,5<gOOQ!0Lb'#Cr'#CrO!9TQ`O'#ErO!9}QpO'#EsOOQ!0Lb'#KQ'#KQO!:UQ!0LrO'#K`O9qQ!0LrO,5=cO`QlO,5>sOOQ['#Jg'#JgOOQ[,5>t,5>tOOQ[-E<[-E<[O!<TQ!0MxO,5:bO!9xQpO,5:`O!>nQ!0MxO,5:jO%[QlO,5:jO!AUQ!0MxO,5:lOOQO,5@y,5@yO!AuQMhO,5=_O!BTQ!0LrO'#JhO9[Q`O'#JhO!BfQ!0LrO,59ZO!BqQpO,59ZO!ByQMhO,59ZO:`QMhO,59ZO!CUQ`O,5;ZO!C^Q`O'#HaO!CrQ`O'#KcO%[QlO,5;}O!9xQpO,5<PO!CzQ`O,5=zO!DPQ`O,5=zO!DUQ`O,5=zO9qQ!0LrO,5=zO<QQ`O,5=jOOQO'#Cy'#CyO!DdQpO,5=gO!DlQMhO,5=hO!DwQ`O,5=jO!D|Q!bO,5=mO!EUQ`O'#K_O>}Q`O'#HWO9gQ`O'#HYO!EZQ`O'#HYO:`QMhO'#H[O!E`Q`O'#H[OOQ[,5=p,5=pO!EeQ`O'#H]O!EvQ`O'#CoO!E{Q`O,59PO!FVQ`O,59PO!H[QlO,59POOQ[,59P,59PO!HlQ!0LrO,59PO%[QlO,59PO!JwQlO'#HdOOQ['#He'#HeOOQ['#Hf'#HfO`QlO,5=|O!K_Q`O,5=|O`QlO,5>SO`QlO,5>UO!KdQ`O,5>WO`QlO,5>YO!KiQ`O,5>]O!KnQlO,5>cOOQ[,5>i,5>iO%[QlO,5>iO9qQ!0LrO,5>kOOQ[,5>m,5>mO# xQ`O,5>mOOQ[,5>o,5>oO# xQ`O,5>oOOQ[,5>q,5>qO#!fQpO'#D_O%[QlO'#JuO##XQpO'#JuO##cQpO'#DmO##tQpO'#DmO#&VQlO'#DmO#&^Q`O'#JtO#&fQ`O,5:WO#&kQ`O'#EtO#&yQ`O'#KTO#'RQ`O,5;_O#'WQpO'#DmO#'eQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#'lQ`O,5:oO>}Q`O,5;YO!BqQpO,5;YO!ByQMhO,5;YO:`QMhO,5;YO#'tQ`O,5@aO#'yQ07dO,5:sOOQO-E<e-E<eO#)PQ!0MSO,5;ROC{QpO,5:rO#)ZQpO,5:rOC{QpO,5;RO!BfQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#)hQ!0LrO,5;RO#)sQ!0LrO,5;RO!BqQpO,5:rOOQO,5;X,5;XO#*RQ!0LrO,5;RPOOO'#I]'#I]P#*gO&2DjO,58|POOO,58|,58|OOOO-E<]-E<]OOQ!0Lh1G.p1G.pOOOO-E<^-E<^OOOO,59},59}O#*rQ!bO,59}OOOO-E<`-E<`OOQ!0Lf1G/g1G/gO#*wQ!fO,5>}O+}QlO,5>}OOQO,5?T,5?TO#+RQlO'#IcOOQO-E<a-E<aO#+`Q`O,5@_O#+hQ!fO,5@_O#+oQ`O,5@mOOQ!0Lf1G/m1G/mO%[QlO,5@nO#+wQ`O'#IiOOQO-E<g-E<gO#+oQ`O,5@mOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@kO#,]Q!0LrO,5@kO#,nQ!0LrO,5@kO#,uQ`O,5@jO9aQ`O,5@jO#,}Q`O,5@jO#-]Q`O'#IlO#,uQ`O,5@jOOQ!0Lb1G0w1G0wO!(iQpO,5:uO!(tQpO,5:uOOQS,5:w,5:wO#-}QdO,5:wO#.VQMhO1G2yO9gQ`O1G2yOOQ!0Lf1G0u1G0uO#.eQ!0MxO1G0uO#/jQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0WQ!0MzO'#JkO!$lQlO1G0uO#2cQ!fO'#JvO%[QlO'#JvO#2mQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#2rQ`O1G1OO#5WQ!0MxO1G1PO#5_Q!0MxO1G1PO#7uQ!0MxO1G1PO#7|Q!0MxO1G1PO#:dQ!0MxO1G1PO#<zQ!0MxO1G1PO#=RQ!0MxO1G1PO#=YQ!0MxO1G1PO#?pQ!0MxO1G1PO#?wQ!0MxO1G1PO#BUQ?MtO'#CiO#DPQ?MtO1G1`O#DWQ?MtO'#JrO#DkQ!0MxO,5?ZOOQ!0Lb-E<m-E<mO#FxQ!0MxO1G1PO#GuQ!0MzO1G1POOQ!0Lf1G1P1G1PO#HxQMjO'#J{O#ISQ`O,5:xO#IXQ!0MxO1G1cO#I{Q,UO,5<WO#JTQ,UO,5<XO#J]Q,UO'#FoO#JtQ`O'#FnOOQO'#KX'#KXOOQO'#Im'#ImO#JyQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#K[Q?MtO'#JqO#KfQ`O,5<bO!)PQlO,5<bOOOW-E<l-E<lOOQ!0Lf1G1l1G1lO#KkQpO'#KWOOQ!0Lf,5<d,5<dO#KsQpO,5<dO#KxQMhO'#DTOOOO'#Ia'#IaO#LPO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8XQ`O'#IqO#L[Q`O,5<zOOQ!0Lh,5<w,5<wO!+xQMhO'#ItO#LxQMjO,5=XO!+xQMhO'#IvO#MkQMjO,5=ZO!&oQMhO,5=]OOQO1G2S1G2SO#MuQ!dO'#CrO#NYQ(CWO'#ErO$ _QpO'#GbO$ uQ!dO,5<sO$ |Q`O'#KZO9aQ`O'#KZO$![Q`O,5<uO!+xQMhO,5<tO$!aQ`O'#GZO$!rQ`O,5<tO$!wQ!dO'#GWO$#UQ!dO'#K[O$#`Q`O'#K[O!&oQMhO'#K[O$#eQ`O,5<xO$#jQlO'#JuO$#tQpO'#GcO##tQpO'#GcO$$VQ`O'#GgO!3dQ`O'#GkO$$[Q!0LrO'#IsO$$gQpO,5<|OOQ!0Lp,5<|,5<|O$$nQpO'#GcO$${QpO'#GdO$%^QpO'#GdO$%cQMjO,5=XO$%sQMjO,5=ZOOQ!0Lh,5=^,5=^O!+xQMhO,5@UO!+xQMhO,5@UO$&TQ`O'#IxO$&iQ`O,5@TO$&qQ`O,59aOOQ!0Lh,59i,59iO$'hQ$IYO,59uOOQ!0Lh'#Jo'#JoO$(ZQMjO,5<kO$(|QMjO,5<mO@oQ`O,5<oOOQ!0Lh,5<p,5<pO$)WQ`O,5<vO$)]QMjO,5<{O$)mQ`O,5@UO$){Q`O'#KOO!$lQlO1G2RO$*QQ`O1G2RO9aQ`O'#KRO9aQ`O'#EtO%[QlO'#EtO9aQ`O'#IzO$*VQ!0LrO,5@zOOQ[1G2}1G2}OOQ[1G4_1G4_OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$,XQ!0MxO1G0UOOQ[1G2y1G2yO!&oQMhO1G2yO%[QlO1G2yO#.YQ`O1G2yO$.]QMhO'#EkOOQ!0Lb,5@S,5@SO$.jQ!0LrO,5@SOOQ[1G.u1G.uO!BfQ!0LrO1G.uO!BqQpO1G.uO!ByQMhO1G.uO$.{Q`O1G0uO$/QQ`O'#CiO$/]Q`O'#KdO$/eQ`O,5={O$/jQ`O'#KdO$/oQ`O'#KdO$/}Q`O'#JQO$0]Q`O,5@}O$0eQ!fO1G1iOOQ!0Lf1G1k1G1kO9gQ`O1G3fO@oQ`O1G3fO$0lQ`O1G3fO$0qQ`O1G3fOOQ[1G3f1G3fO!DwQ`O1G3UO!&oQMhO1G3RO$0vQ`O1G3ROOQ[1G3S1G3SO!&oQMhO1G3SO$0{Q`O1G3SO$1TQpO'#HQOOQ[1G3U1G3UO!6SQpO'#I|O!D|Q!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$1]QMhO,5=tO9gQ`O,5=tO$$VQ`O,5=vO9[Q`O,5=vO!BqQpO,5=vO!ByQMhO,5=vO:`QMhO,5=vO$1kQ`O'#KbO$1vQ`O,5=wOOQ[1G.k1G.kO$1{Q!0LrO1G.kO@oQ`O1G.kO$2WQ`O1G.kO9qQ!0LrO1G.kO$4`Q!fO,5APO$4mQ`O,5APO9aQ`O,5APO$4xQlO,5>OO$5PQ`O,5>OOOQ[1G3h1G3hO`QlO1G3hOOQ[1G3n1G3nOOQ[1G3p1G3pO>xQ`O1G3rO$5UQlO1G3tO$9YQlO'#HsOOQ[1G3w1G3wO$9gQ`O'#HyO>}Q`O'#H{OOQ[1G3}1G3}O$9oQlO1G3}O9qQ!0LrO1G4TOOQ[1G4V1G4VOOQ!0Lb'#G_'#G_O9qQ!0LrO1G4XO9qQ!0LrO1G4ZO$=vQ`O,5@aO!)PQlO,5;`O9aQ`O,5;`O>}Q`O,5:XO!)PQlO,5:XO!BqQpO,5:XO$={Q?MtO,5:XOOQO,5;`,5;`O$>VQpO'#IdO$>mQ`O,5@`OOQ!0Lf1G/r1G/rO$>uQpO'#IjO$?PQ`O,5@oOOQ!0Lb1G0y1G0yO##tQpO,5:XOOQO'#If'#IfO$?XQpO,5:qOOQ!0Ln,5:q,5:qO#'oQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO>}Q`O1G0tO!BqQpO1G0tO!ByQMhO1G0tOOQ!0Lb1G5{1G5{O!BfQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$?`Q!0LrO1G0mO$?kQ!0LrO1G0mO!BqQpO1G0^OC{QpO1G0^O$?yQ!0LrO1G0mOOQO1G0^1G0^O$@_Q!0MxO1G0mPOOO-E<Z-E<ZPOOO1G.h1G.hOOOO1G/i1G/iO$@iQ!bO,5<iO$@qQ!fO1G4iOOQO1G4o1G4oO%[QlO,5>}O$@{Q`O1G5yO$ATQ`O1G6XO$A]Q!fO1G6YO9aQ`O,5?TO$AgQ!0MxO1G6VO%[QlO1G6VO$AwQ!0LrO1G6VO$BYQ`O1G6UO$BYQ`O1G6UO9aQ`O1G6UO$BbQ`O,5?WO9aQ`O,5?WOOQO,5?W,5?WO$BvQ`O,5?WO$){Q`O,5?WOOQO-E<j-E<jOOQS1G0a1G0aOOQS1G0c1G0cO#.QQ`O1G0cOOQ[7+(e7+(eO!&oQMhO7+(eO%[QlO7+(eO$CUQ`O7+(eO$CaQMhO7+(eO$CoQ!0MzO,5=XO$EzQ!0MzO,5=ZO$HVQ!0MzO,5=XO$JhQ!0MzO,5=ZO$LyQ!0MzO,59uO% OQ!0MzO,5<kO%#ZQ!0MzO,5<mO%%fQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%'wQ!0MxO7+&aO%(kQlO'#IeO%(xQ`O,5@bO%)QQ!fO,5@bOOQ!0Lf1G0P1G0PO%)[Q`O7+&jOOQ!0Lf7+&j7+&jO%)aQ?MtO,5:fO%[QlO7+&zO%)kQ?MtO,5:bO%)xQ?MtO,5:jO%*SQ?MtO,5:lO%*^QMhO'#IhO%*hQ`O,5@gOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%*pQ!jO,5<ZO!)PQlO,5<YOOQO-E<k-E<kOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%*{Q`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%+QQ!dO,59oOOOO-E<_-E<_OOQ!0Lh1G/X1G/XO%+XQ!0MxO7+'kOOQ!0Lh,5?],5?]O%+{QMhO1G2fP%,SQ`O'#IqPOQ!0Lh-E<o-E<oO%,pQMjO,5?`OOQ!0Lh-E<r-E<rO%-cQMjO,5?bOOQ!0Lh-E<t-E<tO%-mQ!dO1G2wO%-tQ!dO'#CrO%.[QMhO'#KRO$#jQlO'#JuOOQ!0Lh1G2_1G2_O%.cQ`O'#IpO%.wQ`O,5@uO%.wQ`O,5@uO%/PQ`O,5@uO%/[Q`O,5@uOOQO1G2a1G2aO%/jQMjO1G2`O!+xQMhO1G2`O%/zQ(CWO'#IrO%0XQ`O,5@vO!&oQMhO,5@vO%0aQ!dO,5@vOOQ!0Lh1G2d1G2dO%2qQ!fO'#CiO%2{Q`O,5=POOQ!0Lb,5<},5<}O%3TQpO,5<}OOQ!0Lb,5=O,5=OOClQ`O,5<}O%3`QpO,5<}OOQ!0Lb,5=R,5=RO$){Q`O,5=VOOQO,5?_,5?_OOQO-E<q-E<qOOQ!0Lp1G2h1G2hO##tQpO,5<}O$#jQlO,5=PO%3nQ`O,5=OO%3yQpO,5=OO!+xQMhO'#ItO%4sQMjO1G2sO!+xQMhO'#IvO%5fQMjO1G2uO%5pQMjO1G5pO%5zQMjO1G5pOOQO,5?d,5?dOOQO-E<v-E<vOOQO1G.{1G.{O!9xQpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%6XQ`O1G2ZO!+xQMhO1G2bO!+xQMhO1G5pO!+xQMhO1G5pO%6^Q!0MxO7+'mOOQ!0Lf7+'m7+'mO!$lQlO7+'mO%7QQ`O,5;`OOQ!0Lb,5?f,5?fOOQ!0Lb-E<x-E<xO%7VQ!dO'#K]O#'oQ`O7+(eO4UQ!fO7+(eO$CXQ`O7+(eO%7aQ!0MvO'#CiO%7tQ!0MvO,5=SO%8fQ`O,5=SO%8nQ`O,5=SOOQ!0Lb1G5n1G5nOOQ[7+$a7+$aO!BfQ!0LrO7+$aO!BqQpO7+$aO!$lQlO7+&aO%8sQ`O'#JPO%9[Q`O,5AOOOQO1G3g1G3gO9gQ`O,5AOO%9[Q`O,5AOO%9dQ`O,5AOOOQO,5?l,5?lOOQO-E=O-E=OOOQ!0Lf7+'T7+'TO%9iQ`O7+)QO9qQ!0LrO7+)QO9gQ`O7+)QO@oQ`O7+)QOOQ[7+(p7+(pO%9nQ!0MvO7+(mO!&oQMhO7+(mO!DrQ`O7+(nOOQ[7+(n7+(nO!&oQMhO7+(nO%9xQ`O'#KaO%:TQ`O,5=lOOQO,5?h,5?hOOQO-E<z-E<zOOQ[7+(s7+(sO%;gQpO'#HZOOQ[1G3`1G3`O!&oQMhO1G3`O%[QlO1G3`O%;nQ`O1G3`O%;yQMhO1G3`O9qQ!0LrO1G3bO$$VQ`O1G3bO9[Q`O1G3bO!BqQpO1G3bO!ByQMhO1G3bO%<XQ`O'#JOO%<mQ`O,5@|O%<uQpO,5@|OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@oQ`O7+$VO9qQ!0LrO7+$VO%=QQ`O7+$VO%[QlO1G6kO%[QlO1G6lO%=VQ!0LrO1G6kO%=aQlO1G3jO%=hQ`O1G3jO%=mQlO1G3jOOQ[7+)S7+)SO9qQ!0LrO7+)^O`QlO7+)`OOQ['#Kg'#KgOOQ['#JR'#JRO%=tQlO,5>_OOQ[,5>_,5>_O%[QlO'#HtO%>RQ`O'#HvOOQ[,5>e,5>eO9aQ`O,5>eOOQ[,5>g,5>gOOQ[7+)i7+)iOOQ[7+)o7+)oOOQ[7+)s7+)sOOQ[7+)u7+)uO%>WQpO1G5{O%>rQ?MtO1G0zO%>|Q`O1G0zOOQO1G/s1G/sO%?XQ?MtO1G/sO>}Q`O1G/sO!)PQlO'#DmOOQO,5?O,5?OOOQO-E<b-E<bOOQO,5?U,5?UOOQO-E<h-E<hO!BqQpO1G/sOOQO-E<d-E<dOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#'oQ`O7+%uOOQ!0Lf7+&`7+&`O>}Q`O7+&`O!BqQpO7+&`OOQO7+%x7+%xO$@_Q!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%?cQ!0LrO7+&XO!BfQ!0LrO7+%xO!BqQpO7+%xO%?nQ!0LrO7+&XO%?|Q!0MxO7++qO%[QlO7++qO%@^Q`O7++pO%@^Q`O7++pOOQO1G4r1G4rO9aQ`O1G4rO%@fQ`O1G4rOOQS7+%}7+%}O#'oQ`O<<LPO4UQ!fO<<LPO%@tQ`O<<LPOOQ[<<LP<<LPO!&oQMhO<<LPO%[QlO<<LPO%@|Q`O<<LPO%AXQ!0MzO,5?`O%CdQ!0MzO,5?bO%EoQ!0MzO1G2`O%HQQ!0MzO1G2sO%J]Q!0MzO1G2uO%LhQ!fO,5?PO%[QlO,5?POOQO-E<c-E<cO%LrQ`O1G5|OOQ!0Lf<<JU<<JUO%LzQ?MtO1G0uO& RQ?MtO1G1PO& YQ?MtO1G1PO&#ZQ?MtO1G1PO&#bQ?MtO1G1PO&%cQ?MtO1G1PO&'dQ?MtO1G1PO&'kQ?MtO1G1PO&'rQ?MtO1G1PO&)sQ?MtO1G1PO&)zQ?MtO1G1PO&*RQ!0MxO<<JfO&+yQ?MtO1G1PO&,vQ?MvO1G1PO&-yQ?MvO'#JkO&0PQ?MtO1G1cO&0^Q?MtO1G0UO&0hQMjO,5?SOOQO-E<f-E<fO!)PQlO'#FqOOQO'#KY'#KYOOQO1G1u1G1uO&0rQ`O1G1tO&0wQ?MtO,5?ZOOOW7+'h7+'hOOOO1G/Z1G/ZO&1RQ!dO1G4wOOQ!0Lh7+(Q7+(QP!&oQMhO,5?]O!+xQMhO7+(cO&1YQ`O,5?[O9aQ`O,5?[OOQO-E<n-E<nO&1hQ`O1G6aO&1hQ`O1G6aO&1pQ`O1G6aO&1{QMjO7+'zO&2]Q!dO,5?^O&2gQ`O,5?^O!&oQMhO,5?^OOQO-E<p-E<pO&2lQ!dO1G6bO&2vQ`O1G6bO&3OQ`O1G2kO!&oQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%3TQpO1G2iO!BqQpO1G2iOClQ`O1G2iOOQ!0Lb1G2q1G2qO&3TQpO1G2iO&3cQ`O1G2kO$){Q`O1G2jOClQ`O1G2jO$#jQlO1G2kO&3kQ`O1G2jO&4_QMjO,5?`OOQ!0Lh-E<s-E<sO&5QQMjO,5?bOOQ!0Lh-E<u-E<uO!+xQMhO7++[OOQ!0Lh1G/c1G/cO&5[Q`O1G/cOOQ!0Lh7+'u7+'uO&5aQMjO7+'|O&5qQMjO7++[O&5{QMjO7++[O&6YQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&6|Q`O1G0zO!&oQMhO'#IyO&7RQ`O,5@wO&9TQ!fO<<LPO!&oQMhO1G2nO&9[Q!0LrO1G2nOOQ[<<G{<<G{O!BfQ!0LrO<<G{O&9mQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?k,5?kO&:aQ`O,5?kO&:fQ`O,5?kOOQO-E<}-E<}O&:tQ`O1G6jO&:tQ`O1G6jO9gQ`O1G6jO@oQ`O<<LlOOQ[<<Ll<<LlO&:|Q`O<<LlO9qQ!0LrO<<LlOOQ[<<LX<<LXO%9nQ!0MvO<<LXOOQ[<<LY<<LYO!DrQ`O<<LYO&;RQpO'#I{O&;^Q`O,5@{O!)PQlO,5@{OOQ[1G3W1G3WOOQO'#I}'#I}O9qQ!0LrO'#I}O&;fQpO,5=uOOQ[,5=u,5=uO&;mQpO'#EgO&;tQpO'#GeO&;yQ`O7+(zO&<OQ`O7+(zOOQ[7+(z7+(zO!&oQMhO7+(zO%[QlO7+(zO&<WQ`O7+(zOOQ[7+(|7+(|O9qQ!0LrO7+(|O$$VQ`O7+(|O9[Q`O7+(|O!BqQpO7+(|O&<cQ`O,5?jOOQO-E<|-E<|OOQO'#H^'#H^O&<nQ`O1G6hO9qQ!0LrO<<GqOOQ[<<Gq<<GqO@oQ`O<<GqO&<vQ`O7+,VO&<{Q`O7+,WO%[QlO7+,VO%[QlO7+,WOOQ[7+)U7+)UO&=QQ`O7+)UO&=VQlO7+)UO&=^Q`O7+)UOOQ[<<Lx<<LxOOQ[<<Lz<<LzOOQ[-E=P-E=POOQ[1G3y1G3yO&=cQ`O,5>`OOQ[,5>b,5>bO&=hQ`O1G4PO9aQ`O7+&fO!)PQlO7+&fOOQO7+%_7+%_O&=mQ?MtO1G6YO>}Q`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO>}Q`O<<IzOOQO<<Is<<IsO$@_Q!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!BfQ!0LrO<<IdO&=wQ!0LrO<<IsO&>SQ!0MxO<= ]O&>dQ`O<= [OOQO7+*^7+*^O9aQ`O7+*^OOQ[ANAkANAkO&>lQ!fOANAkO!&oQMhOANAkO#'oQ`OANAkO4UQ!fOANAkO&>sQ`OANAkO%[QlOANAkO&>{Q!0MzO7+'zO&A^Q!0MzO,5?`O&CiQ!0MzO,5?bO&EtQ!0MzO7+'|O&HVQ!fO1G4kO&HaQ?MtO7+&aO&JeQ?MvO,5=XO&LlQ?MvO,5=ZO&L|Q?MvO,5=XO&M^Q?MvO,5=ZO&MnQ?MvO,59uO' tQ?MvO,5<kO'#wQ?MvO,5<mO'&]Q?MvO,5<{O'(RQ?MtO7+'kO'(`Q?MtO7+'mO'(mQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*c7+*cO'(rQMjO<<K}OOQO1G4v1G4vO'(yQ`O1G4vO')UQ`O1G4vO')dQ`O7++{O')dQ`O7++{O!&oQMhO1G4xO')lQ!dO1G4xO')vQ`O7++|O'*OQ`O7+(VO'*ZQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!BqQpO7+(TOClQ`O7+(TO'*eQ`O7+(VO!&oQMhO7+(VO$){Q`O7+(UO'*jQ`O7+(VOClQ`O7+(UO'*rQMjO<<NvOOQ!0Lh7+$}7+$}O!+xQMhO<<NvO'*|Q!dO,5?eOOQO-E<w-E<wO'+WQ!0MvO7+(YO!&oQMhO7+(YOOQ[AN=gAN=gO9gQ`O1G5VOOQO1G5V1G5VO'+hQ`O1G5VO'+mQ`O7+,UO'+mQ`O7+,UO9qQ!0LrOANBWO@oQ`OANBWOOQ[ANBWANBWOOQ[ANAsANAsOOQ[ANAtANAtO'+uQ`O,5?gOOQO-E<y-E<yO',QQ?MtO1G6gOOQO,5?i,5?iOOQO-E<{-E<{OOQ[1G3a1G3aO',[Q`O,5=POOQ[<<Lf<<LfO!&oQMhO<<LfO&;yQ`O<<LfO',aQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9qQ!0LrO<<LhO$$VQ`O<<LhO9[Q`O<<LhO',iQpO1G5UO',tQ`O7+,SOOQ[AN=]AN=]O9qQ!0LrOAN=]OOQ[<= q<= qOOQ[<= r<= rO',|Q`O<= qO'-RQ`O<= rOOQ[<<Lp<<LpO'-WQ`O<<LpO'-]QlO<<LpOOQ[1G3z1G3zO>}Q`O7+)kO'-dQ`O<<JQO'-oQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$@_Q!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<Mx<<MxOOQ[G27VG27VO!&oQMhOG27VO#'oQ`OG27VO'-yQ!fOG27VO4UQ!fOG27VO'.QQ`OG27VO'.YQ?MtO<<JfO'.gQ?MvO1G2`O'0]Q?MvO,5?`O'2`Q?MvO,5?bO'4cQ?MvO1G2sO'6fQ?MvO1G2uO'8iQ?MtO<<KXO'8vQ?MtO<<I{OOQO1G1w1G1wO!+xQMhOANAiOOQO7+*b7+*bO'9TQ`O7+*bO'9`Q`O<= gO'9hQ!dO7+*dOOQ!0Lb<<Kq<<KqO$){Q`O<<KqOClQ`O<<KqO'9rQ`O<<KqO!&oQMhO<<KqOOQ!0Lb<<Ko<<KoO!BqQpO<<KoO'9}Q!dO<<KqOOQ!0Lb<<Kp<<KpO':XQ`O<<KqO!&oQMhO<<KqO$){Q`O<<KpO':^QMjOANDbO':hQ!0MvO<<KtOOQO7+*q7+*qO9gQ`O7+*qO':xQ`O<= pOOQ[G27rG27rO9qQ!0LrOG27rO!)PQlO1G5RO';QQ`O7+,RO';YQ`O1G2kO&;yQ`OANBQOOQ[ANBQANBQO!&oQMhOANBQO';_Q`OANBQOOQ[ANBSANBSO9qQ!0LrOANBSO$$VQ`OANBSOOQO'#H_'#H_OOQO7+*p7+*pOOQ[G22wG22wOOQ[ANE]ANE]OOQ[ANE^ANE^OOQ[ANB[ANB[O';gQ`OANB[OOQ[<<MV<<MVO!)PQlOAN?lOOQOG24yG24yO$@_Q!0MxOG24yO#'oQ`OLD,qOOQ[LD,qLD,qO!&oQMhOLD,qO';lQ!fOLD,qO';sQ?MvO7+'zO'=iQ?MvO,5?`O'?lQ?MvO,5?bO'AoQ?MvO7+'|O'CeQMjOG27TOOQO<<M|<<M|OOQ!0LbANA]ANA]O$){Q`OANA]OClQ`OANA]O'CuQ!dOANA]OOQ!0LbANAZANAZO'C|Q`OANA]O!&oQMhOANA]O'DXQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N]<<N]OOQ[LD-^LD-^O'DcQ?MtO7+*mOOQO'#Gf'#GfOOQ[G27lG27lO&;yQ`OG27lO!&oQMhOG27lOOQ[G27nG27nO9qQ!0LrOG27nOOQ[G27vG27vO'DmQ?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#'oQ`O!$(!]O!&oQMhO!$(!]O'DwQ!0MzOG27TOOQ!0LbG26wG26wO$){Q`OG26wO'GYQ`OG26wOClQ`OG26wO'GeQ!dOG26wO!&oQMhOG26wOOQ[LD-WLD-WO&;yQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#'oQ`O!)9EwOOQ!0LbLD,cLD,cO$){Q`OLD,cOClQ`OLD,cO'GlQ`OLD,cO'GwQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'HOQ?MvOG27TOOQ!0Lb!$( }!$( }O$){Q`O!$( }OClQ`O!$( }O'ItQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$){Q`O!)9EiOClQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$){Q`O!.K;TOOQ!0Lb!4/0o!4/0oO!)PQlO'#DzO1PQ`O'#EXO'JPQ!fO'#JqO'JWQ!L^O'#DvO'J_QlO'#EOO'JfQ!fO'#CiO'L|Q!fO'#CiO!)PQlO'#EQO'M^QlO,5;ZO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO'#IoO( aQ`O,5<iO!)PQlO,5;eO( iQMhO,5;eO(#SQMhO,5;eO!)PQlO,5;wO!&oQMhO'#GmO( iQMhO'#GmO!&oQMhO'#GoO( iQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&oQMhO'#GPO( iQMhO'#GPO!&oQMhO'#GRO( iQMhO'#GRO!&oQMhO'#GaO( iQMhO'#GaO!)PQlO,5:jO(#ZQpO'#D_O(#eQpO'#JuO!)PQlO,5@nO'M^QlO1G0uO(#oQ?MtO'#CiO!)PQlO1G2PO!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO(#yQ!dO'#CrO!&oQMhO,5<tO( iQMhO,5<tO'M^QlO1G2RO!)PQlO7+&zO!&oQMhO1G2`O( iQMhO1G2`O!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO!&oQMhO1G2bO( iQMhO1G2bO'M^QlO7+'mO'M^QlO7+&aO!&oQMhOANAiO( iQMhOANAiO($^Q`O'#EoO($cQ`O'#EoO($kQ`O'#F]O($pQ`O'#EyO($uQ`O'#KSO(%QQ`O'#KQO(%]Q`O,5;ZO(%bQMjO,5<eO(%iQ`O'#GYO(%nQ`O'#GYO(%sQ`O,5<gO(%{Q`O,5;ZO(&TQ?MtO1G1`O(&[Q`O,5<tO(&aQ`O,5<tO(&fQ`O,5<vO(&kQ`O,5<vO(&pQ`O1G2RO(&uQ`O1G0uO(&zQMjO<<K}O('RQMjO<<K}O7eQMhO'#F|O9[Q`O'#F{OAjQ`O'#EnO!)PQlO,5;tO!3dQ`O'#GYO!3dQ`O'#GYO!3dQ`O'#G[O!3dQ`O'#G[O!+xQMhO7+(cO!+xQMhO7+(cO%-mQ!dO1G2wO%-mQ!dO1G2wO!&oQMhO,5=]O!&oQMhO,5=]",stateData:"((X~O'{OS'|OSTOS'}RQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&V!WO&]!XO&_!YO&a!ZO&c![O&f!]O&l!^O&r!_O&t!`O&v!aO&x!bO&z!cO(SSO(UTO(XUO(`VO(n[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O'}!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'y]X(`]X(q]X(x]X(y]X~O!g%RX~P(qO_!}O(U#PO(V!}O(W#PO~O_#QO(W#PO(X#PO(Y#QO~Ox#SO!U#TO(a#TO(b#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S;{O(UTO(XUO(`VO(n[O~O![#ZO!]#WO!Y(gP!Y(uP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(UTO(XUO(`VO(n[O~Op#mO![#iO!|]O#i#lO#j#iO(S;|O!k(rP~P.iO!l#oO(S#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa(eX'y(eX'v(eX!k(eX!Y(eX!_(eX%i(eX!g(eX~P1qO#S$dO#`$eO$Q$eOP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX!_(fX%i(fX~Oa(fX'y(fX'v(fX!Y(fX!k(fXv(fX!g(fX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%cOk%cOl%cOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S$sO(UTO(XUO(`$uO(x$}O(y%POg(]P~O!l%dO~O!S%gO!_%hO(S%fO~O!g%lO~Oa%mO'y%mO~O!Q%qO~P%[O(T!lO~P%[O%n%uO~P%[Oh%VO!l%dO(S%fO(T!lO~Oe%|O!l%dO(S%fO~Oj$RO~O!Q&RO!_&OO!l&QO%j&UO(S%fO(T!lO(UTO(XUO`)VP~O!x#sO~O%s&WO!S)RX!_)RX(S)RX~O(S&XO~Ol!PO!u&^O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&cOe&bO!x&`O%h&aO%{&_O~P<VOd&fOeyOl!PO!_&eO!u&^O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&iO#`&lO%j&gO(T!lO~P=[O!l&mO!u&qO~O!l#oO~O!_XO~Oa%mO'w&yO'y%mO~Oa%mO'w&|O'y%mO~Oa%mO'w'OO'y%mO~O'v]X!Y]Xv]X!k]X&Z]X!_]X%i]X!g]X~P(qO!b']O!c'UO!d'UO(T!lO(UTO(XUO~Os'SO!S'RO!['VO(d'QO!^(hP!^(wP~P@cOn'`O!_'^O(S%fO~Oe'eO!l%dO(S%fO~O!Q&RO!l&QO~Os!nO!S!oO!|;wO#T!pO#U!pO#W!pO#X!pO(T!lO(UTO(XUO(d!mO(n!sO~O!b'kO!c'jO!d'jO#V!pO#['lO#]'lO~PA}Oa%mOh%VO!g#vO!l%dO'y%mO(q'nO~O!p'rO#`'pO~PC]Os!nO!S!oO(UTO(XUO(d!mO(n!sO~O!_XOs(lX!S(lX!b(lX!c(lX!d(lX!|(lX#T(lX#U(lX#V(lX#W(lX#X(lX#[(lX#](lX(T(lX(U(lX(X(lX(d(lX(n(lX~O!c'jO!d'jO(T!lO~PC{O(O'vO(P'vO(Q'xO~O_!}O(U'zO(V!}O(W'zO~O_#QO(W'zO(X'zO(Y#QO~Ov'|O~P%[Ox#SO!U#TO(a#TO(b(PO~O![(RO!Y'VX!Y']X!]'VX!]']X~P+}O!](TO!Y(gX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](TO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~O!Y(gX~PGvO!Y(YO~O!Y(tX!](tX!g(tX!k(tX(q(tX~O#`(tX#k#dX!^(tX~PIyO#`(ZO!Y(vX!](vX~O!]([O!Y(uX~O!Y(_O~O#`$eO~PIyO!^(`O~P`OR#zO!Q#yO!S#{O!l#xO(`VOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(q!na(x!na(y!na~Oa!na'y!na'v!na!Y!na!k!nav!na!_!na%i!na!g!na~PKaO!k(aO~O!g#vO#`(bO(q'nO!](sXa(sX'y(sX~O!k(sX~PM|O!S%gO!_%hO!|]O#i(gO#j(fO(S%fO~O!](hO!k(rX~O!k(jO~O!S%gO!_%hO#j(fO(S%fO~OP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~O!g#vO!k(fX~P! jOR(lO!Q(kO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(S!{a~P!#kO!x(pO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~O#k(vO~O![(xO!k(jP~P%[O(d(zO(n[O~O!S(|O!l#xO(d(zO(n[O~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]$_Oa$qa'y$qa'v$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)bO~P!&oOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Og(oP~P!+xO!Q)gO!g)fO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)fO!_(zX$Z(zX$](zX$_(zX$f(zX~O!Q)gO~P!.RO!Q)gO!_(zX$Z(zX$](zX$_(zX$f(zX~O!_)iO$Z)mO$])hO$_)hO$f)nO~O![)qO~P!)PO$]$hO$_$gO$f)uO~On$zX!Q$zX#S$zX'x$zX(x$zX(y$zX~OgmXg$zXnmX!]mX#`mX~P!/wOx)wO(a)xO(b)zO~On*TO!Q)|O'x)}O(x$}O(y%PO~Og){O~P!0{Og*UO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S*WO!_*XO!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~O![*[O(S*VO!k(}P~P!1jO#k*^O~O!l*_O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S*aO(UTO(XUO(`$uO(x$}O(y%PO~O![*dO!Y)OP~P!3iOr*pOs!nO!S*fO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO(d!mO~O!^*mO~P!5^O#S$dOn(_X!Q(_X'x(_X(x(_X(y(_X!](_X#`(_X~Og(_X$O(_X~P!6`On*uO#`*tOg(^X!](^X~O!]*vOg(]X~Oj%cOk%cOl%cO(S&XOg(]P~Os*yO~O!l+OO~O(S(tO~Op+TO!S%gO![#iO!_%hO!|]O#i#lO#j#iO(S%fO!k(rP~O!g#vO#k+UO~O!S%gO![+WO!]([O!_%hO(S%fO!Y(uP~Os'YO!S+YO![+XO(UTO(XUO(d(zO~O!^(wP~P!9iO!]+ZOa)SX'y)SX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa!ja!]!ja'y!ja'v!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:aOR#zO!Q#yO!S#{O!l#xO(`VOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(q!ra(x!ra(y!ra~Oa!ra'y!ra'v!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!<wOR#zO!Q#yO!S#{O!l#xO(`VOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(q!ta(x!ta(y!ta~Oa!ta'y!ta'v!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?_Oh%VOn+dO!_'^O%i+cO~O!g+fOa([X!_([X'y([X!]([X~Oa%mO!_XO'y%mO~Oh%VO!l%dO~Oh%VO!l%dO(S%fO~O!g#vO#k(vO~Ob+qO%j+rO(S+nO(UTO(XUO!^)WP~O!]+sO`)VX~O[+wO~O`+xO~O!_&OO(S%fO(T!lO`)VP~Oh%VO#`+}O~Oh%VOn,QO!_$|O~O!_,SO~O!Q,UO!_XO~O%n%uO~O!x,ZO~Oe,`O~Ob,aO(S#nO(UTO(XUO!^)UP~Oe%|O~O%j!QO(S&XO~P=[O[,fO`,eO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(UTO(XUO(`VO(n[O~O!_!eO!u!gO$W!kO(S!dO~P!F_O`,eOa%mO'y%mO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa,kOl!OO!uwO%l!OO%m!OO%n!OO~P!HwO!l&mO~O&],qO~O!_,sO~O&n,uO&p,vOP&kaQ&kaS&kaY&kaa&kad&kae&kal&kap&kar&kas&kat&kaz&ka|&ka!O&ka!S&ka!W&ka!X&ka!_&ka!i&ka!l&ka!o&ka!p&ka!q&ka!s&ka!u&ka!x&ka!|&ka$W&ka$n&ka%h&ka%j&ka%l&ka%m&ka%n&ka%q&ka%s&ka%v&ka%w&ka%y&ka&V&ka&]&ka&_&ka&a&ka&c&ka&f&ka&l&ka&r&ka&t&ka&v&ka&x&ka&z&ka'v&ka(S&ka(U&ka(X&ka(`&ka(n&ka!^&ka&d&kab&ka&i&ka~O(S,{O~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P# }O!g-QO#`-POh(iX!]#hX!^#hX!g(iX!l(iX~O!](iX!^(iX~P#!pOh%VO!g-SO!l%dO!]!aX!^!aX~Os!nO!S!oO(UTO(XUO(d!mO~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(UTO(XUO(`VO(n[O~O(S<rO~P#$VO!]-WO!^(hX~O!^-YO~O!g-QO#`-PO!]#hX!^#hX~O!]-ZO!^(wX~O!^-]O~O!c-^O!d-^O(T!lO~P##tO!^-aO~P'_On-dO!_'^O~O!Y-iO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(T!{a(U!{a(X!{a(d!{a(n!{a~P!#kO!p-nO#`-lO~PC]O!c-pO!d-pO(T!lO~PC{Oa%mO#`-lO'y%mO~Oa%mO!g#vO#`-lO'y%mO~Oa%mO!g#vO!p-nO#`-lO'y%mO(q'nO~O(O'vO(P'vO(Q-uO~Ov-vO~O!Y'Va!]'Va~P!:aO![-zO!Y'VX!]'VX~P%[O!](TO!Y(ga~O!Y(ga~PGvO!]([O!Y(ua~O!S%gO![.OO!_%hO(S%fO!Y']X!]']X~O#`.QO!](sa!k(saa(sa'y(sa~O!g#vO~P#,]O!](hO!k(ra~O!S%gO!_%hO#j.UO(S%fO~Op.ZO!S%gO![.WO!_%hO!|]O#i.YO#j.WO(S%fO!]'`X!k'`X~OR._O!l#xO~Oh%VOn.bO!_'^O%i.aO~Oa#ci!]#ci'y#ci'v#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:aOn=|O!Q)|O'x)}O(x$}O(y%PO~O#k#_aa#_a#`#_a'y#_a!]#_a!k#_a!_#_a!Y#_a~P#/XO#k(_XP(_XR(_X[(_Xa(_Xj(_Xr(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X'y(_X(`(_X(q(_X!k(_X!Y(_X'v(_Xv(_X!_(_X%i(_X!g(_X~P!6`O!].oO!k(jX~P!:aO!k.rO~O!Y.tO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#2wO#n$OO~P#2wOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#5fO#r$QO~P#5fOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(`VOa#mi!]#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(`VO(y#}Oa#mi!]#mi#z#mi#{#mi'y#mi(q#mi(x#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#:kO#x#mi~P#:kO#v$SO~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(`VO(x#|O(y#}Oa#mi!]#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#=aO#z$WO~P#=aOP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X!]]X!^]X~O$O]X~P#@OOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO#z<XO#{<YO(`VO(q$YO(x#|O(y#}O~O$O.vO~P#B]O#S$dO#`<`O$Q<`O$O(fX!^(fX~P! jOa'ca!]'ca'y'ca'v'ca!k'ca!Y'cav'ca!_'ca%i'ca!g'ca~P!:aO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO(x#mi(y#mi~P#E_On=|O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P#E_O!].zOg(oX~P!0{Og.|O~Oa$Pi!]$Pi'y$Pi'v$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:aO$].}O$_.}O~O$]/OO$_/OO~O!g)fO#`/PO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/QO~O!_)iO$Z/SO$])hO$_)hO$f/TO~O!]<ZO!^(eX~P#B]O!^/UO~O!g)fO$f(zX~O$f/WO~Ov/XO~P!&oOx)wO(a)xO(b/[O~O!S/_O~O(x$}On%aa!Q%aa'x%aa(y%aa!]%aa#`%aa~Og%aa$O%aa~P#LaO(y%POn%ca!Q%ca'x%ca(x%ca!]%ca#`%ca~Og%ca$O%ca~P#MSO!]fX!gfX!kfX!k$zX(qfX~P!/wO![/hO!]([O(S/gO!Y(uP!Y)OP~P!1jOr*pO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO~Os<oO!S/iO![+XO!^*mO(d<nO!^(wP~P#NmO!k/jO~P#/XO!]/kO!g#vO(q'nO!k(}X~O!k/pO~O!S%gO![*[O!_%hO(S%fO!k(}P~O#k/rO~O!Y$zX!]$zX!g%RX~P!/wO!]/sO!Y)OX~P#/XO!g/uO~O!Y/wO~OpkO(S/xO~P.iOh%VOr/}O!g#vO!l%dO(q'nO~O!g+fO~Oa%mO!]0RO'y%mO~O!^0TO~P!5^O!c0UO!d0UO(T!lO~P##tOs!nO!S0VO(UTO(XUO(d!mO~O#[0XO~Og%aa!]%aa#`%aa$O%aa~P!0{Og%ca!]%ca#`%ca$O%ca~P!0{Oj%cOk%cOl%cO(S&XOg'lX!]'lX~O!]*vOg(]a~Og0bO~OR0cO!Q0cO!S0dO#S$dOn}a'x}a(x}a(y}a!]}a#`}a~Og}a$O}a~P$&vO!Q)|O'x)}On$sa(x$sa(y$sa!]$sa#`$sa~Og$sa$O$sa~P$'rO!Q)|O'x)}On$ua(x$ua(y$ua!]$ua#`$ua~Og$ua$O$ua~P$(eO#k0gO~Og%Ta!]%Ta#`%Ta$O%Ta~P!0{On0iO#`0hOg(^a!](^a~O!g#vO~O#k0lO~O!]+ZOa)Sa'y)Sa~OR#zO!Q#yO!S#{O!l#xO(`VOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(q!ri(x!ri(y!ri~Oa!ri'y!ri'v!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$*bOh%VOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~Op0uO%]0vO(S0tO~P$,xO!g+fOa([a!_([a'y([a!]([a~O#k0|O~O[]X!]fX!^fX~O!]0}O!^)WX~O!^1PO~O[1QO~Ob1SO(S+nO(UTO(XUO~O!_&OO(S%fO`'tX!]'tX~O!]+sO`)Va~O!k1VO~P!:aO[1YO~O`1ZO~O#`1^O~On1aO!_$|O~O(d(zO!^)TP~Oh%VOn1jO!_1gO%i1iO~O[1tO!]1rO!^)UX~O!^1uO~O`1wOa%mO'y%mO~O(S#nO(UTO(XUO~O#S$dO#`$eO$Q$eOP(fXR(fX[(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~Oj1zO&Z1{Oa(fX~P$2cOj1zO#`$eO&Z1{O~Oa1}O~P%[Oa2PO~O&d2SOP&biQ&biS&biY&bia&bid&bie&bil&bip&bir&bis&bit&biz&bi|&bi!O&bi!S&bi!W&bi!X&bi!_&bi!i&bi!l&bi!o&bi!p&bi!q&bi!s&bi!u&bi!x&bi!|&bi$W&bi$n&bi%h&bi%j&bi%l&bi%m&bi%n&bi%q&bi%s&bi%v&bi%w&bi%y&bi&V&bi&]&bi&_&bi&a&bi&c&bi&f&bi&l&bi&r&bi&t&bi&v&bi&x&bi&z&bi'v&bi(S&bi(U&bi(X&bi(`&bi(n&bi!^&bib&bi&i&bi~Ob2YO!^2WO&i2XO~P`O!_XO!l2[O~O&p,vOP&kiQ&kiS&kiY&kia&kid&kie&kil&kip&kir&kis&kit&kiz&ki|&ki!O&ki!S&ki!W&ki!X&ki!_&ki!i&ki!l&ki!o&ki!p&ki!q&ki!s&ki!u&ki!x&ki!|&ki$W&ki$n&ki%h&ki%j&ki%l&ki%m&ki%n&ki%q&ki%s&ki%v&ki%w&ki%y&ki&V&ki&]&ki&_&ki&a&ki&c&ki&f&ki&l&ki&r&ki&t&ki&v&ki&x&ki&z&ki'v&ki(S&ki(U&ki(X&ki(`&ki(n&ki!^&ki&d&kib&ki&i&ki~O!Y2bO~O!]!aa!^!aa~P#B]Os!nO!S!oO![2hO(d!mO!]'WX!^'WX~P@cO!]-WO!^(ha~O!]'^X!^'^X~P!9iO!]-ZO!^(wa~O!^2oO~P'_Oa%mO#`2xO'y%mO~Oa%mO!g#vO#`2xO'y%mO~Oa%mO!g#vO!p2|O#`2xO'y%mO(q'nO~Oa%mO'y%mO~P!:aO!]$_Ov$qa~O!Y'Vi!]'Vi~P!:aO!](TO!Y(gi~O!]([O!Y(ui~O!Y(vi!](vi~P!:aO!](si!k(sia(si'y(si~P!:aO#`3OO!](si!k(sia(si'y(si~O!](hO!k(ri~O!S%gO!_%hO!|]O#i3TO#j3SO(S%fO~O!S%gO!_%hO#j3SO(S%fO~On3[O!_'^O%i3ZO~Oh%VOn3[O!_'^O%i3ZO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aav%aa!_%aa%i%aa!g%aa~P#LaO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%cav%ca!_%ca%i%ca!g%ca~P#MSO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/XO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/XO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'y}a(`}a(q}a!k}a!Y}a'v}av}a!_}a%i}a!g}a~P$&vO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'y$sa(`$sa(q$sa!k$sa!Y$sa'v$sav$sa!_$sa%i$sa!g$sa~P$'rO#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'y$ua(`$ua(q$ua!k$ua!Y$ua'v$uav$ua!_$ua%i$ua!g$ua~P$(eO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'y%Ta(`%Ta(q%Ta!k%Ta!Y%Ta'v%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/XOa#cq!]#cq'y#cq'v#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:aO![3dO!]'XX!k'XX~P%[O!].oO!k(ja~O!].oO!k(ja~P!:aO!Y3gO~O$O!na!^!na~PKaO$O!ja!]!ja!^!ja~P#B]O$O!ra!^!ra~P!<wO$O!ta!^!ta~P!?_Og'[X!]'[X~P!+xO!].zOg(oa~OSfO!_3{O$d3|O~O!^4QO~Ov4RO~P#/XOa$mq!]$mq'y$mq'v$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:aO!Y4TO~P!&oO!S4UO~O!Q)|O'x)}O(y%POn'ha(x'ha!]'ha#`'ha~Og'ha$O'ha~P%,XO!Q)|O'x)}On'ja(x'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P%,zO(q$YO~P#/XO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!/wO(S<xO~P!1jO!S%gO![4XO!_%hO(S%fO!]'dX!k'dX~O!]/kO!k(}a~O!]/kO!g#vO!k(}a~O!]/kO!g#vO(q'nO!k(}a~Og$|i!]$|i#`$|i$O$|i~P!0{O![4aO!Y'fX!]'fX~P!3iO!]/sO!Y)Oa~O!]/sO!Y)Oa~P#/XOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~Oj%YX!g%YX~P%0kOj4fO!g#vO~Oh%VO!g#vO!l%dO~Oh%VOr4kO!l%dO(q'nO~Or4pO!g#vO(q'nO~Os!nO!S4qO(UTO(XUO(d!mO~O(x$}On%ai!Q%ai'x%ai(y%ai!]%ai#`%ai~Og%ai$O%ai~P%4[O(y%POn%ci!Q%ci'x%ci(x%ci!]%ci#`%ci~Og%ci$O%ci~P%4}Og(^i!](^i~P!0{O#`4wOg(^i!](^i~P!0{O!k4zO~Oa$oq!]$oq'y$oq'v$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:aO!Y5QO~O!]5RO!_)PX~P#/XOa$zX!_$zX%^]X'y$zX!]$zX~P!/wO%^5UOaoXnoX!QoX!_oX'xoX'yoX(xoX(yoX!]oX~Op5VO(S#nO~O%^5UO~Ob5]O%j5^O(S+nO(UTO(XUO!]'sX!^'sX~O!]0}O!^)Wa~O[5bO~O`5cO~Oa%mO'y%mO~P#/XO!]5kO#`5mO!^)TX~O!^5nO~Or5tOs!nO!S*fO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!pO#W!pO#X!pO#[5sO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O!^5rO~P%:YOn5yO!_1gO%i5xO~Oh%VOn5yO!_1gO%i5xO~Ob6QO(S#nO(UTO(XUO!]'rX!^'rX~O!]1rO!^)Ua~O(UTO(XUO(d6SO~O`6WO~Oj6ZO&Z6[O~PM|O!k6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO!^6dO&i2XO~P`O!g6fO~O!g6hOh(ii!](ii!^(ii!g(ii!l(iir(ii(q(ii~O!]#hi!^#hi~P#B]O#`6iO!]#hi!^#hi~O!]!ai!^!ai~P#B]Oa%mO#`6rO'y%mO~Oa%mO!g#vO#`6rO'y%mO~O!](sq!k(sqa(sq'y(sq~P!:aO!](hO!k(rq~O!S%gO!_%hO#j6yO(S%fO~O!_'^O%i6|O~On7QO!_'^O%i6|O~O#k'haP'haR'ha['haa'haj'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha'y'ha(`'ha(q'ha!k'ha!Y'ha'v'hav'ha!_'ha%i'ha!g'ha~P%,XO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'y'ja(`'ja(q'ja!k'ja!Y'ja'v'jav'ja!_'ja%i'ja!g'ja~P%,zO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'y$|i(`$|i(q$|i!k$|i!Y$|i'v$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/XO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'y%ai(`%ai(q%ai!k%ai!Y%ai'v%aiv%ai!_%ai%i%ai!g%ai~P%4[O#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'y%ci(`%ci(q%ci!k%ci!Y%ci'v%civ%ci!_%ci%i%ci!g%ci~P%4}O!]'Xa!k'Xa~P!:aO!].oO!k(ji~O$O#ci!]#ci!^#ci~P#B]OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#n#mi~P%MXO#n<PO~P%MXOP$[OR#zOr<]O!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#r#mi~P& aO#r<RO~P& aOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O(`VO#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#v#mi~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO(`VO(y#}O#z#mi#{#mi$O#mi(q#mi(x#mi!]#mi!^#mi~O#x<VO~P&%jO#x#mi~P&%jO#v<TO~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO(`VO(x#|O(y#}O#{#mi$O#mi(q#mi!]#mi!^#mi~O#z#mi~P&'yO#z<XO~P&'yOa#|y!]#|y'y#|y'v#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:aO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO(x#mi(y#mi~P&*uOn=}O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P&*uO#S$dOP(_XR(_X[(_Xj(_Xn(_Xr(_X!Q(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X$O(_X'x(_X(`(_X(q(_X(x(_X(y(_X!](_X!^(_X~O$O$Pi!]$Pi!^$Pi~P#B]O$O!ri!^!ri~P$*bOg'[a!]'[a~P!0{O!^7dO~O!]'ca!^'ca~P#B]O!Y7eO~P#/XO!g#vO(q'nO!]'da!k'da~O!]/kO!k(}i~O!]/kO!g#vO!k(}i~Og$|q!]$|q#`$|q$O$|q~P!0{O!Y'fa!]'fa~P#/XO!g7lO~O!]/sO!Y)Oi~P#/XO!]/sO!Y)Oi~O!Y7oO~Oh%VOr7tO!l%dO(q'nO~Oj7vO!g#vO~Or7yO!g#vO(q'nO~O!Q)|O'x)}O(y%POn'ia(x'ia!]'ia#`'ia~Og'ia$O'ia~P&3vO!Q)|O'x)}On'ka(x'ka(y'ka!]'ka#`'ka~Og'ka$O'ka~P&4iO!Y7{O~Og%Oq!]%Oq#`%Oq$O%Oq~P!0{Og(^q!](^q~P!0{O#`7|Og(^q!](^q~P!0{Oa$oy!]$oy'y$oy'v$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:aO!g6hO~O!]5RO!_)Pa~O!_'^OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(`$Ta(q$Ta(x$Ta(y$Ta~O%i6|O~P&7ZO%^8QOa%[i!_%[i'y%[i!]%[i~Oa#cy!]#cy'y#cy'v#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:aO[8SO~Ob8UO(S+nO(UTO(XUO~O!]0}O!^)Wi~O`8YO~O(d(zO!]'oX!^'oX~O!]5kO!^)Ta~O!^8cO~P%:YO(n!sO~P$${O#[8dO~O!_1gO~O!_1gO%i8fO~On8iO!_1gO%i8fO~O[8nO!]'ra!^'ra~O!]1rO!^)Ui~O!k8rO~O!k8sO~O!k8vO~O!k8vO~P%[Oa8xO~O!g8yO~O!k8zO~O!](vi!^(vi~P#B]Oa%mO#`9SO'y%mO~O!](sy!k(sya(sy'y(sy~P!:aO!](hO!k(ry~O%i9VO~P&7ZO!_'^O%i9VO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'y$|q(`$|q(q$|q!k$|q!Y$|q'v$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/XO#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'y'ia(`'ia(q'ia!k'ia!Y'ia'v'iav'ia!_'ia%i'ia!g'ia~P&3vO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'y'ka(`'ka(q'ka!k'ka!Y'ka'v'kav'ka!_'ka%i'ka!g'ka~P&4iO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'y%Oq(`%Oq(q%Oq!k%Oq!Y%Oq'v%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/XO!]'Xi!k'Xi~P!:aO$O#cq!]#cq!^#cq~P#B]O(x$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(`%aa(q%aa!]%aa!^%aa~On%aa!Q%aa'x%aa(y%aa~P&HnO(y%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(`%ca(q%ca!]%ca!^%ca~On%ca!Q%ca'x%ca(x%ca~P&JuOn=}O!Q)|O'x)}O(y%PO~P&HnOn=}O!Q)|O'x)}O(x$}O~P&JuOR0cO!Q0cO!S0dO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'x}a(`}a(q}a(x}a(y}a!]}a!^}a~O!Q)|O'x)}OP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(`$sa(q$sa(x$sa(y$sa!]$sa!^$sa~O!Q)|O'x)}OP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(`$ua(q$ua(x$ua(y$ua!]$ua!^$ua~On=}O!Q)|O'x)}O(x$}O(y%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(`%Ta(q%Ta!]%Ta!^%Ta~P'%zO$O$mq!]$mq!^$mq~P#B]O$O$oq!]$oq!^$oq~P#B]O!^9dO~O$O9eO~P!0{O!g#vO!]'di!k'di~O!g#vO(q'nO!]'di!k'di~O!]/kO!k(}q~O!Y'fi!]'fi~P#/XO!]/sO!Y)Oq~Or9lO!g#vO(q'nO~O[9nO!Y9mO~P#/XO!Y9mO~Oj9tO!g#vO~Og(^y!](^y~P!0{O!]'ma!_'ma~P#/XOa%[q!_%[q'y%[q!]%[q~P#/XO[9yO~O!]0}O!^)Wq~O#`9}O!]'oa!^'oa~O!]5kO!^)Ti~P#B]O!S:PO~O!_1gO%i:SO~O(UTO(XUO(d:XO~O!]1rO!^)Uq~O!k:[O~O!k:]O~O!k:^O~O!k:^O~P%[O#`:aO!]#hy!^#hy~O!]#hy!^#hy~P#B]O%i:fO~P&7ZO!_'^O%i:fO~O$O#|y!]#|y!^#|y~P#B]OP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(`$|i(q$|i!]$|i!^$|i~P'%zO!Q)|O'x)}O(y%POP'haR'ha['haj'han'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha$O'ha(`'ha(q'ha(x'ha!]'ha!^'ha~O!Q)|O'x)}OP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(`'ja(q'ja(x'ja(y'ja!]'ja!^'ja~O(x$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'x%ai(`%ai(q%ai(y%ai!]%ai!^%ai~O(y%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'x%ci(`%ci(q%ci(x%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#B]O$O#cy!]#cy!^#cy~P#B]O!g#vO!]'dq!k'dq~O!]/kO!k(}y~O!Y'fq!]'fq~P#/XOr:pO!g#vO(q'nO~O[:tO!Y:sO~P#/XO!Y:sO~Og(^!R!](^!R~P!0{Oa%[y!_%[y'y%[y!]%[y~P#/XO!]0}O!^)Wy~O!]5kO!^)Tq~O(S:zO~O!_1gO%i:}O~O!k;QO~O%i;VO~P&7ZOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(`$|q(q$|q!]$|q!^$|q~P'%zO!Q)|O'x)}O(y%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(`'ia(q'ia(x'ia!]'ia!^'ia~O!Q)|O'x)}OP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(`'ka(q'ka(x'ka(y'ka!]'ka!^'ka~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(`%Oq(q%Oq!]%Oq!^%Oq~P'%zOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!0{O!Y;ZO~P#/XOr;[O!g#vO(q'nO~O[;^O!Y;ZO~P#/XO!]'oq!^'oq~P#B]O!]#h!Z!^#h!Z~P#B]O#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'y%e!Z(`%e!Z(q%e!Z!k%e!Z!Y%e!Z'v%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/XOr;fO!g#vO(q'nO~O!Y;gO~P#/XOr;nO!g#vO(q'nO~O!Y;oO~P#/XOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(`%e!Z(q%e!Z!]%e!Z!^%e!Z~P'%zOr;rO!g#vO(q'nO~Ov(eX~P1qO!Q%qO~P!)PO(T!lO~P!)PO!YfX!]fX#`fX~P%0kOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~O!gfX!k]X!kfX(qfX~P'JsOP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_XO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]<ZO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<fO!S${O!_$|O!i=wO!l$xO#j<lO$W%_O$t<hO$v<jO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Ol)bO~P( iOr!eX(q!eX~P# }Or(iX(q(iX~P#!pO!^]X!^fX~P'JsO!YfX!Y$zX!]fX!]$zX#`fX~P!/wO#k<OO~O!g#vO#k<OO~O#`<`O~Oj<SO~O#`<pO!](vX!^(vX~O#`<`O!](tX!^(tX~O#k<qO~Og<sO~P!0{O#k<yO~O#k<zO~O!g#vO#k<{O~O!g#vO#k<qO~O$O<|O~P#B]O#k<}O~O#k=OO~O#k=TO~O#k=UO~O#k=VO~O#k=WO~O$O=XO~P!0{O$O=YO~P!0{Ok#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~'}T#o!X'{(T#ps#n#qr!Q'|$]'|(S$_(d~",goto:"$8g)[PPPPPP)]PP)`P)qP+R/WPPPP6bPP6xPP<pPPP@dP@zP@zPPP@zPCSP@zP@zP@zPCWPC]PCzPHtPPPHxPPPPHxK{PPPLRLsPHxPHxPP! RHxPPPHxPHxP!#YHxP!&p!'u!(OP!(r!(v!(r!,TPPPPPPP!,t!'uPP!-U!.vP!2SHxHx!2X!5e!:R!:R!>QPPP!>YHxPPPPPPPPP!AiP!BvPPHx!DXPHxPHxHxHxHxHxPHx!EkP!HuP!K{P!LP!LZ!L_!L_P!HrP!Lc!LcP# iP# mHxPHx# s#$xCW@zP@zP@z@zP#&V@z@z#(i@z#+a@z#-m@z@z#.]#0q#0q#0v#1P#0q#1[PP#0qP@z#1t@z#5s@z@z6bPPP#9xPPP#:c#:cP#:cP#:y#:cPP#;PP#:vP#:v#;d#:v#<O#<U#<X)`#<[)`P#<c#<c#<cP)`P)`P)`P)`PP)`P#<i#<lP#<l)`P#<pP#<sP)`P)`P)`P)`P)`P)`)`PP#<y#=P#=[#=b#=h#=n#=t#>S#>Y#>d#>j#>t#>z#?[#?b#@S#@f#@l#@r#AQ#Ag#C[#Cj#Cq#E]#Ek#G]#Gk#Gq#Gw#G}#HX#H_#He#Ho#IR#IXPPPPPPPPPPP#I_PPPPPPP#JS#MZ#Ns#Nz$ SPPP$&nP$&w$)p$0Z$0^$0a$1`$1c$1j$1rP$1x$1{P$2i$2m$3e$4s$4x$5`PP$5e$5k$5o$5r$5v$5z$6v$7_$7v$7z$7}$8Q$8W$8Z$8_$8cR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0w+fQ1S+rQ1y,fQ3W.bQ5V0vQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:379,context:HOt,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,236,242,244,246,248,251,257,263,265,267,269,271,273,274,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[nvt],skippedNodes:[0,5,6,277],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Vp(Y!b'{0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(W#S$i&j'|0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Vp(Y!b'|0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(U':f$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Y!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Vp(Y!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Vp(Y!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Y!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Y!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(VpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(VpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Vp(Y!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(n%1l(Vp(Y!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Vp(Y!b$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Vp(Y!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Vp(Y!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(y+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(X';W$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(VpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Vp(Y!b(T%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Vp(Y!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Vp(Y!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Vp(Y!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Vp(Y!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Y!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Y!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Y!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Y!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Y!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Y!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Vp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Vp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Vp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Vp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(VpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(VpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Vp(Y!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Vp(Y!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Vp(Y!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Vp(Y!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Vp(Y!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Vp(Y!b'}0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Vp(Y!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Y!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Y!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(VpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(VpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Vp(Y!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Vp(Y!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(q(Ct$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Vp(Y!b(`+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Vp(Y!b(S,2j$_#t(d$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Vp(Y!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(x+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Vp(Y!b'{0/l$]#t(S,2j(d$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Vp(Y!b'|0/l$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[JOt,tvt,evt,ivt,2,3,4,5,6,7,8,9,10,11,12,13,14,KOt,new tP("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(b~~",141,339),new tP("j~RQYZXz{^~^O(P~~aP!P!Qd~iO(Q~~",25,322)],topRules:{Script:[0,7],SingleExpression:[1,275],SingleClassItem:[2,276]},dialects:{jsx:0,ts:15098},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:326,get:n=>rvt[n]||-1},{term:342,get:n=>svt[n]||-1},{term:95,get:n=>ovt[n]||-1}],tokenPrec:15124}),pq=[ln("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),ln("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),ln("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),ln("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),ln("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),ln(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),ln("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),ln(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),ln(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),ln('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),ln('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],avt=pq.concat([ln("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),ln("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),ln("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),nX=new PR,mq=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function wy(n){return(e,r)=>{let o=e.node.getChild("VariableDefinition");return o&&r(o,n),!0}}const uvt=["FunctionDeclaration"],hvt={FunctionDeclaration:wy("function"),ClassDeclaration:wy("class"),ClassExpression:()=>!0,EnumDeclaration:wy("constant"),TypeAliasDeclaration:wy("type"),NamespaceDeclaration:wy("namespace"),VariableDefinition(n,e){n.matchContext(uvt)||e(n,"variable")},TypeDefinition(n,e){e(n,"type")},__proto__:null};function gq(n,e){let r=nX.get(e);if(r)return r;let o=[],a=!0;function h(f,p){let g=n.sliceString(f.from,f.to);o.push({label:g,type:p})}return e.cursor(Ti.IncludeAnonymous).iterate(f=>{if(a)a=!1;else if(f.name){let p=hvt[f.name];if(p&&p(f,h)||mq.has(f.name))return!1}else if(f.to-f.from>8192){for(let p of gq(n,f.node))o.push(p);return!1}}),nX.set(e,o),o}const rX=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,yq=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function cvt(n){let e=Mi(n.state).resolveInner(n.pos,-1);if(yq.indexOf(e.name)>-1)return null;let r=e.name=="VariableName"||e.to-e.from<20&&rX.test(n.state.sliceDoc(e.from,e.to));if(!r&&!n.explicit)return null;let o=[];for(let a=e;a;a=a.parent)mq.has(a.name)&&(o=o.concat(gq(n.state.doc,a)));return{options:o,from:r?e.from:n.pos,validFor:rX}}const cu=Zc.define({name:"javascript",parser:lvt.configure({props:[Rd.add({IfStatement:Am({except:/^\s*({|else\b)/}),TryStatement:Am({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:Lmt,SwitchBody:n=>{let e=n.textAfter,r=/^\s*\}/.test(e),o=/^\s*(case|default)\b/.test(e);return n.baseIndent+(r?0:o?1:2)*n.unit},Block:RS({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>null,"Statement Property":Am({except:/^\s*{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag"(n){return n.column(n.node.from)+n.unit}}),nf.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":n2,BlockComment(n){return{from:n.from+2,to:n.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),Oq={test:n=>/^JSX/.test(n.name),facet:TR({commentTokens:{block:{open:"{/*",close:"*/}"}}})},vq=cu.configure({dialect:"ts"},"typescript"),xq=cu.configure({dialect:"jsx",props:[CR.add(n=>n.isTop?[Oq]:void 0)]}),wq=cu.configure({dialect:"jsx ts",props:[CR.add(n=>n.isTop?[Oq]:void 0)]},"typescript");let Sq=n=>({label:n,type:"keyword"});const kq="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(Sq),fvt=kq.concat(["declare","implements","private","protected","public"].map(Sq));function BA(n={}){let e=n.jsx?n.typescript?wq:xq:n.typescript?vq:cu,r=n.typescript?avt.concat(fvt):pq.concat(kq);return new Cd(e,[cu.data.of({autocomplete:G7(yq,FR(r))}),cu.data.of({autocomplete:cvt}),n.jsx?mvt:[]])}function dvt(n){for(;;){if(n.name=="JSXOpenTag"||n.name=="JSXSelfClosingTag"||n.name=="JSXFragmentTag")return n;if(n.name=="JSXEscape"||!n.parent)return null;n=n.parent}}function sX(n,e,r=n.length){for(let o=e==null?void 0:e.firstChild;o;o=o.nextSibling)if(o.name=="JSXIdentifier"||o.name=="JSXBuiltin"||o.name=="JSXNamespacedName"||o.name=="JSXMemberExpression")return n.sliceString(o.from,Math.min(o.to,r));return""}const pvt=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),mvt=Yt.inputHandler.of((n,e,r,o,a)=>{if((pvt?n.composing:n.compositionStarted)||n.state.readOnly||e!=r||o!=">"&&o!="/"||!cu.isActiveAt(n.state,e,-1))return!1;let h=a(),{state:f}=h,p=f.changeByRange(g=>{var v;let{head:x}=g,S=Mi(f).resolveInner(x-1,-1),b;if(S.name=="JSXStartTag"&&(S=S.parent),!(f.doc.sliceString(x-1,x)!=o||S.name=="JSXAttributeValue"&&S.to>x)){if(o==">"&&S.name=="JSXFragmentTag")return{range:g,changes:{from:x,insert:"</>"}};if(o=="/"&&S.name=="JSXStartCloseTag"){let C=S.parent,j=C.parent;if(j&&C.from==x-2&&((b=sX(f.doc,j.firstChild,x))||((v=j.firstChild)===null||v===void 0?void 0:v.name)=="JSXFragmentTag")){let N=`${b}>`;return{range:Ct.cursor(x+N.length,-1),changes:{from:x,insert:N}}}}else if(o==">"){let C=dvt(S);if(C&&C.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(f.doc.sliceString(x,x+2))&&(b=sX(f.doc,C,x)))return{range:g,changes:{from:x,insert:`</${b}>`}}}}return{range:g}});return p.changes.empty?!1:(n.dispatch([h,f.update(p,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),gvt=1,Pq=194,bq=195,yvt=196,oX=197,Ovt=198,vvt=199,xvt=200,wvt=2,Tq=3,lX=201,Svt=24,kvt=25,Pvt=49,bvt=50,Tvt=55,Cvt=56,Mvt=57,Qvt=59,Nvt=60,Avt=61,jvt=62,Evt=63,Rvt=65,Lvt=238,$vt=71,Dvt=241,Ivt=242,Fvt=243,Vvt=244,zvt=245,Xvt=246,Bvt=247,_vt=248,Cq=72,Zvt=249,Yvt=250,Uvt=251,Wvt=252,qvt=253,Gvt=254,Hvt=255,Kvt=256,Jvt=73,txt=77,ext=263,ixt=112,nxt=130,rxt=151,sxt=152,oxt=155,Qd=10,sv=13,qR=32,h2=9,GR=35,lxt=40,axt=46,_A=123,aX=125,Mq=39,Qq=34,uX=92,uxt=111,hxt=120,cxt=78,fxt=117,dxt=85,pxt=new Set([kvt,Pvt,bvt,ext,Rvt,nxt,Cvt,Mvt,Lvt,jvt,Evt,Cq,Jvt,txt,Nvt,Avt,rxt,sxt,oxt,ixt]);function ZM(n){return n==Qd||n==sv}function YM(n){return n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102}const mxt=new ps((n,e)=>{let r;if(n.next<0)n.acceptToken(vvt);else if(e.context.flags&DS)ZM(n.next)&&n.acceptToken(Ovt,1);else if(((r=n.peek(-1))<0||ZM(r))&&e.canShift(oX)){let o=0;for(;n.next==qR||n.next==h2;)n.advance(),o++;(n.next==Qd||n.next==sv||n.next==GR)&&n.acceptToken(oX,-o)}else ZM(n.next)&&n.acceptToken(yvt,1)},{contextual:!0}),gxt=new ps((n,e)=>{let r=e.context;if(r.flags)return;let o=n.peek(-1);if(o==Qd||o==sv){let a=0,h=0;for(;;){if(n.next==qR)a++;else if(n.next==h2)a+=8-a%8;else break;n.advance(),h++}a!=r.indent&&n.next!=Qd&&n.next!=sv&&n.next!=GR&&(a<r.indent?n.acceptToken(bq,-h):n.acceptToken(Pq))}}),DS=1,Nq=2,Hu=4,Ku=8,Ju=16,th=32;function IS(n,e,r){this.parent=n,this.indent=e,this.flags=r,this.hash=(n?n.hash+n.hash<<8:0)+e+(e<<4)+r+(r<<6)}const yxt=new IS(null,0,0);function Oxt(n){let e=0;for(let r=0;r<n.length;r++)e+=n.charCodeAt(r)==h2?8-e%8:1;return e}const hX=new Map([[Dvt,0],[Ivt,Hu],[Fvt,Ku],[Vvt,Ku|Hu],[zvt,Ju],[Xvt,Ju|Hu],[Bvt,Ju|Ku],[_vt,Ju|Ku|Hu],[Zvt,th],[Yvt,th|Hu],[Uvt,th|Ku],[Wvt,th|Ku|Hu],[qvt,th|Ju],[Gvt,th|Ju|Hu],[Hvt,th|Ju|Ku],[Kvt,th|Ju|Ku|Hu]].map(([n,e])=>[n,e|Nq])),vxt=new WR({start:yxt,reduce(n,e,r,o){return n.flags&DS&&pxt.has(e)||(e==$vt||e==Cq)&&n.flags&Nq?n.parent:n},shift(n,e,r,o){return e==Pq?new IS(n,Oxt(o.read(o.pos,r.pos)),0):e==bq?n.parent:e==Svt||e==Tvt||e==Qvt||e==Tq?new IS(n,0,DS):hX.has(e)?new IS(n,0,hX.get(e)|n.flags&DS):n},hash(n){return n.hash}}),xxt=new ps(n=>{for(let e=0;e<5;e++){if(n.next!="print".charCodeAt(e))return;n.advance()}if(!/\w/.test(String.fromCharCode(n.next)))for(let e=0;;e++){let r=n.peek(e);if(!(r==qR||r==h2)){r!=lxt&&r!=axt&&r!=Qd&&r!=sv&&r!=GR&&n.acceptToken(gvt);return}}}),wxt=new ps((n,e)=>{let{flags:r}=e.context,o=r&Hu?Qq:Mq,a=(r&Ku)>0,h=!(r&Ju),f=(r&th)>0,p=n.pos;for(;!(n.next<0);)if(f&&n.next==_A)if(n.peek(1)==_A)n.advance(2);else{if(n.pos==p){n.acceptToken(Tq,1);return}break}else if(h&&n.next==uX){if(n.pos==p){n.advance();let g=n.next;g>=0&&(n.advance(),Sxt(n,g)),n.acceptToken(wvt);return}break}else if(n.next==uX&&!h&&n.peek(1)>-1)n.advance(2);else if(n.next==o&&(!a||n.peek(1)==o&&n.peek(2)==o)){if(n.pos==p){n.acceptToken(lX,a?3:1);return}break}else if(n.next==Qd){if(a)n.advance();else if(n.pos==p){n.acceptToken(lX);return}break}else n.advance();n.pos>p&&n.acceptToken(xvt)});function Sxt(n,e){if(e==uxt)for(let r=0;r<2&&n.next>=48&&n.next<=55;r++)n.advance();else if(e==hxt)for(let r=0;r<2&&YM(n.next);r++)n.advance();else if(e==fxt)for(let r=0;r<4&&YM(n.next);r++)n.advance();else if(e==dxt)for(let r=0;r<8&&YM(n.next);r++)n.advance();else if(e==cxt&&n.next==_A){for(n.advance();n.next>=0&&n.next!=aX&&n.next!=Mq&&n.next!=Qq&&n.next!=Qd;)n.advance();n.next==aX&&n.advance()}}const kxt=ef({'async "*" "**" FormatConversion FormatSpec':W.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":W.controlKeyword,"in not and or is del":W.operatorKeyword,"from def class global nonlocal lambda":W.definitionKeyword,import:W.moduleKeyword,"with as print":W.keyword,Boolean:W.bool,None:W.null,VariableName:W.variableName,"CallExpression/VariableName":W.function(W.variableName),"FunctionDefinition/VariableName":W.function(W.definition(W.variableName)),"ClassDefinition/VariableName":W.definition(W.className),PropertyName:W.propertyName,"CallExpression/MemberExpression/PropertyName":W.function(W.propertyName),Comment:W.lineComment,Number:W.number,String:W.string,FormatString:W.special(W.string),Escape:W.escape,UpdateOp:W.updateOperator,"ArithOp!":W.arithmeticOperator,BitOp:W.bitwiseOperator,CompareOp:W.compareOperator,AssignOp:W.definitionOperator,Ellipsis:W.punctuation,At:W.meta,"( )":W.paren,"[ ]":W.squareBracket,"{ }":W.brace,".":W.derefOperator,", ;":W.separator}),Pxt={__proto__:null,await:44,or:54,and:56,in:60,not:62,is:64,if:70,else:72,lambda:76,yield:94,from:96,async:102,for:104,None:162,True:164,False:164,del:178,pass:182,break:186,continue:190,return:194,raise:202,import:206,as:208,global:212,nonlocal:214,assert:218,type:223,elif:236,while:240,try:246,except:248,finally:250,with:254,def:258,class:268,match:279,case:285},bxt=Uc.deserialize({version:14,states:"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5TQdO'#DoOOQS,5:Y,5:YO5hQdO'#HdOOQS,5:],5:]O5uQ!fO,5:]O5zQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8jQdO,59bO8oQdO,59bO8vQdO,59jO8}QdO'#HTO:TQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:lQdO,59aO'vQdO,59aO:zQdO,59aOOQS,59y,59yO;PQdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;_QdO,5:QO;dQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;uQdO,5:UO;zQdO,5:WOOOW'#Fy'#FyO<POWO,5:aOOQS,5:a,5:aO<[QdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<lOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<zQtO,5:iO?lQtO,5=`O@VQ#xO,5=`O@vQtO,5=`OOQS,5:},5:}OA_QeO'#GWOBqQdO,5;^OOQV,5=^,5=^OB|QtO'#IPOCkQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCsQtO,59]OEzQtO,59iOFeQdO'#HVOFpQdO'#HVO1XQdO'#HVOF{QdO'#DTOGTQdO,59mOGYQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGwQdO'#GPOHXQdO,58|OHXQdO,58|O*xQdO,5:oOHgQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHzQdO,5;OOI]QdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOIqQtO,5;QOJPQdO,5;QOJUQdO'#IQOOQS,5;T,5;TOJdQdO'#H|OOQS,5;W,5;WOJuQdO,5;YO4iQdO,5;`O4iQdO,5;cOJ}QtO'#ITO'vQdO'#ITOKXQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOK^QeO'#EuOLjQgO,5;fO!!kQdO'#IUO4iQdO,5;jO!!vQdO,5;lO!#OQdO,5;qO!#ZQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#bOSO,5=[P!#jOdO,5=[O!&bQtO1G.jO!&iQtO1G.jO!)YQtO1G.jO!)dQtO1G.jO!+}QtO1G.jO!,bQtO1G.jO!,uQdO'#HcO!-TQtO'#GuO0rQdO'#HcO!-_QdO'#HbOOQS,5:Z,5:ZO!-gQdO,5:ZO!-lQdO'#HeO!-wQdO'#HeO!.[QdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/[QtO1G.|O!/cQtO1G.|O1lQdO1G.|O!0OQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!0VQdO1G/eO!0gQdO1G/eO!0oQdO1G/fO'vQdO'#H[O!0tQdO'#H[O!0yQtO1G.{O!1ZQdO,59iO!2aQdO,5=zO!2qQdO,5=zO!2yQdO1G/mO!3OQtO1G/mOOQS1G/l1G/lO!3`QdO,5=uO!4VQdO,5=uO0rQdO1G/qO!4tQdO1G/sO!4yQtO1G/sO!5ZQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5kQdO'#HxO0rQdO'#HxO!5|QdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6[Q#xO1G2zO!6{QtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7dQtO,5>kOOQS1G1`1G1`O!8RQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!8WQdO'#FrO!8cQdO,59oO!8kQdO1G/XO!8uQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9fQdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9wQdO1G.hOOQS1G0Z1G0ZO!:VQdO,5=wO!:gQdO,5=wO0rQdO1G0jO0rQdO1G0jO!:xQdO,5>jO!;ZQdO,5>jO1XQdO,5>jO!;lQdO,5>iOOQS-E:R-E:RO!;qQdO1G0lO!;|QdO1G0lO!<RQdO,5>lO!<aQdO,5>lO!<oQdO,5>hO!=VQdO,5>hO!=hQdO'#EpO0rQdO1G0tO!=sQdO1G0tO!=xQgO1G0zO!AvQgO1G0}O!EqQdO,5>oO!E{QdO,5>oO!FTQtO,5>oO0rQdO1G1PO!F_QdO1G1PO4iQdO1G1UO!!vQdO1G1WOOQV,5;a,5;aO!FdQfO,5;aO!FiQgO1G1QO!JjQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JzQdO,5>pO!KXQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KaQdO'#FSO!KrQ!fO1G1WO!KzQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!LPQdO1G1]O!LXQdO'#F^OOQV1G1b1G1bO!#ZQtO1G1bPOOO1G2v1G2vP!L^OSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LfQdO,5=|O!LyQdO,5=|OOQS1G/u1G/uO!MRQdO,5>PO!McQdO,5>PO!MkQdO,5>PO!NOQdO,5>PO!N`QdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8kQdO7+$pO#!RQdO1G.|O#!YQdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!aQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!qQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!vQdO7+%PO##OQdO7+%QO##TQdO1G3fOOQS7+%X7+%XO##eQdO1G3fO##mQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##rQdO1G3aOOQS-E9q-E9qO#$iQdO7+%]OOQS7+%_7+%_O#$wQdO1G3aO#%fQdO7+%_O#%kQdO1G3gO#%{QdO1G3gO#&TQdO7+%]O#&YQdO,5>dO#&sQdO,5>dO#&sQdO,5>dOOQS'#Dx'#DxO#'UO&jO'#DzO#'aO`O'#HyOOOW1G3}1G3}O#'fQdO1G3}O#'nQdO1G3}O#'yQ#xO7+(fO#(jQtO1G2UP#)TQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)bQdO,5=`O#){QdO,5=`O#*^QtO,5<aO#*qQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#+RQdO7+&UO#+aQdO,5<nO#+uQdO1G4UOOQS-E:Q-E:QO#,WQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,iQdO7+&WOOQS,5<p,5<pO#,tQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#-SQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-jQdO'#EqO#-uQdO'#IRO#-}QdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#.SQgO7+&fO!JmQdO'#GXO4iQdO7+&fO4iQdO7+&iO#2QQtO,5<tO'vQdO,5<tO#2[QdO1G4ZOOQS-E:W-E:WO#2fQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KrQ!fO7+&rO!KzQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2nQdO,5<uO!JmQdO,5<uOOQV7+&l7+&lO#2yQgO7+&lO#6tQdO,5<vO#7PQdO1G4[OOQS-E:Y-E:YO#7^QdO1G4[O#7fQdO'#IWO#7tQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#8PQdO'#IVOOQS,5;n,5;nO#8XQdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8^QfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8cQdO1G3iOOQS,5<c,5<cO#8qQdO1G3hOOQS-E9u-E9uO#9UQdO,5<dO#9aQdO,5<dO#9tQdO1G3kOOQS-E9v-E9vO#:UQdO1G3kO#:^QdO1G3kO#:nQdO1G3kO#:UQdO1G3kOOQS<<H[<<H[O#:yQtO1G1zOOQS<<Hk<<HkP#;WQdO'#FtO8vQdO1G3bO#;eQdO1G3bO#;jQdO<<HkOOQS<<Hl<<HlO#;zQdO7+)QOOQS<<Hs<<HsO#<[QtO1G1yP#<{QdO'#FsO#=YQdO7+)RO#=jQdO7+)RO#=rQdO<<HwO#=wQdO7+({OOQS<<Hy<<HyO#>nQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>sQdO1G4OOOQS-E9y-E9yO#?^QdO1G4OO<[QdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?oO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?zQdO7+)iO#@SQdO1G2zO#@mQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#AOQdO7+)pO#AaQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#ArQdO,5>mO#BQQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#BYQtO1G2`P#BdQdO'#GYO#BkQdO7+)uO#BuQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KrQ!fO<<J^O#FpQgO7+&gOOQV<<JW<<JWO#FzQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JuQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#KQQdO7+)vO#K_QdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KgQdO,5>rO#KrQdO,5>rO#K}QdO,5>qO#L`QdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LhQdO1G1dOOQS7+)T7+)TP#LmQdO'#FwO#L}QdO1G2OO#MbQdO1G2OO#MrQdO1G2OP#M}QdO'#FxO#N[QdO7+)VO#NlQdO7+)VO#NlQdO7+)VO#NtQdO7+)VO$ UQdO7+(|O8vQdO7+(|OOQSAN>VAN>VO$ oQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$!PQtO1G1|P$!ZQdO'#FvOOQS1G2R1G2RP$!hQdO'#F{O$!uQdO7+)jO$#`QdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#nQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$$XQdO<<M[OOQS,5<q,5<qO$$jQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$xQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$(sQdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$)QQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$)cQfO7+'OO$)nQdO'#F_O$*uQdO7+'jO$+VQdO7+'jOOQS7+'j7+'jO$+bQdO<<LqO$+rQdO<<LqO$+rQdO<<LqO$+zQdO'#H^OOQS<<Lh<<LhO$,UQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,oQdO1G4RO$,wQdO1G4RP!=hQdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$-SQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-vQtO'#FaOOQS'#Fc'#FcO$.WQdO'#FbO$.xQdO'#FbOOQS'#Fb'#FbO$.}QdO'#IYO$)nQdO'#FiO$)nQdO'#FiO$/fQdO'#FjO$)nQdO'#FkO$/mQdO'#IZOOQS'#IZ'#IZO$0[QdO,5;yOOQS<<KU<<KUO$0dQdO<<KUO$0tQdOANB]O$1UQdOANB]O$1^QdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1wQdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$2`QdO7+)mOOQVLD*wLD*wOOQVANARANARO5uQ!fO'#GaO$2hQtO,5<SO$)nQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$3YQdO,5;|O$3_QdO,5;|OOQS'#Fg'#FgO$)nQdO'#G`O$4PQdO,5<QO$4kQdO,5>tO$4{QdO,5>tO1XQdO,5<PO$5^QdO,5<TO$5cQdO,5<TO$)nQdO'#I[O$5hQdO'#I[O$5mQdO,5<UOOQS,5<V,5<VO0rQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5rQdOG27wO$6SQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$6XQtO'#FaO$6`QdO'#I]O$6nQdO'#I]O$6vQdO,5<XOOQS1G1h1G1hO$6{QdO1G1hO$7QQdO,5<zOOQS-E:^-E:^O$7lQdO,5=OO$8TQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$8eQdO,5>vO$)nQdO,5>vOOQS1G1p1G1pOOQS,5<[,5<[OOQU7+'P7+'PO$+zQdO1G/iO$)nQdO,5<YO$8sQdO,5>wO$8zQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)nQdO'#GdO$9SQdO1G4bO$9^QdO1G4bO$9fQdO1G4bOOQS7+%T7+%TO$9tQdO1G1tO$:SQtO'#FaO$:ZQdO,5<}OOQS,5<},5<}O$:iQdO1G4cOOQS-E:a-E:aO$)nQdO,5<|O$:pQdO,5<|O$:uQdO7+)|OOQS-E:`-E:`O$;PQdO7+)|O$)nQdO,5<ZP$)nQdO'#GcO$;XQdO1G2hO$)nQdO1G2hP$;gQdO'#GbO$;nQdO<<MhO$;xQdO1G1uO$<WQdO7+(SO8vQdO'#C}O8vQdO,59bO8vQdO,59bO8vQdO,59bO$<fQtO,5=`O8vQdO1G.|O0rQdO1G/XO0rQdO7+$pP$<yQdO'#GOO'vQdO'#GtO$=WQdO,59bO$=]QdO,59bO$=dQdO,59mO$=iQdO1G/UO1sQdO'#DRO8vQdO,59j",stateData:"$>S~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%_$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PEcO%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO%_'hO~OS'iO%['hO%_'hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#uO%kWi~P!#uOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&pO%mWi%nWi~P!&pOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)nOVWi_Wi%qWi%rWi%sWi~P!)nO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.aOlji~P!.aOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/jOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PEcOV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO%_*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!NkOlji~P!NkOV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~O{#{Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/jOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/jO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$-bO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)zOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/jOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)nOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$-bOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)nOz/zO#[/OO%j.yO!['Oa~Og'Pa~P$)nOz0SOg'Pa~Oa0UO!['Oi~P$)zOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$-bO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)nO{0^O~Oa0UO!['Oq~P$)zOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)zOa0UO!['Oy~P$)zO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/jO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~",goto:"!=j'QPPPPPP'RP'Z*s+[+t,_,y-fP.SP'Z.r.r'ZPPP'Z2[PPPPPP2[5PPP5PP7b7k=sPP=v>h>kPP'Z'ZPP>zPP'Z'ZPP'Z'Z'Z'Z'Z?O?w'ZP?zP@QDXGuGyPG|HWH['ZPPPH_Hk'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHqH}IVPI^IdPI^PI^I^PPPI^PKrPK{LVL]KrPI^LfPI^PLmLsPLwM]MzNeLwLwNkNxLwLwLwLw! ^! d! g! l! o! y!!P!!]!!o!!u!#P!#V!#s!#y!$P!$Z!$a!$g!$y!%T!%Z!%a!%k!%q!%w!%}!&T!&Z!&e!&k!&u!&{!'U!'[!'k!'s!'}!(UPPPPPPPPPPP!([!(_!(e!(n!(x!)TPPPPPPPPPPPP!-u!/Z!3^!6oPP!6w!7W!7a!8Y!8P!8c!8i!8l!8o!8r!8z!9jPPPPPPPPPPPPPPPPP!9m!9q!9wP!:]!:a!:m!:v!;S!;j!;m!;p!;v!;|!<S!<VP!<_!<h!=d!=g]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r{!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g}!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!P!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!R!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!T!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!V!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!Z!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&eVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0r%oXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s!Y!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aQ,^*RR-e,_X#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&dQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uQ.S-fR/q/VhUOn#d#g$j%|&_'w(p(r)t,P%U!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!Z!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t",nodeNames:" print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:vxt,nodeProps:[["isolate",-5,4,71,72,73,77,""],["group",-15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,"Statement Statement",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,"Expression",-10,114,116,119,121,122,126,128,133,135,138,"Statement",-9,143,144,147,148,150,151,152,153,154,"Pattern"],["openedBy",23,"(",54,"[",58,"{"],["closedBy",24,")",55,"]",59,"}"]],propSources:[kxt],skippedNodes:[0,4],repeatNodeCount:34,tokenData:"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T",tokenizers:[xxt,gxt,mxt,wxt,0,1,2,3,4],topRules:{Script:[0,5]},specialized:[{term:221,get:n=>Pxt[n]||-1}],tokenPrec:7668}),cX=new PR,Aq=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function Jw(n){return(e,r,o)=>{if(o)return!1;let a=e.node.getChild("VariableName");return a&&r(a,n),!0}}const Txt={FunctionDefinition:Jw("function"),ClassDefinition:Jw("class"),ForStatement(n,e,r){if(r){for(let o=n.node.firstChild;o;o=o.nextSibling)if(o.name=="VariableName")e(o,"variable");else if(o.name=="in")break}},ImportStatement(n,e){var r,o;let{node:a}=n,h=((r=a.firstChild)===null||r===void 0?void 0:r.name)=="from";for(let f=a.getChild("import");f;f=f.nextSibling)f.name=="VariableName"&&((o=f.nextSibling)===null||o===void 0?void 0:o.name)!="as"&&e(f,h?"variable":"namespace")},AssignStatement(n,e){for(let r=n.node.firstChild;r;r=r.nextSibling)if(r.name=="VariableName")e(r,"variable");else if(r.name==":"||r.name=="AssignOp")break},ParamList(n,e){for(let r=null,o=n.node.firstChild;o;o=o.nextSibling)o.name=="VariableName"&&(!r||!/\*|AssignOp/.test(r.name))&&e(o,"variable"),r=o},CapturePattern:Jw("variable"),AsPattern:Jw("variable"),__proto__:null};function jq(n,e){let r=cX.get(e);if(r)return r;let o=[],a=!0;function h(f,p){let g=n.sliceString(f.from,f.to);o.push({label:g,type:p})}return e.cursor(Ti.IncludeAnonymous).iterate(f=>{if(f.name){let p=Txt[f.name];if(p&&p(f,h,a)||!a&&Aq.has(f.name))return!1;a=!1}else if(f.to-f.from>8192){for(let p of jq(n,f.node))o.push(p);return!1}}),cX.set(e,o),o}const fX=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,Eq=["String","FormatString","Comment","PropertyName"];function Cxt(n){let e=Mi(n.state).resolveInner(n.pos,-1);if(Eq.indexOf(e.name)>-1)return null;let r=e.name=="VariableName"||e.to-e.from<20&&fX.test(n.state.sliceDoc(e.from,e.to));if(!r&&!n.explicit)return null;let o=[];for(let a=e;a;a=a.parent)Aq.has(a.name)&&(o=o.concat(jq(n.state.doc,a)));return{options:o,from:r?e.from:n.pos,validFor:fX}}const Mxt=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(n=>({label:n,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(n=>({label:n,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(n=>({label:n,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(n=>({label:n,type:"function"}))),Qxt=[ln("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),ln("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),ln("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),ln("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),ln(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),ln("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),ln("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),ln("import ${module}",{label:"import",detail:"statement",type:"keyword"}),ln("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],Nxt=G7(Eq,FR(Mxt.concat(Qxt)));function UM(n){let{node:e,pos:r}=n,o=n.lineIndent(r,-1),a=null;for(;;){let h=e.childBefore(r);if(h)if(h.name=="Comment")r=h.from;else if(h.name=="Body"||h.name=="MatchBody")n.baseIndentFor(h)+n.unit<=o&&(a=h),e=h;else if(h.name=="MatchClause")e=h;else if(h.type.is("Statement"))e=h;else break;else break}return a}function WM(n,e){let r=n.baseIndentFor(e),o=n.lineAt(n.pos,-1),a=o.from+o.text.length;return/^\s*($|#)/.test(o.text)&&n.node.to<a+100&&!/\S/.test(n.state.sliceDoc(a,n.node.to))&&n.lineIndent(n.pos,-1)<=r||/^\s*(else:|elif |except |finally:|case\s+[^=:]+:)/.test(n.textAfter)&&n.lineIndent(n.pos,-1)>r?null:r+n.unit}const qM=Zc.define({name:"python",parser:bxt.configure({props:[Rd.add({Body:n=>{var e;let r=/^\s*(#|$)/.test(n.textAfter)&&UM(n)||n.node;return(e=WM(n,r))!==null&&e!==void 0?e:n.continue()},MatchBody:n=>{var e;let r=UM(n);return(e=WM(n,r||n.node))!==null&&e!==void 0?e:n.continue()},IfStatement:n=>/^\s*(else:|elif )/.test(n.textAfter)?n.baseIndent:n.continue(),"ForStatement WhileStatement":n=>/^\s*else:/.test(n.textAfter)?n.baseIndent:n.continue(),TryStatement:n=>/^\s*(except[ :]|finally:|else:)/.test(n.textAfter)?n.baseIndent:n.continue(),MatchStatement:n=>/^\s*case /.test(n.textAfter)?n.baseIndent+n.unit:n.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":RS({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":RS({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":RS({closing:"]"}),MemberExpression:n=>n.baseIndent+n.unit,"String FormatString":()=>null,Script:n=>{var e;let r=UM(n);return(e=r&&WM(n,r))!==null&&e!==void 0?e:n.continue()}}),nf.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":n2,Body:(n,e)=>({from:n.from+1,to:n.to-(n.to==e.doc.length?0:1)}),"String FormatString":(n,e)=>({from:e.doc.lineAt(n.from).to,to:n.to})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:|case\s+[^:]*:?)$/}});function dX(){return new Cd(qM,[qM.data.of({autocomplete:Cxt}),qM.data.of({autocomplete:Nxt})])}const Axt=54,jxt=1,Ext=55,Rxt=2,Lxt=56,$xt=3,pX=4,Dxt=5,eP=6,Rq=7,Lq=8,$q=9,Dq=10,Ixt=11,Fxt=12,Vxt=13,GM=57,zxt=14,mX=58,Iq=20,Xxt=22,Fq=23,Bxt=24,ZA=26,Vq=27,_xt=28,Zxt=31,Yxt=34,Uxt=36,Wxt=37,qxt=0,Gxt=1,Hxt={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},Kxt={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},gX={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function Jxt(n){return n==45||n==46||n==58||n>=65&&n<=90||n==95||n>=97&&n<=122||n>=161}function zq(n){return n==9||n==10||n==13||n==32}let yX=null,OX=null,vX=0;function YA(n,e){let r=n.pos+e;if(vX==r&&OX==n)return yX;let o=n.peek(e);for(;zq(o);)o=n.peek(++e);let a="";for(;Jxt(o);)a+=String.fromCharCode(o),o=n.peek(++e);return OX=n,vX=r,yX=a?a.toLowerCase():o==t1t||o==e1t?void 0:null}const Xq=60,iP=62,HR=47,t1t=63,e1t=33,i1t=45;function xX(n,e){this.name=n,this.parent=e}const n1t=[eP,Dq,Rq,Lq,$q],r1t=new WR({start:null,shift(n,e,r,o){return n1t.indexOf(e)>-1?new xX(YA(o,1)||"",n):n},reduce(n,e){return e==Iq&&n?n.parent:n},reuse(n,e,r,o){let a=e.type.id;return a==eP||a==Uxt?new xX(YA(o,1)||"",n):n},strict:!1}),s1t=new ps((n,e)=>{if(n.next!=Xq){n.next<0&&e.context&&n.acceptToken(GM);return}n.advance();let r=n.next==HR;r&&n.advance();let o=YA(n,0);if(o===void 0)return;if(!o)return n.acceptToken(r?zxt:eP);let a=e.context?e.context.name:null;if(r){if(o==a)return n.acceptToken(Ixt);if(a&&Kxt[a])return n.acceptToken(GM,-2);if(e.dialectEnabled(qxt))return n.acceptToken(Fxt);for(let h=e.context;h;h=h.parent)if(h.name==o)return;n.acceptToken(Vxt)}else{if(o=="script")return n.acceptToken(Rq);if(o=="style")return n.acceptToken(Lq);if(o=="textarea")return n.acceptToken($q);if(Hxt.hasOwnProperty(o))return n.acceptToken(Dq);a&&gX[a]&&gX[a][o]?n.acceptToken(GM,-1):n.acceptToken(eP)}},{contextual:!0}),o1t=new ps(n=>{for(let e=0,r=0;;r++){if(n.next<0){r&&n.acceptToken(mX);break}if(n.next==i1t)e++;else if(n.next==iP&&e>=2){r>=3&&n.acceptToken(mX,-2);break}else e=0;n.advance()}});function l1t(n){for(;n;n=n.parent)if(n.name=="svg"||n.name=="math")return!0;return!1}const a1t=new ps((n,e)=>{if(n.next==HR&&n.peek(1)==iP){let r=e.dialectEnabled(Gxt)||l1t(e.context);n.acceptToken(r?Dxt:pX,2)}else n.next==iP&&n.acceptToken(pX,1)});function KR(n,e,r){let o=2+n.length;return new ps(a=>{for(let h=0,f=0,p=0;;p++){if(a.next<0){p&&a.acceptToken(e);break}if(h==0&&a.next==Xq||h==1&&a.next==HR||h>=2&&h<o&&a.next==n.charCodeAt(h-2))h++,f++;else if((h==2||h==o)&&zq(a.next))f++;else if(h==o&&a.next==iP){p>f?a.acceptToken(e,-f):a.acceptToken(r,-(f-2));break}else if((a.next==10||a.next==13)&&p){a.acceptToken(e,1);break}else h=f=0;a.advance()}})}const u1t=KR("script",Axt,jxt),h1t=KR("style",Ext,Rxt),c1t=KR("textarea",Lxt,$xt),f1t=ef({"Text RawText":W.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":W.angleBracket,TagName:W.tagName,"MismatchedCloseTag/TagName":[W.tagName,W.invalid],AttributeName:W.attributeName,"AttributeValue UnquotedAttributeValue":W.attributeValue,Is:W.definitionOperator,"EntityReference CharacterReference":W.character,Comment:W.blockComment,ProcessingInst:W.processingInstruction,DoctypeDecl:W.documentMeta}),d1t=Uc.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:r1t,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[f1t],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[u1t,h1t,c1t,a1t,s1t,o1t,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function Bq(n,e){let r=Object.create(null);for(let o of n.getChildren(Fq)){let a=o.getChild(Bxt),h=o.getChild(ZA)||o.getChild(Vq);a&&(r[e.read(a.from,a.to)]=h?h.type.id==ZA?e.read(h.from+1,h.to-1):e.read(h.from,h.to):"")}return r}function wX(n,e){let r=n.getChild(Xxt);return r?e.read(r.from,r.to):" "}function HM(n,e,r){let o;for(let a of r)if(!a.attrs||a.attrs(o||(o=Bq(n.node.parent.firstChild,e))))return{parser:a.parser};return null}function _q(n=[],e=[]){let r=[],o=[],a=[],h=[];for(let p of n)(p.tag=="script"?r:p.tag=="style"?o:p.tag=="textarea"?a:h).push(p);let f=e.length?Object.create(null):null;for(let p of e)(f[p.name]||(f[p.name]=[])).push(p);return B9((p,g)=>{let v=p.type.id;if(v==_xt)return HM(p,g,r);if(v==Zxt)return HM(p,g,o);if(v==Yxt)return HM(p,g,a);if(v==Iq&&h.length){let x=p.node,S=x.firstChild,b=S&&wX(S,g),C;if(b){for(let j of h)if(j.tag==b&&(!j.attrs||j.attrs(C||(C=Bq(S,g))))){let N=x.lastChild,E=N.type.id==Wxt?N.from:x.to;if(E>S.to)return{parser:j.parser,overlay:[{from:S.to,to:E}]}}}}if(f&&v==Fq){let x=p.node,S;if(S=x.firstChild){let b=f[g.read(S.from,S.to)];if(b)for(let C of b){if(C.tagName&&C.tagName!=wX(x.parent,g))continue;let j=x.lastChild;if(j.type.id==ZA){let N=j.from+1,E=j.lastChild,R=j.to-(E&&E.isError?0:1);if(R>N)return{parser:C.parser,overlay:[{from:N,to:R}]}}else if(j.type.id==Vq)return{parser:C.parser,overlay:[{from:j.from,to:j.to}]}}}}return null})}const p1t=107,SX=1,m1t=108,g1t=109,kX=2,PX=110,Zq=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],y1t=58,O1t=40,Yq=95,v1t=91,FS=45,x1t=46,w1t=35,S1t=37,k1t=38,P1t=92,b1t=10,T1t=42;function ov(n){return n>=65&&n<=90||n>=97&&n<=122||n>=161}function Uq(n){return n>=48&&n<=57}const C1t=new ps((n,e)=>{for(let r=!1,o=0,a=0;;a++){let{next:h}=n;if(ov(h)||h==FS||h==Yq||r&&Uq(h))!r&&(h!=FS||a>0)&&(r=!0),o===a&&h==FS&&o++,n.advance();else if(h==P1t&&n.peek(1)!=b1t)n.advance(),n.next>-1&&n.advance(),r=!0;else{r&&n.acceptToken(o==2&&e.canShift(kX)?kX:e.canShift(PX)?PX:h==O1t?m1t:g1t);break}}}),M1t=new ps(n=>{if(Zq.includes(n.peek(-1))){let{next:e}=n;(ov(e)||e==Yq||e==w1t||e==x1t||e==T1t||e==v1t||e==y1t&&ov(n.peek(1))||e==FS||e==k1t)&&n.acceptToken(p1t)}}),Q1t=new ps(n=>{if(!Zq.includes(n.peek(-1))){let{next:e}=n;if(e==S1t&&(n.advance(),n.acceptToken(SX)),ov(e)){do n.advance();while(ov(n.next)||Uq(n.next));n.acceptToken(SX)}}}),N1t=ef({"AtKeyword import charset namespace keyframes media supports":W.definitionKeyword,"from to selector":W.keyword,NamespaceName:W.namespace,KeyframeName:W.labelName,KeyframeRangeName:W.operatorKeyword,TagName:W.tagName,ClassName:W.className,PseudoClassName:W.constant(W.className),IdName:W.labelName,"FeatureName PropertyName":W.propertyName,AttributeName:W.attributeName,NumberLiteral:W.number,KeywordQuery:W.keyword,UnaryQueryOp:W.operatorKeyword,"CallTag ValueName":W.atom,VariableName:W.variableName,Callee:W.operatorKeyword,Unit:W.unit,"UniversalSelector NestingSelector":W.definitionOperator,"MatchOp CompareOp":W.compareOperator,"ChildOp SiblingOp, LogicOp":W.logicOperator,BinOp:W.arithmeticOperator,Important:W.modifier,Comment:W.blockComment,ColorLiteral:W.color,"ParenthesizedContent StringLiteral":W.string,":":W.punctuation,"PseudoOp #":W.derefOperator,"; ,":W.separator,"( )":W.paren,"[ ]":W.squareBracket,"{ }":W.brace}),A1t={__proto__:null,lang:34,"nth-child":34,"nth-last-child":34,"nth-of-type":34,"nth-last-of-type":34,dir:34,"host-context":34,url:62,"url-prefix":62,domain:62,regexp:62},j1t={__proto__:null,"@import":120,"@media":154,"@charset":158,"@namespace":162,"@keyframes":168,"@supports":180},E1t={__proto__:null,layer:124,not:144,only:144,selector:150},R1t=Uc.deserialize({version:14,states:">`QYQ[OOO#kQ[OOP#rOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#wQ[O'#CfO$hQXO'#CaO$rQ[O'#CiO$}Q[O'#DUO%SQ[O'#DXO%XQ[O'#D[O%XQ[O'#D_OOQP'#Ev'#EvO%yQdO'#DhO&hQ[O'#DzO%yQdO'#D|O&yQ[O'#EOO'UQ[O'#ERO'^Q[O'#EXO'lQ[O'#EZOOQS'#Eu'#EuOOQS'#E^'#E^QYQ[OOO'sQXO'#CdO(hQWO'#DdO(mQWO'#E{O(xQ[O'#E{QOQWOOP)SO#tO'#C_POOO)C@e)C@eOOQP'#Ch'#ChOOQP,59Q,59QO#wQ[O,59QO)_Q[O,59TO$}Q[O,59pO%SQ[O,59sO%XQ[O,59vO%XQ[O,59xO%XQ[O,59yO%XQ[O'#EcO)jQWO,58{O)rQ[O'#DcOOQS,58{,58{OOQP'#Cl'#ClOOQO'#DS'#DSOOQP,59T,59TO)yQWO,59TO*OQWO,59TOOQP'#DW'#DWOOQP,59p,59pOOQO'#DY'#DYO*TQ`O,59sO*nQXO,59vO+UQXO,59yOOQS'#Cq'#CqO%yQdO'#CrO+lQvO'#CtO-hQtO,5:SOOQO'#Cy'#CyO*OQWO'#CxO-rQWO'#CzO-wQ[O'#DPOOQS'#Ex'#ExOOQO'#Dn'#DnO.eQdO'#DwO.uQWO'#E|O'^Q[O'#DuO/TQWO'#DxOOQO'#E}'#E}O)mQWO,5:fO/YQpO,5:hOOQS'#EQ'#EQO/bQWO,5:jO/gQ[O,5:jOOQO'#ET'#ETO/oQWO,5:mO/tQWO,5:sO/|QWO,5:uOOQS-E8[-E8[O0UQdO,5:OO0fQ[O'#EeO0sQWO,5;gO0sQWO,5;gPOOO'#E]'#E]P1OO#tO,58yPOOO,58y,58yOOQP1G.l1G.lOOQP1G.o1G.oO)yQWO1G.oO*OQWO1G.oOOQP1G/[1G/[O1ZQ`O1G/_O1cQXO1G/bO1yQXO1G/dO2aQXO1G/eO2wQXO,5:}OOQO-E8a-E8aOOQS1G.g1G.gO3RQWO,59}O3WQ[O'#DTO3_QdO'#CpOOQP1G/_1G/_O%yQdO1G/_O3fQpO,59^OOQS,59`,59`O%yQdO,59bO3nQ[O'#DkO4PQWO1G/nO-VQ[O1G/nOOQS,59d,59dO4UQ!bO,59fOOQS'#DQ'#DQOOQS'#E`'#E`O4aQ[O,59kOOQS,59k,59kO4iQpO'#DnO4wQpO,5:ZO5PQWO,5:cOOQO'#FO'#FOO4zQpO,5:_O'^Q[O,5:]O5XQ[O'#EgO5pQWO,5;hO5{QWO,5:aO%XQ[O,5:dOOQS1G0Q1G0QOOQS1G0S1G0SOOQS1G0U1G0UO6^QWO1G0UO6cQdO'#EUOOQS1G0X1G0XOOQS1G0_1G0_OOQS1G0a1G0aO6nQtO1G/jOOQO1G/j1G/jOOQO,5;P,5;PO7UQ[O,5;POOQO-E8c-E8cO7cQWO1G1RPOOO-E8Z-E8ZPOOO1G.e1G.eOOQP7+$Z7+$ZOOQP7+$y7+$yO%yQdO7+$yOOQS1G/i1G/iO7nQXO'#EzO7xQWO,59oO7}QtO'#E_O8uQdO'#EwO9PQWO,59[O9UQpO7+$yOOQS1G.x1G.xOOQS1G.|1G.|O9^Q[O,5:VOOQS7+%Y7+%YO9cQWO7+%YOOQS1G/Q1G/QO9hQWO1G/QOOQS-E8^-E8^OOQS1G/V1G/VO%yQdO1G/uO9mQdO1G/yOOQO1G/}1G/}OOQO1G/w1G/wO9tQWO,5;ROOQO-E8e-E8eO:SQXO1G0OOOQS7+%p7+%pO:ZQYO'#CtOOQO'#EW'#EWO:iQ`O'#EVOOQO'#EV'#EVO:tQWO'#EhO:|QdO,5:pOOQS,5:p,5:pO;XQtO'#EdO%yQdO'#EdO<YQdO7+%UOOQO7+%U7+%UOOQO1G0k1G0kO<mQpO<<HeO<uQ[O'#EbO=PQWO,5;fOOQP1G/Z1G/ZOOQS-E8]-E8]O=XQdO'#EaO=cQWO,5;cOOQT1G.v1G.vOOQP<<He<<HeOOQO'#Dm'#DmO=kQWO1G/qOOQS<<Ht<<HtOOQS7+$l7+$lO=sQdO7+%aOOQO'#Dp'#DpO=zQpO7+%eOOQO7+%j7+%jOOQO,5:q,5:qO6fQdO'#EiO:tQWO,5;SOOQS,5;S,5;SOOQS-E8f-E8fOOQS1G0[1G0[O>SQtO,5;OOOQS-E8b-E8bOOQO<<Hp<<HpOOQPAN>PAN>PO?TQXO,5:|OOQO-E8`-E8`O?_QdO,5:{OOQO-E8_-E8_O9^Q[O'#EfO?iQWO7+%]OOQS7+%]7+%]OOQO<<H{<<H{OOQO<<IP<<IPO?qQdO<<IPOOQO,5;T,5;TOOQO-E8g-E8gOOQS1G0n1G0nOOQO,5;Q,5;QOOQO-E8d-E8dOOQS<<Hw<<HwO@YQWOAN>kOOQOG24VG24V",stateData:"@g~O#dOS#eQQ~OU[OX[OZTO^VO_VOrXOyWO!PYO!SZO!]cO!^]O!o^O!q_O!s`O!vaO!|bO#aRO~OQhOU[OX[OZTO^VO_VOrXOyWO!PYO!SZO!]cO!^]O!o^O!q_O!s`O!vaO!|bO#agO~O#^#oP~P!aO#elO~O#anO~OZpO^qO_qOrsOyrO!PtO!SvO#_uO~OuwO!UyO~P#|Oa!PO#`|O#a{O~O#a!QO~O#a!SO~OU[OX[OZTO^VO_VOrXOyWO!PYO!SZO#aRO~OQ!`Oc!XOg!`Oi!`Oo!^Or!_O#`![O#a!WO#m!YO~Oc!bO!j!dO!m!eO#b!aO!U#pP~Oi!jOo!^O#a!iO~Oi!lO#a!lO~Oc!bO!j!dO!m!eO#b!aO~O!Z#pP~P&hOZWX^WX^!XX_WXrWXuWXyWX!PWX!SWX!UWX#_WX~O^!qO~O!Z!rO#^#oX!T#oX~O#^#oX!T#oX~P!aO#f!uO#g!uO#h!wO~Oa!{O#`|O#a{O~OuwO!UyO~O!T#oP~P!aOc#VO~Oc#WO~Oq#XO}#YO~OZpO^qO_qOrsOyrO~Ou!Oa!P!Oa!S!Oa!U!Oa#_!Oab!Oa~P*]Ou!Ra!P!Ra!S!Ra!U!Ra#_!Rab!Ra~P*]OP#[OchXkhX!ZhX!`hX!jhX!mhX#bhXbhX!hhXQhXghXihXohXrhXuhX!YhX#^hX#`hX#ahX#mhXqhX!ThX~Oc!bO!j!dO!m!eO#b!aO!Z#pP~Ok#]O!`#^O~P-VOc#bO~Oq#fO#a#cO~OQ#jOg#jOi#jOo!^O#`![O#m!YO~Oc!bO!j!dO!m!eO#b#gO~P.POu#mO!f#lO!U#pX!Z#pX~Oc#pO~Ok#]O!Z#rO~O!Z#sO~Oi#tOo!^O~O!U#uO~O!UyO!f#lO~O!UyO!Z#xO~O!Y#zO!Z!Wa#^!Wa!T!Wa~P%yO!Z#XX#^#XX!T#XX~P!aO!Z!rO#^#oa!T#oa~O#f!uO#g!uO#h$QO~Oq$SO}$TO~Ou!Oi!P!Oi!S!Oi!U!Oi#_!Oib!Oi~P*]Ou!Qi!P!Qi!S!Qi!U!Qi#_!Qib!Qi~P*]Ou!Ri!P!Ri!S!Ri!U!Ri#_!Rib!Ri~P*]Ou#Va!U#Va~P#|O!T$UO~Ob#nP~P%XOb#kP~P%yOb$]Ok#]O~Oc$_O!Z!_X!j!_X!m!_X#b!_X~O!Z$`O~Ob$bOi$cOp$cO~Oq$eO#a#cO~O^!dXb!bX!f!bX!h!dX~O^$fO!h$gO~Ob$hO!f#lO~Oc!bO!j!dO!m!eO#b!aOu#ZX!U#ZX!Z#ZX~Ou#mO!U#pa!Z#pa~O!f#lOu!ia!U!ia!Z!iab!ia~O!Z$mO~O!T$tO#a$oO#m$nO~Ok#]Ou$vO!Y$xO!Z!Wi#^!Wi!T!Wi~P%yO!Z#Xa#^#Xa!T#Xa~P!aO!Z!rO#^#oi!T#oi~Ou${Ob#nX~P#|Ob$}O~Ok#]OQ#RXb#RXc#RXg#RXi#RXo#RXr#RXu#RX#`#RX#a#RX#m#RX~Ou%POb#kX~P%yOb%RO~Ok#]Oq%SO~O#a%TO~O!Z%VO~Ob%WO~O#b%YO~P.PO!f#lOu#Za!U#Za!Z#Za~Ob%[O~P#|OP#[OuhX!UhXbhX~O#m$nOu!yX!U!yX~Ou%^O!UyO~O!T%bO#a$oO#m$nO~Ok#]OQ#WXc#WXg#WXi#WXo#WXr#WXu#WX!Y#WX!Z#WX#^#WX#`#WX#a#WX#m#WX!T#WX~Ou$vO!Y%eO!Z!Wq#^!Wq!T!Wq~P%yOk#]Oq%fO~Ob#UXu#UX~P%XOu${Ob#na~Ob#TXu#TX~P%yOu%POb#ka~OZ%kOb%mO~Ob%nO~P%yOb%oO!h%pO~Ok#]OQ#Wac#Wag#Wai#Wao#War#Wau#Wa!Y#Wa!Z#Wa#^#Wa#`#Wa#a#Wa#m#Wa!T#Wa~Ob#Uau#Ua~P#|Ob#Tau#Ta~P%yOZ%kOb%vO~OQ#jOg#jOi#jOo!^O#`![O#b%YO#m$nO~Ob%xO~O#dp#e#mk!S#m~",goto:"/l#sPPP#tP#wP$Q$dP$QP$v$QPP$|PPP%S%]%]P%oP%]P&`&w'^PPPP%]'{P(P(V$QP(]$Q(cP$QP$Q$QPPP(i)O)]PP#wPP)dP)g)m)m)x)mP)mP)mP)m)mP#wP#wP#wP*R#wP*U*X*[*c#wP#wP*h*n*}+]+c+i+o+u+{,V,],c,iPPPPPPPPPPP,o,x-n-qP.g.j.p.|/cRmQ_dOPfjy!r#|q[OPYZfjtuvwy!r#V#p#|${qSOPYZfjtuvwy!r#V#p#|${QoTR!xpQ}VR!yqQ!y!PQ#a!]R$R!{q!`]_!X!q#W#Y#]#y$T$Y$f$v$w%P%X%ip!`]_!X!q#W#Y#]#y$T$Y$f$v$w%P%X%iU#j!b$g%pU$q#u$s%^R%]$pp!`]_!X!q#W#Y#]#y$T$Y$f$v$w%P%X%iV#j!b$g%pw!]]_!X!b!q#W#Y#]#y$T$Y$f$g$v$w%P%X%i%pp!`]_!X!q#W#Y#]#y$T$Y$f$v$w%P%X%iQ!j`U#j!b$g%pR#t!kT#d!_#eQ!OVR!zqQ!y!OR$R!zQ!RWR!|rQ!TXR!}sQzUQ#TxQ#q!gQ#w!nQ#x!oQ%`$rR%s%_SiPyQ!tjQ#{!rR$y#|ZhPjy!r#|R#`!ZQ%U$_R%t%kc!f^bc!Z!b!d#`#l#mQ#h!bQ%Z$gR%w%pR!k`R!maR#v!mS$r#u$sR%q%^V$p#u$s%^Q!vlR$P!vQfOSjPyU!pfj#|R#|!rQ$Y#WU%O$Y%X%iQ%X$fR%i%PQ#e!_R$d#eQ%Q$YR%j%QQ$|$VR%h$|QxUR#SxQ$w#yR%d$wQ!siS#}!s$OR$O!tQ%l%UR%u%lQ#n!cR$k#nQ$s#uR%a$sQ%_$rR%r%__eOPfjy!r#|^UOPfjy!r#|Q!UYQ!VZQ#OtQ#PuQ#QvQ#RwQ$V#VQ$l#pR%g${R$Z#WQ!Z]Q!h_Q#Z!XQ#y!q[$X#W$Y$f%P%X%iQ$[#YQ$^#]S$u#y$wQ$z$TR%c$vR$W#VQkPR#UyQ!g^Q!ocQ#_!ZR$a#`W!c^c!Z#`Q!nbQ#i!bQ#o!dQ$i#lR$j#mQ#k!bQ%Z$gR%w%p",nodeNames:" Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import Layer layer LayerName KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:126,nodeProps:[["isolate",-2,3,25,""],["openedBy",18,"(",33,"[",51,"{"],["closedBy",19,")",34,"]",52,"}"]],propSources:[N1t],skippedNodes:[0,3,93],repeatNodeCount:13,tokenData:"LU~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_Cj!_!`Df!`!aDy!a!b$}!b!cEz!c!}$}!}#OHX#O#P$}#P#QHj#Q#R6d#R#T$}#T#UH{#U#c$}#c#dJ^#d#o$}#o#pJs#p#q6d#q#rKU#r#sKg#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`LO<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSp`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#d~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#d~p`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUp`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Up`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUp`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Up`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUp`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Up`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUp`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Up`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!Y[p`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOi~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYyQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYp`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYp`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYg[p`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYg[p`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYp`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYg[p`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYp`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSg[p`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS}Sp`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSc^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOb~n9{UUQkWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWkW!SQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUp`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYp`#m[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYp`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUp`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUp`#m[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[p`#m[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSu^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWkWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VUZQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTkWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSp`#e~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#m[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^jBbU^YOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S_Qp`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Z^Oy%^z;'S%^;'S;=`%o<%lO%^hCoU!hWOy%^z!_%^!_!`DR!`;'S%^;'S;=`%o<%lO%^hDYS!hWp`Oy%^z;'S%^;'S;=`%o<%lO%^lDmS!hW}SOy%^z;'S%^;'S;=`%o<%lO%^jEQV!PQ!hWOy%^z!_%^!_!`DR!`!aEg!a;'S%^;'S;=`%o<%lO%^bEnS!PQp`Oy%^z;'S%^;'S;=`%o<%lO%^bE}YOy%^z}%^}!OFm!O!c%^!c!}G[!}#T%^#T#oG[#o;'S%^;'S;=`%o<%lO%^bFrWp`Oy%^z!c%^!c!}G[!}#T%^#T#oG[#o;'S%^;'S;=`%o<%lO%^bGc[!]Qp`Oy%^z}%^}!OG[!O!Q%^!Q![G[![!c%^!c!}G[!}#T%^#T#oG[#o;'S%^;'S;=`%o<%lO%^nH^Sr^Oy%^z;'S%^;'S;=`%o<%lO%^nHoSq^Oy%^z;'S%^;'S;=`%o<%lO%^jIOUOy%^z#b%^#b#cIb#c;'S%^;'S;=`%o<%lO%^jIgUp`Oy%^z#W%^#W#XIy#X;'S%^;'S;=`%o<%lO%^jJQS!fYp`Oy%^z;'S%^;'S;=`%o<%lO%^jJaUOy%^z#f%^#f#gIy#g;'S%^;'S;=`%o<%lO%^fJxS!UUOy%^z;'S%^;'S;=`%o<%lO%^nKZS!T^Oy%^z;'S%^;'S;=`%o<%lO%^fKlU!SQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`LRP;=`<%l$}",tokenizers:[M1t,Q1t,C1t,1,2,3,4,new tP("m~RRYZ[z{a~~g~aO#g~~dP!P!Qg~lO#h~~",28,114)],topRules:{StyleSheet:[0,4],Styles:[1,92]},specialized:[{term:108,get:n=>A1t[n]||-1},{term:59,get:n=>j1t[n]||-1},{term:110,get:n=>E1t[n]||-1}],tokenPrec:1441});let KM=null;function JM(){if(!KM&&typeof document=="object"&&document.body){let{style:n}=document.body,e=[],r=new Set;for(let o in n)o!="cssText"&&o!="cssFloat"&&typeof n[o]=="string"&&(/[A-Z]/.test(o)&&(o=o.replace(/[A-Z]/g,a=>"-"+a.toLowerCase())),r.has(o)||(e.push(o),r.add(o)));KM=e.sort().map(o=>({type:"property",label:o,apply:o+": "}))}return KM||[]}const bX=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(n=>({type:"class",label:n})),TX=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(n=>({type:"keyword",label:n})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(n=>({type:"constant",label:n}))),L1t=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(n=>({type:"type",label:n})),$1t=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(n=>({type:"keyword",label:n})),Wu=/^(\w[\w-]*|-\w[\w-]*|)$/,D1t=/^-(-[\w-]*)?$/;function I1t(n,e){var r;if((n.name=="("||n.type.isError)&&(n=n.parent||n),n.name!="ArgList")return!1;let o=(r=n.parent)===null||r===void 0?void 0:r.firstChild;return(o==null?void 0:o.name)!="Callee"?!1:e.sliceString(o.from,o.to)=="var"}const CX=new PR,F1t=["Declaration"];function V1t(n){for(let e=n;;){if(e.type.isTop)return e;if(!(e=e.parent))return n}}function Wq(n,e,r){if(e.to-e.from>4096){let o=CX.get(e);if(o)return o;let a=[],h=new Set,f=e.cursor(Ti.IncludeAnonymous);if(f.firstChild())do for(let p of Wq(n,f.node,r))h.has(p.label)||(h.add(p.label),a.push(p));while(f.nextSibling());return CX.set(e,a),a}else{let o=[],a=new Set;return e.cursor().iterate(h=>{var f;if(r(h)&&h.matchContext(F1t)&&((f=h.node.nextSibling)===null||f===void 0?void 0:f.name)==":"){let p=n.sliceString(h.from,h.to);a.has(p)||(a.add(p),o.push({label:p,type:"variable"}))}}),o}}const z1t=n=>e=>{let{state:r,pos:o}=e,a=Mi(r).resolveInner(o,-1),h=a.type.isError&&a.from==a.to-1&&r.doc.sliceString(a.from,a.to)=="-";if(a.name=="PropertyName"||(h||a.name=="TagName")&&/^(Block|Styles)$/.test(a.resolve(a.to).name))return{from:a.from,options:JM(),validFor:Wu};if(a.name=="ValueName")return{from:a.from,options:TX,validFor:Wu};if(a.name=="PseudoClassName")return{from:a.from,options:bX,validFor:Wu};if(n(a)||(e.explicit||h)&&I1t(a,r.doc))return{from:n(a)||h?a.from:o,options:Wq(r.doc,V1t(a),n),validFor:D1t};if(a.name=="TagName"){for(let{parent:g}=a;g;g=g.parent)if(g.name=="Block")return{from:a.from,options:JM(),validFor:Wu};return{from:a.from,options:L1t,validFor:Wu}}if(a.name=="AtKeyword")return{from:a.from,options:$1t,validFor:Wu};if(!e.explicit)return null;let f=a.resolve(o),p=f.childBefore(o);return p&&p.name==":"&&f.name=="PseudoClassSelector"?{from:o,options:bX,validFor:Wu}:p&&p.name==":"&&f.name=="Declaration"||f.name=="ArgList"?{from:o,options:TX,validFor:Wu}:f.name=="Block"||f.name=="Styles"?{from:o,options:JM(),validFor:Wu}:null},X1t=z1t(n=>n.name=="VariableName"),nP=Zc.define({name:"css",parser:R1t.configure({props:[Rd.add({Declaration:Am()}),nf.add({"Block KeyframeList":n2})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function qq(){return new Cd(nP,nP.data.of({autocomplete:X1t}))}const Sy=["_blank","_self","_top","_parent"],tQ=["ascii","utf-8","utf-16","latin1","latin1"],eQ=["get","post","put","delete"],iQ=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],Mo=["true","false"],ae={},B1t={a:{attrs:{href:null,ping:null,type:null,media:null,target:Sy,hreflang:null}},abbr:ae,address:ae,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:ae,aside:ae,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:ae,base:{attrs:{href:null,target:Sy}},bdi:ae,bdo:ae,blockquote:{attrs:{cite:null}},body:ae,br:ae,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:iQ,formmethod:eQ,formnovalidate:["novalidate"],formtarget:Sy,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:ae,center:ae,cite:ae,code:ae,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:ae,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:ae,div:ae,dl:ae,dt:ae,em:ae,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:ae,figure:ae,footer:ae,form:{attrs:{action:null,name:null,"accept-charset":tQ,autocomplete:["on","off"],enctype:iQ,method:eQ,novalidate:["novalidate"],target:Sy}},h1:ae,h2:ae,h3:ae,h4:ae,h5:ae,h6:ae,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:ae,hgroup:ae,hr:ae,html:{attrs:{manifest:null}},i:ae,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:iQ,formmethod:eQ,formnovalidate:["novalidate"],formtarget:Sy,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:ae,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:ae,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:ae,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:tQ,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:ae,noscript:ae,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:ae,param:{attrs:{name:null,value:null}},pre:ae,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:ae,rt:ae,ruby:ae,samp:ae,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:tQ}},section:ae,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:ae,source:{attrs:{src:null,type:null,media:null}},span:ae,strong:ae,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:ae,summary:ae,sup:ae,table:ae,tbody:ae,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:ae,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:ae,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:ae,time:{attrs:{datetime:null}},title:ae,tr:ae,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:ae,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:ae},Gq={accesskey:null,class:null,contenteditable:Mo,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:Mo,autocorrect:Mo,autocapitalize:Mo,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":Mo,"aria-autocomplete":["inline","list","both","none"],"aria-busy":Mo,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":Mo,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":Mo,"aria-hidden":Mo,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":Mo,"aria-multiselectable":Mo,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":Mo,"aria-relevant":null,"aria-required":Mo,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},Hq="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(n=>"on"+n);for(let n of Hq)Gq[n]=null;class lv{constructor(e,r){this.tags=Object.assign(Object.assign({},B1t),e),this.globalAttrs=Object.assign(Object.assign({},Gq),r),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}lv.default=new lv;function fg(n,e,r=n.length){if(!e)return"";let o=e.firstChild,a=o&&o.getChild("TagName");return a?n.sliceString(a.from,Math.min(a.to,r)):""}function dg(n,e=!1){for(;n;n=n.parent)if(n.name=="Element")if(e)e=!1;else return n;return null}function Kq(n,e,r){let o=r.tags[fg(n,dg(e))];return(o==null?void 0:o.children)||r.allTags}function JR(n,e){let r=[];for(let o=dg(e);o&&!o.type.isTop;o=dg(o.parent)){let a=fg(n,o);if(a&&o.lastChild.name=="CloseTag")break;a&&r.indexOf(a)<0&&(e.name=="EndTag"||e.from>=o.firstChild.to)&&r.push(a)}return r}const Jq=/^[:\-\.\w\u00b7-\uffff]*$/;function MX(n,e,r,o,a){let h=/\s*>/.test(n.sliceDoc(a,a+5))?"":">",f=dg(r,!0);return{from:o,to:a,options:Kq(n.doc,f,e).map(p=>({label:p,type:"type"})).concat(JR(n.doc,r).map((p,g)=>({label:"/"+p,apply:"/"+p+h,type:"type",boost:99-g}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function QX(n,e,r,o){let a=/\s*>/.test(n.sliceDoc(o,o+5))?"":">";return{from:r,to:o,options:JR(n.doc,e).map((h,f)=>({label:h,apply:h+a,type:"type",boost:99-f})),validFor:Jq}}function _1t(n,e,r,o){let a=[],h=0;for(let f of Kq(n.doc,r,e))a.push({label:"<"+f,type:"type"});for(let f of JR(n.doc,r))a.push({label:"</"+f+">",type:"type",boost:99-h++});return{from:o,to:o,options:a,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function Z1t(n,e,r,o,a){let h=dg(r),f=h?e.tags[fg(n.doc,h)]:null,p=f&&f.attrs?Object.keys(f.attrs):[],g=f&&f.globalAttrs===!1?p:p.length?p.concat(e.globalAttrNames):e.globalAttrNames;return{from:o,to:a,options:g.map(v=>({label:v,type:"property"})),validFor:Jq}}function Y1t(n,e,r,o,a){var h;let f=(h=r.parent)===null||h===void 0?void 0:h.getChild("AttributeName"),p=[],g;if(f){let v=n.sliceDoc(f.from,f.to),x=e.globalAttrs[v];if(!x){let S=dg(r),b=S?e.tags[fg(n.doc,S)]:null;x=(b==null?void 0:b.attrs)&&b.attrs[v]}if(x){let S=n.sliceDoc(o,a).toLowerCase(),b='"',C='"';/^['"]/.test(S)?(g=S[0]=='"'?/^[^"]*$/:/^[^']*$/,b="",C=n.sliceDoc(a,a+1)==S[0]?"":S[0],S=S.slice(1),o++):g=/^[^\s<>='"]*$/;for(let j of x)p.push({label:j,apply:b+j+C,type:"constant"})}}return{from:o,to:a,options:p,validFor:g}}function t6(n,e){let{state:r,pos:o}=e,a=Mi(r).resolveInner(o,-1),h=a.resolve(o);for(let f=o,p;h==a&&(p=a.childBefore(f));){let g=p.lastChild;if(!g||!g.type.isError||g.from<g.to)break;h=a=p,f=g.from}return a.name=="TagName"?a.parent&&/CloseTag$/.test(a.parent.name)?QX(r,a,a.from,o):MX(r,n,a,a.from,o):a.name=="StartTag"?MX(r,n,a,o,o):a.name=="StartCloseTag"||a.name=="IncompleteCloseTag"?QX(r,a,o,o):a.name=="OpenTag"||a.name=="SelfClosingTag"||a.name=="AttributeName"?Z1t(r,n,a,a.name=="AttributeName"?a.from:o,o):a.name=="Is"||a.name=="AttributeValue"||a.name=="UnquotedAttributeValue"?Y1t(r,n,a,a.name=="Is"?o:a.from,o):e.explicit&&(h.name=="Element"||h.name=="Text"||h.name=="Document")?_1t(r,n,a,o):null}function U1t(n){return t6(lv.default,n)}function W1t(n){let{extraTags:e,extraGlobalAttributes:r}=n,o=r||e?new lv(e,r):lv.default;return a=>t6(o,a)}const q1t=cu.parser.configure({top:"SingleExpression"}),e6=[{tag:"script",attrs:n=>n.type=="text/typescript"||n.lang=="ts",parser:vq.parser},{tag:"script",attrs:n=>n.type=="text/babel"||n.type=="text/jsx",parser:xq.parser},{tag:"script",attrs:n=>n.type=="text/typescript-jsx",parser:wq.parser},{tag:"script",attrs(n){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(n.type)},parser:q1t},{tag:"script",attrs(n){return!n.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(n.type)},parser:cu.parser},{tag:"style",attrs(n){return(!n.lang||n.lang=="css")&&(!n.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(n.type))},parser:nP.parser}],i6=[{name:"style",parser:nP.parser.configure({top:"Styles"})}].concat(Hq.map(n=>({name:n,parser:cu.parser}))),n6=Zc.define({name:"html",parser:d1t.configure({props:[Rd.add({Element(n){let e=/^(\s*)(<\/)?/.exec(n.textAfter);return n.node.to<=n.pos+e[0].length?n.continue():n.lineIndent(n.node.from)+(e[2]?0:n.unit)},"OpenTag CloseTag SelfClosingTag"(n){return n.column(n.node.from)+n.unit},Document(n){if(n.pos+/\s*/.exec(n.textAfter)[0].length<n.node.to)return n.continue();let e=null,r;for(let o=n.node;;){let a=o.lastChild;if(!a||a.name!="Element"||a.to!=o.to)break;e=o=a}return e&&!((r=e.lastChild)&&(r.name=="CloseTag"||r.name=="SelfClosingTag"))?n.lineIndent(e.from)+n.unit:null}}),nf.add({Element(n){let e=n.firstChild,r=n.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:r.name=="CloseTag"?r.from:n.to}}}),l7.add({"OpenTag CloseTag":n=>n.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),VS=n6.configure({wrap:_q(e6,i6)});function r6(n={}){let e="",r;n.matchClosingTags===!1&&(e="noMatch"),n.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(n.nestedLanguages&&n.nestedLanguages.length||n.nestedAttributes&&n.nestedAttributes.length)&&(r=_q((n.nestedLanguages||[]).concat(e6),(n.nestedAttributes||[]).concat(i6)));let o=r?n6.configure({wrap:r,dialect:e}):e?VS.configure({dialect:e}):VS;return new Cd(o,[VS.data.of({autocomplete:W1t(n)}),n.autoCloseTags!==!1?G1t:[],BA().support,qq().support])}const NX=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),G1t=Yt.inputHandler.of((n,e,r,o,a)=>{if(n.composing||n.state.readOnly||e!=r||o!=">"&&o!="/"||!VS.isActiveAt(n.state,e,-1))return!1;let h=a(),{state:f}=h,p=f.changeByRange(g=>{var v,x,S;let b=f.doc.sliceString(g.from-1,g.to)==o,{head:C}=g,j=Mi(f).resolveInner(C,-1),N;if(b&&o==">"&&j.name=="EndTag"){let E=j.parent;if(((x=(v=E.parent)===null||v===void 0?void 0:v.lastChild)===null||x===void 0?void 0:x.name)!="CloseTag"&&(N=fg(f.doc,E.parent,C))&&!NX.has(N)){let R=C+(f.doc.sliceString(C,C+1)===">"?1:0),$=`</${N}>`;return{range:g,changes:{from:C,to:R,insert:$}}}}else if(b&&o=="/"&&j.name=="IncompleteCloseTag"){let E=j.parent;if(j.from==C-2&&((S=E.lastChild)===null||S===void 0?void 0:S.name)!="CloseTag"&&(N=fg(f.doc,E,C))&&!NX.has(N)){let R=C+(f.doc.sliceString(C,C+1)===">"?1:0),$=`${N}>`;return{range:Ct.cursor(C+$.length,-1),changes:{from:C,to:R,insert:$}}}}return{range:g}});return p.changes.empty?!1:(n.dispatch([h,f.update(p,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),H1t=ef({String:W.string,Number:W.number,"True False":W.bool,PropertyName:W.propertyName,Null:W.null,", :":W.separator,"[ ]":W.squareBracket,"{ }":W.brace}),K1t=Uc.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[H1t],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),J1t=Zc.define({name:"json",parser:K1t.configure({props:[Rd.add({Object:Am({except:/^\s*\}/}),Array:Am({except:/^\s*\]/})}),nf.add({"Object Array":n2})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function twt(){return new Cd(J1t)}class rP{static create(e,r,o,a,h){let f=a+(a<<8)+e+(r<<4)|0;return new rP(e,r,o,f,h,[],[])}constructor(e,r,o,a,h,f,p){this.type=e,this.value=r,this.from=o,this.hash=a,this.end=h,this.children=f,this.positions=p,this.hashProp=[[we.contextHash,a]]}addChild(e,r){e.prop(we.contextHash)!=this.hash&&(e=new mi(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(r)}toTree(e,r=this.end){let o=this.children.length-1;return o>=0&&(r=Math.max(r,this.positions[o]+this.children[o].length+this.from)),new mi(e.types[this.type],this.children,this.positions,r-this.from).balance({makeTree:(a,h,f)=>new mi(hr.none,a,h,f,this.hashProp)})}}var zt;(function(n){n[n.Document=1]="Document",n[n.CodeBlock=2]="CodeBlock",n[n.FencedCode=3]="FencedCode",n[n.Blockquote=4]="Blockquote",n[n.HorizontalRule=5]="HorizontalRule",n[n.BulletList=6]="BulletList",n[n.OrderedList=7]="OrderedList",n[n.ListItem=8]="ListItem",n[n.ATXHeading1=9]="ATXHeading1",n[n.ATXHeading2=10]="ATXHeading2",n[n.ATXHeading3=11]="ATXHeading3",n[n.ATXHeading4=12]="ATXHeading4",n[n.ATXHeading5=13]="ATXHeading5",n[n.ATXHeading6=14]="ATXHeading6",n[n.SetextHeading1=15]="SetextHeading1",n[n.SetextHeading2=16]="SetextHeading2",n[n.HTMLBlock=17]="HTMLBlock",n[n.LinkReference=18]="LinkReference",n[n.Paragraph=19]="Paragraph",n[n.CommentBlock=20]="CommentBlock",n[n.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",n[n.Escape=22]="Escape",n[n.Entity=23]="Entity",n[n.HardBreak=24]="HardBreak",n[n.Emphasis=25]="Emphasis",n[n.StrongEmphasis=26]="StrongEmphasis",n[n.Link=27]="Link",n[n.Image=28]="Image",n[n.InlineCode=29]="InlineCode",n[n.HTMLTag=30]="HTMLTag",n[n.Comment=31]="Comment",n[n.ProcessingInstruction=32]="ProcessingInstruction",n[n.Autolink=33]="Autolink",n[n.HeaderMark=34]="HeaderMark",n[n.QuoteMark=35]="QuoteMark",n[n.ListMark=36]="ListMark",n[n.LinkMark=37]="LinkMark",n[n.EmphasisMark=38]="EmphasisMark",n[n.CodeMark=39]="CodeMark",n[n.CodeText=40]="CodeText",n[n.CodeInfo=41]="CodeInfo",n[n.LinkTitle=42]="LinkTitle",n[n.LinkLabel=43]="LinkLabel",n[n.URL=44]="URL"})(zt||(zt={}));class ewt{constructor(e,r){this.start=e,this.content=r,this.marks=[],this.parsers=[]}}class iwt{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return rO(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,r=0,o=0){for(let a=r;a<e;a++)o+=this.text.charCodeAt(a)==9?4-o%4:1;return o}findColumn(e){let r=0;for(let o=0;r<this.text.length&&o<e;r++)o+=this.text.charCodeAt(r)==9?4-o%4:1;return r}scrub(){if(!this.baseIndent)return this.text;let e="";for(let r=0;r<this.basePos;r++)e+=" ";return e+this.text.slice(this.basePos)}}function AX(n,e,r){if(r.pos==r.text.length||n!=e.block&&r.indent>=e.stack[r.depth+1].value+r.baseIndent)return!0;if(r.indent>=r.baseIndent+4)return!1;let o=(n.type==zt.OrderedList?i5:e5)(r,e,!1);return o>0&&(n.type!=zt.BulletList||t5(r,e,!1)<0)&&r.text.charCodeAt(r.pos+o-1)==n.value}const s6={[zt.Blockquote](n,e,r){return r.next!=62?!1:(r.markers.push(Ge(zt.QuoteMark,e.lineStart+r.pos,e.lineStart+r.pos+1)),r.moveBase(r.pos+(Ql(r.text.charCodeAt(r.pos+1))?2:1)),n.end=e.lineStart+r.text.length,!0)},[zt.ListItem](n,e,r){return r.indent<r.baseIndent+n.value&&r.next>-1?!1:(r.moveBaseColumn(r.baseIndent+n.value),!0)},[zt.OrderedList]:AX,[zt.BulletList]:AX,[zt.Document](){return!0}};function Ql(n){return n==32||n==9||n==10||n==13}function rO(n,e=0){for(;e<n.length&&Ql(n.charCodeAt(e));)e++;return e}function jX(n,e,r){for(;e>r&&Ql(n.charCodeAt(e-1));)e--;return e}function o6(n){if(n.next!=96&&n.next!=126)return-1;let e=n.pos+1;for(;e<n.text.length&&n.text.charCodeAt(e)==n.next;)e++;if(e<n.pos+3)return-1;if(n.next==96){for(let r=e;r<n.text.length;r++)if(n.text.charCodeAt(r)==96)return-1}return e}function l6(n){return n.next!=62?-1:n.text.charCodeAt(n.pos+1)==32?2:1}function t5(n,e,r){if(n.next!=42&&n.next!=45&&n.next!=95)return-1;let o=1;for(let a=n.pos+1;a<n.text.length;a++){let h=n.text.charCodeAt(a);if(h==n.next)o++;else if(!Ql(h))return-1}return r&&n.next==45&&h6(n)>-1&&n.depth==e.stack.length&&e.parser.leafBlockParsers.indexOf(p6.SetextHeading)>-1||o<3?-1:1}function a6(n,e){for(let r=n.stack.length-1;r>=0;r--)if(n.stack[r].type==e)return!0;return!1}function e5(n,e,r){return(n.next==45||n.next==43||n.next==42)&&(n.pos==n.text.length-1||Ql(n.text.charCodeAt(n.pos+1)))&&(!r||a6(e,zt.BulletList)||n.skipSpace(n.pos+2)<n.text.length)?1:-1}function i5(n,e,r){let o=n.pos,a=n.next;for(;a>=48&&a<=57;){o++;if(o==n.text.length)return-1;a=n.text.charCodeAt(o)}return o==n.pos||o>n.pos+9||a!=46&&a!=41||o<n.text.length-1&&!Ql(n.text.charCodeAt(o+1))||r&&!a6(e,zt.OrderedList)&&(n.skipSpace(o+1)==n.text.length||o>n.pos+1||n.next!=49)?-1:o+1-n.pos}function u6(n){if(n.next!=35)return-1;let e=n.pos+1;for(;e<n.text.length&&n.text.charCodeAt(e)==35;)e++;if(e<n.text.length&&n.text.charCodeAt(e)!=32)return-1;let r=e-n.pos;return r>6?-1:r}function h6(n){if(n.next!=45&&n.next!=61||n.indent>=n.baseIndent+4)return-1;let e=n.pos+1;for(;e<n.text.length&&n.text.charCodeAt(e)==n.next;)e++;let r=e;for(;e<n.text.length&&Ql(n.text.charCodeAt(e));)e++;return e==n.text.length?r:-1}const UA=/^[ \t]*$/,c6=/-->/,f6=/\?>/,WA=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,c6],[/^\s*<\?/,f6],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,UA],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,UA]];function d6(n,e,r){if(n.next!=60)return-1;let o=n.text.slice(n.pos);for(let a=0,h=WA.length-(r?1:0);a<h;a++)if(WA[a][0].test(o))return a;return-1}function EX(n,e){let r=n.countIndent(e,n.pos,n.indent),o=n.countIndent(n.skipSpace(e),e,r);return o>=r+5?r+1:o}function _f(n,e,r){let o=n.length-1;o>=0&&n[o].to==e&&n[o].type==zt.CodeText?n[o].to=r:n.push(Ge(zt.CodeText,e,r))}const tS={LinkReference:void 0,IndentedCode(n,e){let r=e.baseIndent+4;if(e.indent<r)return!1;let o=e.findColumn(r),a=n.lineStart+o,h=n.lineStart+e.text.length,f=[],p=[];for(_f(f,a,h);n.nextLine()&&e.depth>=n.stack.length;)if(e.pos==e.text.length){_f(p,n.lineStart-1,n.lineStart);for(let g of e.markers)p.push(g)}else{if(e.indent<r)break;{if(p.length){for(let v of p)v.type==zt.CodeText?_f(f,v.from,v.to):f.push(v);p=[]}_f(f,n.lineStart-1,n.lineStart);for(let v of e.markers)f.push(v);h=n.lineStart+e.text.length;let g=n.lineStart+e.findColumn(e.baseIndent+4);g<h&&_f(f,g,h)}}return p.length&&(p=p.filter(g=>g.type!=zt.CodeText),p.length&&(e.markers=p.concat(e.markers))),n.addNode(n.buffer.writeElements(f,-a).finish(zt.CodeBlock,h-a),a),!0},FencedCode(n,e){let r=o6(e);if(r<0)return!1;let o=n.lineStart+e.pos,a=e.next,h=r-e.pos,f=e.skipSpace(r),p=jX(e.text,e.text.length,f),g=[Ge(zt.CodeMark,o,o+h)];f<p&&g.push(Ge(zt.CodeInfo,n.lineStart+f,n.lineStart+p));for(let v=!0;n.nextLine()&&e.depth>=n.stack.length;v=!1){let x=e.pos;if(e.indent-e.baseIndent<4)for(;x<e.text.length&&e.text.charCodeAt(x)==a;)x++;if(x-e.pos>=h&&e.skipSpace(x)==e.text.length){for(let S of e.markers)g.push(S);g.push(Ge(zt.CodeMark,n.lineStart+e.pos,n.lineStart+x)),n.nextLine();break}else{v||_f(g,n.lineStart-1,n.lineStart);for(let C of e.markers)g.push(C);let S=n.lineStart+e.basePos,b=n.lineStart+e.text.length;S<b&&_f(g,S,b)}}return n.addNode(n.buffer.writeElements(g,-o).finish(zt.FencedCode,n.prevLineEnd()-o),o),!0},Blockquote(n,e){let r=l6(e);return r<0?!1:(n.startContext(zt.Blockquote,e.pos),n.addNode(zt.QuoteMark,n.lineStart+e.pos,n.lineStart+e.pos+1),e.moveBase(e.pos+r),null)},HorizontalRule(n,e){if(t5(e,n,!1)<0)return!1;let r=n.lineStart+e.pos;return n.nextLine(),n.addNode(zt.HorizontalRule,r),!0},BulletList(n,e){let r=e5(e,n,!1);if(r<0)return!1;n.block.type!=zt.BulletList&&n.startContext(zt.BulletList,e.basePos,e.next);let o=EX(e,e.pos+1);return n.startContext(zt.ListItem,e.basePos,o-e.baseIndent),n.addNode(zt.ListMark,n.lineStart+e.pos,n.lineStart+e.pos+r),e.moveBaseColumn(o),null},OrderedList(n,e){let r=i5(e,n,!1);if(r<0)return!1;n.block.type!=zt.OrderedList&&n.startContext(zt.OrderedList,e.basePos,e.text.charCodeAt(e.pos+r-1));let o=EX(e,e.pos+r);return n.startContext(zt.ListItem,e.basePos,o-e.baseIndent),n.addNode(zt.ListMark,n.lineStart+e.pos,n.lineStart+e.pos+r),e.moveBaseColumn(o),null},ATXHeading(n,e){let r=u6(e);if(r<0)return!1;let o=e.pos,a=n.lineStart+o,h=jX(e.text,e.text.length,o),f=h;for(;f>o&&e.text.charCodeAt(f-1)==e.next;)f--;(f==h||f==o||!Ql(e.text.charCodeAt(f-1)))&&(f=e.text.length);let p=n.buffer.write(zt.HeaderMark,0,r).writeElements(n.parser.parseInline(e.text.slice(o+r+1,f),a+r+1),-a);f<e.text.length&&p.write(zt.HeaderMark,f-o,h-o);let g=p.finish(zt.ATXHeading1-1+r,e.text.length-o);return n.nextLine(),n.addNode(g,a),!0},HTMLBlock(n,e){let r=d6(e,n,!1);if(r<0)return!1;let o=n.lineStart+e.pos,a=WA[r][1],h=[],f=a!=UA;for(;!a.test(e.text)&&n.nextLine();){if(e.depth<n.stack.length){f=!1;break}for(let v of e.markers)h.push(v)}f&&n.nextLine();let p=a==c6?zt.CommentBlock:a==f6?zt.ProcessingInstructionBlock:zt.HTMLBlock,g=n.prevLineEnd();return n.addNode(n.buffer.writeElements(h,-o).finish(p,g-o),o),!0},SetextHeading:void 0};class nwt{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,r,o){if(this.stage==-1)return!1;let a=o.content+`
`+r.scrub(),h=this.advance(a);return h>-1&&h<a.length?this.complete(e,o,h):!1}finish(e,r){return(this.stage==2||this.stage==3)&&rO(r.content,this.pos)==r.content.length?this.complete(e,r,r.content.length):!1}complete(e,r,o){return e.addLeafElement(r,Ge(zt.LinkReference,this.start,this.start+o,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(k6(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(Ge(zt.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(w6(e,rO(e,this.pos),this.start)))return-1}else if(this.stage==2){let r=rO(e,this.pos),o=0;if(r>this.pos){let a=S6(e,r,this.start);if(a){let h=nQ(e,a.to-this.start);h>0&&(this.nextStage(a),o=h)}}return o||(o=nQ(e,this.pos)),o>0&&o<e.length?o:-1}else return nQ(e,this.pos)}}}function nQ(n,e){for(;e<n.length;e++){let r=n.charCodeAt(e);if(r==10)break;if(!Ql(r))return-1}return e}class rwt{nextLine(e,r,o){let a=r.depth<e.stack.length?-1:h6(r),h=r.next;if(a<0)return!1;let f=Ge(zt.HeaderMark,e.lineStart+r.pos,e.lineStart+a);return e.nextLine(),e.addLeafElement(o,Ge(h==61?zt.SetextHeading1:zt.SetextHeading2,o.start,e.prevLineEnd(),[...e.parser.parseInline(o.content,o.start),f])),!0}finish(){return!1}}const p6={LinkReference(n,e){return e.content.charCodeAt(0)==91?new nwt(e):null},SetextHeading(){return new rwt}},swt=[(n,e)=>u6(e)>=0,(n,e)=>o6(e)>=0,(n,e)=>l6(e)>=0,(n,e)=>e5(e,n,!0)>=0,(n,e)=>i5(e,n,!0)>=0,(n,e)=>t5(e,n,!0)>=0,(n,e)=>d6(e,n,!0)>=0],owt={text:"",end:0};class lwt{constructor(e,r,o,a){this.parser=e,this.input=r,this.ranges=a,this.line=new iwt,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=a[a.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=a[0].from,this.block=rP.create(zt.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=o.length?new cwt(o,r):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let o=0;;){let a=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;o<e.markers.length&&(!a||e.markers[o].from<a.end);){let h=e.markers[o++];this.addNode(h.type,h.from,h.to)}if(!a)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;t:for(;;){for(let o of this.parser.blockParsers)if(o){let a=o(this,e);if(a!=!1){if(a==!0)return null;e.forward();continue t}}break}let r=new ewt(this.lineStart+e.pos,e.text.slice(e.pos));for(let o of this.parser.leafBlockParsers)if(o){let a=o(this,r);a&&r.parsers.push(a)}t:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let o of this.parser.endLeafBlock)if(o(this,e,r))break t}for(let o of r.parsers)if(o.nextLine(this,e,r))return null;r.content+=`
`+e.scrub();for(let o of e.markers)r.marks.push(o)}return this.finishLeaf(r),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let r=this.fragments.takeNodes(this);return r?(this.absoluteLineStart+=r,this.lineStart=P6(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let r=owt;if(r.end=e,e>=this.to)r.text="";else if(r.text=this.lineChunkAt(e),r.end+=r.text.length,this.ranges.length>1){let o=this.absoluteLineStart,a=this.rangeI;for(;this.ranges[a].to<r.end;){a++;let h=this.ranges[a].from,f=this.lineChunkAt(h);r.end=h+f.length,r.text=r.text.slice(0,this.ranges[a-1].to-o)+f,o=r.end-r.text.length}}return r}readLine(){let{line:e}=this,{text:r,end:o}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=o,e.reset(r);e.depth<this.stack.length;e.depth++){let a=this.stack[e.depth],h=this.parser.skipContextMarkup[a.type];if(!h)throw new Error("Unhandled block context "+zt[a.type]);if(!h(a,this,e))break;e.forward()}}lineChunkAt(e){let r=this.input.chunk(e),o;if(this.input.lineChunks)o=r==`
`?"":r;else{let a=r.indexOf(`
`);o=a<0?r:r.slice(0,a)}return e+o.length>this.to?o.slice(0,this.to-e):o}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,r,o=0){this.block=rP.create(e,o,this.lineStart+r,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,r,o=0){this.startContext(this.parser.getNodeType(e),r,o)}addNode(e,r,o){typeof e=="number"&&(e=new mi(this.parser.nodeSet.types[e],pg,pg,(o??this.prevLineEnd())-r)),this.block.addChild(e,r-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,r){this.addNode(this.buffer.writeElements(HA(r.children,e.marks),-r.from).finish(r.type,r.to-r.from),r.from)}finishContext(){let e=this.stack.pop(),r=this.stack[this.stack.length-1];r.addChild(e.toTree(this.parser.nodeSet),e.from-r.from),this.block=r}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?m6(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let o of e.parsers)if(o.finish(this,e))return;let r=HA(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(r,-e.start).finish(zt.Paragraph,e.content.length),e.start)}elt(e,r,o,a){return typeof e=="string"?Ge(this.parser.getNodeType(e),r,o,a):new O6(e,r)}get buffer(){return new y6(this.parser.nodeSet)}}function m6(n,e,r,o,a){let h=n[e].to,f=[],p=[],g=r.from+o;function v(x,S){for(;S?x>=h:x>h;){let b=n[e+1].from-h;o+=b,x+=b,e++,h=n[e].to}}for(let x=r.firstChild;x;x=x.nextSibling){v(x.from+o,!0);let S=x.from+o,b,C=a.get(x.tree);C?b=C:x.to+o>h?(b=m6(n,e,x,o,a),v(x.to+o,!1)):b=x.toTree(),f.push(b),p.push(S-g)}return v(r.to+o,!1),new mi(r.type,f,p,r.to+o-g,r.tree?r.tree.propValues:void 0)}class c2 extends bR{constructor(e,r,o,a,h,f,p,g,v){super(),this.nodeSet=e,this.blockParsers=r,this.leafBlockParsers=o,this.blockNames=a,this.endLeafBlock=h,this.skipContextMarkup=f,this.inlineParsers=p,this.inlineNames=g,this.wrappers=v,this.nodeTypes=Object.create(null);for(let x of e.types)this.nodeTypes[x.name]=x.id}createParse(e,r,o){let a=new lwt(this,e,r,o);for(let h of this.wrappers)a=h(a,e,r,o);return a}configure(e){let r=qA(e);if(!r)return this;let{nodeSet:o,skipContextMarkup:a}=this,h=this.blockParsers.slice(),f=this.leafBlockParsers.slice(),p=this.blockNames.slice(),g=this.inlineParsers.slice(),v=this.inlineNames.slice(),x=this.endLeafBlock.slice(),S=this.wrappers;if(ky(r.defineNodes)){a=Object.assign({},a);let b=o.types.slice(),C;for(let j of r.defineNodes){let{name:N,block:E,composite:R,style:$}=typeof j=="string"?{name:j}:j;if(b.some(B=>B.name==N))continue;R&&(a[b.length]=(B,q,K)=>R(q,K,B.value));let V=b.length,D=R?["Block","BlockContext"]:E?V>=zt.ATXHeading1&&V<=zt.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;b.push(hr.define({id:V,name:N,props:D&&[[we.group,D]]})),$&&(C||(C={}),Array.isArray($)||$ instanceof Eo?C[N]=$:Object.assign(C,$))}o=new Av(b),C&&(o=o.extend(ef(C)))}if(ky(r.props)&&(o=o.extend(...r.props)),ky(r.remove))for(let b of r.remove){let C=this.blockNames.indexOf(b),j=this.inlineNames.indexOf(b);C>-1&&(h[C]=f[C]=void 0),j>-1&&(g[j]=void 0)}if(ky(r.parseBlock))for(let b of r.parseBlock){let C=p.indexOf(b.name);if(C>-1)h[C]=b.parse,f[C]=b.leaf;else{let j=b.before?eS(p,b.before):b.after?eS(p,b.after)+1:p.length-1;h.splice(j,0,b.parse),f.splice(j,0,b.leaf),p.splice(j,0,b.name)}b.endLeaf&&x.push(b.endLeaf)}if(ky(r.parseInline))for(let b of r.parseInline){let C=v.indexOf(b.name);if(C>-1)g[C]=b.parse;else{let j=b.before?eS(v,b.before):b.after?eS(v,b.after)+1:v.length-1;g.splice(j,0,b.parse),v.splice(j,0,b.name)}}return r.wrap&&(S=S.concat(r.wrap)),new c2(o,h,f,p,x,a,g,v,S)}getNodeType(e){let r=this.nodeTypes[e];if(r==null)throw new RangeError(`Unknown node type '${e}'`);return r}parseInline(e,r){let o=new uwt(this,e,r);t:for(let a=r;a<o.end;){let h=o.char(a);for(let f of this.inlineParsers)if(f){let p=f(o,h,a);if(p>=0){a=p;continue t}}a++}return o.resolveMarkers(0)}}function ky(n){return n!=null&&n.length>0}function qA(n){if(!Array.isArray(n))return n;if(n.length==0)return null;let e=qA(n[0]);if(n.length==1)return e;let r=qA(n.slice(1));if(!r||!e)return e||r;let o=(f,p)=>(f||pg).concat(p||pg),a=e.wrap,h=r.wrap;return{props:o(e.props,r.props),defineNodes:o(e.defineNodes,r.defineNodes),parseBlock:o(e.parseBlock,r.parseBlock),parseInline:o(e.parseInline,r.parseInline),remove:o(e.remove,r.remove),wrap:a?h?(f,p,g,v)=>a(h(f,p,g,v),p,g,v):a:h}}function eS(n,e){let r=n.indexOf(e);if(r<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return r}let g6=[hr.none];for(let n=1,e;e=zt[n];n++)g6[n]=hr.define({id:n,name:e,props:n>=zt.Escape?[]:[[we.group,n in s6?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const pg=[];let y6=class{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,r,o,a=0){return this.content.push(e,r,o,4+a*4),this}writeElements(e,r=0){for(let o of e)o.writeTo(this,r);return this}finish(e,r){return mi.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:r})}},av=class{constructor(e,r,o,a=pg){this.type=e,this.from=r,this.to=o,this.children=a}writeTo(e,r){let o=e.content.length;e.writeElements(this.children,r),e.content.push(this.type,this.from+r,this.to+r,e.content.length+4-o)}toTree(e){return new y6(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class O6{constructor(e,r){this.tree=e,this.from=r}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return pg}writeTo(e,r){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+r,this.to+r,-1)}toTree(){return this.tree}}function Ge(n,e,r,o){return new av(n,e,r,o)}const v6={resolve:"Emphasis",mark:"EmphasisMark"},x6={resolve:"Emphasis",mark:"EmphasisMark"},tm={},GA={};class pl{constructor(e,r,o,a){this.type=e,this.from=r,this.to=o,this.side=a}}const RX="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let uv=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{uv=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const rQ={Escape(n,e,r){if(e!=92||r==n.end-1)return-1;let o=n.char(r+1);for(let a=0;a<RX.length;a++)if(RX.charCodeAt(a)==o)return n.append(Ge(zt.Escape,r,r+2));return-1},Entity(n,e,r){if(e!=38)return-1;let o=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(n.slice(r+1,r+31));return o?n.append(Ge(zt.Entity,r,r+1+o[0].length)):-1},InlineCode(n,e,r){if(e!=96||r&&n.char(r-1)==96)return-1;let o=r+1;for(;o<n.end&&n.char(o)==96;)o++;let a=o-r,h=0;for(;o<n.end;o++)if(n.char(o)==96){if(h++,h==a&&n.char(o+1)!=96)return n.append(Ge(zt.InlineCode,r,o+1,[Ge(zt.CodeMark,r,r+a),Ge(zt.CodeMark,o+1-a,o+1)]))}else h=0;return-1},HTMLTag(n,e,r){if(e!=60||r==n.end-1)return-1;let o=n.slice(r+1,n.end),a=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(o);if(a)return n.append(Ge(zt.Autolink,r,r+1+a[0].length,[Ge(zt.LinkMark,r,r+1),Ge(zt.URL,r+1,r+a[0].length),Ge(zt.LinkMark,r+a[0].length,r+1+a[0].length)]));let h=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(o);if(h)return n.append(Ge(zt.Comment,r,r+1+h[0].length));let f=/^\?[^]*?\?>/.exec(o);if(f)return n.append(Ge(zt.ProcessingInstruction,r,r+1+f[0].length));let p=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(o);return p?n.append(Ge(zt.HTMLTag,r,r+1+p[0].length)):-1},Emphasis(n,e,r){if(e!=95&&e!=42)return-1;let o=r+1;for(;n.char(o)==e;)o++;let a=n.slice(r-1,r),h=n.slice(o,o+1),f=uv.test(a),p=uv.test(h),g=/\s|^$/.test(a),v=/\s|^$/.test(h),x=!v&&(!p||g||f),S=!g&&(!f||v||p),b=x&&(e==42||!S||f),C=S&&(e==42||!x||p);return n.append(new pl(e==95?v6:x6,r,o,(b?1:0)|(C?2:0)))},HardBreak(n,e,r){if(e==92&&n.char(r+1)==10)return n.append(Ge(zt.HardBreak,r,r+2));if(e==32){let o=r+1;for(;n.char(o)==32;)o++;if(n.char(o)==10&&o>=r+2)return n.append(Ge(zt.HardBreak,r,o+1))}return-1},Link(n,e,r){return e==91?n.append(new pl(tm,r,r+1,1)):-1},Image(n,e,r){return e==33&&n.char(r+1)==91?n.append(new pl(GA,r,r+2,1)):-1},LinkEnd(n,e,r){if(e!=93)return-1;for(let o=n.parts.length-1;o>=0;o--){let a=n.parts[o];if(a instanceof pl&&(a.type==tm||a.type==GA)){if(!a.side||n.skipSpace(a.to)==r&&!/[(\[]/.test(n.slice(r+1,r+2)))return n.parts[o]=null,-1;let h=n.takeContent(o),f=n.parts[o]=awt(n,h,a.type==tm?zt.Link:zt.Image,a.from,r+1);if(a.type==tm)for(let p=0;p<o;p++){let g=n.parts[p];g instanceof pl&&g.type==tm&&(g.side=0)}return f.to}}return-1}};function awt(n,e,r,o,a){let{text:h}=n,f=n.char(a),p=a;if(e.unshift(Ge(zt.LinkMark,o,o+(r==zt.Image?2:1))),e.push(Ge(zt.LinkMark,a-1,a)),f==40){let g=n.skipSpace(a+1),v=w6(h,g-n.offset,n.offset),x;v&&(g=n.skipSpace(v.to),g!=v.to&&(x=S6(h,g-n.offset,n.offset),x&&(g=n.skipSpace(x.to)))),n.char(g)==41&&(e.push(Ge(zt.LinkMark,a,a+1)),p=g+1,v&&e.push(v),x&&e.push(x),e.push(Ge(zt.LinkMark,g,p)))}else if(f==91){let g=k6(h,a-n.offset,n.offset,!1);g&&(e.push(g),p=g.to)}return Ge(r,o,p,e)}function w6(n,e,r){if(n.charCodeAt(e)==60){for(let a=e+1;a<n.length;a++){let h=n.charCodeAt(a);if(h==62)return Ge(zt.URL,e+r,a+1+r);if(h==60||h==10)return!1}return null}else{let a=0,h=e;for(let f=!1;h<n.length;h++){let p=n.charCodeAt(h);if(Ql(p))break;if(f)f=!1;else if(p==40)a++;else if(p==41){if(!a)break;a--}else p==92&&(f=!0)}return h>e?Ge(zt.URL,e+r,h+r):h==n.length?null:!1}}function S6(n,e,r){let o=n.charCodeAt(e);if(o!=39&&o!=34&&o!=40)return!1;let a=o==40?41:o;for(let h=e+1,f=!1;h<n.length;h++){let p=n.charCodeAt(h);if(f)f=!1;else{if(p==a)return Ge(zt.LinkTitle,e+r,h+1+r);p==92&&(f=!0)}}return null}function k6(n,e,r,o){for(let a=!1,h=e+1,f=Math.min(n.length,h+999);h<f;h++){let p=n.charCodeAt(h);if(a)a=!1;else{if(p==93)return o?!1:Ge(zt.LinkLabel,e+r,h+1+r);if(o&&!Ql(p)&&(o=!1),p==91)return!1;p==92&&(a=!0)}}return null}class uwt{constructor(e,r,o){this.parser=e,this.text=r,this.offset=o,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,r){return this.text.slice(e-this.offset,r-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,r,o,a,h){return this.append(new pl(e,r,o,(a?1:0)|(h?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let r=this.parts[e];if(r instanceof pl&&(r.type==tm||r.type==GA))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let o=e;o<this.parts.length;o++){let a=this.parts[o];if(!(a instanceof pl&&a.type.resolve&&a.side&2))continue;let h=a.type==v6||a.type==x6,f=a.to-a.from,p,g=o-1;for(;g>=e;g--){let N=this.parts[g];if(N instanceof pl&&N.side&1&&N.type==a.type&&!(h&&(a.side&1||N.side&2)&&(N.to-N.from+f)%3==0&&((N.to-N.from)%3||f%3))){p=N;break}}if(!p)continue;let v=a.type.resolve,x=[],S=p.from,b=a.to;if(h){let N=Math.min(2,p.to-p.from,f);S=p.to-N,b=a.from+N,v=N==1?"Emphasis":"StrongEmphasis"}p.type.mark&&x.push(this.elt(p.type.mark,S,p.to));for(let N=g+1;N<o;N++)this.parts[N]instanceof av&&x.push(this.parts[N]),this.parts[N]=null;a.type.mark&&x.push(this.elt(a.type.mark,a.from,b));let C=this.elt(v,S,b,x);this.parts[g]=h&&p.from!=S?new pl(p.type,p.from,S,p.side):null,(this.parts[o]=h&&a.to!=b?new pl(a.type,b,a.to,a.side):null)?this.parts.splice(o,0,C):this.parts[o]=C}let r=[];for(let o=e;o<this.parts.length;o++){let a=this.parts[o];a instanceof av&&r.push(a)}return r}findOpeningDelimiter(e){for(let r=this.parts.length-1;r>=0;r--){let o=this.parts[r];if(o instanceof pl&&o.type==e)return r}return null}takeContent(e){let r=this.resolveMarkers(e);return this.parts.length=e,r}skipSpace(e){return rO(this.text,e-this.offset)+this.offset}elt(e,r,o,a){return typeof e=="string"?Ge(this.parser.getNodeType(e),r,o,a):new O6(e,r)}}function HA(n,e){if(!e.length)return n;if(!n.length)return e;let r=n.slice(),o=0;for(let a of e){for(;o<r.length&&r[o].to<a.to;)o++;if(o<r.length&&r[o].from<a.from){let h=r[o];h instanceof av&&(r[o]=new av(h.type,h.from,h.to,HA(h.children,[a])))}else r.splice(o++,0,a)}return r}const hwt=[zt.CodeBlock,zt.ListItem,zt.OrderedList,zt.BulletList];class cwt{constructor(e,r){this.fragments=e,this.input=r,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,r){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let h=this.fragment.to;for(;h>0&&this.input.read(h-1,h)!=`
`;)h--;this.fragmentEnd=h?h-1:0}let o=this.cursor;o||(o=this.cursor=this.fragment.tree.cursor(),o.firstChild());let a=e+this.fragment.offset;for(;o.to<=a;)if(!o.parent())return!1;for(;;){if(o.from>=a)return this.fragment.from<=r;if(!o.childAfter(a))return!1}}matches(e){let r=this.cursor.tree;return r&&r.prop(we.contextHash)==e}takeNodes(e){let r=this.cursor,o=this.fragment.offset,a=this.fragmentEnd-(this.fragment.openEnd?1:0),h=e.absoluteLineStart,f=h,p=e.block.children.length,g=f,v=p;for(;;){if(r.to-o>a){if(r.type.isAnonymous&&r.firstChild())continue;break}let x=P6(r.from-o,e.ranges);if(r.to-o<=e.ranges[e.rangeI].to)e.addNode(r.tree,x);else{let S=new mi(e.parser.nodeSet.types[zt.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(S,r.tree),e.addNode(S,x)}if(r.type.is("Block")&&(hwt.indexOf(r.type.id)<0?(f=r.to-o,p=e.block.children.length):(f=g,p=v,g=r.to-o,v=e.block.children.length)),!r.nextSibling())break}for(;e.block.children.length>p;)e.block.children.pop(),e.block.positions.pop();return f-h}}function P6(n,e){let r=n;for(let o=1;o<e.length;o++){let a=e[o-1].to,h=e[o].from;a<n&&(r-=h-a)}return r}const fwt=ef({"Blockquote/...":W.quote,HorizontalRule:W.contentSeparator,"ATXHeading1/... SetextHeading1/...":W.heading1,"ATXHeading2/... SetextHeading2/...":W.heading2,"ATXHeading3/...":W.heading3,"ATXHeading4/...":W.heading4,"ATXHeading5/...":W.heading5,"ATXHeading6/...":W.heading6,"Comment CommentBlock":W.comment,Escape:W.escape,Entity:W.character,"Emphasis/...":W.emphasis,"StrongEmphasis/...":W.strong,"Link/... Image/...":W.link,"OrderedList/... BulletList/...":W.list,"BlockQuote/...":W.quote,"InlineCode CodeText":W.monospace,"URL Autolink":W.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":W.processingInstruction,"CodeInfo LinkLabel":W.labelName,LinkTitle:W.string,Paragraph:W.content}),dwt=new c2(new Av(g6).extend(fwt),Object.keys(tS).map(n=>tS[n]),Object.keys(tS).map(n=>p6[n]),Object.keys(tS),swt,s6,Object.keys(rQ).map(n=>rQ[n]),Object.keys(rQ),[]);function pwt(n,e,r){let o=[];for(let a=n.firstChild,h=e;;a=a.nextSibling){let f=a?a.from:r;if(f>h&&o.push({from:h,to:f}),!a)break;h=a.to}return o}function mwt(n){let{codeParser:e,htmlParser:r}=n;return{wrap:B9((a,h)=>{let f=a.type.id;if(e&&(f==zt.CodeBlock||f==zt.FencedCode)){let p="";if(f==zt.FencedCode){let v=a.node.getChild(zt.CodeInfo);v&&(p=h.read(v.from,v.to))}let g=e(p);if(g)return{parser:g,overlay:v=>v.type.id==zt.CodeText}}else if(r&&(f==zt.HTMLBlock||f==zt.HTMLTag||f==zt.CommentBlock))return{parser:r,overlay:pwt(a.node,a.from,a.to)};return null})}}const gwt={resolve:"Strikethrough",mark:"StrikethroughMark"},ywt={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":W.strikethrough}},{name:"StrikethroughMark",style:W.processingInstruction}],parseInline:[{name:"Strikethrough",parse(n,e,r){if(e!=126||n.char(r+1)!=126||n.char(r+2)==126)return-1;let o=n.slice(r-1,r),a=n.slice(r+2,r+3),h=/\s|^$/.test(o),f=/\s|^$/.test(a),p=uv.test(o),g=uv.test(a);return n.addDelimiter(gwt,r,r+2,!f&&(!g||h||p),!h&&(!p||f||g))},after:"Emphasis"}]};function sO(n,e,r=0,o,a=0){let h=0,f=!0,p=-1,g=-1,v=!1,x=()=>{o.push(n.elt("TableCell",a+p,a+g,n.parser.parseInline(e.slice(p,g),a+p)))};for(let S=r;S<e.length;S++){let b=e.charCodeAt(S);b==124&&!v?((!f||p>-1)&&h++,f=!1,o&&(p>-1&&x(),o.push(n.elt("TableDelimiter",S+a,S+a+1))),p=g=-1):(v||b!=32&&b!=9)&&(p<0&&(p=S),g=S+1),v=!v&&b==92}return p>-1&&(h++,o&&x()),h}function LX(n,e){for(let r=e;r<n.length;r++){let o=n.charCodeAt(r);if(o==124)return!0;o==92&&r++}return!1}const b6=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class $X{constructor(){this.rows=null}nextLine(e,r,o){if(this.rows==null){this.rows=!1;let a;if((r.next==45||r.next==58||r.next==124)&&b6.test(a=r.text.slice(r.pos))){let h=[];sO(e,o.content,0,h,o.start)==sO(e,a,r.pos)&&(this.rows=[e.elt("TableHeader",o.start,o.start+o.content.length,h),e.elt("TableDelimiter",e.lineStart+r.pos,e.lineStart+r.text.length)])}}else if(this.rows){let a=[];sO(e,r.text,r.pos,a,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+r.pos,e.lineStart+r.text.length,a))}return!1}finish(e,r){return this.rows?(e.addLeafElement(r,e.elt("Table",r.start,r.start+r.content.length,this.rows)),!0):!1}}const Owt={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":W.heading}},"TableRow",{name:"TableCell",style:W.content},{name:"TableDelimiter",style:W.processingInstruction}],parseBlock:[{name:"Table",leaf(n,e){return LX(e.content,0)?new $X:null},endLeaf(n,e,r){if(r.parsers.some(a=>a instanceof $X)||!LX(e.text,e.basePos))return!1;let o=n.peekLine();return b6.test(o)&&sO(n,e.text,e.basePos)==sO(n,o,e.basePos)},before:"SetextHeading"}]};class vwt{nextLine(){return!1}finish(e,r){return e.addLeafElement(r,e.elt("Task",r.start,r.start+r.content.length,[e.elt("TaskMarker",r.start,r.start+3),...e.parser.parseInline(r.content.slice(3),r.start+3)])),!0}}const xwt={defineNodes:[{name:"Task",block:!0,style:W.list},{name:"TaskMarker",style:W.atom}],parseBlock:[{name:"TaskList",leaf(n,e){return/^\[[ xX]\][ \t]/.test(e.content)&&n.parentType().name=="ListItem"?new vwt:null},after:"SetextHeading"}]},DX=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,IX=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,wwt=/[\w-]+\.[\w-]+($|\/)/,FX=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,VX=/\/[a-zA-Z\d@.]+/gy;function zX(n,e,r,o){let a=0;for(let h=e;h<r;h++)n[h]==o&&a++;return a}function Swt(n,e){IX.lastIndex=e;let r=IX.exec(n);if(!r||wwt.exec(r[0])[0].indexOf("_")>-1)return-1;let o=e+r[0].length;for(;;){let a=n[o-1],h;if(/[?!.,:*_~]/.test(a)||a==")"&&zX(n,e,o,")")>zX(n,e,o,"("))o--;else if(a==";"&&(h=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(n.slice(e,o))))o=e+h.index;else break}return o}function XX(n,e){FX.lastIndex=e;let r=FX.exec(n);if(!r)return-1;let o=r[0][r[0].length-1];return o=="_"||o=="-"?-1:e+r[0].length-(o=="."?1:0)}const kwt={parseInline:[{name:"Autolink",parse(n,e,r){let o=r-n.offset;if(o&&/\w/.test(n.text[o-1]))return-1;DX.lastIndex=o;let a=DX.exec(n.text),h=-1;if(!a)return-1;if(a[1]||a[2]){if(h=Swt(n.text,o+a[0].length),h>-1&&n.hasOpenLink){let f=/([^\[\]]|\[[^\]]*\])*/.exec(n.text.slice(o,h));h=o+f[0].length}}else a[3]?h=XX(n.text,o):(h=XX(n.text,o+a[0].length),h>-1&&a[0]=="xmpp:"&&(VX.lastIndex=h,a=VX.exec(n.text),a&&(h=a.index+a[0].length)));return h<0?-1:(n.addElement(n.elt("URL",r,h+n.offset)),h+n.offset)}}]},Pwt=[Owt,xwt,ywt,kwt];function T6(n,e,r){return(o,a,h)=>{if(a!=n||o.char(h+1)==n)return-1;let f=[o.elt(r,h,h+1)];for(let p=h+1;p<o.end;p++){let g=o.char(p);if(g==n)return o.addElement(o.elt(e,h,p+1,f.concat(o.elt(r,p,p+1))));if(g==92&&f.push(o.elt("Escape",p,p+++2)),Ql(g))break}return-1}}const bwt={defineNodes:[{name:"Superscript",style:W.special(W.content)},{name:"SuperscriptMark",style:W.processingInstruction}],parseInline:[{name:"Superscript",parse:T6(94,"Superscript","SuperscriptMark")}]},Twt={defineNodes:[{name:"Subscript",style:W.special(W.content)},{name:"SubscriptMark",style:W.processingInstruction}],parseInline:[{name:"Subscript",parse:T6(126,"Subscript","SubscriptMark")}]},Cwt={defineNodes:[{name:"Emoji",style:W.character}],parseInline:[{name:"Emoji",parse(n,e,r){let o;return e!=58||!(o=/^[a-zA-Z_0-9]+:/.exec(n.slice(r+1,n.end)))?-1:n.addElement(n.elt("Emoji",r,r+1+o[0].length))}}]},C6=TR({commentTokens:{block:{open:"<!--",close:"-->"}}}),M6=new we,Q6=dwt.configure({props:[nf.add(n=>!n.is("Block")||n.is("Document")||KA(n)!=null||Mwt(n)?void 0:(e,r)=>({from:r.doc.lineAt(e.from).to,to:e.to})),M6.add(KA),Rd.add({Document:()=>null}),nd.add({Document:C6})]});function KA(n){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(n.name);return e?+e[1]:void 0}function Mwt(n){return n.name=="OrderedList"||n.name=="BulletList"}function Qwt(n,e){let r=n;for(;;){let o=r.nextSibling,a;if(!o||(a=KA(o.type))!=null&&a<=e)break;r=o}return r.to}const Nwt=q9.of((n,e,r)=>{for(let o=Mi(n).resolveInner(r,-1);o&&!(o.from<e);o=o.parent){let a=o.type.prop(M6);if(a==null)continue;let h=Qwt(o,a);if(h>r)return{from:r,to:h}}return null});function n5(n){return new vl(C6,n,[Nwt],"markdown")}const Awt=n5(Q6),jwt=Q6.configure([Pwt,Twt,bwt,Cwt,{props:[nf.add({Table:(n,e)=>({from:e.doc.lineAt(n.from).to,to:n.to})})]}]),N6=n5(jwt);function Ewt(n,e){return r=>{if(r&&n){let o=null;if(r=/\S*/.exec(r)[0],typeof n=="function"?o=n(r):o=Vk.matchLanguageName(n,r,!0),o instanceof Vk)return o.support?o.support.language.parser:HO.getSkippingParser(o.load());if(o)return o.parser}return e?e.parser:null}}class sQ{constructor(e,r,o,a,h,f,p){this.node=e,this.from=r,this.to=o,this.spaceBefore=a,this.spaceAfter=h,this.type=f,this.item=p}blank(e,r=!0){let o=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;o.length<e;)o+=" ";return o}else{for(let a=this.to-this.from-o.length-this.spaceAfter.length;a>0;a--)o+=" ";return o+(r?this.spaceAfter:"")}}marker(e,r){let o=this.node.name=="OrderedList"?String(+j6(this.item,e)[2]+r):"";return this.spaceBefore+o+this.type+this.spaceAfter}}function A6(n,e){let r=[],o=[];for(let a=n;a;a=a.parent){if(a.name=="FencedCode")return o;(a.name=="ListItem"||a.name=="Blockquote")&&r.push(a)}for(let a=r.length-1;a>=0;a--){let h=r[a],f,p=e.lineAt(h.from),g=h.from-p.from;if(h.name=="Blockquote"&&(f=/^ *>( ?)/.exec(p.text.slice(g))))o.push(new sQ(h,g,g+f[0].length,"",f[1],">",null));else if(h.name=="ListItem"&&h.parent.name=="OrderedList"&&(f=/^( *)\d+([.)])( *)/.exec(p.text.slice(g)))){let v=f[3],x=f[0].length;v.length>=4&&(v=v.slice(0,v.length-4),x-=4),o.push(new sQ(h.parent,g,g+x,f[1],v,f[2],h))}else if(h.name=="ListItem"&&h.parent.name=="BulletList"&&(f=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(p.text.slice(g)))){let v=f[4],x=f[0].length;v.length>4&&(v=v.slice(0,v.length-4),x-=4);let S=f[2];f[3]&&(S+=f[3].replace(/[xX]/," ")),o.push(new sQ(h.parent,g,g+x,f[1],v,S,h))}}return o}function j6(n,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(n.from,n.from+10))}function oQ(n,e,r,o=0){for(let a=-1,h=n;;){if(h.name=="ListItem"){let p=j6(h,e),g=+p[2];if(a>=0){if(g!=a+1)return;r.push({from:h.from+p[1].length,to:h.from+p[0].length,insert:String(a+2+o)})}a=g}let f=h.nextSibling;if(!f)break;h=f}}function r5(n,e){let r=/^[ \t]*/.exec(n)[0].length;if(!r||e.facet(Ng)!="	")return n;let o=oa(n,4,r),a="";for(let h=o;h>0;)h>=4?(a+="	",h-=4):(a+=" ",h--);return a+n.slice(r)}const Rwt=({state:n,dispatch:e})=>{let r=Mi(n),{doc:o}=n,a=null,h=n.changeByRange(f=>{if(!f.empty||!N6.isActiveAt(n,f.from,0))return a={range:f};let p=f.from,g=o.lineAt(p),v=A6(r.resolveInner(p,-1),o);for(;v.length&&v[v.length-1].from>p-g.from;)v.pop();if(!v.length)return a={range:f};let x=v[v.length-1];if(x.to-x.spaceAfter.length>p-g.from)return a={range:f};let S=p>=x.to-x.spaceAfter.length&&!/\S/.test(g.text.slice(x.to));if(x.item&&S){let E=x.node.firstChild,R=x.node.getChild("ListItem","ListItem");if(E.to>=p||R&&R.to<p||g.from>0&&!/[^\s>]/.test(o.lineAt(g.from-1).text)){let $=v.length>1?v[v.length-2]:null,V,D="";$&&$.item?(V=g.from+$.from,D=$.marker(o,1)):V=g.from+($?$.to:0);let B=[{from:V,to:p,insert:D}];return x.node.name=="OrderedList"&&oQ(x.item,o,B,-2),$&&$.node.name=="OrderedList"&&oQ($.item,o,B),{range:Ct.cursor(V+D.length),changes:B}}else{let $=_X(v,n,g);return{range:Ct.cursor(p+$.length+1),changes:{from:g.from,insert:$+n.lineBreak}}}}if(x.node.name=="Blockquote"&&S&&g.from){let E=o.lineAt(g.from-1),R=/>\s*$/.exec(E.text);if(R&&R.index==x.from){let $=n.changes([{from:E.from+R.index,to:E.to},{from:g.from+x.from,to:g.to}]);return{range:f.map($),changes:$}}}let b=[];x.node.name=="OrderedList"&&oQ(x.item,o,b);let C=x.item&&x.item.from<g.from,j="";if(!C||/^[\s\d.)\-+*>]*/.exec(g.text)[0].length>=x.to)for(let E=0,R=v.length-1;E<=R;E++)j+=E==R&&!C?v[E].marker(o,1):v[E].blank(E<R?oa(g.text,4,v[E+1].from)-j.length:null);let N=p;for(;N>g.from&&/\s/.test(g.text.charAt(N-g.from-1));)N--;return j=r5(j,n),Lwt(x.node,n.doc)&&(j=_X(v,n,g)+n.lineBreak+j),b.push({from:N,to:p,insert:n.lineBreak+j}),{range:Ct.cursor(N+j.length+1),changes:b}});return a?!1:(e(n.update(h,{scrollIntoView:!0,userEvent:"input"})),!0)};function BX(n){return n.name=="QuoteMark"||n.name=="ListMark"}function Lwt(n,e){if(n.name!="OrderedList"&&n.name!="BulletList")return!1;let r=n.firstChild,o=n.getChild("ListItem","ListItem");if(!o)return!1;let a=e.lineAt(r.to),h=e.lineAt(o.from),f=/^[\s>]*$/.test(a.text);return a.number+(f?0:1)<h.number}function _X(n,e,r){let o="";for(let a=0,h=n.length-2;a<=h;a++)o+=n[a].blank(a<h?oa(r.text,4,Math.min(r.text.length,n[a+1].from))-o.length:null,a<h);return r5(o,e)}function $wt(n,e){let r=n.resolveInner(e,-1),o=e;BX(r)&&(o=r.from,r=r.parent);for(let a;a=r.childBefore(o);)if(BX(a))o=a.from;else if(a.name=="OrderedList"||a.name=="BulletList")r=a.lastChild,o=r.to;else break;return r}const Dwt=({state:n,dispatch:e})=>{let r=Mi(n),o=null,a=n.changeByRange(h=>{let f=h.from,{doc:p}=n;if(h.empty&&N6.isActiveAt(n,h.from)){let g=p.lineAt(f),v=A6($wt(r,f),p);if(v.length){let x=v[v.length-1],S=x.to-x.spaceAfter.length+(x.spaceAfter?1:0);if(f-g.from>S&&!/\S/.test(g.text.slice(S,f-g.from)))return{range:Ct.cursor(g.from+S),changes:{from:g.from+S,to:f}};if(f-g.from==S&&(!x.item||g.from<=x.item.from||!/\S/.test(g.text.slice(0,x.to)))){let b=g.from+x.from;if(x.item&&x.node.from<x.item.from&&/\S/.test(g.text.slice(x.from,x.to))){let C=x.blank(oa(g.text,4,x.to)-oa(g.text,4,x.from));return b==g.from&&(C=r5(C,n)),{range:Ct.cursor(b+C.length),changes:{from:b,to:g.from+x.to,insert:C}}}if(b<f)return{range:Ct.cursor(b),changes:{from:b,to:f}}}}}return o={range:h}});return o?!1:(e(n.update(a,{scrollIntoView:!0,userEvent:"delete"})),!0)},Iwt=[{key:"Enter",run:Rwt},{key:"Backspace",run:Dwt}],E6=r6({matchClosingTags:!1});function Fwt(n={}){let{codeLanguages:e,defaultCodeLanguage:r,addKeymap:o=!0,base:{parser:a}=Awt,completeHTMLTags:h=!0,htmlTagLanguage:f=E6}=n;if(!(a instanceof c2))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let p=n.extensions?[n.extensions]:[],g=[f.support],v;r instanceof Cd?(g.push(r.support),v=r.language):r&&(v=r);let x=e||v?Ewt(e,v):void 0;p.push(mwt({codeParser:x,htmlParser:f.language.parser})),o&&g.push(Ph.high(Qg.of(Iwt)));let S=n5(a.configure(p));return h&&g.push(S.data.of({autocomplete:Vwt})),new Cd(S,g)}function Vwt(n){let{state:e,pos:r}=n,o=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(r-25,r));if(!o)return null;let a=Mi(e).resolveInner(r,-1);for(;a&&!a.type.isTop;){if(a.name=="CodeBlock"||a.name=="FencedCode"||a.name=="ProcessingInstructionBlock"||a.name=="CommentBlock"||a.name=="Link"||a.name=="Image")return null;a=a.parent}return{from:r-o[0].length,to:r,options:zwt(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let lQ=null;function zwt(){if(lQ)return lQ;let n=U1t(new IR(Ye.create({extensions:E6}),0,!0));return lQ=n?n.options:[]}var Xwt=n=>{var{theme:e,settings:r={},styles:o=[]}=n,a={".cm-gutters":{}},h={};r.background&&(h.backgroundColor=r.background),r.backgroundImage&&(h.backgroundImage=r.backgroundImage),r.foreground&&(h.color=r.foreground),r.fontSize&&(h.fontSize=r.fontSize),(r.background||r.foreground)&&(a["&"]=h),r.fontFamily&&(a["&.cm-editor .cm-scroller"]={fontFamily:r.fontFamily}),r.gutterBackground&&(a[".cm-gutters"].backgroundColor=r.gutterBackground),r.gutterForeground&&(a[".cm-gutters"].color=r.gutterForeground),r.gutterBorder&&(a[".cm-gutters"].borderRightColor=r.gutterBorder),r.caret&&(a[".cm-content"]={caretColor:r.caret},a[".cm-cursor, .cm-dropCursor"]={borderLeftColor:r.caret});var f={};r.gutterActiveForeground&&(f.color=r.gutterActiveForeground),r.lineHighlight&&(a[".cm-activeLine"]={backgroundColor:r.lineHighlight},f.backgroundColor=r.lineHighlight),a[".cm-activeLineGutter"]=f,r.selection&&(a["&.cm-focused .cm-selectionBackground, & .cm-line::selection, & .cm-selectionLayer .cm-selectionBackground, .cm-content ::selection"]={background:r.selection+" !important"}),r.selectionMatch&&(a["& .cm-selectionMatch"]={backgroundColor:r.selectionMatch});var p=Yt.theme(a,{dark:e==="dark"}),g=Ag.define(o),v=[p,NR(g)];return v};const Bwt={r:"R",python:"Python",sas:"SAS"},_wt={r:[/<-/,/function\s*\(/,/library\(/,/data\.frame\(/,/%>%/],python:[/def\s+\w+\s*\(/,/import\s+\w+/,/from\s+\w+\s+import/,/print\s*\(/,/if\s+\w+:/,/for\s+\w+\s+in/],sas:[/data\s+\w+;/,/proc\s+\w+;/,/input\s+/,/set\s+\w+;/,/run;/]},Zwt=n=>{var a;const e={r:0,python:0,sas:0};Object.entries(_wt).forEach(([h,f])=>{f.forEach(p=>{p.test(n)&&e[h]++})});const r=Math.max(...Object.values(e));return r===0?null:(a=Object.entries(e).find(([h,f])=>f===r))==null?void 0:a[0]},Nd=({title:n,code:e,language:r="javascript",editable:o=!1,onCodeChange:a,onCopy:h,onLanguageChange:f,onDetectedLanguageChange:p,className:g="",sourceLanguage:v})=>{const[x,S]=Z.useState(e),[b,C]=Z.useState(!1),[j,N]=Z.useState(!1),[E,R]=Z.useState(null);Z.useEffect(()=>{S(e)},[e]),Z.useEffect(()=>{if(b){const B=setTimeout(()=>C(!1),2e3);return()=>clearTimeout(B)}},[b]),Z.useEffect(()=>{const B=Zwt(x);B&&B!==E&&(R(B),p==null||p(B))},[x,p]);const $=()=>{navigator.clipboard.writeText(x),C(!0),h&&h()},V={javascript:BA({jsx:!0}),js:BA({jsx:!0}),python:dX(),py:dX(),html:r6(),css:qq(),json:twt(),markdown:Fwt()},D=Xwt({theme:"dark",settings:{background:"transparent",foreground:"rgba(255,255,255,0.85)",caret:"#fff",selection:"rgba(255,255,255,0.2)",selectionMatch:"rgba(255,255,255,0.2)",lineHighlight:"rgba(255,255,255,0.05)"},styles:[{tag:W.keyword,color:"#ff79c6"},{tag:W.operator,color:"#ff79c6"},{tag:W.operatorKeyword,color:"#ff79c6"},{tag:W.atom,color:"#bd93f9"},{tag:W.number,color:"#bd93f9"},{tag:W.string,color:"#f1fa8c"},{tag:W.special(W.string),color:"#f1fa8c"},{tag:W.comment,color:"#6272a4"},{tag:W.variableName,color:"#f8f8f2"},{tag:W.special(W.variableName),color:"#ff79c6"},{tag:W.definition(W.variableName),color:"#50fa7b"},{tag:W.function(W.variableName),color:"#50fa7b"},{tag:W.propertyName,color:"#8be9fd"},{tag:W.typeName,color:"#8be9fd"},{tag:W.className,color:"#8be9fd"},{tag:W.labelName,color:"#8be9fd"},{tag:W.namespace,color:"#8be9fd"},{tag:W.macroName,color:"#ff79c6"},{tag:W.modifier,color:"#ff79c6"},{tag:W.definition(W.variableName),color:"#ff79c6"},{tag:W.tagName,color:"#ff79c6"},{tag:W.attributeName,color:"#8be9fd"},{tag:W.attributeValue,color:"#f1fa8c"},{tag:W.bracket,color:"#f8f8f2"},{tag:W.meta,color:"#6272a4"},{tag:W.invalid,color:"#ff5555"}]});return Q.jsxs("div",{className:`glass-editor-container ${g}`,children:[Q.jsx("style",{children:`
        .glass-editor-container {
          backdrop-filter: blur(10px);
          background-color: rgba(15, 15, 30, 0.3);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 8px;
          box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
          display: flex;
          flex-direction: column;
          height: 100%;
          overflow: hidden;
          transition: all 0.3s ease;
        }
        .glass-editor-container:hover {
          box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
          border-color: rgba(255, 255, 255, 0.15);
          background-color: rgba(15, 15, 30, 0.35);
        }
        .glass-editor-header {
          background-color: rgba(255, 255, 255, 0.03);
          border-bottom: 1px solid rgba(255, 255, 255, 0.07);
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 12px 16px;
          backdrop-filter: blur(12px);
          flex-shrink: 0;
        }
        .glass-editor-title {
          color: rgba(255, 255, 255, 0.85);
          font-size: 14px;
          font-weight: 500;
        }
        .glass-editor-actions {
          display: flex;
          align-items: center;
          gap: 8px;
        }
        .glass-editor-language-btn {
          display: flex;
          align-items: center;
          gap: 4px;
          background-color: rgba(255, 255, 255, 0.07);
          border: none;
          border-radius: 6px;
          color: rgba(255, 255, 255, 0.85);
          cursor: pointer;
          font-size: 13px;
          padding: 6px 10px;
          transition: all 0.2s ease;
        }
        .glass-editor-language-btn:hover {
          background-color: rgba(255, 255, 255, 0.12);
        }
        .glass-editor-copy-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          background-color: rgba(255, 255, 255, 0.07);
          border: none;
          border-radius: 9999px;
          cursor: pointer;
          width: 32px;
          height: 32px;
          transition: all 0.2s ease;
        }
        .glass-editor-copy-btn:hover {
          background-color: rgba(255, 255, 255, 0.12);
          transform: translateY(-1px);
        }
        .glass-editor-copy-icon,
        .glass-editor-success-icon {
          width: 16px;
          height: 16px;
        }
        .glass-editor-success-icon {
          color: #4ade80;
        }
        .glass-editor-content {
          position: relative;
          flex: 1;
          min-height: 0;
          overflow: hidden;
        }
        .glass-editor-instance {
          height: 100%;
        }
        .glass-editor-instance .cm-editor {
          background: transparent !important;
          height: 100% !important;
        }
        .glass-editor-instance .cm-scroller {
          background-color: rgba(0, 0, 0, 0.15) !important;
          overflow: auto !important;
        }
        .glass-editor-instance .cm-gutters {
          background: rgba(0, 0, 0, 0.2) !important;
          border-right: 1px solid rgba(255, 255, 255, 0.1);
          color: rgba(255, 255, 255, 0.4);
        }
        .glass-editor-instance .cm-cursor {
          border-left: 2px solid rgba(255,255,255,0.8) !important;
        }
        .glass-editor-instance .cm-selectionBackground {
          background: rgba(255,255,255,0.2) !important;
        }
        .glass-editor-instance .cm-activeLine {
          background: rgba(255,255,255,0.05) !important;
        }
        /* Glassmorphic dropdown styles */
        [data-radix-popper-content-wrapper] {
          backdrop-filter: blur(10px) !important;
          background-color: rgba(15, 15, 30, 0.95) !important;
          border: 1px solid rgba(255, 255, 255, 0.1) !important;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2) !important;
        }
        [data-radix-popper-content-wrapper] [role="menuitem"] {
          color: rgba(255, 255, 255, 0.85) !important;
          transition: all 0.2s ease !important;
        }
        [data-radix-popper-content-wrapper] [role="menuitem"]:hover {
          background-color: rgba(255, 255, 255, 0.1) !important;
        }
      `}),Q.jsxs("div",{className:"glass-editor-header",children:[Q.jsxs("h3",{className:"glass-editor-title",children:[n,E&&Q.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(Detected: ",Bwt[E],")"]})]}),Q.jsx("div",{className:"glass-editor-actions",children:Q.jsx("button",{onClick:$,className:"glass-editor-copy-btn",title:"Copy code",children:b?Q.jsx(Ztt,{className:"glass-editor-success-icon"}):Q.jsx(qtt,{className:"glass-editor-copy-icon"})})})]}),Q.jsx("div",{className:"glass-editor-content",children:Q.jsx(cq,{value:x,editable:o,height:"100%",extensions:[V[r]||V.javascript],onChange:B=>{S(B),a&&a(B)},theme:D,onFocus:()=>N(!0),onBlur:()=>N(!1),basicSetup:{lineNumbers:!0,highlightActiveLineGutter:!0,foldGutter:!0,dropCursor:!0,allowMultipleSelections:!0,indentOnInput:!0,bracketMatching:!0,closeBrackets:!0,autocompletion:!0,rectangularSelection:!0,highlightActiveLine:!0,highlightSelectionMatches:!0,searchKeymap:!0},className:"glass-editor-instance"})})]})},vr=({children:n,onClick:e,disabled:r=!1,className:o="",size:a="md",variant:h="primary",borderColor:f="#4ade80",startIcon:p,endIcon:g,fullWidth:v=!1})=>{const[x,S]=Z.useState(!1),b={sm:{padding:"0.25rem 0.75rem",fontSize:"0.875rem"},md:{padding:"0.5rem 1rem",fontSize:"1rem"},lg:{padding:"0.75rem 1.5rem",fontSize:"1.125rem"}},C={primary:{backgroundColor:"rgba(15, 15, 30, 0.25)"},secondary:{backgroundColor:"rgba(15, 15, 30, 0.15)"},ghost:{backgroundColor:"rgba(15, 15, 30, 0.05)"}},j={position:"relative",display:"inline-block",borderRadius:"8px",width:v?"100%":"auto"},N={backdropFilter:"blur(10px)",backgroundColor:C[h].backgroundColor,border:`2px solid ${x&&!r?f:"rgba(255, 255, 255, 0.1)"}`,borderRadius:"8px",color:"rgba(255, 255, 255, 0.85)",cursor:r?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:500,gap:"8px",transition:"all 0.3s ease",position:"relative",width:v?"100%":"auto",opacity:r?.5:1,...b[a],...x&&!r?{boxShadow:"0 5px 15px rgba(0, 0, 0, 0.2)",transform:"translateY(-1px)"}:{}};return Q.jsx("div",{style:j,className:v?"w-full":"",children:Q.jsxs("button",{style:N,className:o,onClick:e,disabled:r,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),type:"button",children:[p&&Q.jsx("span",{className:"button-start-icon",children:p}),n,g&&Q.jsx("span",{className:"button-end-icon",children:g})]})})},Ywt=({onAnalyze:n,onOptimize:e,onConvert:r,onDocument:o,isAnalyzing:a,isOptimizing:h,isConverting:f,isDocumenting:p,code:g,sourceLanguage:v})=>{const x=v&&["python","r","sas"].includes(v),S=a||h||f||p;return Q.jsxs("div",{className:"mt-3 sm:mt-4 px-2 sm:px-0",children:[Q.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:hidden",children:[Q.jsx(vr,{variant:"secondary",onClick:n,disabled:S||!g,borderColor:"#9388A2",className:"w-full min-h-12 text-sm",children:a?Q.jsxs("span",{className:"flex items-center justify-center",children:[Q.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),Q.jsx("span",{className:"truncate",children:"Analyzing"})]}):Q.jsxs("span",{className:"flex items-center justify-center",children:[Q.jsx(ZF,{className:"h-4 w-4 mr-1"}),Q.jsx("span",{className:"truncate",children:"Analyze"})]})}),Q.jsx(vr,{onClick:e,disabled:S||!g,borderColor:"#9388A2",className:"w-full min-h-12 text-sm",children:h?Q.jsxs("span",{className:"flex items-center justify-center",children:[Q.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),Q.jsx("span",{className:"truncate",children:"Optimizing"})]}):Q.jsxs("span",{className:"flex items-center justify-center",children:[Q.jsx(pk,{className:"h-4 w-4 mr-1"}),Q.jsx("span",{className:"truncate",children:"Optimize"})]})}),Q.jsxs("div",{className:"relative",children:[Q.jsx(vr,{onClick:r,disabled:S||!g||!x,borderColor:"#9388A2",className:`w-full min-h-12 text-sm ${!x&&g?"opacity-60":""}`,children:f?Q.jsxs("span",{className:"flex items-center justify-center",children:[Q.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),Q.jsx("span",{className:"truncate",children:"Converting"})]}):Q.jsxs("span",{className:"flex items-center justify-center",children:[Q.jsx(Rc,{className:"h-4 w-4 mr-1"}),Q.jsx("span",{className:"truncate",children:"Convert"})]})}),!x&&g&&Q.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity z-10 whitespace-nowrap",children:"Only Python, R, and SAS are supported"})]}),Q.jsx(vr,{onClick:o,disabled:S||!g,borderColor:"#9388A2",className:"w-full min-h-12 text-sm",children:p?Q.jsxs("span",{className:"flex items-center justify-center",children:[Q.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),Q.jsx("span",{className:"truncate",children:"Documenting"})]}):Q.jsxs("span",{className:"flex items-center justify-center",children:[Q.jsx(xd,{className:"h-4 w-4 mr-1"}),Q.jsx("span",{className:"truncate",children:"Document"})]})})]}),Q.jsxs("div",{className:"hidden sm:flex justify-center gap-2 md:gap-3 lg:gap-4 flex-wrap",children:[Q.jsx(vr,{variant:"secondary",onClick:n,disabled:S||!g,borderColor:"#9388A2",className:"min-w-24 md:min-w-28",children:a?Q.jsxs("span",{className:"flex items-center",children:[Q.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),"Analyzing"]}):Q.jsxs(Q.Fragment,{children:[Q.jsx(ZF,{className:"h-4 w-4 mr-1"}),"Analyze"]})}),Q.jsx(vr,{onClick:e,disabled:S||!g,borderColor:"#9388A2",className:"min-w-24 md:min-w-28",children:h?Q.jsxs("span",{className:"flex items-center",children:[Q.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),"Optimizing"]}):Q.jsxs(Q.Fragment,{children:[Q.jsx(pk,{className:"h-4 w-4 mr-1"}),"Optimize"]})}),Q.jsxs("div",{className:"relative group",children:[Q.jsx(vr,{onClick:r,disabled:S||!g||!x,borderColor:"#9388A2",className:`min-w-24 md:min-w-28 ${!x&&g?"opacity-60":""}`,children:f?Q.jsxs("span",{className:"flex items-center",children:[Q.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),"Converting"]}):Q.jsxs(Q.Fragment,{children:[Q.jsx(Rc,{className:"h-4 w-4 mr-1"}),"Convert"]})}),!x&&g&&Q.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity z-10 whitespace-nowrap border border-gray-700",children:["Only Python, R, and SAS are supported for conversion",Q.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]}),Q.jsx(vr,{onClick:o,disabled:S||!g,borderColor:"#9388A2",className:"min-w-24 md:min-w-28",children:p?Q.jsxs("span",{className:"flex items-center",children:[Q.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),"Documenting"]}):Q.jsxs(Q.Fragment,{children:[Q.jsx(xd,{className:"h-4 w-4 mr-1"}),"Document"]})})]})]})},Uwt=({code:n,onCodeChange:e,onAnalyze:r,onOptimize:o,onConvert:a,onDocument:h,isAnalyzing:f,isOptimizing:p,isConverting:g,isDocumenting:v,analysisResults:x,optimizationResults:S,convertResult:b,documentResult:C,selectedLanguage:j,onLanguageChange:N,activeView:E,setActiveView:R,sourceLanguage:$,onSourceLanguageChange:V,onDetectedLanguageChange:D,onResetResults:B})=>(Z.useEffect(()=>{!x&&!S&&!b&&!C&&B()},[n,B,x,S,b,C]),Q.jsxs("div",{className:"flex flex-col h-full",children:[Q.jsx("div",{className:"mb-4",children:Q.jsx(Ywt,{onAnalyze:r,onOptimize:o,onConvert:a,onDocument:h,isAnalyzing:f,isOptimizing:p,isConverting:g,isDocumenting:v,code:n,sourceLanguage:$})}),Q.jsx("div",{className:"flex-1 min-h-[60vh] lg:min-h-[70vh]",children:Q.jsx(Nd,{title:"",code:n,editable:!0,onCodeChange:e,className:"h-full w-full min-h-[500px] lg:min-h-[600px] rounded-lg border border-gray-700",language:$,sourceLanguage:$,onLanguageChange:V,onDetectedLanguageChange:D})})]})),Wwt=({code:n,onCodeChange:e,onAnalyze:r,onOptimize:o,onConvert:a,onDocument:h,isAnalyzing:f,isOptimizing:p,isConverting:g,isDocumenting:v,analysisResults:x,optimizationResults:S,convertResult:b,documentResult:C,selectedLanguage:j,onLanguageChange:N,activeView:E,setActiveView:R,sourceLanguage:$,onSourceLanguageChange:V,onDetectedLanguageChange:D,onResetResults:B})=>Q.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 py-8",children:Q.jsx("div",{className:"grid grid-cols-1 gap-8",children:Q.jsx("div",{className:"w-full",children:Q.jsx(Uwt,{code:n,onCodeChange:e,onAnalyze:r,onOptimize:o,onConvert:a,onDocument:h,isAnalyzing:f,isOptimizing:p,isConverting:g,isDocumenting:v,analysisResults:x,optimizationResults:S,convertResult:b,documentResult:C,selectedLanguage:j,onLanguageChange:N,activeView:E,setActiveView:R,sourceLanguage:$,onSourceLanguageChange:V,onDetectedLanguageChange:D,onResetResults:B})})})}),s5=({isOpen:n,onClose:e,onConvert:r,sourceLanguage:o,isConverting:a,selectedLanguage:h,onLanguageSelect:f})=>{const g=[{id:"python",name:"Python",icon:zF,gradient:"from-blue-500 to-blue-600",iconColor:"text-blue-400"},{id:"r",name:"R",icon:Btt,gradient:"from-green-500 to-green-600",iconColor:"text-green-400"},{id:"sas",name:"SAS",icon:XF,gradient:"from-purple-500 to-purple-600",iconColor:"text-purple-400"}].filter(x=>x.id!==o),v=()=>{h&&h!==o&&r(h)};return n?Q.jsxs(Q.Fragment,{children:[Q.jsx("style",{children:`
        .glass-modal-overlay {
          backdrop-filter: blur(8px);
          background: rgba(0, 0, 0, 0.6);
        }
        
        .glass-modal-container {
          backdrop-filter: blur(20px);
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.1) 0%, 
            rgba(255, 255, 255, 0.05) 100%);
          border: 1px solid rgba(255, 255, 255, 0.2);
          box-shadow: 
            0 25px 45px rgba(0, 0, 0, 0.4),
            inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }
        
        .glass-modal-close-btn {
          backdrop-filter: blur(10px);
          background: rgba(255, 255, 255, 0.1);
          border: 1px solid rgba(255, 255, 255, 0.2);
          transition: all 0.3s ease;
        }
        
        .glass-modal-close-btn:hover {
          background: rgba(255, 255, 255, 0.2);
          transform: translateY(-1px);
        }
        
        .glass-language-card {
          backdrop-filter: blur(10px);
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.1) 0%, 
            rgba(255, 255, 255, 0.05) 100%);
          border: 1px solid rgba(255, 255, 255, 0.2);
          transition: all 0.3s ease;
        }
        
        .glass-language-card:hover {
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.15) 0%, 
            rgba(255, 255, 255, 0.08) 100%);
          border-color: rgba(255, 255, 255, 0.3);
          transform: translateY(-2px);
          box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        .glass-language-card.selected {
          background: linear-gradient(135deg, 
            rgba(59, 130, 246, 0.2) 0%, 
            rgba(37, 99, 235, 0.1) 100%);
          border-color: rgba(59, 130, 246, 0.6);
          box-shadow: 
            0 0 20px rgba(59, 130, 246, 0.3),
            0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        .glass-icon-container {
          backdrop-filter: blur(8px);
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.15) 0%, 
            rgba(255, 255, 255, 0.05) 100%);
          border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .glass-source-display {
          backdrop-filter: blur(10px);
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.08) 0%, 
            rgba(255, 255, 255, 0.03) 100%);
          border: 1px solid rgba(255, 255, 255, 0.15);
        }
        
        .glass-button {
          backdrop-filter: blur(10px);
          transition: all 0.3s ease;
        }
        
        .glass-button-cancel {
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.1) 0%, 
            rgba(255, 255, 255, 0.05) 100%);
          border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .glass-button-cancel:hover {
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.15) 0%, 
            rgba(255, 255, 255, 0.08) 100%);
          transform: translateY(-1px);
        }
        
        .glass-button-convert {
          background: linear-gradient(135deg, 
            rgba(59, 130, 246, 0.8) 0%, 
            rgba(37, 99, 235, 0.9) 100%);
          border: 1px solid rgba(59, 130, 246, 0.5);
          box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }
        
        .glass-button-convert:hover:not(:disabled) {
          background: linear-gradient(135deg, 
            rgba(59, 130, 246, 0.9) 0%, 
            rgba(37, 99, 235, 1) 100%);
          transform: translateY(-1px);
          box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
        }
        
        .glass-button-convert:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }
        
        .glass-selection-indicator {
          background: linear-gradient(135deg, 
            rgba(59, 130, 246, 1) 0%, 
            rgba(37, 99, 235, 1) 100%);
          box-shadow: 0 0 10px rgba(59, 130, 246, 0.6);
        }
      `}),Q.jsx("div",{className:"fixed inset-0 glass-modal-overlay flex items-center justify-center z-50",children:Q.jsxs("div",{className:"glass-modal-container rounded-2xl p-8 w-full max-w-md mx-4 relative",children:[Q.jsx("button",{onClick:e,className:"absolute top-4 right-4 glass-modal-close-btn rounded-full p-2",disabled:a,"aria-label":"Close modal",children:Q.jsx(QP,{className:"w-5 h-5 text-white"})}),Q.jsxs("div",{className:"mb-8",children:[Q.jsxs("h2",{className:"text-2xl font-bold mb-3 flex items-center gap-3 text-white",children:[Q.jsx("div",{className:"glass-icon-container rounded-xl p-2",children:Q.jsx(KZ,{className:"w-6 h-6 text-blue-400"})}),"Convert Code"]}),Q.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:"Transform your code into a different programming language while maintaining functionality and structure."})]}),Q.jsxs("div",{className:"mb-6 glass-source-display rounded-xl p-4",children:[Q.jsx("div",{className:"text-sm text-gray-400 mb-2 font-medium",children:"From:"}),Q.jsx("div",{className:"font-semibold text-white text-lg",children:o==="r"?"R":o.charAt(0).toUpperCase()+o.slice(1)})]}),Q.jsx("div",{className:"flex justify-center mb-6",children:Q.jsx("div",{className:"glass-icon-container rounded-full p-3",children:Q.jsx(fk,{className:"w-6 h-6 text-gray-300"})})}),Q.jsxs("div",{className:"mb-8",children:[Q.jsx("div",{className:"text-sm text-gray-400 mb-4 font-medium",children:"To:"}),Q.jsx("div",{className:"space-y-3",children:g.length>0?g.map(x=>{const S=x.icon;return Q.jsxs("button",{onClick:()=>f(x.id),disabled:a,className:`w-full p-4 rounded-xl glass-language-card flex items-center gap-4 ${h===x.id?"selected":""} ${a?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[Q.jsx("div",{className:"glass-icon-container w-12 h-12 rounded-xl flex items-center justify-center",children:Q.jsx(S,{className:`w-6 h-6 ${x.iconColor}`})}),Q.jsx("span",{className:"font-semibold text-white text-lg flex-1 text-left",children:x.name}),h===x.id&&Q.jsx("div",{className:"glass-selection-indicator w-3 h-3 rounded-full"})]},x.id)}):Q.jsxs("div",{className:"text-center text-gray-400 py-8 glass-source-display rounded-xl",children:[Q.jsx(XF,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),Q.jsx("p",{children:"No other languages available for conversion"})]})})]}),Q.jsxs("div",{className:"flex gap-4",children:[Q.jsx("button",{onClick:e,disabled:a,className:"flex-1 px-6 py-3 glass-button glass-button-cancel rounded-xl font-semibold text-white",children:"Cancel"}),Q.jsx("button",{onClick:v,disabled:!h||a,className:"flex-1 px-6 py-3 glass-button glass-button-convert rounded-xl font-semibold text-white flex items-center justify-center gap-2",children:a?Q.jsxs(Q.Fragment,{children:[Q.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Converting..."]}):Q.jsxs(Q.Fragment,{children:[Q.jsx(zF,{className:"w-5 h-5"}),"Convert"]})})]})]})})]}):null},qwt=({isVisible:n,onDismiss:e,detectedLanguage:r})=>n?Q.jsx("div",{className:"bg-yellow-900/50 border border-yellow-600 rounded-lg p-3 mb-4",children:Q.jsxs("div",{className:"flex items-start gap-3",children:[Q.jsx(Jj,{className:"w-5 h-5 text-yellow-400 mt-0.5 flex-shrink-0"}),Q.jsxs("div",{className:"flex-1",children:[Q.jsx("h4",{className:"text-yellow-200 font-medium text-sm mb-1",children:"Unsupported Language Detected"}),Q.jsxs("p",{className:"text-yellow-100 text-sm",children:[r?`Detected language: ${r}. `:"","Code conversion only supports ",Q.jsx("strong",{children:"Python"}),", ",Q.jsx("strong",{children:"R"}),", and ",Q.jsx("strong",{children:"SAS"})," as input languages. Please ensure your code is written in one of these languages to use the conversion feature."]})]}),Q.jsx("button",{onClick:e,className:"text-yellow-400 hover:text-yellow-300 flex-shrink-0",children:Q.jsx(QP,{className:"w-4 h-4"})})]})}):null,hv="http://localhost:5001",Gwt=async n=>{if(n.status===401)throw console.error("Authentication required. Please log in."),new Error("Authentication required. Please log in.");if(!n.ok){let e=`API Error ${n.status}: ${n.statusText}`;try{e=(await n.json()).message||e}catch{}throw new Error(e)}},Hwt=async n=>{var e,r,o,a,h,f,p,g,v,x,S,b,C,j,N,E,R,$,V,D,B,q,K,J,ot,Ot,bt,wt,St,dt,Vt,Mt,Et,pt;try{const ht=await fetch(`${hv}/api/analysis_result`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:n})});await Gwt(ht);const vt=await ht.json();let Dt=[];try{const qt=await fetch(`${hv}/api/analyze`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:n})});if(qt.ok){const it=await qt.json();console.log("Detailed analysis data:",it),it.analysis&&(Dt=Object.entries(it.analysis).map(([xe,Fe])=>({name:Fe.name||xe,hasIssues:Array.isArray(Fe.issues)&&Fe.issues.length>0,issues:Fe.issues||[]})))}}catch(qt){console.warn("Failed to get detailed analysis:",qt)}return console.log("Analysis response:",vt),console.log("Categories with issues:",Dt),{categories:Dt,detectedLanguage:{name:vt.language||"unknown",confidence:1,color:vt.language==="r"?"#1984c8":"#ccc"},workflow:{steps:((e=vt.flowchart)==null?void 0:e.steps)||[],dependencies:((r=vt.flowchart)==null?void 0:r.dependencies)||[],optimizable_steps:((o=vt.flowchart)==null?void 0:o.optimizable_steps)||[]},scores:{overall:((a=vt.scores)==null?void 0:a.overall_score)||0,categories:{maintainability:{score:((p=(f=(h=vt.scores)==null?void 0:h.scores)==null?void 0:f.maintainability)==null?void 0:p.score)||0,explanation:((x=(v=(g=vt.scores)==null?void 0:g.scores)==null?void 0:v.maintainability)==null?void 0:x.explanation)||"No data available"},performance:{score:((C=(b=(S=vt.scores)==null?void 0:S.scores)==null?void 0:b.performance_efficiency)==null?void 0:C.score)||0,explanation:((E=(N=(j=vt.scores)==null?void 0:j.scores)==null?void 0:N.performance_efficiency)==null?void 0:E.explanation)||"No data available"},readability:{score:((V=($=(R=vt.scores)==null?void 0:R.scores)==null?void 0:$.readability)==null?void 0:V.score)||0,explanation:((q=(B=(D=vt.scores)==null?void 0:D.scores)==null?void 0:B.readability)==null?void 0:q.explanation)||"No data available"},security:{score:((ot=(J=(K=vt.scores)==null?void 0:K.scores)==null?void 0:J.security_vulnerability)==null?void 0:ot.score)||0,explanation:((wt=(bt=(Ot=vt.scores)==null?void 0:Ot.scores)==null?void 0:bt.security_vulnerability)==null?void 0:wt.explanation)||"No data available"},testCoverage:{score:((Vt=(dt=(St=vt.scores)==null?void 0:St.scores)==null?void 0:dt.test_coverage)==null?void 0:Vt.score)||0,explanation:((pt=(Et=(Mt=vt.scores)==null?void 0:Mt.scores)==null?void 0:Et.test_coverage)==null?void 0:pt.explanation)||"No data available"}}},functionalityAnalysis:vt.functionality_analysis||null}}catch(ht){throw console.error("Analysis API Error:",ht),ht}},R6=async n=>{const e=await fetch(`${hv}/api/optimize`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:n})});if(!e.ok)throw new Error(`Failed to optimize code: ${e.status} ${e.statusText}`);const r=await e.json();return{optimizedCode:r.optimized_code,metrics:{executionTime:{value:r.improvement_percentages.execution_time,label:"% faster",improvement:r.improvement_percentages.execution_time>0},memoryUsage:{value:r.improvement_percentages.memory_usage,label:"% reduction",improvement:r.improvement_percentages.memory_usage>0},codeComplexity:{value:r.improvement_percentages.code_complexity,label:"% simpler",improvement:r.improvement_percentages.code_complexity>0}},changedLines:r.changed_lines??[],optimized_code_flowchart:r.optimized_code_flowchart,detailed_changes:r.detailed_changes??[],improvement_summary:r.improvement_summary??"",improvement_percentages:r.improvement_percentages}},o5=async n=>{const e=await fetch(`${hv}/api/document`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:n})});if(!e.ok){const r=await e.json();throw new Error(r.message||`Failed to generate documentation: ${e.status}`)}return e.json()},l5=async(n,e,r)=>{const o=await fetch(`${hv}/api/convert`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:n,source_language:e,target_language:r})});if(!o.ok){const a=await o.json();throw new Error(a.message||`Failed to convert code: ${o.status}`)}return o.json()},Kwt=()=>{const n=ua(),e=Bo(),[r,o]=Z.useState(""),[a,h]=Z.useState(!1),[f,p]=Z.useState(!1),[g,v]=Z.useState(!1),[x,S]=Z.useState(!1),[b,C]=Z.useState("python"),[j,N]=Z.useState("python"),[E,R]=Z.useState("python"),[$,V]=Z.useState(!1),[D,B]=Z.useState(null),[q,K]=Z.useState(!1),[J,ot]=Z.useState(""),Ot=vt=>["python","r","sas"].includes(vt.toLowerCase()),bt=vt=>{console.log("Language detected in CodeOptimizer:",vt),N(vt),R(vt),Ot(vt)&&K(!1)},wt=vt=>{console.log("Manual language change to:",vt),N(vt),Ot(vt)&&K(!1)},St=async()=>{if(!r.trim()){on.error("Please enter some code to optimize");return}h(!0);try{const vt=await R6(r);console.log("Optimization results:",vt),n("/results/optimize",{state:{results:vt,originalCode:r,sourceLanguage:j}}),on.success("Code optimized successfully!")}catch(vt){console.error("Optimization error:",vt),on.error("Failed to optimize code. Please try again.")}finally{h(!1)}},dt=async()=>{if(!r.trim()){on.error("Please enter some code to analyze");return}p(!0);try{const vt=await Hwt(r);console.log("Analysis results:",vt),n("/results/analyze",{state:{results:vt,originalCode:r,sourceLanguage:j}}),on.success("Code analysis completed!")}catch(vt){console.error("Analysis error:",vt),on.error("Failed to analyze code. Please try again.")}finally{p(!1)}},Vt=async()=>{if(!r.trim()){on.error("Please enter some code to document");return}S(!0);try{const vt=await o5(r);console.log("Documentation results:",vt),n("/results/document",{state:{results:vt,originalCode:r,sourceLanguage:j}}),on.success("Documentation generated successfully!")}catch(vt){console.error("Documentation error:",vt),on.error("Failed to generate documentation. Please try again.")}finally{S(!1)}},Mt=()=>{if(!r.trim()){on.error("Please enter some code to convert");return}if(console.log("Convert clicked with sourceLanguage:",j),!Ot(j)){ot(j),K(!0),on.error("Conversion only supports Python, R, and SAS as input languages.");return}B(null),V(!0)},Et=async vt=>{v(!0);try{const Dt=await l5(r,j,vt);console.log("Conversion results:",Dt),n("/results/convert",{state:{results:Dt,originalCode:r,sourceLanguage:j,targetLanguage:vt}}),V(!1),B(null),on.success(`Code converted to ${vt.toUpperCase()} successfully!`)}catch(Dt){console.error("Conversion error:",Dt),on.error("Failed to convert code. Please try again.")}finally{v(!1)}},pt=()=>{g||(V(!1),B(null))},ht=vt=>{B(vt)};return Z.useEffect(()=>{const vt=e.state;vt!=null&&vt.preserveCode&&vt.preserveCode!==r&&o(vt.preserveCode),vt!=null&&vt.preserveLanguage&&vt.preserveLanguage!==j&&(N(vt.preserveLanguage),R(vt.preserveLanguage))},[e.state]),Z.useEffect(()=>{console.log("CodeOptimizer state:",{sourceLanguage:j,detectedLanguage:E,showConvertModal:$,selectedTargetLanguage:D})},[j,E,$,D]),Q.jsxs(Q.Fragment,{children:[q&&Q.jsx("div",{className:"fixed top-4 left-4 right-4 z-40",children:Q.jsx(qwt,{isVisible:q,onDismiss:()=>K(!1),detectedLanguage:J})}),Q.jsx(s5,{isOpen:$,onClose:pt,onConvert:Et,sourceLanguage:j,isConverting:g,selectedLanguage:D,onLanguageSelect:ht}),Q.jsx(Wwt,{code:r,onCodeChange:o,onAnalyze:dt,onOptimize:St,onConvert:Mt,onDocument:Vt,isAnalyzing:f,isOptimizing:a,isConverting:g,isDocumenting:x,analysisResults:null,optimizationResults:null,convertResult:null,documentResult:null,selectedLanguage:b,onLanguageChange:C,activeView:null,setActiveView:()=>{},sourceLanguage:j,onSourceLanguageChange:wt,onDetectedLanguageChange:bt,onResetResults:()=>{}})]})},$v=()=>{const{user:n,logout:e}=bg(),r=ua(),o=async()=>{try{await e(),r("/login")}catch(a){console.error("Logout failed",a)}};return Q.jsxs("header",{className:"glassmorphic-header",children:[Q.jsx("style",{children:`
        .glassmorphic-header {
          backdrop-filter: blur(10px);
          background-color: rgba(15, 15, 30, 0.3);
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
          padding: 1rem;
          transition: all 0.3s ease;
          position: sticky;
          top: 0;
          z-index: 50;
        }
        
        .glassmorphic-header:hover {
          background-color: rgba(15, 15, 30, 0.35);
          border-color: rgba(255, 255, 255, 0.15);
        }
        
        .glass-logo {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          color: rgba(255, 255, 255, 0.9);
          font-weight: 600;
          text-decoration: none;
          transition: all 0.2s ease;
        }
        
        .glass-logo:hover {
          color: rgba(255, 255, 255, 1);
          transform: translateY(-1px);
        }
        
        .glass-btn {
          background-color: rgba(255, 255, 255, 0.07);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 6px;
          color: rgba(255, 255, 255, 0.85);
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          padding: 0.5rem 1rem;
          transition: all 0.2s ease;
        }
        
        .glass-btn:hover {
          background-color: rgba(255, 255, 255, 0.12);
          border-color: rgba(255, 255, 255, 0.2);
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .glass-btn-logout {
          background-color: rgba(239, 68, 68, 0.2);
          border-color: rgba(239, 68, 68, 0.3);
        }
        
        .glass-btn-logout:hover {
          background-color: rgba(239, 68, 68, 0.3);
          border-color: rgba(239, 68, 68, 0.4);
        }
        
        .welcome-text {
          color: rgba(255, 255, 255, 0.7);
          font-size: 0.875rem;
        }
      `}),Q.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[Q.jsxs(tU,{to:"/",className:"glass-logo",children:[Q.jsx(Rc,{className:"h-5 w-5"}),Q.jsx("span",{children:"agenticAI"})]}),Q.jsx("div",{className:"flex items-center space-x-4",children:Q.jsxs("button",{onClick:o,className:"glass-btn glass-btn-logout",children:[Q.jsx(eet,{className:"h-4 w-4"}),Q.jsx("span",{children:"Logout"})]})})]})]})},Jwt=()=>Q.jsxs(kh,{children:[Q.jsx($v,{}),Q.jsx(Kwt,{})]});function tSt(){const[n,e]=Z.useState(!1);return Q.jsxs("header",{className:Lo("fixed","top-2 sm:top-4","inset-x-2 sm:inset-x-8","z-50","flex flex-col justify-center sm:flex-row sm:items-center sm:justify-between","p-4","bg-[rgba(0,0,0,0.1)]","backdrop-blur-[3.5px]","shadow-none","rounded-2xl","border border-[rgba(255,255,255,0.18)]"),children:[Q.jsxs("div",{className:"flex items-center justify-between w-full sm:w-auto",children:[Q.jsx("div",{className:"text-white text-xl font-bold",children:"agenticAI"}),Q.jsx("button",{className:"sm:hidden text-white text-2xl focus:outline-none",onClick:()=>e(r=>!r),"aria-label":"Toggle menu",children:n?Q.jsx(QP,{}):Q.jsx(net,{})})]}),Q.jsx("nav",{className:Lo(n?"mt-4":"mt-0","sm:mt-0","w-full sm:w-auto","overflow-hidden","transition-[max-height,opacity] duration-700 ease-in-out",n?"max-h-60 opacity-100":"max-h-0 opacity-0","sm:max-h-none sm:opacity-100"),children:Q.jsxs("ul",{className:Lo("flex flex-col sm:flex-row","items-center","space-y-2 sm:space-y-0 sm:space-x-8","text-white","text-center","bg-[rgba(0,0,0,0.2)] sm:bg-transparent","p-4 sm:p-0","rounded-lg sm:rounded-none","transition-transform duration-700",n?"translate-y-0":"-translate-y-2","sm:translate-y-0"),children:[Q.jsx("li",{children:Q.jsx("a",{href:"#features",className:"hover:text-gray-200 transition-colors",children:"Features"})}),Q.jsx("li",{children:Q.jsx("a",{href:"#benefits",className:"hover:text-gray-200 transition-colors",children:"Benefits"})}),Q.jsx("li",{children:Q.jsx("a",{href:"#contact",className:"hover:text-gray-200 transition-colors",children:"Contact"})})]})}),Q.jsx("button",{onClick:()=>window.location.href="/login",className:Lo(n?"mt-4":"mt-0","sm:mt-0","px-4 py-2","bg-white/20 hover:bg-white/30","rounded-md text-white","self-center sm:self-auto","overflow-hidden","transition-[max-height,opacity] duration-700 ease-in-out",n?"max-h-12 opacity-100":"max-h-0 opacity-0","sm:max-h-none sm:opacity-100"),children:"Get Started"})]})}const L6=Z.memo(({blur:n=0,inactiveZone:e=.7,proximity:r=0,spread:o=20,variant:a="default",glow:h=!1,className:f,movementDuration:p=2,borderWidth:g=1,disabled:v=!0})=>{const x=Z.useRef(null),S=Z.useRef({x:0,y:0}),b=Z.useRef(0),C=Z.useCallback(j=>{x.current&&(b.current&&cancelAnimationFrame(b.current),b.current=requestAnimationFrame(()=>{const N=x.current;if(!N)return;const{left:E,top:R,width:$,height:V}=N.getBoundingClientRect(),D=(j==null?void 0:j.x)??S.current.x,B=(j==null?void 0:j.y)??S.current.y;j&&(S.current={x:D,y:B});const q=[E+$*.5,R+V*.5],K=Math.hypot(D-q[0],B-q[1]),J=.5*Math.min($,V)*e;if(K<J){N.style.setProperty("--active","0");return}const ot=D>E-r&&D<E+$+r&&B>R-r&&B<R+V+r;if(N.style.setProperty("--active",ot?"1":"0"),!ot)return;const Ot=parseFloat(N.style.getPropertyValue("--start"))||0,wt=(180*Math.atan2(B-q[1],D-q[0])/Math.PI+90-Ot+180)%360-180,St=Ot+wt;Hct(Ot,St,{duration:p,ease:[.16,1,.3,1],onUpdate:dt=>{N.style.setProperty("--start",String(dt))}})}))},[e,r,p]);return Z.useEffect(()=>{if(v)return;const j=()=>C(),N=E=>C(E);return window.addEventListener("scroll",j,{passive:!0}),document.body.addEventListener("pointermove",N,{passive:!0}),()=>{b.current&&cancelAnimationFrame(b.current),window.removeEventListener("scroll",j),document.body.removeEventListener("pointermove",N)}},[C,v]),Q.jsxs(Q.Fragment,{children:[Q.jsx("div",{className:Lo("pointer-events-none absolute -inset-px hidden rounded-[inherit] border opacity-0 transition-opacity",h&&"opacity-100",a==="white"&&"border-white",v&&"!block",f)}),Q.jsx("div",{ref:x,style:{"--blur":`${n}px`,"--spread":o,"--start":"0","--active":"0","--glowingeffect-border-width":`${g}px`,"--repeating-conic-gradient-times":"5","--gradient":a==="white"?`repeating-conic-gradient(
                  from 236.84deg at 50% 50%,
                  var(--black),
                  var(--black) calc(25% / var(--repeating-conic-gradient-times))
                )`:`radial-gradient(circle, #dd7bbb 10%, #dd7bbb00 20%),
                radial-gradient(circle at 40% 40%, #d79f1e 5%, #d79f1e00 15%),
                radial-gradient(circle at 60% 60%, #5a922c 10%, #5a922c00 20%), 
                radial-gradient(circle at 40% 60%, #4c7894 10%, #4c789400 20%),
                repeating-conic-gradient(
                  from 236.84deg at 50% 50%,
                  #dd7bbb 0%,
                  #d79f1e calc(25% / var(--repeating-conic-gradient-times)),
                  #5a922c calc(50% / var(--repeating-conic-gradient-times)), 
                  #4c7894 calc(75% / var(--repeating-conic-gradient-times)),
                  #dd7bbb calc(100% / var(--repeating-conic-gradient-times))
                )`},className:Lo("pointer-events-none absolute inset-0 rounded-[inherit] opacity-100 transition-opacity",h&&"opacity-100",n>0&&"blur-[var(--blur)]",v&&"!hidden",f),children:Q.jsx("div",{className:Lo("glow","rounded-[inherit]",'after:content-[""] after:rounded-[inherit] after:absolute after:inset-[calc(-1*var(--glowingeffect-border-width))]',"after:[border:var(--glowingeffect-border-width)_solid_transparent]","after:[background:var(--gradient)] after:[background-attachment:fixed]","after:opacity-[var(--active)] after:transition-opacity after:duration-300","after:[mask-clip:padding-box,border-box]","after:[mask-composite:intersect]","after:[mask-image:linear-gradient(#0000,#0000),conic-gradient(from_calc((var(--start)-var(--spread))*1deg),#00000000_0deg,#fff,#00000000_calc(var(--spread)*2deg))]")})})]})});L6.displayName="GlowingEffect";const eSt=[{title:"SmartAnalyzer",description:"Intelligent analysis that identifies inefficiencies and anomalies automatically.",icon:_tt,items:["Comprehensive Code Diagnostics","Interactive Visual Flowcharts","Advanced Bug and Bottleneck Detection"]},{title:"OptiCode",description:"AI-powered code refactoring that enhances efficiency and readability.",icon:Rc,items:["AI-Powered Code Refactoring","Real-Time Optimization Suggestions","Adaptive Learning Algorithms"]},{title:"CodeTranslator",description:"Seamless translation between analytics languages such as SAS, Python, R, and more.",icon:KZ,items:["Effortless Multi-Language Conversion","Accuracy and Fidelity Assurance","Customization and Compliance"]},{title:"DocuGen",description:"Automatically creates professional-grade documentation for your analytics processes.",icon:xd,items:["Automated Documentation Generation","Real-Time Updates","Customizable Templates"]}];function iSt(){return Q.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-4",children:eSt.map(({icon:n,title:e,description:r,items:o})=>Q.jsx(nSt,{icon:Q.jsx(n,{className:"h-4 w-4 text-white"}),title:e,description:r,items:o},e))})}const nSt=({icon:n,title:e,description:r,items:o})=>Q.jsx("li",{className:"min-h-[20rem] list-none",children:Q.jsxs("div",{className:"relative h-full rounded-2xl border p-2 md:rounded-3xl md:p-3",children:[Q.jsx(L6,{spread:40,glow:!0,disabled:!1,proximity:64,inactiveZone:.01}),Q.jsx("div",{className:"border-0.75 relative flex h-full flex-col justify-between gap-6 overflow-hidden rounded-xl p-6 md:p-6 dark:shadow-[0px_0px_27px_0px_#2D2D2D]",children:Q.jsxs("div",{className:"relative flex flex-1 flex-col justify-between gap-3",children:[Q.jsx("div",{className:"w-fit rounded-lg border border-gray-600 p-2",children:n}),Q.jsxs("div",{className:"space-y-3",children:[Q.jsx("h3",{className:"-tracking-4 pt-0.5 font-sans text-xl/[1.375rem] font-semibold text-balance text-white md:text-2xl/[1.875rem]",children:e}),Q.jsx("p",{className:"font-sans text-sm/[1.125rem] text-neutral-300 md:text-base/[1.375rem]",children:r}),Q.jsx("ul",{className:"mt-2 list-disc list-inside space-y-1 text-sm text-neutral-400",children:o.map(a=>Q.jsx("li",{children:a},a))})]})]})})]})}),rSt=`# Before optimization
def process_data(df):
 results = []
 for i in range(len(df)):
 if df.iloc[i]['value'] > 100:
 results.append({
 'id': df.iloc[i]['id'],
 'value': df.iloc[i]['value'] * 2
 })
 return results

# After AgenticAI optimization
def process_data(df):
 return df[df['value'] > 100].apply(
 lambda row: {'id': row['id'], 'value': row['value'] * 2},
 axis=1
 ).tolist()`;function sSt(){const n=["Reduce execution time by up to 80%","Decrease code complexity and improve readability","Maintain logical equivalence with the original code"];return Q.jsx("section",{className:"relative py-20",children:Q.jsx("div",{className:"max-w-7xl mx-auto px-4",children:Q.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-start",children:[Q.jsxs("div",{className:"space-y-6",children:[Q.jsx("h3",{className:"text-sm uppercase text-indigo-400 tracking-wide",children:"What We Do"}),Q.jsx("h2",{className:"text-4xl font-bold text-white",children:"See the Power of Optimization"}),Q.jsx("p",{className:"text-lg text-gray-300",children:"At Agentic AI, we harness state-of-the-art machine learning to automatically refactor your analytics codeboosting performance, clarity, and maintainability in one seamless step."}),Q.jsx("ul",{className:"space-y-4",children:n.map(e=>Q.jsxs("li",{className:"flex items-start space-x-3",children:[Q.jsx(fk,{className:"mt-1 h-5 w-5 text-white"}),Q.jsx("span",{className:"text-white",children:e})]},e))}),Q.jsxs("button",{className:"mt-4 inline-flex items-center px-6 py-3 bg-white/20 hover:bg-white/30 text-white rounded-full transition",children:["Try Code Optimization",Q.jsx(fk,{className:"ml-2 h-4 w-4"})]})]}),Q.jsx("div",{className:"flex justify-center",children:Q.jsxs("div",{className:"w-full max-w-lg bg-[rgba(255,255,255,0.1)] backdrop-blur-[12px] border border-[rgba(255,255,255,0.18)] rounded-2xl p-6",children:[Q.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[Q.jsx("span",{className:"h-3 w-3 bg-red-500 rounded-full"}),Q.jsx("span",{className:"h-3 w-3 bg-yellow-500 rounded-full"}),Q.jsx("span",{className:"h-3 w-3 bg-green-500 rounded-full"})]}),Q.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm text-white",children:Q.jsx("code",{children:rSt})})]})})]})})})}const oSt=`# Original implementation (unoptimized)

import pandas as pd
from datetime import datetime, timedelta

def process_data(df):
    # Initialize results list
    results = []
    # Loop through each row
    for index in range(len(df)):
        row = df.iloc[index]
        if row['value'] > 100:
            item = {'id': row['id'], 'value': row['value'] * 2}
            results.append(item)
    # Return list of dicts
    return results

# Usage example
records = process_data(dataframe)
print(len(records), "items processed")
`,lSt=`# AgenticAI optimized implementation

import pandas as pd
from datetime import datetime, timedelta

def process_data(df):
    # Filter and apply transformation in one step
    return (
        df[df['value'] > 100]
        .apply(lambda row: {'id': row['id'], 'value': row['value'] * 2}, axis=1)
        .tolist()
    )

# Usage example
records = process_data(dataframe)
print(f"Processed {len(records)} items efficiently")
`;function aSt({firstCode:n,secondCode:e,className:r="",codeClass:o="",initialPct:a=50}){const[h,f]=Z.useState(a),[p,g]=Z.useState(!1),v=Z.useRef(null),x=Z.useCallback(S=>{if(!v.current)return;const{left:b,width:C}=v.current.getBoundingClientRect();let j=(S-b)/C*100;j=Math.max(0,Math.min(100,j)),f(j)},[]);return Z.useEffect(()=>{const S=C=>p&&x(C.clientX),b=()=>g(!1);return window.addEventListener("mousemove",S),window.addEventListener("mouseup",b),()=>{window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",b)}},[p,x]),Q.jsxs("div",{ref:v,className:Lo("relative w-full h-full select-none overflow-hidden",r),onMouseDown:S=>{g(!0),x(S.clientX)},onMouseMove:S=>x(S.clientX),children:[Q.jsx(llt,{children:Q.jsxs(nR.div,{className:"absolute top-0 h-full w-[2px] bg-gradient-to-b from-transparent via-indigo-400 to-transparent z-30 transition-left",style:{left:`${h}%`,transition:"left 0.2s ease-out"},transition:{duration:0},children:[Q.jsx("div",{className:"absolute inset-y-0 left-0 w-20 [mask-image:radial-gradient(100px_at_left,white,transparent)] bg-indigo-400 opacity-20"}),Q.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -right-2.5 w-6 h-6 bg-white rounded-md flex items-center justify-center shadow-md",children:Q.jsx(tft,{className:"h-4 w-4 text-black"})})]})}),Q.jsx("div",{className:"absolute inset-0 z-20 pointer-events-none",children:Q.jsx("div",{className:o,style:{clipPath:`inset(0 ${100-h}% 0 0)`,transition:"clip-path 0.2s ease-out"},children:Q.jsx("pre",{className:"h-full overflow-auto p-6 font-mono text-sm text-white leading-relaxed bg-transparent",children:Q.jsx("code",{children:n})})})}),Q.jsx("div",{className:"absolute inset-0 z-10",children:Q.jsx("div",{className:o,style:{clipPath:`inset(0 0 0 ${h}%)`,transition:"clip-path 0.2s ease-out"},children:Q.jsx("pre",{className:"h-full overflow-auto p-6 font-mono text-sm text-white leading-relaxed bg-transparent",children:Q.jsx("code",{children:e})})})})]})}function uSt(){return Q.jsx("section",{className:"py-20",children:Q.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[Q.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-8",children:"Before & After: Code Comparison"}),Q.jsx("div",{className:"h-[70vh] bg-[rgba(255,255,255,0.05)] backdrop-blur-[16px] border border-[rgba(255,255,255,0.12)] rounded-3xl overflow-hidden relative",children:Q.jsx(aSt,{firstCode:oSt,secondCode:lSt,initialPct:50,className:"w-full h-full",codeClass:"rounded-none"})})]})})}function hSt(){const[n,e]=Z.useState(""),r=o=>{o.preventDefault(),console.log("Joined waiting list:",n),e("")};return Q.jsx("section",{className:"py-16",children:Q.jsxs("div",{className:"max-w-md mx-auto px-4",children:[Q.jsx("h2",{className:"text-2xl font-bold text-white mb-4 text-center",children:"Join Our Waiting List"}),Q.jsxs("form",{onSubmit:r,className:Lo("flex flex-col sm:flex-row gap-4 glass-card p-6 rounded-2xl","bg-[rgba(255,255,255,0.1)] backdrop-blur-[8px]","border border-[rgba(255,255,255,0.18)]"),children:[Q.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),Q.jsx("input",{id:"email",type:"email",required:!0,placeholder:"you@example.com",value:n,onChange:o=>e(o.target.value),className:Lo("flex-1 px-4 py-3 bg-transparent placeholder-gray-400","border border-transparent focus:border-white rounded-md","text-white outline-none")}),Q.jsx("button",{type:"submit",className:Lo("px-6 py-3 bg-white/20 hover:bg-white/30 text-white","rounded-md transition"),children:"Notify Me"})]})]})})}function cSt(){return Q.jsx("footer",{className:"bg-gray-900 border-t border-gray-800",children:Q.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[Q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[Q.jsxs("div",{children:[Q.jsx("div",{className:"flex items-center gap-2 mb-4",children:Q.jsx("span",{className:"text-xl font-bold text-white",children:"AgenticAI"})}),Q.jsx("p",{className:"text-white/70 mb-4",children:"Transforming analytics program management through intelligent automation"}),Q.jsxs("div",{className:"flex space-x-4",children:[Q.jsx("a",{href:"#",className:"text-white/60 hover:text-white transition",children:Q.jsx(ret,{size:20})}),Q.jsx("a",{href:"#",className:"text-white/60 hover:text-white transition",children:Q.jsx(Htt,{size:20})}),Q.jsx("a",{href:"#",className:"text-white/60 hover:text-white transition",children:Q.jsx(Jtt,{size:20})})]})]}),Q.jsxs("div",{children:[Q.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Product"}),Q.jsxs("ul",{className:"space-y-3",children:[Q.jsx("li",{children:Q.jsx("a",{href:"#features",className:"text-white/70 hover:text-white transition",children:"Features"})}),Q.jsx("li",{children:Q.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition",children:"Pricing"})}),Q.jsx("li",{children:Q.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition",children:"Case Studies"})}),Q.jsx("li",{children:Q.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition",children:"Documentation"})})]})]}),Q.jsxs("div",{children:[Q.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Company"}),Q.jsxs("ul",{className:"space-y-3",children:[Q.jsx("li",{children:Q.jsx("a",{href:"#about",className:"text-white/70 hover:text-white transition",children:"About"})}),Q.jsx("li",{children:Q.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition",children:"Careers"})}),Q.jsx("li",{children:Q.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition",children:"Blog"})}),Q.jsx("li",{children:Q.jsx("a",{href:"#contact",className:"text-white/70 hover:text-white transition",children:"Contact"})})]})]}),Q.jsxs("div",{children:[Q.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Legal"}),Q.jsxs("ul",{className:"space-y-3",children:[Q.jsx("li",{children:Q.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition",children:"Privacy Policy"})}),Q.jsx("li",{children:Q.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition",children:"Terms of Service"})}),Q.jsx("li",{children:Q.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition",children:"Cookie Policy"})})]})]})]}),Q.jsx("div",{className:"mt-12 pt-8 border-t border-[rgba(255,255,255,0.12)]",children:Q.jsxs("p",{className:"text-center text-sm text-white/60",children:[" ",new Date().getFullYear()," AgenticAI. All rights reserved."]})})]})})}function fSt(){return Q.jsx(Q.Fragment,{children:Q.jsx(kh,{intensity:"medium",className:"min-h-screen",children:Q.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen dark",children:[Q.jsx(tSt,{}),Q.jsxs("main",{className:"flex-grow",children:[Q.jsx("section",{className:"h-screen flex items-center justify-center px-4 text-center",children:Q.jsxs(nR.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeInOut"},children:[Q.jsx("h1",{className:"text-3xl md:text-7xl font-bold text-white",children:"Agentic AI: Next-Level Analytics"}),Q.jsx("p",{className:"mt-4 font-extralight text-base md:text-4xl text-neutral-200",children:"Automate. Integrate. Optimize."}),Q.jsx("button",{onClick:()=>window.location.href="/login",className:"mt-8 bg-white/10 backdrop-blur-sm border border-white/20 hover:bg-white/20 transition-all duration-300 rounded-full w-fit text-white px-6 py-3",children:"Start Free Trial"})]})}),Q.jsx("section",{id:"features",className:"py-16 px-4",children:Q.jsx(iSt,{})}),Q.jsx("div",{id:"benefits",children:Q.jsx(sSt,{})}),Q.jsx(uSt,{}),Q.jsx("div",{id:"contact",children:Q.jsx(hSt,{})})]}),Q.jsx(cSt,{})]})})})}const dSt=()=>{const n=Bo();return Z.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),Q.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:Q.jsxs("div",{className:"text-center",children:[Q.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),Q.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),Q.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},pSt=Kj("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Wc=Z.forwardRef(({className:n,variant:e,size:r,asChild:o=!1,...a},h)=>{const f=o?kO:"button";return Q.jsx(f,{className:Dn(pSt({variant:e,size:r,className:n})),ref:h,...a})});Wc.displayName="Button";var a5="Collapsible",[mSt,$6]=kP(a5),[gSt,u5]=mSt(a5),D6=Z.forwardRef((n,e)=>{const{__scopeCollapsible:r,open:o,defaultOpen:a,disabled:h,onOpenChange:f,...p}=n,[g=!1,v]=vv({prop:o,defaultProp:a,onChange:f});return Q.jsx(gSt,{scope:r,disabled:h,contentId:eE(),open:g,onOpenToggle:Z.useCallback(()=>v(x=>!x),[v]),children:Q.jsx(Fn.div,{"data-state":c5(g),"data-disabled":h?"":void 0,...p,ref:e})})});D6.displayName=a5;var I6="CollapsibleTrigger",F6=Z.forwardRef((n,e)=>{const{__scopeCollapsible:r,...o}=n,a=u5(I6,r);return Q.jsx(Fn.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":c5(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...o,ref:e,onClick:Ln(n.onClick,a.onOpenToggle)})});F6.displayName=I6;var h5="CollapsibleContent",V6=Z.forwardRef((n,e)=>{const{forceMount:r,...o}=n,a=u5(h5,n.__scopeCollapsible);return Q.jsx(PP,{present:r||a.open,children:({present:h})=>Q.jsx(ySt,{...o,ref:e,present:h})})});V6.displayName=h5;var ySt=Z.forwardRef((n,e)=>{const{__scopeCollapsible:r,present:o,children:a,...h}=n,f=u5(h5,r),[p,g]=Z.useState(o),v=Z.useRef(null),x=Vo(e,v),S=Z.useRef(0),b=S.current,C=Z.useRef(0),j=C.current,N=f.open||p,E=Z.useRef(N),R=Z.useRef();return Z.useEffect(()=>{const $=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame($)},[]),ph(()=>{const $=v.current;if($){R.current=R.current||{transitionDuration:$.style.transitionDuration,animationName:$.style.animationName},$.style.transitionDuration="0s",$.style.animationName="none";const V=$.getBoundingClientRect();S.current=V.height,C.current=V.width,E.current||($.style.transitionDuration=R.current.transitionDuration,$.style.animationName=R.current.animationName),g(o)}},[f.open,o]),Q.jsx(Fn.div,{"data-state":c5(f.open),"data-disabled":f.disabled?"":void 0,id:f.contentId,hidden:!N,...h,ref:x,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...n.style},children:N&&a})});function c5(n){return n?"open":"closed"}var OSt=D6,vSt=F6,xSt=V6,wSt=Z.createContext(void 0);function SSt(n){const e=Z.useContext(wSt);return n||e||"ltr"}var bh="Accordion",kSt=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[f5,PSt,bSt]=PZ(bh),[f2,Mkt]=kP(bh,[bSt,$6]),d5=$6(),z6=$t.forwardRef((n,e)=>{const{type:r,...o}=n,a=o,h=o;return Q.jsx(f5.Provider,{scope:n.__scopeAccordion,children:r==="multiple"?Q.jsx(QSt,{...h,ref:e}):Q.jsx(MSt,{...a,ref:e})})});z6.displayName=bh;var[X6,TSt]=f2(bh),[B6,CSt]=f2(bh,{collapsible:!1}),MSt=$t.forwardRef((n,e)=>{const{value:r,defaultValue:o,onValueChange:a=()=>{},collapsible:h=!1,...f}=n,[p,g]=vv({prop:r,defaultProp:o,onChange:a});return Q.jsx(X6,{scope:n.__scopeAccordion,value:p?[p]:[],onItemOpen:g,onItemClose:$t.useCallback(()=>h&&g(""),[h,g]),children:Q.jsx(B6,{scope:n.__scopeAccordion,collapsible:h,children:Q.jsx(_6,{...f,ref:e})})})}),QSt=$t.forwardRef((n,e)=>{const{value:r,defaultValue:o,onValueChange:a=()=>{},...h}=n,[f=[],p]=vv({prop:r,defaultProp:o,onChange:a}),g=$t.useCallback(x=>p((S=[])=>[...S,x]),[p]),v=$t.useCallback(x=>p((S=[])=>S.filter(b=>b!==x)),[p]);return Q.jsx(X6,{scope:n.__scopeAccordion,value:f,onItemOpen:g,onItemClose:v,children:Q.jsx(B6,{scope:n.__scopeAccordion,collapsible:!0,children:Q.jsx(_6,{...h,ref:e})})})}),[NSt,d2]=f2(bh),_6=$t.forwardRef((n,e)=>{const{__scopeAccordion:r,disabled:o,dir:a,orientation:h="vertical",...f}=n,p=$t.useRef(null),g=Vo(p,e),v=PSt(r),S=SSt(a)==="ltr",b=Ln(n.onKeyDown,C=>{var J;if(!kSt.includes(C.key))return;const j=C.target,N=v().filter(ot=>{var Ot;return!((Ot=ot.ref.current)!=null&&Ot.disabled)}),E=N.findIndex(ot=>ot.ref.current===j),R=N.length;if(E===-1)return;C.preventDefault();let $=E;const V=0,D=R-1,B=()=>{$=E+1,$>D&&($=V)},q=()=>{$=E-1,$<V&&($=D)};switch(C.key){case"Home":$=V;break;case"End":$=D;break;case"ArrowRight":h==="horizontal"&&(S?B():q());break;case"ArrowDown":h==="vertical"&&B();break;case"ArrowLeft":h==="horizontal"&&(S?q():B());break;case"ArrowUp":h==="vertical"&&q();break}const K=$%R;(J=N[K].ref.current)==null||J.focus()});return Q.jsx(NSt,{scope:r,disabled:o,direction:a,orientation:h,children:Q.jsx(f5.Slot,{scope:r,children:Q.jsx(Fn.div,{...f,"data-orientation":h,ref:g,onKeyDown:o?void 0:b})})})}),sP="AccordionItem",[ASt,p5]=f2(sP),Z6=$t.forwardRef((n,e)=>{const{__scopeAccordion:r,value:o,...a}=n,h=d2(sP,r),f=TSt(sP,r),p=d5(r),g=eE(),v=o&&f.value.includes(o)||!1,x=h.disabled||n.disabled;return Q.jsx(ASt,{scope:r,open:v,disabled:x,triggerId:g,children:Q.jsx(OSt,{"data-orientation":h.orientation,"data-state":H6(v),...p,...a,ref:e,disabled:x,open:v,onOpenChange:S=>{S?f.onItemOpen(o):f.onItemClose(o)}})})});Z6.displayName=sP;var Y6="AccordionHeader",U6=$t.forwardRef((n,e)=>{const{__scopeAccordion:r,...o}=n,a=d2(bh,r),h=p5(Y6,r);return Q.jsx(Fn.h3,{"data-orientation":a.orientation,"data-state":H6(h.open),"data-disabled":h.disabled?"":void 0,...o,ref:e})});U6.displayName=Y6;var JA="AccordionTrigger",W6=$t.forwardRef((n,e)=>{const{__scopeAccordion:r,...o}=n,a=d2(bh,r),h=p5(JA,r),f=CSt(JA,r),p=d5(r);return Q.jsx(f5.ItemSlot,{scope:r,children:Q.jsx(vSt,{"aria-disabled":h.open&&!f.collapsible||void 0,"data-orientation":a.orientation,id:h.triggerId,...p,...o,ref:e})})});W6.displayName=JA;var q6="AccordionContent",G6=$t.forwardRef((n,e)=>{const{__scopeAccordion:r,...o}=n,a=d2(bh,r),h=p5(q6,r),f=d5(r);return Q.jsx(xSt,{role:"region","aria-labelledby":h.triggerId,"data-orientation":a.orientation,...f,...o,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...n.style}})});G6.displayName=q6;function H6(n){return n?"open":"closed"}var jSt=z6,ESt=Z6,RSt=U6,K6=W6,J6=G6;const tG=jSt,m5=Z.forwardRef(({className:n,...e},r)=>Q.jsx(ESt,{ref:r,className:Dn("border-b",n),...e}));m5.displayName="AccordionItem";const g5=Z.forwardRef(({className:n,children:e,...r},o)=>Q.jsx(RSt,{className:"flex",children:Q.jsxs(K6,{ref:o,className:Dn("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",n),...r,children:[e,Q.jsx(Ytt,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));g5.displayName=K6.displayName;const y5=Z.forwardRef(({className:n,children:e,...r},o)=>Q.jsx(J6,{ref:o,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:Q.jsx("div",{className:Dn("pb-4 pt-0",n),children:e})}));y5.displayName=J6.displayName;const Th=Z.forwardRef(({className:n,...e},r)=>Q.jsx("div",{ref:r,className:Dn("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));Th.displayName="Card";const Lg=Z.forwardRef(({className:n,...e},r)=>Q.jsx("div",{ref:r,className:Dn("flex flex-col space-y-1.5 p-6",n),...e}));Lg.displayName="CardHeader";const $g=Z.forwardRef(({className:n,...e},r)=>Q.jsx("h3",{ref:r,className:Dn("text-2xl font-semibold leading-none tracking-tight",n),...e}));$g.displayName="CardTitle";const p2=Z.forwardRef(({className:n,...e},r)=>Q.jsx("p",{ref:r,className:Dn("text-sm text-muted-foreground",n),...e}));p2.displayName="CardDescription";const Ch=Z.forwardRef(({className:n,...e},r)=>Q.jsx("div",{ref:r,className:Dn("p-6 pt-0",n),...e}));Ch.displayName="CardContent";const LSt=Z.forwardRef(({className:n,...e},r)=>Q.jsx("div",{ref:r,className:Dn("flex items-center p-6 pt-0",n),...e}));LSt.displayName="CardFooter";const $St=({content:n})=>{const e=n.split(/(?=^#+\s+.*$)/m).filter(a=>a.trim()!==""),r=a=>{const h=a.match(/^#+\s+(.*?)$/m);return h?h[1]:"Overview"},o=a=>a.replace(/^#+\s+.*?$/m,"").trim().split(/\n{2,}/g).map((f,p)=>{if(f.match(/^```[\s\S]*?```$/m)){const v=f.replace(/^```(\w+)?\n([\s\S]*?)```$/m,"$2");return Q.jsx("pre",{className:"bg-secondary/20 p-4 rounded-md my-4 overflow-x-auto",children:Q.jsx("code",{className:"text-sm text-primary",children:v})},p)}if(f.match(/^\s*[-*]\s+/m)){const v=f.split(/\n/).filter(x=>x.trim()!=="").map(x=>x.replace(/^\s*[-*]\s+/,""));return Q.jsx("ul",{className:"list-disc pl-5 my-3 space-y-1",children:v.map((x,S)=>Q.jsx("li",{className:"text-sm",children:x},S))},p)}if(f.match(/^\s*\d+\.\s+/m)){const v=f.split(/\n/).filter(x=>x.trim()!=="").map(x=>x.replace(/^\s*\d+\.\s+/,""));return Q.jsx("ol",{className:"list-decimal pl-5 my-3 space-y-1",children:v.map((x,S)=>Q.jsx("li",{className:"text-sm",children:x},S))},p)}let g=f.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");if(g=g.replace(/\*(.*?)\*/g,"<em>$1</em>"),g=g.replace(/`(.*?)`/g,"<code>$1</code>"),g.match(/^#+\s+/)){const v=(g.match(/^(#+)/)||["#"])[0].length,x=g.replace(/^#+\s+/,"");return Q.jsx("div",{className:`font-semibold my-3 ${v===2?"text-lg":v===3?"text-base":"text-sm"}`,children:x},p)}return Q.jsx("p",{className:"my-3 text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:g}},p)});return Q.jsx(Th,{className:"border border-border",children:Q.jsx(Ch,{className:"p-6",children:Q.jsx("div",{className:"space-y-6",children:e.map((a,h)=>{const f=r(a);return Q.jsxs("div",{className:"pb-4",children:[Q.jsx("h3",{className:"text-base font-semibold border-b border-border pb-2 mb-3",children:f}),Q.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert prose-headings:mb-2 prose-p:my-2",children:o(a)})]},h)})})})})},DSt=({results:n})=>{const[e,r]=Z.useState("opportunities");Z.useEffect(()=>{var f;console.log("AnalysisResultTabs - Full results:",n),console.log("AnalysisResultTabs - Categories:",n.categories),console.log("AnalysisResultTabs - Categories with issues:",((f=n.categories)==null?void 0:f.filter(p=>p.hasIssues))||[])},[n]);const o=n.categories||[],a=o.filter(f=>f.hasIssues),h=a.reduce((f,p)=>{var g;return f+(((g=p.issues)==null?void 0:g.length)||0)},0);return Q.jsxs("div",{className:"border border-gray-800 rounded-2xl p-6",children:[Q.jsxs("div",{className:"flex border-b border-gray-700 mb-6",children:[Q.jsxs("button",{type:"button",onClick:()=>r("opportunities"),className:`px-4 py-2 -mb-px focus:outline-none transition-colors ${e==="opportunities"?"border-b-2 border-indigo-400 text-white font-medium":"text-gray-400 hover:text-gray-200"}`,children:["Optimization Opportunities ",h>0&&`(${h})`]}),Q.jsx("button",{type:"button",onClick:()=>r("functionality"),className:`px-4 py-2 -mb-px focus:outline-none transition-colors ${e==="functionality"?"border-b-2 border-indigo-400 text-white font-medium":"text-gray-400 hover:text-gray-200"}`,children:"Functionality Analysis"})]}),e==="opportunities"&&Q.jsxs("div",{children:[Q.jsxs("div",{className:"mb-4 p-3 bg-blue-900/20 border border-blue-700/30 rounded-lg text-sm",children:[Q.jsx("div",{className:"text-blue-300 font-medium mb-2",children:"Debug Information:"}),Q.jsxs("div",{className:"text-blue-200 space-y-1",children:[Q.jsxs("div",{children:["Total categories: ",o.length]}),Q.jsxs("div",{children:["Categories with issues: ",a.length]}),Q.jsxs("div",{children:["Total issues: ",h]})]})]}),o.length===0?Q.jsxs("div",{className:"text-center py-8",children:[Q.jsx(BF,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),Q.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Analysis Data"}),Q.jsx("p",{className:"text-gray-400",children:"No categories found in the analysis results."})]}):a.length===0?Q.jsxs("div",{className:"text-center py-8",children:[Q.jsx("div",{className:"mx-auto h-12 w-12 bg-green-500/20 rounded-full flex items-center justify-center mb-4",children:Q.jsx("svg",{className:"h-6 w-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),Q.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Great Code Quality!"}),Q.jsx("p",{className:"text-gray-400",children:"No optimization opportunities found. Your code looks good!"})]}):Q.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map((f,p)=>{var g,v,x,S;return Q.jsxs(Th,{className:`bg-gray-800/20 backdrop-blur-sm border border-gray-700 rounded-2xl hover:shadow-lg transition-shadow ${f.hasIssues?"border-amber-700/30 bg-amber-950/10":""}`,children:[Q.jsxs(Lg,{children:[Q.jsxs("div",{className:"flex items-center justify-between",children:[Q.jsxs($g,{className:"text-sm font-medium flex items-center gap-2 text-white",children:[f.hasIssues&&Q.jsx(Jj,{size:16,className:"text-amber-500"}),f.name]}),f.hasIssues&&Q.jsxs("span",{className:"text-xs px-2 py-0.5 bg-amber-500/20 text-amber-400 rounded-full",children:[((g=f.issues)==null?void 0:g.length)||0," ",(((v=f.issues)==null?void 0:v.length)||0)===1?"issue":"issues"]})]}),Q.jsx(p2,{className:"text-xs text-gray-300",children:f.hasIssues?`${((x=f.issues)==null?void 0:x.length)||0} optimization ${(((S=f.issues)==null?void 0:S.length)||0)===1?"opportunity":"opportunities"} found`:"No optimization opportunities found"})]}),f.hasIssues&&f.issues&&f.issues.length>0&&Q.jsx(Ch,{children:Q.jsx(tG,{type:"single",collapsible:!0,className:"w-full bg-transparent",children:f.issues.map((b,C)=>Q.jsxs(m5,{value:`issue-${C}`,children:[Q.jsx(g5,{className:"text-sm text-white hover:text-gray-200",children:b.title||`Issue ${C+1}`}),Q.jsx(y5,{children:Q.jsxs("div",{className:"space-y-3 text-sm text-gray-200",children:[b.location&&Q.jsxs("div",{children:[Q.jsx("div",{className:"font-medium text-xs text-muted-foreground mb-1",children:"CODE LOCATION"}),Q.jsx("div",{className:"bg-secondary/50 px-3 py-1 rounded-sm text-white",children:b.location})]}),b.reason&&Q.jsxs("div",{children:[Q.jsx("div",{className:"font-medium text-xs text-muted-foreground mb-1",children:"REASON"}),Q.jsx("p",{children:b.reason})]}),b.suggestion&&Q.jsxs("div",{children:[Q.jsx("div",{className:"font-medium text-xs text-muted-foreground mb-1",children:"SUGGESTION"}),Q.jsx("p",{className:"text-primary",children:b.suggestion})]})]})})]},C))})})]},p)})})]}),e==="functionality"&&Q.jsx("div",{className:"border border-gray-700 rounded-2xl p-4",children:n.functionalityAnalysis?Q.jsx($St,{content:n.functionalityAnalysis}):Q.jsxs("div",{className:"text-center py-8",children:[Q.jsx(BF,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),Q.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Functionality Analysis"}),Q.jsx("p",{className:"text-gray-400",children:"Functionality analysis data is not available."})]})})]})};(function(){var n;function e(t){var i=0;return function(){return i<t.length?{done:!1,value:t[i++]}:{done:!0}}}function r(t){var i=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];return i?i.call(t):{next:e(t)}}function o(t){for(var i,s=[];!(i=t.next()).done;)s.push(i.value);return s}var a=typeof Object.create=="function"?Object.create:function(t){function i(){}return i.prototype=t,new i},h;if(typeof Object.setPrototypeOf=="function")h=Object.setPrototypeOf;else{var f;t:{var p={a:!0},g={};try{g.__proto__=p,f=g.a;break t}catch{}f=!1}h=f?function(t,i){if(t.__proto__=i,t.__proto__!==i)throw new TypeError(t+" is not extensible");return t}:null}var v=h;function x(t,i){if(t.prototype=a(i.prototype),t.prototype.constructor=t,v)v(t,i);else for(var s in i)if(s!="prototype")if(Object.defineProperties){var l=Object.getOwnPropertyDescriptor(i,s);l&&Object.defineProperty(t,s,l)}else t[s]=i[s];t.QA=i.prototype}var S=typeof global<"u"&&global!=null?global:self,b=typeof Object.assign=="function"?Object.assign:function(t,i){for(var s=1;s<arguments.length;s++){var l=arguments[s];if(l)for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(t[u]=l[u])}return t},C=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,i,s){t!=Array.prototype&&t!=Object.prototype&&(t[i]=s.value)};function j(t,i){if(i){var s=S;t=t.split(".");for(var l=0;l<t.length-1;l++){var u=t[l];u in s||(s[u]={}),s=s[u]}t=t[t.length-1],l=s[t],i=i(l),i!=l&&i!=null&&C(s,t,{writable:!0,value:i})}}j("Object.assign",function(t){return t||b}),j("Array.prototype.fill",function(t){return t||function(i,s,l){var u=this.length||0;for(0>s&&(s=Math.max(0,u+s)),(l==null||l>u)&&(l=u),l=Number(l),0>l&&(l=Math.max(0,u+l)),s=Number(s||0);s<l;s++)this[s]=i;return this}});var N=typeof globalThis=="object"&&globalThis||typeof global=="object"&&global.global===global&&global||typeof self=="object"&&self.self===self&&self||{};N.requestAnimationFrame===void 0&&(N.setImmediate===void 0?N.requestAnimationFrame=function(t){N.setTimeout(t,0)}:N.requestAnimationFrame=N.setImmediate);function E(){}function R(t,i){var s=-1;return function(){var l=this,u=arguments;s!==-1&&N.clearTimeout(s),s=$(function(){s=-1,t.apply(l,u)},i)}}function $(t,i){return N.setTimeout(t,i)}function V(t){return N.document.createElement(t)}function D(t){throw Error(t)}function B(t,i){t="The object is frozen, so its properties cannot be set: "+t.toString(),i!==void 0&&(t+="  to value: "+i),D(t)}function q(t,i,s,l){s=s===null?"*":typeof s=="string"?s:typeof s=="function"&&typeof s.className=="string"?s.className:"",l!==void 0&&(s+="."+l),D(s+" is not in the range "+i+": "+t)}function K(t){N.console&&N.console.log(t)}function J(t){return typeof t=="object"&&t!==null}function ot(t){return Array.isArray(t)||N.NodeList&&t instanceof N.NodeList||N.HTMLCollection&&t instanceof N.HTMLCollection}function Ot(t){return Array.prototype.slice.call(t)}function bt(t,i,s){Array.isArray(t)?i>=t.length?t.push(s):t.splice(i,0,s):D("Cannot insert an object into an HTMLCollection or NodeList: "+s+" at "+i)}function wt(t,i){Array.isArray(t)?i>=t.length?t.pop():t.splice(i,1):D("Cannot remove an object from an HTMLCollection or NodeList at "+i)}function St(){var t=qt.pop();return t===void 0?[]:t}function dt(t){t.length=0,qt.push(t)}function Vt(t){if(typeof t=="function"){if(t.className)return t.className;if(t.name)return t.name;var i=t.toString();if(i=i.substring(9,i.indexOf("(")).trim(),i!=="")return t._className=i}else if(J(t)&&t.constructor)return Vt(t.constructor);return typeof t}function Mt(t){var i=t;return J(t)&&(t.text?i=t.text:t.name?i=t.name:t.key!==void 0?i=t.key:t.id!==void 0?i=t.id:t.constructor===Object&&(t.Text?i=t.Text:t.Name?i=t.Name:t.Key!==void 0?i=t.Key:t.Id!==void 0?i=t.Id:t.ID!==void 0&&(i=t.ID))),i===void 0?"undefined":i===null?"null":i.toString()}function Et(t,i){if(t.hasOwnProperty(i))return!0;for(t=Object.getPrototypeOf(t);t&&t!==Function;){if(t.hasOwnProperty(i))return!0;var s=t.CA;if(s&&s[i])return!0;t=Object.getPrototypeOf(t)}return!1}function pt(t,i,s){Object.defineProperty(Ce.prototype,t,{get:i,set:s})}function ht(t){for(var i=[],s=0;256>s;s++)i["0123456789abcdef".charAt(s>>4)+"0123456789abcdef".charAt(s&15)]=String.fromCharCode(s);t.length%2&&(t="0"+t),s=[];for(var l=0,u=0;u<t.length;u+=2)s[l++]=i[t.substr(u,2)];for(t=s.join(""),t=t===""?"0":t,i=[],s=0;256>s;s++)i[s]=s;for(s=l=0;256>s;s++)l=(l+i[s]+119)%256,u=i[s],i[s]=i[l],i[l]=u;l=s=0;for(var c="",d=0;d<t.length;d++)s=(s+1)%256,l=(l+i[s])%256,u=i[s],i[s]=i[l],i[l]=u,c+=String.fromCharCode(t.charCodeAt(d)^i[(i[s]+i[l])%256]);return c}var vt=N.navigator!==void 0&&0<N.navigator.userAgent.indexOf("Trident/7"),Dt=N.navigator!==void 0&&N.navigator.platform!==void 0&&N.navigator.platform.match(/(iPhone|iPod|iPad|Mac)/i)!==null,qt=[];E.className="Util",E.Dx="32ab5ff3b26f42dc0ed90f21472913b5",E.adym="gojs.net",E.vfo="28e645fdb267",E.className="Util";function it(t,i,s){Ue(this),this.j=t,this.xa=i,this.o=s}it.prototype.toString=function(){return"EnumValue."+this.xa};function xe(t,i){return i==null||i===""?null:t[i]}S.Object.defineProperties(it.prototype,{classType:{get:function(){return this.j}},name:{get:function(){return this.xa}},value:{get:function(){return this.o}}}),it.className="EnumValue";function Fe(){this.ew=[]}Fe.prototype.toString=function(){return this.ew.join("")},Fe.prototype.add=function(t){t!==""&&this.ew.push(t)},Fe.className="StringBuilder";function le(){}le.className="PropertyCollection";var Qi={EA:!1,JA:!1,GA:!1,IA:!1,NA:!1,LA:!1,nx:!1,FA:null,trace:function(t){N.console&&N.console.log(t)},HA:function(t,i,s,l){t.strokeStyle="red",t.fillStyle="red",t.font="8px sans-serif",t.beginPath(),t.moveTo(-10,0),t.lineTo(10,0),t.moveTo(0,-10),t.lineTo(0,10),t.stroke(),t.setTransform(1,0,0,1,0,0),t.scale(s,s),t.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),t.lineWidth=2,t.beginPath(),t.moveTo(l.left,l.top+20),t.lineTo(l.left,l.top),t.lineTo(l.left+20,l.top),t.moveTo(l.right,l.bottom-20),t.lineTo(l.right,l.bottom),t.lineTo(l.right-20,l.bottom),t.stroke(),t.fillText("DB: "+Math.round(l.x)+", "+Math.round(l.y)+", "+Math.round(l.width)+", "+Math.round(l.height),l.left,l.top-5)},DA:function(t){var i={},s;for(s in t){if(i.x=s,i.x!=="licenseKey"){var l=t[i.x];if(l.prototype!==void 0){i.Yl=Object.getOwnPropertyNames(l.prototype);for(var u={Sj:0};u.Sj<i.Yl.length;u={Sj:u.Sj},u.Sj++){var c=Object.getOwnPropertyDescriptor(l.prototype,i.Yl[u.Sj]);c.get!==void 0&&c.set===void 0&&Object.defineProperty(l.prototype,i.Yl[u.Sj],{set:function(d,m){return function(){throw Error("Property "+d.Yl[m.Sj]+" of "+d.x+" is read-only.")}}(i,u)})}}}i={Yl:i.Yl,x:i.x}}}};function Le(){}Le.prototype.reset=function(){},Le.prototype.next=function(){return!1},Le.prototype.Ad=function(){return!1},Le.prototype.first=function(){return null},Le.prototype.any=function(){return!1},Le.prototype.all=function(){return!0},Le.prototype.each=function(){return this},Le.prototype.map=function(){return this},Le.prototype.filter=function(){return this},Le.prototype.de=function(){},Le.prototype.toString=function(){return"EmptyIterator"},S.Object.defineProperties(Le.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 0}}}),Le.prototype.first=Le.prototype.first,Le.prototype.hasNext=Le.prototype.Ad,Le.prototype.next=Le.prototype.next,Le.prototype.reset=Le.prototype.reset;var hi=null;Le.className="EmptyIterator",hi=new Le;function Ve(t){this.key=-1,this.value=t}Ve.prototype.reset=function(){this.key=-1},Ve.prototype.next=function(){return this.key===-1?(this.key=0,!0):!1},Ve.prototype.Ad=function(){return this.next()},Ve.prototype.first=function(){return this.key=0,this.value},Ve.prototype.any=function(t){return this.key=-1,t(this.value)},Ve.prototype.all=function(t){return this.key=-1,t(this.value)},Ve.prototype.each=function(t){return this.key=-1,t(this.value),this},Ve.prototype.map=function(t){return new Ve(t(this.value))},Ve.prototype.filter=function(t){return t(this.value)?new Ve(this.value):hi},Ve.prototype.de=function(){this.value=null},Ve.prototype.toString=function(){return"SingletonIterator("+this.value+")"},S.Object.defineProperties(Ve.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 1}}}),Ve.prototype.first=Ve.prototype.first,Ve.prototype.hasNext=Ve.prototype.Ad,Ve.prototype.next=Ve.prototype.next,Ve.prototype.reset=Ve.prototype.reset,Ve.className="SingletonIterator";function Je(t){this.Cb=t,this.qf=null,t.Sa=null,this.qa=t.Ja,this.Za=-1}Je.prototype.reset=function(){var t=this.Cb;t.Sa=null,this.qa=t.Ja,this.Za=-1},Je.prototype.next=function(){var t=this.Cb;if(t.Ja!==this.qa&&0>this.key)return!1;t=t.s;var i=t.length,s=++this.Za,l=this.qf;if(l!==null)for(;s<i;){var u=t[s];if(l(u))return this.key=this.Za=s,this.value=u,!0;s++}else{if(s<i)return this.key=s,this.value=t[s],!0;this.de()}return!1},Je.prototype.Ad=function(){return this.next()},Je.prototype.first=function(){var t=this.Cb;this.qa=t.Ja,this.Za=0,t=t.s;var i=t.length,s=this.qf;if(s!==null){for(var l=0;l<i;){var u=t[l];if(s(u))return this.key=this.Za=l,this.value=u;l++}return null}return 0<i?(t=t[0],this.key=0,this.value=t):null},Je.prototype.any=function(t){var i=this.Cb;i.Sa=null,this.Za=-1,i=i.s;for(var s=i.length,l=this.qf,u=0;u<s;u++){var c=i[u];if((l===null||l(c))&&t(c))return!0}return!1},Je.prototype.all=function(t){var i=this.Cb;i.Sa=null,this.Za=-1,i=i.s;for(var s=i.length,l=this.qf,u=0;u<s;u++){var c=i[u];if((l===null||l(c))&&!t(c))return!1}return!0},Je.prototype.each=function(t){var i=this.Cb;i.Sa=null,this.Za=-1,i=i.s;for(var s=i.length,l=this.qf,u=0;u<s;u++){var c=i[u];(l===null||l(c))&&t(c)}return this},Je.prototype.map=function(t){var i=this.Cb;i.Sa=null,this.Za=-1;var s=[];i=i.s;for(var l=i.length,u=this.qf,c=0;c<l;c++){var d=i[c];(u===null||u(d))&&s.push(t(d))}return t=new ct,t.s=s,t.yb(),t.iterator},Je.prototype.filter=function(t){var i=this.Cb;i.Sa=null,this.Za=-1;var s=[];i=i.s;for(var l=i.length,u=this.qf,c=0;c<l;c++){var d=i[c];(u===null||u(d))&&t(d)&&s.push(d)}return t=new ct,t.s=s,t.yb(),t.iterator},Je.prototype.de=function(){this.key=-1,this.value=null,this.qa=-1,this.qf=null,this.Cb.Sa=this},Je.prototype.toString=function(){return"ListIterator@"+this.Za+"/"+this.Cb.count},S.Object.defineProperties(Je.prototype,{iterator:{get:function(){return this}},predicate:{get:function(){return this.qf},set:function(t){this.qf=t}},count:{get:function(){var t=this.qf;if(t!==null){for(var i=0,s=this.Cb.s,l=s.length,u=0;u<l;u++)t(s[u])&&i++;return i}return this.Cb.s.length}}}),Je.prototype.first=Je.prototype.first,Je.prototype.hasNext=Je.prototype.Ad,Je.prototype.next=Je.prototype.next,Je.prototype.reset=Je.prototype.reset,Je.className="ListIterator";function Oi(t){this.Cb=t,t.Hg=null,this.qa=t.Ja,this.Za=t.s.length}Oi.prototype.reset=function(){var t=this.Cb;t.Hg=null,this.qa=t.Ja,this.Za=t.s.length},Oi.prototype.next=function(){var t=this.Cb;if(t.Ja!==this.qa&&0>this.key)return!1;var i=--this.Za;return 0<=i?(this.key=i,this.value=t.s[i],!0):(this.de(),!1)},Oi.prototype.Ad=function(){return this.next()},Oi.prototype.first=function(){var t=this.Cb;this.qa=t.Ja;var i=t.s;return this.Za=t=i.length-1,0<=t?(i=i[t],this.key=t,this.value=i):null},Oi.prototype.any=function(t){var i=this.Cb;i.Hg=null,i=i.s;var s=i.length;for(this.Za=s,--s;0<=s;s--)if(t(i[s]))return!0;return!1},Oi.prototype.all=function(t){var i=this.Cb;i.Hg=null,i=i.s;var s=i.length;for(this.Za=s,--s;0<=s;s--)if(!t(i[s]))return!1;return!0},Oi.prototype.each=function(t){var i=this.Cb;i.Hg=null,i=i.s;var s=i.length;for(this.Za=s,--s;0<=s;s--)t(i[s]);return this},Oi.prototype.map=function(t){var i=this.Cb;i.Hg=null;var s=[];i=i.s;var l=i.length;for(this.Za=l,--l;0<=l;l--)s.push(t(i[l]));return t=new ct,t.s=s,t.yb(),t.iterator},Oi.prototype.filter=function(t){var i=this.Cb;i.Hg=null;var s=[];i=i.s;var l=i.length;for(this.Za=l,--l;0<=l;l--){var u=i[l];t(u)&&s.push(u)}return t=new ct,t.s=s,t.yb(),t.iterator},Oi.prototype.de=function(){this.key=-1,this.value=null,this.qa=-1,this.Cb.Hg=this},Oi.prototype.toString=function(){return"ListIteratorBackwards("+this.Za+"/"+this.Cb.count+")"},S.Object.defineProperties(Oi.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.Cb.s.length}}}),Oi.prototype.first=Oi.prototype.first,Oi.prototype.hasNext=Oi.prototype.Ad,Oi.prototype.next=Oi.prototype.next,Oi.prototype.reset=Oi.prototype.reset,Oi.className="ListIteratorBackwards";function ct(t){Ue(this),this._isFrozen=!1,this.s=[],this.Ja=0,this.Hg=this.Sa=null,typeof t=="string"&&D("Error: Since 2.0 List/Map/Set constructors no longer take an argument that enforces type."),t!==void 0&&this.addAll(t)}n=ct.prototype,n.yb=function(){var t=this.Ja;t++,999999999<t&&(t=0),this.Ja=t},n.freeze=function(){return this._isFrozen=!0,this},n.ka=function(){return this._isFrozen=!1,this},n.toString=function(){return"List()#"+Ni(this)},n.add=function(t){return t===null?this:(this._isFrozen&&B(this,t),this.s.push(t),this.yb(),this)},n.push=function(t){this.add(t)},n.addAll=function(t){if(t===null)return this;this._isFrozen&&B(this);var i=this.s;if(ot(t))for(var s=t.length,l=0;l<s;l++)i.push(t[l]);else for(t=t.iterator;t.next();)i.push(t.value);return this.yb(),this},n.clear=function(){this._isFrozen&&B(this),this.s.length=0,this.yb()},n.contains=function(t){return t===null?!1:this.s.indexOf(t)!==-1},n.has=function(t){return this.contains(t)},n.indexOf=function(t){return t===null?-1:this.s.indexOf(t)},n.M=function(t){var i=this.s;return(0>t||t>=i.length)&&q(t,"0 <= i < length",ct,"elt:i"),i[t]},n.get=function(t){return this.M(t)},n.cd=function(t,i){var s=this.s;(0>t||t>=s.length)&&q(t,"0 <= i < length",ct,"setElt:i"),this._isFrozen&&B(this,t),s[t]=i},n.set=function(t,i){this.cd(t,i)},n.first=function(){var t=this.s;return t.length===0?null:t[0]},n.kc=function(){var t=this.s,i=t.length;return 0<i?t[i-1]:null},n.pop=function(){this._isFrozen&&B(this);var t=this.s;return 0<t.length?t.pop():null},ct.prototype.any=function(t){for(var i=this.s,s=i.length,l=0;l<s;l++)if(t(i[l]))return!0;return!1},ct.prototype.all=function(t){for(var i=this.s,s=i.length,l=0;l<s;l++)if(!t(i[l]))return!1;return!0},ct.prototype.each=function(t){for(var i=this.s,s=i.length,l=0;l<s;l++)t(i[l]);return this},ct.prototype.map=function(t){for(var i=new ct,s=[],l=this.s,u=l.length,c=0;c<u;c++)s.push(t(l[c]));return i.s=s,i.yb(),i},ct.prototype.filter=function(t){for(var i=new ct,s=[],l=this.s,u=l.length,c=0;c<u;c++){var d=l[c];t(d)&&s.push(d)}return i.s=s,i.yb(),i},n=ct.prototype,n.Hb=function(t,i){0>t&&q(t,">= 0",ct,"insertAt:i"),this._isFrozen&&B(this,t);var s=this.s;t>=s.length?s.push(i):s.splice(t,0,i),this.yb()},n.remove=function(t){if(t===null)return!1;this._isFrozen&&B(this,t);var i=this.s;return t=i.indexOf(t),t===-1?!1:(t===i.length-1?i.pop():i.splice(t,1),this.yb(),!0)},n.delete=function(t){return this.remove(t)},n.mb=function(t){var i=this.s;(0>t||t>=i.length)&&q(t,"0 <= i < length",ct,"removeAt:i"),this._isFrozen&&B(this,t),t===i.length-1?i.pop():i.splice(t,1),this.yb()},n.removeRange=function(t,i){var s=this.s,l=s.length;if(0>t)t=0;else if(t>=l)return this;if(0>i)return this;if(i>=l&&(i=l-1),t>i)return this;this._isFrozen&&B(this);for(var u=t,c=i+1;c<l;)s[u++]=s[c++];return s.length=l-(i-t+1),this.yb(),this},ct.prototype.copy=function(){var t=new ct,i=this.s;return 0<i.length&&(t.s=Array.prototype.slice.call(i)),t},n=ct.prototype,n.Fa=function(){for(var t=this.s,i=this.count,s=Array(i),l=0;l<i;l++)s[l]=t[l];return s},n.Iv=function(){for(var t=new at,i=this.s,s=this.count,l=0;l<s;l++)t.add(i[l]);return t},n.sort=function(t){return this._isFrozen&&B(this),this.s.sort(t),this.yb(),this},n.zi=function(t,i,s){var l=this.s,u=l.length;i===void 0&&(i=0),s===void 0&&(s=u),this._isFrozen&&B(this);var c=s-i;if(1>=c)return this;if((0>i||i>=u-1)&&q(i,"0 <= from < length",ct,"sortRange:from"),c===2)return s=l[i],u=l[i+1],0<t(s,u)&&(l[i]=u,l[i+1]=s,this.yb()),this;if(i===0)if(s>=u)l.sort(t);else for(i=l.slice(0,s),i.sort(t),t=0;t<s;t++)l[t]=i[t];else if(s>=u)for(s=l.slice(i),s.sort(t),t=i;t<u;t++)l[t]=s[t-i];else for(u=l.slice(i,s),u.sort(t),t=i;t<s;t++)l[t]=u[t-i];return this.yb(),this},n.reverse=function(){return this._isFrozen&&B(this),this.s.reverse(),this.yb(),this},S.Object.defineProperties(ct.prototype,{_dataArray:{get:function(){return this.s}},count:{get:function(){return this.s.length}},size:{get:function(){return this.s.length}},length:{get:function(){return this.s.length}},iterator:{get:function(){if(0>=this.s.length)return hi;var t=this.Sa;return t!==null?(t.reset(),t):new Je(this)}},iteratorBackwards:{get:function(){if(0>=this.s.length)return hi;var t=this.Hg;return t!==null?(t.reset(),t):new Oi(this)}}}),ct.prototype.reverse=ct.prototype.reverse,ct.prototype.sortRange=ct.prototype.zi,ct.prototype.sort=ct.prototype.sort,ct.prototype.toSet=ct.prototype.Iv,ct.prototype.toArray=ct.prototype.Fa,ct.prototype.removeRange=ct.prototype.removeRange,ct.prototype.removeAt=ct.prototype.mb,ct.prototype.delete=ct.prototype.delete,ct.prototype.remove=ct.prototype.remove,ct.prototype.insertAt=ct.prototype.Hb,ct.prototype.pop=ct.prototype.pop,ct.prototype.last=ct.prototype.kc,ct.prototype.first=ct.prototype.first,ct.prototype.set=ct.prototype.set,ct.prototype.setElt=ct.prototype.cd,ct.prototype.get=ct.prototype.get,ct.prototype.elt=ct.prototype.M,ct.prototype.indexOf=ct.prototype.indexOf,ct.prototype.has=ct.prototype.has,ct.prototype.contains=ct.prototype.contains,ct.prototype.clear=ct.prototype.clear,ct.prototype.addAll=ct.prototype.addAll,ct.prototype.push=ct.prototype.push,ct.prototype.add=ct.prototype.add,ct.prototype.thaw=ct.prototype.ka,ct.prototype.freeze=ct.prototype.freeze,ct.className="List";function gi(t){this.eg=t,t.Sa=null,this.qa=t.Ja,this.sa=null}gi.prototype.reset=function(){var t=this.eg;t.Sa=null,this.qa=t.Ja,this.sa=null},gi.prototype.next=function(){var t=this.eg;if(t.Ja!==this.qa&&this.key===null)return!1;var i=this.sa;return i=i===null?t.ea:i.va,i!==null?(this.sa=i,this.value=i.value,this.key=i.key,!0):(this.de(),!1)},gi.prototype.Ad=function(){return this.next()},gi.prototype.first=function(){var t=this.eg;if(this.qa=t.Ja,t=t.ea,t!==null){this.sa=t;var i=t.value;return this.key=t.key,this.value=i}return null},gi.prototype.any=function(t){var i=this.eg;for(this.sa=i.Sa=null,i=i.ea;i!==null;){if(t(i.value))return!0;i=i.va}return!1},gi.prototype.all=function(t){var i=this.eg;for(this.sa=i.Sa=null,i=i.ea;i!==null;){if(!t(i.value))return!1;i=i.va}return!0},gi.prototype.each=function(t){var i=this.eg;for(this.sa=i.Sa=null,i=i.ea;i!==null;)t(i.value),i=i.va;return this},gi.prototype.map=function(t){var i=this.eg;i.Sa=null;var s=new ct;for(i=i.ea;i!==null;)s.add(t(i.value)),i=i.va;return s.iterator},gi.prototype.filter=function(t){var i=this.eg;i.Sa=null;var s=new ct;for(i=i.ea;i!==null;){var l=i.value;t(l)&&s.add(l),i=i.va}return s.iterator},gi.prototype.de=function(){this.value=this.key=null,this.qa=-1,this.eg.Sa=this},gi.prototype.toString=function(){return this.sa!==null?"SetIterator@"+this.sa.value:"SetIterator"},S.Object.defineProperties(gi.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.eg.Tb}}}),gi.prototype.first=gi.prototype.first,gi.prototype.hasNext=gi.prototype.Ad,gi.prototype.next=gi.prototype.next,gi.prototype.reset=gi.prototype.reset,gi.className="SetIterator";function at(t){Ue(this),this._isFrozen=!1,this.Ub={},this.Tb=0,this.Sa=null,this.Ja=0,this.kf=this.ea=null,typeof t=="string"&&D("Error: Since 2.0 List/Map/Set constructors no longer take an argument that enforces type."),t!==void 0&&this.addAll(t)}n=at.prototype,n.yb=function(){var t=this.Ja;t++,999999999<t&&(t=0),this.Ja=t},n.freeze=function(){return this._isFrozen=!0,this},n.ka=function(){return this._isFrozen=!1,this},n.toString=function(){return"Set()#"+Ni(this)},n.add=function(t){if(t===null)return this;this._isFrozen&&B(this,t);var i=t;return J(t)&&(i=ms(t)),this.Ub[i]===void 0&&(this.Tb++,t=new _o(t,t),this.Ub[i]=t,i=this.kf,i===null?this.ea=t:(t.kl=i,i.va=t),this.kf=t,this.yb()),this},n.addAll=function(t){if(t===null)return this;if(this._isFrozen&&B(this),ot(t))for(var i=t.length,s=0;s<i;s++)this.add(t[s]);else for(t=t.iterator;t.next();)this.add(t.value);return this},n.contains=function(t){if(t===null)return!1;var i=t;return J(t)&&(i=Ni(t),i===void 0)?!1:this.Ub[i]!==void 0},n.has=function(t){return this.contains(t)},n.Sy=function(t){if(t===null)return!0;for(t=t.iterator;t.next();)if(!this.contains(t.value))return!1;return!0},n.Ty=function(t){if(t===null)return!0;for(t=t.iterator;t.next();)if(this.contains(t.value))return!0;return!1},n.first=function(){var t=this.ea;return t===null?null:t.value},at.prototype.any=function(t){for(var i=this.ea;i!==null;){if(t(i.value))return!0;i=i.va}return!1},at.prototype.all=function(t){for(var i=this.ea;i!==null;){if(!t(i.value))return!1;i=i.va}return!0},at.prototype.each=function(t){for(var i=this.ea;i!==null;)t(i.value),i=i.va;return this},at.prototype.map=function(t){for(var i=new at,s=this.ea;s!==null;)i.add(t(s.value)),s=s.va;return i},at.prototype.filter=function(t){for(var i=new at,s=this.ea;s!==null;){var l=s.value;t(l)&&i.add(l),s=s.va}return i},n=at.prototype,n.remove=function(t){if(t===null)return!1;this._isFrozen&&B(this,t);var i=t;if(J(t)&&(i=Ni(t),i===void 0)||(t=this.Ub[i],t===void 0))return!1;var s=t.va,l=t.kl;return s!==null&&(s.kl=l),l!==null&&(l.va=s),this.ea===t&&(this.ea=s),this.kf===t&&(this.kf=l),delete this.Ub[i],this.Tb--,this.yb(),!0},n.delete=function(t){return this.remove(t)},n.gp=function(t){if(t===null)return this;if(this._isFrozen&&B(this),ot(t))for(var i=t.length,s=0;s<i;s++)this.remove(t[s]);else for(t=t.iterator;t.next();)this.remove(t.value);return this},n.pA=function(t){if(t===null||this.count===0)return this;this._isFrozen&&B(this);var i=new at;i.addAll(t),t=[];for(var s=this.iterator;s.next();){var l=s.value;i.contains(l)||t.push(l)}return this.gp(t),this},n.clear=function(){this._isFrozen&&B(this),this.Ub={},this.Tb=0,this.Sa!==null&&this.Sa.reset(),this.kf=this.ea=null,this.yb()},at.prototype.copy=function(){var t=new at,i=this.Ub,s;for(s in i)t.add(i[s].value);return t},at.prototype.Fa=function(){var t=Array(this.Tb),i=this.Ub,s=0,l;for(l in i)t[s]=i[l].value,s++;return t},at.prototype.Hv=function(){var t=new ct,i=this.Ub,s;for(s in i)t.add(i[s].value);return t};function Ue(t){t.__gohashid=fn++}function ms(t){var i=t.__gohashid;return i===void 0&&(i=fn++,t.__gohashid=i),i}function Ni(t){return t.__gohashid}S.Object.defineProperties(at.prototype,{count:{get:function(){return this.Tb}},size:{get:function(){return this.Tb}},iterator:{get:function(){if(0>=this.Tb)return hi;var t=this.Sa;return t!==null?(t.reset(),t):new gi(this)}}}),at.prototype.toList=at.prototype.Hv,at.prototype.toArray=at.prototype.Fa,at.prototype.clear=at.prototype.clear,at.prototype.retainAll=at.prototype.pA,at.prototype.removeAll=at.prototype.gp,at.prototype.delete=at.prototype.delete,at.prototype.remove=at.prototype.remove,at.prototype.first=at.prototype.first,at.prototype.containsAny=at.prototype.Ty,at.prototype.containsAll=at.prototype.Sy,at.prototype.has=at.prototype.has,at.prototype.contains=at.prototype.contains,at.prototype.addAll=at.prototype.addAll,at.prototype.add=at.prototype.add,at.prototype.thaw=at.prototype.ka,at.prototype.freeze=at.prototype.freeze;var fn=1;at.className="Set",at.uniqueHash=Ue,at.hashIdUnique=ms,at.hashId=Ni;function Ri(t){this.ma=t,this.qa=t.Ja,this.sa=null}Ri.prototype.reset=function(){this.qa=this.ma.Ja,this.sa=null},Ri.prototype.next=function(){var t=this.ma;if(t.Ja!==this.qa&&this.key===null)return!1;var i=this.sa;return i=i===null?t.ea:i.va,i!==null?(this.sa=i,this.value=this.key=t=i.key,!0):(this.de(),!1)},Ri.prototype.Ad=function(){return this.next()},Ri.prototype.first=function(){var t=this.ma;return this.qa=t.Ja,t=t.ea,t!==null?(this.sa=t,this.value=this.key=t=t.key):null},Ri.prototype.any=function(t){var i=this.ma;for(this.sa=null,i=i.ea;i!==null;){if(t(i.key))return!0;i=i.va}return!1},Ri.prototype.all=function(t){var i=this.ma;for(this.sa=null,i=i.ea;i!==null;){if(!t(i.key))return!1;i=i.va}return!0},Ri.prototype.each=function(t){var i=this.ma;for(this.sa=null,i=i.ea;i!==null;)t(i.key),i=i.va;return this},Ri.prototype.map=function(t){var i=this.ma;this.sa=null;var s=new ct;for(i=i.ea;i!==null;)s.add(t(i.key)),i=i.va;return s.iterator},Ri.prototype.filter=function(t){var i=this.ma;this.sa=null;var s=new ct;for(i=i.ea;i!==null;){var l=i.key;t(l)&&s.add(l),i=i.va}return s.iterator},Ri.prototype.de=function(){this.value=this.key=null,this.qa=-1},Ri.prototype.toString=function(){return this.sa!==null?"MapKeySetIterator@"+this.sa.value:"MapKeySetIterator"},S.Object.defineProperties(Ri.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ma.Tb}}}),Ri.prototype.first=Ri.prototype.first,Ri.prototype.hasNext=Ri.prototype.Ad,Ri.prototype.next=Ri.prototype.next,Ri.prototype.reset=Ri.prototype.reset,Ri.className="MapKeySetIterator";function Ne(t){at.call(this),Ue(this),this._isFrozen=!0,this.ma=t}x(Ne,at),n=Ne.prototype,n.freeze=function(){return this},n.ka=function(){return this},n.toString=function(){return"MapKeySet("+this.ma.toString()+")"},n.add=function(){D("This Set is read-only: "+this.toString())},n.contains=function(t){return this.ma.contains(t)},n.has=function(t){return this.contains(t)},n.remove=function(){D("This Set is read-only: "+this.toString())},n.delete=function(t){return this.remove(t)},n.clear=function(){D("This Set is read-only: "+this.toString())},n.first=function(){var t=this.ma.ea;return t!==null?t.key:null},Ne.prototype.any=function(t){for(var i=this.ma.ea;i!==null;){if(t(i.key))return!0;i=i.va}return!1},Ne.prototype.all=function(t){for(var i=this.ma.ea;i!==null;){if(!t(i.key))return!1;i=i.va}return!0},Ne.prototype.each=function(t){for(var i=this.ma.ea;i!==null;)t(i.key),i=i.va;return this},Ne.prototype.map=function(t){for(var i=new at,s=this.ma.ea;s!==null;)i.add(t(s.key)),s=s.va;return i},Ne.prototype.filter=function(t){for(var i=new at,s=this.ma.ea;s!==null;){var l=s.key;t(l)&&i.add(l),s=s.va}return i},Ne.prototype.copy=function(){return new Ne(this.ma)},Ne.prototype.Iv=function(){var t=new at,i=this.ma.Ub,s;for(s in i)t.add(i[s].key);return t},Ne.prototype.Fa=function(){var t=this.ma.Ub,i=Array(this.ma.Tb),s=0,l;for(l in t)i[s]=t[l].key,s++;return i},Ne.prototype.Hv=function(){var t=new ct,i=this.ma.Ub,s;for(s in i)t.add(i[s].key);return t},S.Object.defineProperties(Ne.prototype,{count:{get:function(){return this.ma.Tb}},size:{get:function(){return this.ma.Tb}},iterator:{get:function(){return 0>=this.ma.Tb?hi:new Ri(this.ma)}}}),Ne.prototype.toList=Ne.prototype.Hv,Ne.prototype.toArray=Ne.prototype.Fa,Ne.prototype.toSet=Ne.prototype.Iv,Ne.prototype.first=Ne.prototype.first,Ne.prototype.clear=Ne.prototype.clear,Ne.prototype.delete=Ne.prototype.delete,Ne.prototype.remove=Ne.prototype.remove,Ne.prototype.has=Ne.prototype.has,Ne.prototype.contains=Ne.prototype.contains,Ne.prototype.add=Ne.prototype.add,Ne.prototype.thaw=Ne.prototype.ka,Ne.prototype.freeze=Ne.prototype.freeze,Ne.className="MapKeySet";function ze(t){this.ma=t,t.jf=null,this.qa=t.Ja,this.sa=null}ze.prototype.reset=function(){var t=this.ma;t.jf=null,this.qa=t.Ja,this.sa=null},ze.prototype.next=function(){var t=this.ma;if(t.Ja!==this.qa&&this.key===null)return!1;var i=this.sa;return i=i===null?t.ea:i.va,i!==null?(this.sa=i,this.value=i.value,this.key=i.key,!0):(this.de(),!1)},ze.prototype.Ad=function(){return this.next()},ze.prototype.first=function(){var t=this.ma;if(this.qa=t.Ja,t=t.ea,t!==null){this.sa=t;var i=t.value;return this.key=t.key,this.value=i}return null},ze.prototype.any=function(t){var i=this.ma;for(this.sa=i.jf=null,i=i.ea;i!==null;){if(t(i.value))return!0;i=i.va}return!1},ze.prototype.all=function(t){var i=this.ma;for(this.sa=i.jf=null,i=i.ea;i!==null;){if(!t(i.value))return!1;i=i.va}return!0},ze.prototype.each=function(t){var i=this.ma;for(this.sa=i.jf=null,i=i.ea;i!==null;)t(i.value),i=i.va;return this},ze.prototype.map=function(t){var i=this.ma;this.sa=i.jf=null;var s=new ct;for(i=i.ea;i!==null;)s.add(t(i.value)),i=i.va;return s.iterator},ze.prototype.filter=function(t){var i=this.ma;this.sa=i.jf=null;var s=new ct;for(i=i.ea;i!==null;){var l=i.value;t(l)&&s.add(l),i=i.va}return s.iterator},ze.prototype.de=function(){this.value=this.key=null,this.qa=-1,this.ma.jf=this},ze.prototype.toString=function(){return this.sa!==null?"MapValueSetIterator@"+this.sa.value:"MapValueSetIterator"},S.Object.defineProperties(ze.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ma.Tb}}}),ze.prototype.first=ze.prototype.first,ze.prototype.hasNext=ze.prototype.Ad,ze.prototype.next=ze.prototype.next,ze.prototype.reset=ze.prototype.reset,ze.className="MapValueSetIterator";function _o(t,i){this.key=t,this.value=i,this.kl=this.va=null}_o.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"},_o.className="KeyValuePair";function Bi(t){this.ma=t,t.Sa=null,this.qa=t.Ja,this.sa=null}Bi.prototype.reset=function(){var t=this.ma;t.Sa=null,this.qa=t.Ja,this.sa=null},Bi.prototype.next=function(){var t=this.ma;if(t.Ja!==this.qa&&this.key===null)return!1;var i=this.sa;return i=i===null?t.ea:i.va,i!==null?(this.sa=i,this.key=i.key,this.value=i.value,!0):(this.de(),!1)},Bi.prototype.Ad=function(){return this.next()},Bi.prototype.first=function(){var t=this.ma;return this.qa=t.Ja,t=t.ea,t!==null?(this.sa=t,this.key=t.key,this.value=t.value,t):null},Bi.prototype.any=function(t){var i=this.ma;for(this.sa=i.Sa=null,i=i.ea;i!==null;){if(t(i))return!0;i=i.va}return!1},Bi.prototype.all=function(t){var i=this.ma;for(this.sa=i.Sa=null,i=i.ea;i!==null;){if(!t(i))return!1;i=i.va}return!0},Bi.prototype.each=function(t){var i=this.ma;for(this.sa=i.Sa=null,i=i.ea;i!==null;)t(i),i=i.va;return this},Bi.prototype.map=function(t){var i=this.ma;this.sa=i.Sa=null;var s=new ct;for(i=i.ea;i!==null;)s.add(t(i)),i=i.va;return s.iterator},Bi.prototype.filter=function(t){var i=this.ma;this.sa=i.Sa=null;var s=new ct;for(i=i.ea;i!==null;)t(i)&&s.add(i),i=i.va;return s.iterator},Bi.prototype.de=function(){this.value=this.key=null,this.qa=-1,this.ma.Sa=this},Bi.prototype.toString=function(){return this.sa!==null?"MapIterator@"+this.sa:"MapIterator"},S.Object.defineProperties(Bi.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ma.Tb}}}),Bi.prototype.first=Bi.prototype.first,Bi.prototype.hasNext=Bi.prototype.Ad,Bi.prototype.next=Bi.prototype.next,Bi.prototype.reset=Bi.prototype.reset,Bi.className="MapIterator";function jt(t){Ue(this),this._isFrozen=!1,this.Ub={},this.Tb=0,this.jf=this.Sa=null,this.Ja=0,this.kf=this.ea=null,typeof t=="string"&&D("Error: Since 2.0 List/Map/Set constructors no longer take an argument that enforces type."),t!==void 0&&this.addAll(t)}n=jt.prototype,n.yb=function(){var t=this.Ja;t++,999999999<t&&(t=0),this.Ja=t},n.freeze=function(){return this._isFrozen=!0,this},n.ka=function(){return this._isFrozen=!1,this},n.toString=function(){return"Map()#"+Ni(this)},n.add=function(t,i){this._isFrozen&&B(this,t);var s=t;J(t)&&(s=ms(t));var l=this.Ub[s];return l===void 0?(this.Tb++,t=new _o(t,i),this.Ub[s]=t,s=this.kf,s===null?this.ea=t:(t.kl=s,s.va=t),this.kf=t,this.yb()):l.value=i,this},n.set=function(t,i){return this.add(t,i)},n.addAll=function(t){if(t===null)return this;if(ot(t))for(var i=t.length,s=0;s<i;s++){var l=t[s];this.add(l.key,l.value)}else if(t instanceof jt)for(t=t.iterator;t.next();)this.add(t.key,t.value);else for(t=t.iterator;t.next();)i=t.value,this.add(i.key,i.value);return this},n.first=function(){return this.ea},jt.prototype.any=function(t){for(var i=this.ea;i!==null;){if(t(i))return!0;i=i.va}return!1},jt.prototype.all=function(t){for(var i=this.ea;i!==null;){if(!t(i))return!1;i=i.va}return!0},jt.prototype.each=function(t){for(var i=this.ea;i!==null;)t(i),i=i.va;return this},jt.prototype.map=function(t){for(var i=new jt,s=this.ea;s!==null;)i.add(s.key,t(s)),s=s.va;return i},jt.prototype.filter=function(t){for(var i=new jt,s=this.ea;s!==null;)t(s)&&i.add(s.key,s.value),s=s.va;return i},n=jt.prototype,n.contains=function(t){var i=t;return J(t)&&(i=Ni(t),i===void 0)?!1:this.Ub[i]!==void 0},n.has=function(t){return this.contains(t)},n.I=function(t){var i=t;return J(t)&&(i=Ni(t),i===void 0)?null:(t=this.Ub[i],t===void 0?null:t.value)},n.get=function(t){return this.I(t)},n.remove=function(t){if(t===null)return!1;this._isFrozen&&B(this,t);var i=t;if(J(t)&&(i=Ni(t),i===void 0)||(t=this.Ub[i],t===void 0))return!1;var s=t.va,l=t.kl;return s!==null&&(s.kl=l),l!==null&&(l.va=s),this.ea===t&&(this.ea=s),this.kf===t&&(this.kf=l),delete this.Ub[i],this.Tb--,this.yb(),!0},n.delete=function(t){return this.remove(t)},n.clear=function(){this._isFrozen&&B(this),this.Ub={},this.Tb=0,this.Sa!==null&&this.Sa.reset(),this.jf!==null&&this.jf.reset(),this.kf=this.ea=null,this.yb()},jt.prototype.copy=function(){var t=new jt,i=this.Ub,s;for(s in i){var l=i[s];t.add(l.key,l.value)}return t},jt.prototype.Fa=function(){var t=this.Ub,i=Array(this.Tb),s=0,l;for(l in t){var u=t[l];i[s]=new _o(u.key,u.value),s++}return i},jt.prototype.Lf=function(){return new Ne(this)},S.Object.defineProperties(jt.prototype,{count:{get:function(){return this.Tb}},size:{get:function(){return this.Tb}},iterator:{get:function(){if(0>=this.count)return hi;var t=this.Sa;return t!==null?(t.reset(),t):new Bi(this)}},iteratorKeys:{get:function(){return 0>=this.count?hi:new Ri(this)}},iteratorValues:{get:function(){if(0>=this.count)return hi;var t=this.jf;return t!==null?(t.reset(),t):new ze(this)}}}),jt.prototype.toKeySet=jt.prototype.Lf,jt.prototype.toArray=jt.prototype.Fa,jt.prototype.clear=jt.prototype.clear,jt.prototype.delete=jt.prototype.delete,jt.prototype.remove=jt.prototype.remove,jt.prototype.get=jt.prototype.get,jt.prototype.getValue=jt.prototype.I,jt.prototype.has=jt.prototype.has,jt.prototype.contains=jt.prototype.contains,jt.prototype.first=jt.prototype.first,jt.prototype.addAll=jt.prototype.addAll,jt.prototype.set=jt.prototype.set,jt.prototype.add=jt.prototype.add,jt.prototype.thaw=jt.prototype.ka,jt.prototype.freeze=jt.prototype.freeze,jt.className="Map";function F(t,i){t===void 0?this.y=this.x=0:typeof t=="number"&&typeof i=="number"?(this.x=t,this.y=i):D("Invalid arguments to Point constructor: "+t+", "+i),this._isFrozen=!1}var mo,Ld,sf,fa,of;F.prototype.assign=function(t){return this.x=t.x,this.y=t.y,this},F.prototype.h=function(t,i){return this.x=t,this.y=i,this},F.prototype.sg=function(t,i){return this.x=t,this.y=i,this},F.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},F.prototype.copy=function(){var t=new F;return t.x=this.x,t.y=this.y,t},n=F.prototype,n.ja=function(){return this._isFrozen=!0,Object.freeze(this),this},n.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this._isFrozen=!0,this},n.ka=function(){return Object.isFrozen(this)&&D("cannot thaw constant: "+this),this._isFrozen=!1,this};function xu(t){if(typeof t=="string"){t=t.split(" ");for(var i=0,s=0;t[i]==="";)i++;var l=t[i++];l&&(s=parseFloat(l));for(var u=0;t[i]==="";)i++;return(l=t[i++])&&(u=parseFloat(l)),new F(s,u)}return new F}function Dv(t){return t.x.toString()+" "+t.y.toString()}n.toString=function(){return"Point("+this.x+","+this.y+")"},n.D=function(t){return t instanceof F?this.x===t.x&&this.y===t.y:!1},n.hi=function(t,i){return this.x===t&&this.y===i},n.Xa=function(t){return U.B(this.x,t.x)&&U.B(this.y,t.y)},n.add=function(t){return this.x+=t.x,this.y+=t.y,this},n.re=function(t){return this.x-=t.x,this.y-=t.y,this},n.offset=function(t,i){return this.x+=t,this.y+=i,this},F.prototype.rotate=function(t){if(t===0)return this;var i=this.x,s=this.y;if(i===0&&s===0)return this;if(360<=t?t-=360:0>t&&(t+=360),t===90){t=0;var l=1}else t===180?(t=-1,l=0):t===270?(t=0,l=-1):(l=t*Math.PI/180,t=Math.cos(l),l=Math.sin(l));return this.x=t*i-l*s,this.y=l*i+t*s,this},n=F.prototype,n.scale=function(t,i){return this.x*=t,this.y*=i,this},n.Bf=function(t){var i=t.x-this.x;return t=t.y-this.y,i*i+t*t},n.zd=function(t,i){return t-=this.x,i-=this.y,t*t+i*i},n.normalize=function(){var t=this.x,i=this.y,s=Math.sqrt(t*t+i*i);return 0<s&&(this.x=t/s,this.y=i/s),this},n.ab=function(t){return Iv(t.x-this.x,t.y-this.y)},n.direction=function(t,i){return Iv(t-this.x,i-this.y)};function Iv(t,i){if(t===0)return 0<i?90:0>i?270:0;if(i===0)return 0<t?0:180;if(isNaN(t)||isNaN(i))return 0;var s=180*Math.atan(Math.abs(i/t))/Math.PI;return 0>t?s=0>i?s+180:180-s:0>i&&(s=360-s),s}n.Ry=function(t,i){return U.El(t.x,t.y,i.x,i.y,this.x,this.y)},n.fA=function(t,i,s,l){return U.qh(t,i,s,l,this.x,this.y,this),this},n.gA=function(t,i){return U.qh(t.x,t.y,i.x,i.y,this.x,this.y,this),this},n.uA=function(t,i,s,l){return U.Mo(this.x,this.y,t,i,s,l,this),this},n.vA=function(t,i){return U.Mo(this.x,this.y,t.x,t.y,i.width,i.height,this),this},n.xi=function(t,i){return this.x=t.x+i.x*t.width+i.offsetX,this.y=t.y+i.y*t.height+i.offsetY,this},n.yi=function(t,i,s,l,u){return this.x=t+u.x*s+u.offsetX,this.y=i+u.y*l+u.offsetY,this},n.transform=function(t){return t.Ga(this),this};function Li(t,i){return i.Cd(t),t}function $i(t,i,s,l,u,c){var d=u-s,m=c-l,y=d*d+m*m;s-=t,l-=i;var O=-s*d-l*m;return 0>=O||O>=y?(d=u-t,m=c-i,Math.min(s*s+l*l,d*d+m*m)):(t=d*l-m*s,t*t/y)}function go(t,i,s,l){return t=s-t,i=l-i,t*t+i*i}function lf(t,i,s,l){return t=s-t,i=l-i,t===0?0<i?90:0>i?270:0:i===0?0<t?0:180:isNaN(t)||isNaN(i)?0:(l=180*Math.atan(Math.abs(i/t))/Math.PI,0>t?l=0>i?l+180:180-l:0>i&&(l=360-l),l)}n.w=function(){return isFinite(this.x)&&isFinite(this.y)},F.alloc=function(){var t=Zo.pop();return t===void 0?new F:t},F.allocAt=function(t,i){var s=Zo.pop();return s===void 0?new F(t,i):(s.x=t,s.y=i,s)},F.free=function(t){Zo.push(t)},F.prototype.isReal=F.prototype.w,F.prototype.setSpot=F.prototype.yi,F.prototype.setRectSpot=F.prototype.xi,F.prototype.snapToGridPoint=F.prototype.vA,F.prototype.snapToGrid=F.prototype.uA,F.prototype.projectOntoLineSegmentPoint=F.prototype.gA,F.prototype.projectOntoLineSegment=F.prototype.fA,F.intersectingLineSegments=function(t,i,s,l,u,c,d,m){return U.Ql(t,i,s,l,u,c,d,m)},F.prototype.compareWithLineSegmentPoint=F.prototype.Ry,F.compareWithLineSegment=function(t,i,s,l,u,c){return U.El(t,i,s,l,u,c)},F.prototype.direction=F.prototype.direction,F.prototype.directionPoint=F.prototype.ab,F.prototype.normalize=F.prototype.normalize,F.prototype.distanceSquared=F.prototype.zd,F.prototype.distanceSquaredPoint=F.prototype.Bf,F.prototype.scale=F.prototype.scale,F.prototype.rotate=F.prototype.rotate,F.prototype.offset=F.prototype.offset,F.prototype.subtract=F.prototype.re,F.prototype.add=F.prototype.add,F.prototype.equalsApprox=F.prototype.Xa,F.prototype.equalTo=F.prototype.hi,F.prototype.equals=F.prototype.D,F.prototype.set=F.prototype.set,F.prototype.setTo=F.prototype.sg;var Zo=[];F.className="Point",F.parse=xu,F.stringify=Dv,F.distanceLineSegmentSquared=$i,F.distanceSquared=go,F.direction=lf,F.Origin=mo=new F(0,0).ja(),F.InfiniteTopLeft=Ld=new F(-1/0,-1/0).ja(),F.InfiniteBottomRight=sf=new F(1/0,1/0).ja(),F.SixPoint=fa=new F(6,6).ja(),F.NoPoint=of=new F(NaN,NaN).ja(),F.parse=xu,F.stringify=Dv,F.distanceLineSegmentSquared=$i,F.distanceSquared=go,F.direction=lf;function At(t,i){t===void 0?this.height=this.width=0:typeof t=="number"&&(0<=t||isNaN(t))&&typeof i=="number"&&(0<=i||isNaN(i))?(this.width=t,this.height=i):D("Invalid arguments to Size constructor: "+t+", "+i),this._isFrozen=!1}var wu,af,$d,ge,Mn,Vn,cr;At.prototype.assign=function(t){return this.width=t.width,this.height=t.height,this},At.prototype.h=function(t,i){return this.width=t,this.height=i,this},At.prototype.sg=function(t,i){return this.width=t,this.height=i,this},At.prototype.set=function(t){return this.width=t.width,this.height=t.height,this},At.prototype.copy=function(){var t=new At;return t.width=this.width,t.height=this.height,t},n=At.prototype,n.ja=function(){return this._isFrozen=!0,Object.freeze(this),this},n.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this._isFrozen=!0,this},n.ka=function(){return Object.isFrozen(this)&&D("cannot thaw constant: "+this),this._isFrozen=!1,this};function uf(t){if(typeof t=="string"){t=t.split(" ");for(var i=0,s=0;t[i]==="";)i++;var l=t[i++];l&&(s=parseFloat(l));for(var u=0;t[i]==="";)i++;return(l=t[i++])&&(u=parseFloat(l)),new At(s,u)}return new At}function zn(t){return t.width.toString()+" "+t.height.toString()}n.toString=function(){return"Size("+this.width+","+this.height+")"},n.D=function(t){return t instanceof At?this.width===t.width&&this.height===t.height:!1},n.hi=function(t,i){return this.width===t&&this.height===i},n.Xa=function(t){return U.B(this.width,t.width)&&U.B(this.height,t.height)},n.Bc=function(t,i){return t=this.width+t,this.width=0<=t?t:0,i=this.height+i,this.height=0<=i?i:0,this},n.w=function(){return isFinite(this.width)&&isFinite(this.height)},At.alloc=function(){var t=gs.pop();return t===void 0?new At:t},At.free=function(t){gs.push(t)},At.prototype.isReal=At.prototype.w,At.prototype.inflate=At.prototype.Bc,At.prototype.equalsApprox=At.prototype.Xa,At.prototype.equalTo=At.prototype.hi,At.prototype.equals=At.prototype.D,At.prototype.set=At.prototype.set,At.prototype.setTo=At.prototype.sg;var gs=[];At.className="Size",At.parse=uf,At.stringify=zn,At.ZeroSize=wu=new At(0,0).ja(),At.OneSize=af=new At(1,1).ja(),At.SixSize=$d=new At(6,6).ja(),At.EightSize=ge=new At(8,8).ja(),At.TenSize=Mn=new At(10,10).ja(),At.InfiniteSize=Vn=new At(1/0,1/0).ja(),At.NoSize=cr=new At(NaN,NaN).ja(),At.parse=uf,At.stringify=zn;function tt(t,i,s,l){t===void 0?this.height=this.width=this.y=this.x=0:typeof t=="number"&&typeof i=="number"&&typeof s=="number"&&(0<=s||isNaN(s))&&typeof l=="number"&&(0<=l||isNaN(l))?(this.x=t,this.y=i,this.width=s,this.height=l):t instanceof F?(s=t.x,t=t.y,i instanceof F?(l=i.x,i=i.y,this.x=Math.min(s,l),this.y=Math.min(t,i),this.width=Math.abs(s-l),this.height=Math.abs(t-i)):i instanceof At?(this.x=s,this.y=t,this.width=i.width,this.height=i.height):D("Incorrect second argument supplied to Rect constructor "+i)):D("Invalid arguments to Rect constructor: "+t+", "+i+", "+s+", "+l),this._isFrozen=!1}n=tt.prototype,n.assign=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.h=function(t,i,s,l){return this.x=t,this.y=i,this.width=s,this.height=l,this};function Ki(t,i,s){t.width=i,t.height=s}n.sg=function(t,i,s,l){return this.x=t,this.y=i,this.width=s,this.height=l,this},n.set=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.dd=function(t){return this.x=t.x,this.y=t.y,this},n.tA=function(t){return this.width=t.width,this.height=t.height,this},tt.prototype.copy=function(){var t=new tt;return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},n=tt.prototype,n.ja=function(){return this._isFrozen=!0,Object.freeze(this),this},n.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this._isFrozen=!0,this},n.ka=function(){return Object.isFrozen(this)&&D("cannot thaw constant: "+this),this._isFrozen=!1,this};function Is(t){if(typeof t=="string"){t=t.split(" ");for(var i=0,s=0;t[i]==="";)i++;var l=t[i++];l&&(s=parseFloat(l));for(var u=0;t[i]==="";)i++;(l=t[i++])&&(u=parseFloat(l));for(var c=0;t[i]==="";)i++;(l=t[i++])&&(c=parseFloat(l));for(var d=0;t[i]==="";)i++;return(l=t[i++])&&(d=parseFloat(l)),new tt(s,u,c,d)}return new tt}function Dg(t){return t.x.toString()+" "+t.y.toString()+" "+t.width.toString()+" "+t.height.toString()}n.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"},n.D=function(t){return t instanceof tt?this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height:!1},n.hi=function(t,i,s,l){return this.x===t&&this.y===i&&this.width===s&&this.height===l},n.Xa=function(t){return U.B(this.x,t.x)&&U.B(this.y,t.y)&&U.B(this.width,t.width)&&U.B(this.height,t.height)};function Nl(t,i){return U.$(t.x,i.x)&&U.$(t.y,i.y)&&U.$(t.width,i.width)&&U.$(t.height,i.height)}n.ca=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y},n.Re=function(t){return this.x<=t.x&&t.x+t.width<=this.x+this.width&&this.y<=t.y&&t.y+t.height<=this.y+this.height},n.contains=function(t,i,s,l){return s===void 0&&(s=0),l===void 0&&(l=0),this.x<=t&&t+s<=this.x+this.width&&this.y<=i&&i+l<=this.y+this.height},n.offset=function(t,i){return this.x+=t,this.y+=i,this},n.Bc=function(t,i){return Ig(this,i,t,i,t)},n.Bo=function(t){return Ig(this,t.top,t.right,t.bottom,t.left)},n.Fv=function(t){return Ig(this,-t.top,-t.right,-t.bottom,-t.left)},n.Hz=function(t,i,s,l){return Ig(this,t,i,s,l)};function Ig(t,i,s,l,u){var c=t.width;return s+u<=-c?(t.x+=c/2,t.width=0):(t.x-=u,t.width+=s+u),s=t.height,i+l<=-s?(t.y+=s/2,t.height=0):(t.y-=i,t.height+=i+l),t}n.Ex=function(t){return x5(this,t.x,t.y,t.width,t.height)},n.Uu=function(t,i,s,l){return x5(this,t,i,s,l)};function x5(t,i,s,l,u){var c=Math.max(t.x,i),d=Math.max(t.y,s);return i=Math.min(t.x+t.width,i+l),s=Math.min(t.y+t.height,s+u),t.x=c,t.y=d,t.width=Math.max(0,i-c),t.height=Math.max(0,s-d),t}n.Yc=function(t){return this.Vu(t.x,t.y,t.width,t.height)},n.Vu=function(t,i,s,l){var u=this.width,c=this.x;return u!==1/0&&s!==1/0&&(u+=c,s+=t,isNaN(s)||isNaN(u)||c>s||t>u)?!1:(t=this.height,s=this.y,!(t!==1/0&&l!==1/0&&(t+=s,l+=i,isNaN(l)||isNaN(t)||s>l||i>t)))};function w5(t,i){var s=t.width,l=t.x,u=i.x-10;return l>i.width+10+10+u||u>s+l?!1:(s=t.height,t=t.y,l=i.y-10,!(t>i.height+10+10+l||l>s+t))}n.Ye=function(t){return Si(this,t.x,t.y,0,0)},n.ed=function(t){return Si(this,t.x,t.y,t.width,t.height)},n.Kv=function(t,i,s,l){return s===void 0&&(s=0),l===void 0&&(l=0),Si(this,t,i,s,l)};function Si(t,i,s,l,u){var c=Math.min(t.x,i),d=Math.min(t.y,s);return i=Math.max(t.x+t.width,i+l),s=Math.max(t.y+t.height,s+u),t.x=c,t.y=d,t.width=i-c,t.height=s-d,t}n.yi=function(t,i,s){return this.x=t-s.offsetX-s.x*this.width,this.y=i-s.offsetY-s.y*this.height,this};function Fs(t,i,s,l,u,c,d,m){return d===void 0&&(d=0),m===void 0&&(m=0),t<=u&&u+d<=t+s&&i<=c&&c+m<=i+l}function S5(t,i,s,l,u,c,d,m){return t>d+u||u>s+t?!1:!(i>m+c||c>l+i)}n.w=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.Mz=function(){return this.width===0&&this.height===0},tt.alloc=function(){var t=g2.pop();return t===void 0?new tt:t},tt.allocAt=function(t,i,s,l){var u=g2.pop();return u===void 0?new tt(t,i,s,l):u.h(t,i,s,l)},tt.free=function(t){g2.push(t)},S.Object.defineProperties(tt.prototype,{left:{get:function(){return this.x},set:function(t){this.x=t}},top:{get:function(){return this.y},set:function(t){this.y=t}},right:{get:function(){return this.x+this.width},set:function(t){this.x+=t-(this.x+this.width)}},bottom:{get:function(){return this.y+this.height},set:function(t){this.y+=t-(this.y+this.height)}},position:{get:function(){return new F(this.x,this.y)},set:function(t){this.x=t.x,this.y=t.y}},size:{get:function(){return new At(this.width,this.height)},set:function(t){this.width=t.width,this.height=t.height}},center:{get:function(){return new F(this.x+this.width/2,this.y+this.height/2)},set:function(t){this.x=t.x-this.width/2,this.y=t.y-this.height/2}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}}),tt.prototype.isEmpty=tt.prototype.Mz,tt.prototype.isReal=tt.prototype.w,tt.intersectsLineSegment=function(t,i,s,l,u,c,d,m){return U.Fx(t,i,s,l,u,c,d,m)},tt.prototype.setSpot=tt.prototype.yi,tt.prototype.union=tt.prototype.Kv,tt.prototype.unionRect=tt.prototype.ed,tt.prototype.unionPoint=tt.prototype.Ye,tt.prototype.intersects=tt.prototype.Vu,tt.prototype.intersectsRect=tt.prototype.Yc,tt.prototype.intersect=tt.prototype.Uu,tt.prototype.intersectRect=tt.prototype.Ex,tt.prototype.grow=tt.prototype.Hz,tt.prototype.subtractMargin=tt.prototype.Fv,tt.prototype.addMargin=tt.prototype.Bo,tt.prototype.inflate=tt.prototype.Bc,tt.prototype.offset=tt.prototype.offset,tt.prototype.contains=tt.prototype.contains,tt.prototype.containsRect=tt.prototype.Re,tt.prototype.containsPoint=tt.prototype.ca,tt.prototype.equalsApprox=tt.prototype.Xa,tt.prototype.equalTo=tt.prototype.hi,tt.prototype.equals=tt.prototype.D,tt.prototype.setSize=tt.prototype.tA,tt.prototype.setPoint=tt.prototype.dd,tt.prototype.set=tt.prototype.set,tt.prototype.setTo=tt.prototype.sg;var Fv=null,k5=null,g2=[];tt.className="Rect",tt.parse=Is,tt.stringify=Dg,tt.contains=Fs,tt.intersects=S5,tt.ZeroRect=Fv=new tt(0,0,0,0).ja(),tt.NoRect=k5=new tt(NaN,NaN,NaN,NaN).ja(),tt.parse=Is,tt.stringify=Dg,tt.contains=Fs,tt.intersects=S5;function ne(t,i,s,l){t===void 0?this.left=this.bottom=this.right=this.top=0:i===void 0?this.left=this.bottom=this.right=this.top=t:s===void 0?(this.top=t,this.right=i,this.bottom=t,this.left=i):l!==void 0?(this.top=t,this.right=i,this.bottom=s,this.left=l):D("Invalid arguments to Margin constructor: "+t+", "+i+", "+s+", "+l),this._isFrozen=!1}ne.prototype.assign=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},ne.prototype.sg=function(t,i,s,l){return this.top=t,this.right=i,this.bottom=s,this.left=l,this},ne.prototype.set=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},ne.prototype.copy=function(){var t=new ne;return t.top=this.top,t.right=this.right,t.bottom=this.bottom,t.left=this.left,t},n=ne.prototype,n.ja=function(){return this._isFrozen=!0,Object.freeze(this),this},n.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this._isFrozen=!0,this},n.ka=function(){return Object.isFrozen(this)&&D("cannot thaw constant: "+this),this._isFrozen=!1,this};function P5(t){if(typeof t=="string"){t=t.split(" ");for(var i=0,s=NaN;t[i]==="";)i++;var l=t[i++];if(l&&(s=parseFloat(l)),isNaN(s))return new ne;for(var u=NaN;t[i]==="";)i++;if((l=t[i++])&&(u=parseFloat(l)),isNaN(u))return new ne(s);for(var c=NaN;t[i]==="";)i++;if((l=t[i++])&&(c=parseFloat(l)),isNaN(c))return new ne(s,u);for(var d=NaN;t[i]==="";)i++;return(l=t[i++])&&(d=parseFloat(l)),isNaN(d)?new ne(s,u):new ne(s,u,c,d)}return new ne}function b5(t){return t.top.toString()+" "+t.right.toString()+" "+t.bottom.toString()+" "+t.left.toString()}n.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"},n.D=function(t){return t instanceof ne?this.top===t.top&&this.right===t.right&&this.bottom===t.bottom&&this.left===t.left:!1},n.hi=function(t,i,s,l){return this.top===t&&this.right===i&&this.bottom===s&&this.left===l},n.Xa=function(t){return U.B(this.top,t.top)&&U.B(this.right,t.right)&&U.B(this.bottom,t.bottom)&&U.B(this.left,t.left)},n.w=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)},ne.alloc=function(){var t=T5.pop();return t===void 0?new ne:t},ne.free=function(t){T5.push(t)},ne.prototype.isReal=ne.prototype.w,ne.prototype.equalsApprox=ne.prototype.Xa,ne.prototype.equalTo=ne.prototype.hi,ne.prototype.equals=ne.prototype.D,ne.prototype.set=ne.prototype.set,ne.prototype.setTo=ne.prototype.sg;var Dd=null,y2=null,T5=[];ne.className="Margin",ne.parse=P5,ne.stringify=b5,ne.ZeroMargin=Dd=new ne(0,0,0,0).ja(),ne.TwoMargin=y2=new ne(2,2,2,2).ja(),ne.parse=P5,ne.stringify=b5;function Tt(t,i,s,l){t===void 0?this.offsetY=this.offsetX=this.y=this.x=0:(i===void 0&&(i=0),s===void 0&&(s=0),l===void 0&&(l=0),this.x=t,this.y=i,this.offsetX=s,this.offsetY=l),this._isFrozen=!1}var _i,Ji,Al,Id,Fg,oe,Vg,Fd,hf,Yo,Vd,zd,Xd,Bd,O2,v2,x2,w2,S2,k2,P2,b2,T2,C2,M2,Zi,C5,M5,Vv,Q5,Zr,Yr,Kn,Ur,Q2,N2;Tt.prototype.assign=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},Tt.prototype.sg=function(t,i,s,l){return this.x=t,this.y=i,this.offsetX=s,this.offsetY=l,this},Tt.prototype.set=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},Tt.prototype.copy=function(){var t=new Tt;return t.x=this.x,t.y=this.y,t.offsetX=this.offsetX,t.offsetY=this.offsetY,t},n=Tt.prototype,n.ja=function(){return this._isFrozen=!0,Object.freeze(this),this},n.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this._isFrozen=!0,this},n.ka=function(){return Object.isFrozen(this)&&D("cannot thaw constant: "+this),this._isFrozen=!1,this};function Pr(t,i){return t.x=NaN,t.y=NaN,t.offsetX=i,t}function A2(t){if(typeof t=="string"){if(t=t.trim(),t==="None")return _i;if(t==="TopLeft")return Ji;if(t==="Top"||t==="TopCenter"||t==="MiddleTop")return Al;if(t==="TopRight")return Id;if(t==="Left"||t==="LeftCenter"||t==="MiddleLeft")return Fg;if(t==="Center")return oe;if(t==="Right"||t==="RightCenter"||t==="MiddleRight")return Vg;if(t==="BottomLeft")return Fd;if(t==="Bottom"||t==="BottomCenter"||t==="MiddleBottom")return hf;if(t==="BottomRight")return Yo;if(t==="TopSide")return Vd;if(t==="LeftSide")return zd;if(t==="RightSide")return Xd;if(t==="BottomSide")return Bd;if(t==="TopBottomSides")return O2;if(t==="LeftRightSides")return v2;if(t==="TopLeftSides")return x2;if(t==="TopRightSides")return w2;if(t==="BottomLeftSides")return S2;if(t==="BottomRightSides")return k2;if(t==="NotTopSide")return P2;if(t==="NotLeftSide")return b2;if(t==="NotRightSide")return T2;if(t==="NotBottomSide")return C2;if(t==="AllSides")return M2;if(t==="Default")return Zi;t=t.split(" ");for(var i=0,s=0;t[i]==="";)i++;var l=t[i++];l!==void 0&&0<l.length&&(s=parseFloat(l));for(var u=0;t[i]==="";)i++;l=t[i++],l!==void 0&&0<l.length&&(u=parseFloat(l));for(var c=0;t[i]==="";)i++;l=t[i++],l!==void 0&&0<l.length&&(c=parseFloat(l));for(var d=0;t[i]==="";)i++;return l=t[i++],l!==void 0&&0<l.length&&(d=parseFloat(l)),new Tt(s,u,c,d)}return new Tt}function N5(t){return t.sb()?t.x.toString()+" "+t.y.toString()+" "+t.offsetX.toString()+" "+t.offsetY.toString():t.toString()}n.toString=function(){return this.sb()?this.offsetX===0&&this.offsetY===0?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.D(_i)?"None":this.D(Ji)?"TopLeft":this.D(Al)?"Top":this.D(Id)?"TopRight":this.D(Fg)?"Left":this.D(oe)?"Center":this.D(Vg)?"Right":this.D(Fd)?"BottomLeft":this.D(hf)?"Bottom":this.D(Yo)?"BottomRight":this.D(Vd)?"TopSide":this.D(zd)?"LeftSide":this.D(Xd)?"RightSide":this.D(Bd)?"BottomSide":this.D(O2)?"TopBottomSides":this.D(v2)?"LeftRightSides":this.D(x2)?"TopLeftSides":this.D(w2)?"TopRightSides":this.D(S2)?"BottomLeftSides":this.D(k2)?"BottomRightSides":this.D(P2)?"NotTopSide":this.D(b2)?"NotLeftSide":this.D(T2)?"NotRightSide":this.D(C2)?"NotBottomSide":this.D(M2)?"AllSides":this.D(Zi)?"Default":"None"},n.D=function(t){return t instanceof Tt?(this.x===t.x||isNaN(this.x)&&isNaN(t.x))&&(this.y===t.y||isNaN(this.y)&&isNaN(t.y))&&this.offsetX===t.offsetX&&this.offsetY===t.offsetY:!1},n.gv=function(){return new Tt(.5-(this.x-.5),.5-(this.y-.5),-this.offsetX,-this.offsetY)},n.Hf=function(t){if(!this.$c())return!1;if(!t.$c())if(t.D(C5))t=zd;else if(t.D(M5))t=Xd;else if(t.D(Vv))t=Vd;else if(t.D(Q5))t=Bd;else return!1;return t=t.offsetY,(this.offsetY&t)===t},n.sb=function(){return!isNaN(this.x)&&!isNaN(this.y)},n.Mc=function(){return isNaN(this.x)||isNaN(this.y)},n.$c=function(){return isNaN(this.x)&&isNaN(this.y)&&this.offsetX===1&&this.offsetY!==0},n.xs=function(){return isNaN(this.x)&&isNaN(this.y)&&this.offsetX===0&&this.offsetY===0},n.Yb=function(){return isNaN(this.x)&&isNaN(this.y)&&this.offsetX===-1&&this.offsetY===0},Tt.alloc=function(){var t=A5.pop();return t===void 0?new Tt:t},Tt.free=function(t){A5.push(t)},Tt.prototype.isDefault=Tt.prototype.Yb,Tt.prototype.isNone=Tt.prototype.xs,Tt.prototype.isSide=Tt.prototype.$c,Tt.prototype.isNoSpot=Tt.prototype.Mc,Tt.prototype.isSpot=Tt.prototype.sb,Tt.prototype.includesSide=Tt.prototype.Hf,Tt.prototype.opposite=Tt.prototype.gv,Tt.prototype.equals=Tt.prototype.D,Tt.prototype.set=Tt.prototype.set,Tt.prototype.setTo=Tt.prototype.sg;var A5=[];Tt.className="Spot",Tt.parse=A2,Tt.stringify=N5,Tt.None=_i=Pr(new Tt(0,0,0,0),0).ja(),Tt.Default=Zi=Pr(new Tt(0,0,-1,0),-1).ja(),Tt.TopLeft=Ji=new Tt(0,0,0,0).ja(),Tt.TopCenter=Al=new Tt(.5,0,0,0).ja(),Tt.TopRight=Id=new Tt(1,0,0,0).ja(),Tt.LeftCenter=Fg=new Tt(0,.5,0,0).ja(),Tt.Center=oe=new Tt(.5,.5,0,0).ja(),Tt.RightCenter=Vg=new Tt(1,.5,0,0).ja(),Tt.BottomLeft=Fd=new Tt(0,1,0,0).ja(),Tt.BottomCenter=hf=new Tt(.5,1,0,0).ja(),Tt.BottomRight=Yo=new Tt(1,1,0,0).ja(),Tt.MiddleTop=Zr=Al,Tt.MiddleLeft=Yr=Fg,Tt.MiddleRight=Kn=Vg,Tt.MiddleBottom=Ur=hf,Tt.Top=Vv=Al,Tt.Left=C5=Fg,Tt.Right=M5=Vg,Tt.Bottom=Q5=hf,Tt.TopSide=Vd=Pr(new Tt(0,0,1,1),1).ja(),Tt.LeftSide=zd=Pr(new Tt(0,0,1,2),1).ja(),Tt.RightSide=Xd=Pr(new Tt(0,0,1,4),1).ja(),Tt.BottomSide=Bd=Pr(new Tt(0,0,1,8),1).ja(),Tt.TopBottomSides=O2=Pr(new Tt(0,0,1,9),1).ja(),Tt.LeftRightSides=v2=Pr(new Tt(0,0,1,6),1).ja(),Tt.TopLeftSides=x2=Pr(new Tt(0,0,1,3),1).ja(),Tt.TopRightSides=w2=Pr(new Tt(0,0,1,5),1).ja(),Tt.BottomLeftSides=S2=Pr(new Tt(0,0,1,10),1).ja(),Tt.BottomRightSides=k2=Pr(new Tt(0,0,1,12),1).ja(),Tt.NotTopSide=P2=Pr(new Tt(0,0,1,14),1).ja(),Tt.NotLeftSide=b2=Pr(new Tt(0,0,1,13),1).ja(),Tt.NotRightSide=T2=Pr(new Tt(0,0,1,11),1).ja(),Tt.NotBottomSide=C2=Pr(new Tt(0,0,1,7),1).ja(),Tt.AllSides=M2=Pr(new Tt(0,0,1,15),1).ja(),Q2=new Tt(.156,.156).ja(),N2=new Tt(.844,.844).ja(),Tt.parse=A2,Tt.stringify=N5;function Xt(){this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0}Xt.prototype.set=function(t){return this.m11=t.m11,this.m12=t.m12,this.m21=t.m21,this.m22=t.m22,this.dx=t.dx,this.dy=t.dy,this},Xt.prototype.setTransform=function(t,i,s,l,u,c){return this.m11=t,this.m12=i,this.m21=s,this.m22=l,this.dx=u,this.dy=c,this},Xt.prototype.copy=function(){var t=new Xt;return t.m11=this.m11,t.m12=this.m12,t.m21=this.m21,t.m22=this.m22,t.dx=this.dx,t.dy=this.dy,t},Xt.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"},Xt.prototype.D=function(t){return this.m11===t.m11&&this.m12===t.m12&&this.m21===t.m21&&this.m22===t.m22&&this.dx===t.dx&&this.dy===t.dy},Xt.prototype.vs=function(){return this.dx===0&&this.dy===0&&this.m11===1&&this.m12===0&&this.m21===0&&this.m22===1},Xt.prototype.reset=function(){return this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0,this},Xt.prototype.multiply=function(t){var i=this.m11*t.m11+this.m21*t.m12,s=this.m12*t.m11+this.m22*t.m12,l=this.m11*t.m21+this.m21*t.m22,u=this.m12*t.m21+this.m22*t.m22;return this.dx=this.m11*t.dx+this.m21*t.dy+this.dx,this.dy=this.m12*t.dx+this.m22*t.dy+this.dy,this.m11=i,this.m12=s,this.m21=l,this.m22=u,this},Xt.prototype.bv=function(t){var i=1/(t.m11*t.m22-t.m12*t.m21),s=t.m22*i,l=-t.m12*i,u=-t.m21*i,c=t.m11*i,d=i*(t.m21*t.dy-t.m22*t.dx);return t=i*(t.m12*t.dx-t.m11*t.dy),i=this.m11*s+this.m21*l,s=this.m12*s+this.m22*l,l=this.m11*u+this.m21*c,u=this.m12*u+this.m22*c,this.dx=this.m11*d+this.m21*t+this.dx,this.dy=this.m12*d+this.m22*t+this.dy,this.m11=i,this.m12=s,this.m21=l,this.m22=u,this},Xt.prototype.Uj=function(){var t=1/(this.m11*this.m22-this.m12*this.m21),i=-this.m12*t,s=-this.m21*t,l=this.m11*t,u=t*(this.m21*this.dy-this.m22*this.dx),c=t*(this.m12*this.dx-this.m11*this.dy);return this.m11=this.m22*t,this.m12=i,this.m21=s,this.m22=l,this.dx=u,this.dy=c,this},Xt.prototype.rotate=function(t,i,s){if(360<=t?t-=360:0>t&&(t+=360),t===0)return this;if(this.translate(i,s),t===90){t=0;var l=1}else t===180?(t=-1,l=0):t===270?(t=0,l=-1):(l=t*Math.PI/180,t=Math.cos(l),l=Math.sin(l));var u=this.m12*t+this.m22*l,c=this.m11*-l+this.m21*t,d=this.m12*-l+this.m22*t;return this.m11=this.m11*t+this.m21*l,this.m12=u,this.m21=c,this.m22=d,this.translate(-i,-s),this},n=Xt.prototype,n.translate=function(t,i){return this.dx+=this.m11*t+this.m21*i,this.dy+=this.m12*t+this.m22*i,this},n.scale=function(t,i){return i===void 0&&(i=t),this.m11*=t,this.m12*=t,this.m21*=i,this.m22*=i,this},n.Ga=function(t){var i=t.x,s=t.y;return t.h(i*this.m11+s*this.m21+this.dx,i*this.m12+s*this.m22+this.dy)},n.Cd=function(t){var i=1/(this.m11*this.m22-this.m12*this.m21),s=t.x,l=t.y;return t.h(s*this.m22*i+l*-this.m21*i+i*(this.m21*this.dy-this.m22*this.dx),s*-this.m12*i+l*this.m11*i+i*(this.m12*this.dx-this.m11*this.dy))},n.Eu=function(t){var i=1/(this.m11*this.m22-this.m12*this.m21),s=1.25*t.x,l=1.2*t.y;return t.h(s*this.m22*i+l*-this.m21*i+i*(this.m21*this.dy-this.m22*this.dx),s*-this.m12*i+l*this.m11*i+i*(this.m12*this.dx-this.m11*this.dy))},n.op=function(t){var i=t.x,s=t.y,l=i+t.width,u=s+t.height,c=this.m11,d=this.m12,m=this.m21,y=this.m22,O=this.dx,w=this.dy,k=i*c+s*m+O,P=i*d+s*y+w,T=l*c+s*m+O,M=l*d+s*y+w;return s=i*c+u*m+O,i=i*d+u*y+w,c=l*c+u*m+O,l=l*d+u*y+w,u=Math.min(k,T),k=Math.max(k,T),T=Math.min(P,M),P=Math.max(P,M),u=Math.min(u,s),k=Math.max(k,s),T=Math.min(T,i),P=Math.max(P,i),u=Math.min(u,c),k=Math.max(k,c),T=Math.min(T,l),P=Math.max(P,l),t.h(u,T,k-u,P-T),t},Xt.alloc=function(){var t=j5.pop();return t===void 0?new Xt:t},Xt.free=function(t){j5.push(t)},Xt.prototype.transformRect=Xt.prototype.op,Xt.prototype.transformPoint=Xt.prototype.Ga,Xt.prototype.scale=Xt.prototype.scale,Xt.prototype.translate=Xt.prototype.translate,Xt.prototype.rotate=Xt.prototype.rotate,Xt.prototype.invert=Xt.prototype.Uj,Xt.prototype.multiplyInverted=Xt.prototype.bv,Xt.prototype.multiply=Xt.prototype.multiply,Xt.prototype.reset=Xt.prototype.reset,Xt.prototype.isIdentity=Xt.prototype.vs,Xt.prototype.equals=Xt.prototype.D,Xt.prototype.setTransform=Xt.prototype.setTransform,Xt.prototype.set=Xt.prototype.set;var j5=[];Xt.className="Transform",Xt.xF="54a702f3e53909c447824c6706603faf4c";var U={AA:"7da71ca0ad381e90",wg:(Math.sqrt(2)-1)/3*4,Uv:null,sqrt:function(t){if(0>=t)return 0;var i=U.Uv;if(i===null){i=[];for(var s=0;2e3>=s;s++)i[s]=Math.sqrt(s);U.Uv=i}return 1>t?(s=1/t,2e3>=s?1/i[s|0]:Math.sqrt(t)):2e3>=t?i[t|0]:Math.sqrt(t)},B:function(t,i){return t-=i,.5>t&&-.5<t},$:function(t,i){return t-=i,5e-8>t&&-5e-8<t},Zb:function(t,i,s,l,u,c,d){if(0>=u&&(u=1e-6),t<s)var m=t,y=s;else m=s,y=t;if(i<l)var O=i,w=l;else O=l,w=i;if(t===s)return O<=d&&d<=w&&t-u<=c&&c<=t+u;if(i===l)return m<=c&&c<=y&&i-u<=d&&d<=i+u;if(y+=u,m-=u,m<=c&&c<=y&&(w+=u,O-=u,O<=d&&d<=w))if(y-m>w-O)if(t-s>u||s-t>u){if(c=(l-i)/(s-t)*(c-t)+i,c-u<=d&&d<=c+u)return!0}else return!0;else if(i-l>u||l-i>u){if(d=(s-t)/(l-i)*(d-i)+t,d-u<=c&&c<=d+u)return!0}else return!0;return!1},bs:function(t,i,s,l,u,c,d,m,y,O,w,k){if(U.Zb(t,i,d,m,k,s,l)&&U.Zb(t,i,d,m,k,u,c))return U.Zb(t,i,d,m,k,O,w);var P=(t+s)/2,T=(i+l)/2,M=(s+u)/2,A=(l+c)/2;u=(u+d)/2,c=(c+m)/2,l=(P+M)/2,s=(T+A)/2,M=(M+u)/2,A=(A+c)/2;var I=(l+M)/2,L=(s+A)/2;return U.bs(t,i,P,T,l,s,I,L,y,O,w,k)||U.bs(I,L,M,A,u,c,d,m,y,O,w,k)},ax:function(t,i,s,l,u,c,d,m,y){var O=(s+u)/2,w=(l+c)/2;return y.h((((t+s)/2+O)/2+(O+(u+d)/2)/2)/2,(((i+l)/2+w)/2+(w+(c+m)/2)/2)/2),y},My:function(t,i,s,l,u,c,d,m){var y=(s+u)/2,O=(l+c)/2;return lf(((t+s)/2+y)/2,((i+l)/2+O)/2,(y+(u+d)/2)/2,(O+(c+m)/2)/2)},Cl:function(t,i,s,l,u,c,d,m,y,O){if(U.Zb(t,i,d,m,y,s,l)&&U.Zb(t,i,d,m,y,u,c))Si(O,t,i,0,0),Si(O,d,m,0,0);else{var w=(t+s)/2,k=(i+l)/2,P=(s+u)/2,T=(l+c)/2;u=(u+d)/2,c=(c+m)/2,l=(w+P)/2,s=(k+T)/2,P=(P+u)/2,T=(T+c)/2;var M=(l+P)/2,A=(s+T)/2;U.Cl(t,i,w,k,l,s,M,A,y,O),U.Cl(M,A,P,T,u,c,d,m,y,O)}return O},Qe:function(t,i,s,l,u,c,d,m,y,O){if(U.Zb(t,i,d,m,y,s,l)&&U.Zb(t,i,d,m,y,u,c))O.length===0&&(O.push(t),O.push(i)),O.push(d),O.push(m);else{var w=(t+s)/2,k=(i+l)/2,P=(s+u)/2,T=(l+c)/2;u=(u+d)/2,c=(c+m)/2,l=(w+P)/2,s=(k+T)/2,P=(P+u)/2,T=(T+c)/2;var M=(l+P)/2,A=(s+T)/2;U.Qe(t,i,w,k,l,s,M,A,y,O),U.Qe(M,A,P,T,u,c,d,m,y,O)}return O},jv:function(t,i,s,l,u,c,d,m,y,O){if(U.Zb(t,i,u,c,O,s,l))return U.Zb(t,i,u,c,O,m,y);var w=(t+s)/2,k=(i+l)/2;s=(s+u)/2,l=(l+c)/2;var P=(w+s)/2,T=(k+l)/2;return U.jv(t,i,w,k,P,T,d,m,y,O)||U.jv(P,T,s,l,u,c,d,m,y,O)},OA:function(t,i,s,l,u,c,d){return d.h(((t+s)/2+(s+u)/2)/2,((i+l)/2+(l+c)/2)/2),d},iv:function(t,i,s,l,u,c,d,m){if(U.Zb(t,i,u,c,d,s,l))Si(m,t,i,0,0),Si(m,u,c,0,0);else{var y=(t+s)/2,O=(i+l)/2;s=(s+u)/2,l=(l+c)/2;var w=(y+s)/2,k=(O+l)/2;U.iv(t,i,y,O,w,k,d,m),U.iv(w,k,s,l,u,c,d,m)}return m},cp:function(t,i,s,l,u,c,d,m){if(U.Zb(t,i,u,c,d,s,l))m.length===0&&(m.push(t),m.push(i)),m.push(u),m.push(c);else{var y=(t+s)/2,O=(i+l)/2;s=(s+u)/2,l=(l+c)/2;var w=(y+s)/2,k=(O+l)/2;U.cp(t,i,y,O,w,k,d,m),U.cp(w,k,s,l,u,c,d,m)}return m},Do:function(t,i,s,l,u,c,d,m,y,O,w,k,P,T){if(U.Zb(t,i,d,m,P,s,l)&&U.Zb(t,i,d,m,P,u,c))return!U.Ql(t,i,d,m,y,O,w,k)||(P=(t-d)*(O-k)-(i-m)*(y-w),P===0)?!1:(T.h(((t*m-i*d)*(y-w)-(t-d)*(y*k-O*w))/P,((t*m-i*d)*(O-k)-(i-m)*(y*k-O*w))/P),!0);var M=(t+s)/2,A=(i+l)/2,I=(s+u)/2,L=(l+c)/2;u=(u+d)/2,c=(c+m)/2,l=(M+I)/2,s=(A+L)/2,I=(I+u)/2,L=(L+c)/2;var z=(l+I)/2,X=(s+L)/2,_=1/0,Y=!1,G=0,ut=0;return U.Do(t,i,M,A,l,s,z,X,y,O,w,k,P,T)&&(t=(T.x-y)*(T.x-y)+(T.y-O)*(T.y-O),t<_&&(_=t,Y=!0,G=T.x,ut=T.y)),U.Do(z,X,I,L,u,c,d,m,y,O,w,k,P,T)&&(T.x-y)*(T.x-y)+(T.y-O)*(T.y-O)<_&&(Y=!0,G=T.x,ut=T.y),Y&&(T.x=G,T.y=ut),Y},Eo:function(t,i,s,l,u,c,d,m,y,O,w,k,P){var T=0;if(U.Zb(t,i,d,m,P,s,l)&&U.Zb(t,i,d,m,P,u,c)){if(P=(t-d)*(O-k)-(i-m)*(y-w),P===0)return T;var M=((t*m-i*d)*(y-w)-(t-d)*(y*k-O*w))/P,A=((t*m-i*d)*(O-k)-(i-m)*(y*k-O*w))/P;if(M>=w)return T;if((y>w?y-w:w-y)<(O>k?O-k:k-O)){if(i<m?(y=i,t=m):(y=m,t=i),A<y||A>t)return T}else if(t<d?(y=t,t=d):y=d,M<y||M>t)return T;0<P?T++:0>P&&T--}else{M=(t+s)/2,A=(i+l)/2;var I=(s+u)/2,L=(l+c)/2;u=(u+d)/2,c=(c+m)/2,l=(M+I)/2,s=(A+L)/2,I=(I+u)/2,L=(L+c)/2;var z=(l+I)/2,X=(s+L)/2;T+=U.Eo(t,i,M,A,l,s,z,X,y,O,w,k,P),T+=U.Eo(z,X,I,L,u,c,d,m,y,O,w,k,P)}return T},qh:function(t,i,s,l,u,c,d){return U.$(t,s)?(i<l?(s=i,i=l):s=l,c<s?(d.h(t,s),!1):c>i?(d.h(t,i),!1):(d.h(t,c),!0)):U.$(i,l)?(t<s?(l=t,t=s):l=s,u<l?(d.h(l,i),!1):u>t?(d.h(t,i),!1):(d.h(u,i),!0)):(u=((t-u)*(t-s)+(i-c)*(i-l))/((s-t)*(s-t)+(l-i)*(l-i)),-5e-6>u?(d.h(t,i),!1):1.000005<u?(d.h(s,l),!1):(d.h(t+u*(s-t),i+u*(l-i)),!0))},Ve:function(t,i,s,l,u,c,d,m,y){return U.B(t,s)&&U.B(i,l)?(y.h(t,i),!1):U.$(u,d)?U.$(t,s)?(U.qh(t,i,s,l,u,c,y),!1):U.qh(t,i,s,l,u,(l-i)/(s-t)*(u-t)+i,y):(m=(m-c)/(d-u),U.$(t,s)?(s=m*(t-u)+c,i<l?(u=i,i=l):u=l,s<u?(y.h(t,u),!1):s>i?(y.h(t,i),!1):(y.h(t,s),!0)):(d=(l-i)/(s-t),U.$(m,d)?(U.qh(t,i,s,l,u,c,y),!1):(u=(d*t-m*u+c-i)/(d-m),U.$(d,0)?(t<s?(l=t,t=s):l=s,u<l?(y.h(l,i),!1):u>t?(y.h(t,i),!1):(y.h(u,i),!0)):U.qh(t,i,s,l,u,d*(u-t)+i,y))))},MA:function(t,i,s,l,u){return U.Ve(s.x,s.y,l.x,l.y,t.x,t.y,i.x,i.y,u)},KA:function(t,i,s,l,u,c,d,m,y,O){function w(I,L){var z=(I-t)*(I-t)+(L-i)*(L-i);z<k&&(k=z,y.h(I,L))}var k=1/0;w(y.x,y.y);var P=0,T=0,M=0,A=0;if(u<d?(P=u,T=d):(P=d,T=u),c<m?(M=u,A=d):(M=d,A=u),P=(T-P)/2+O,O=(A-M)/2+O,u=(u+d)/2,c=(c+m)/2,P===0||O===0)return y;if(.5>(s>t?s-t:t-s)){if(P=1-(s-u)*(s-u)/(P*P),0>P)return y;P=Math.sqrt(P),l=-O*P+c,w(s,O*P+c),w(s,l)}else{if(s=(l-i)/(s-t),l=1/(P*P)+s*s/(O*O),m=2*s*(i-s*t)/(O*O)-2*s*c/(O*O)-2*u/(P*P),P=m*m-4*l*(2*s*t*c/(O*O)-2*i*c/(O*O)+c*c/(O*O)+u*u/(P*P)-1+(i-s*t)*(i-s*t)/(O*O)),0>P)return y;P=Math.sqrt(P),O=(-m+P)/(2*l),w(O,s*O-s*t+i),P=(-m-P)/(2*l),w(P,s*P-s*t+i)}return y},Ff:function(t,i,s,l,u,c,d,m,y){var O=1e21,w=t,k=i;if(U.Ve(t,i,t,l,u,c,d,m,y)){var P=(y.x-u)*(y.x-u)+(y.y-c)*(y.y-c);P<O&&(O=P,w=y.x,k=y.y)}return U.Ve(s,i,s,l,u,c,d,m,y)&&(P=(y.x-u)*(y.x-u)+(y.y-c)*(y.y-c),P<O&&(O=P,w=y.x,k=y.y)),U.Ve(t,i,s,i,u,c,d,m,y)&&(i=(y.x-u)*(y.x-u)+(y.y-c)*(y.y-c),i<O&&(O=i,w=y.x,k=y.y)),U.Ve(t,l,s,l,u,c,d,m,y)&&(t=(y.x-u)*(y.x-u)+(y.y-c)*(y.y-c),t<O&&(O=t,w=y.x,k=y.y)),y.h(w,k),1e21>O},ts:function(t,i,s){return U.Fx(t.x,t.y,t.width,t.height,i.x,i.y,s.x,s.y)},Fx:function(t,i,s,l,u,c,d,m){var y=t+s,O=i+l;return u===d?(c<m?(d=c,c=m):d=m,t<=u&&u<=y&&d<=O&&c>=i):c===m?(u<d?(m=u,u=d):m=d,i<=c&&c<=O&&m<=y&&u>=t):!!(Fs(t,i,s,l,u,c)||Fs(t,i,s,l,d,m)||U.Ql(t,i,y,i,u,c,d,m)||U.Ql(y,i,y,O,u,c,d,m)||U.Ql(y,O,t,O,u,c,d,m)||U.Ql(t,O,t,i,u,c,d,m))},Ql:function(t,i,s,l,u,c,d,m){return t===s&&i===l&&u===d&&c===m?t===u&&i===c:0>=U.El(t,i,s,l,u,c)*U.El(t,i,s,l,d,m)&&0>=U.El(u,c,d,m,t,i)*U.El(u,c,d,m,s,l)},El:function(t,i,s,l,u,c){return s-=t,l-=i,t=u-t,i=c-i,c=t*l-i*s,c===0&&(c=t*s+i*l,0<c&&(c=(t-s)*s+(i-l)*l,0>c&&(c=0))),c},ap:function(t){return 0>t&&(t+=360),360<=t&&(t-=360),t},jx:function(t,i,s,l,u,c){var d=Math.PI;c||(l*=d/180,u*=d/180);var m=l>u?-1:1;c=[];var y=d/2,O=l;if(l=Math.min(2*d,Math.abs(u-l)),1e-5>l)return y=O+m*Math.min(l,y),m=t+s*Math.cos(O),O=i+s*Math.sin(O),t+=s*Math.cos(y),i+=s*Math.sin(y),s=(m+t)/2,y=(O+i)/2,c.push([m,O,s,y,s,y,t,i]),c;for(;1e-5<l;)u=O+m*Math.min(l,y),c.push(U.Vy(s,O,u,t,i)),l-=Math.abs(u-O),O=u;return c},Vy:function(t,i,s,l,u){var c=(s-i)/2,d=t*Math.cos(c),m=t*Math.sin(c),y=-m,O=d*d+y*y,w=O+d*d+y*m;return O=4/3*(Math.sqrt(2*O*w)-w)/(d*m-y*d),m=d-O*y,d=y+O*d,y=-d,O=c+i,c=Math.cos(O),O=Math.sin(O),[l+t*Math.cos(i),u+t*Math.sin(i),l+m*c-d*O,u+m*O+d*c,l+m*c-y*O,u+m*O+y*c,l+t*Math.cos(s),u+t*Math.sin(s)]},Mo:function(t,i,s,l,u,c,d){s=Math.floor((t-s)/u)*u+s,l=Math.floor((i-l)/c)*c+l;var m=s;return s+u-t<u/2&&(m=s+u),t=l,l+c-i<c/2&&(t=l+c),d.h(m,t),d},vx:function(t,i){var s=Math.max(t,i);t=Math.min(t,i);var l;do i=s%t,s=l=t,t=i;while(0<i);return l},$y:function(t,i,s,l){var u=0>s,c=0>l;if(t<i)var d=1,m=0;else d=0,m=1;var y=d===0?t:i,O=d===0?s:l;return(d===0?u:c)&&(O=-O),d=m,s=d===0?s:l,(d===0?u:c)&&(s=-s),U.az(y,d===0?t:i,O,s,0,0)},az:function(t,i,s,l,u,c){if(0<l)if(0<s){u=t*t,c=i*i,t*=s;var d=i*l,m=-c+d,y=-c+Math.sqrt(t*t+d*d);i=m;for(var O=0;9999999999>O&&(i=.5*(m+y),!(i===m||i===y));++O){var w=t/(i+u),k=d/(i+c);if(w=w*w+k*k-1,0<w)m=i;else if(0>w)y=i;else break}s=u*s/(i+u)-s,l=c*l/(i+c)-l,s=Math.sqrt(s*s+l*l)}else s=Math.abs(l-i);else l=t*t-i*i,c=t*s,c<l?(l=c/l,c=i*Math.sqrt(Math.abs(1-l*l)),s=t*l-s,s=Math.sqrt(s*s+c*c)):s=Math.abs(s-t);return s},Ze:new le,tm:new le,Mf:new le,Nf:0,um:100};U.za=U.AA;function lt(t){Ue(this),this.l=2,t===void 0&&(t=lt.o),this.na=t,this.Ec=this.Dc=this.pd=this.od=0,t===lt.o?this.ee=new ct:(lt.V===null&&(lt.V=new ct().freeze()),this.ee=lt.V),this.$p=this.ee.Ja,this.Hp=new tt().freeze(),this.xm=this.sk=null,this.ym=NaN,this.fg=Ji,this.gg=Yo,this.Qk=this.Rk=NaN,this.Uf=Xe}lt.prototype.copy=function(){var t=new lt;if(t.l=this.l&-2,t.na=this.na,t.od=this.od,t.pd=this.pd,t.Dc=this.Dc,t.Ec=this.Ec,this.na===lt.o){for(var i=this.ee.s,s=t.ee,l=0;l<i.length;l++)s.add(i[l].copy());t.ee=s}else t.ee=this.ee;return t.$p=this.$p,t.Hp.assign(this.Hp),t.sk=this.sk,t.xm=this.xm,t.ym=this.ym,t.fg=this.fg.J(),t.gg=this.gg.J(),t.Rk=this.Rk,t.Qk=this.Qk,t.Uf=this.Uf,t},lt.prototype.ja=function(){return this.freeze(),Object.freeze(this),this},lt.prototype.freeze=function(){if(this._isFrozen=!0,this.type!==lt.o)return this;var t=this.figures;t.freeze(),t=t.s;for(var i=t.length,s=0;s<i;s++)t[s].freeze();return this},lt.prototype.ka=function(){if(Object.isFrozen(this)&&D("cannot thaw constant: "+this),this._isFrozen=!1,this.type!==lt.o)return this;var t=this.figures;t.ka(),t=t.s;for(var i=t.length,s=0;s<i;s++)t[s].ka();return this},lt.prototype.Xa=function(t){if(!(t instanceof lt))return!1;if(this.type!==t.type)return this.type===lt.j&&t.type===lt.o?E5(this,t):t.type===lt.j&&this.type===lt.o?E5(t,this):!1;if(this.type===lt.o){var i=this.figures.s;t=t.figures.s;var s=i.length;if(s!==t.length)return!1;for(var l=0;l<s;l++)if(!i[l].Xa(t[l]))return!1;return!0}return U.B(this.startX,t.startX)&&U.B(this.startY,t.startY)&&U.B(this.endX,t.endX)&&U.B(this.endY,t.endY)};function E5(t,i){return t.type!==lt.j||i.type!==lt.o?!1:!!(i.figures.count===1&&(i=i.figures.M(0),i.segments.count===1&&U.B(t.startX,i.startX)&&U.B(t.startY,i.startY)&&(i=i.segments.M(0),i.type===be&&U.B(t.endX,i.endX)&&U.B(t.endY,i.endY))))}lt.ia=function(t){return t.toString()},lt.prototype.qb=function(t){t.classType===lt&&(this.type=t)},lt.prototype.toString=function(t){switch(t===void 0&&(t=-1),this.type){case lt.j:return 0>t?"M"+this.startX.toString()+" "+this.startY.toString()+"L"+this.endX.toString()+" "+this.endY.toString():"M"+this.startX.toFixed(t)+" "+this.startY.toFixed(t)+"L"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);case lt.u:var i=new tt(this.startX,this.startY,0,0);return i.Kv(this.endX,this.endY,0,0),0>t?"M"+i.x.toString()+" "+i.y.toString()+"H"+i.right.toString()+"V"+i.bottom.toString()+"H"+i.left.toString()+"z":"M"+i.x.toFixed(t)+" "+i.y.toFixed(t)+"H"+i.right.toFixed(t)+"V"+i.bottom.toFixed(t)+"H"+i.left.toFixed(t)+"z";case lt.F:if(i=new tt(this.startX,this.startY,0,0),i.Kv(this.endX,this.endY,0,0),0>t)return t=i.left.toString()+" "+(i.y+i.height/2).toString(),"M"+t+"A"+(i.width/2).toString()+" "+(i.height/2).toString()+" 0 0 1 "+(i.right.toString()+" "+(i.y+i.height/2).toString())+"A"+(i.width/2).toString()+" "+(i.height/2).toString()+" 0 0 1 "+t;var s=i.left.toFixed(t)+" "+(i.y+i.height/2).toFixed(t);return"M"+s+"A"+(i.width/2).toFixed(t)+" "+(i.height/2).toFixed(t)+" 0 0 1 "+(i.right.toFixed(t)+" "+(i.y+i.height/2).toFixed(t))+"A"+(i.width/2).toFixed(t)+" "+(i.height/2).toFixed(t)+" 0 0 1 "+s;case lt.o:i="",s=this.figures.s;for(var l=s.length,u=0;u<l;u++){var c=s[u];0<u&&(i+=" x "),c.isFilled&&(i+="F "),i+=c.toString(t)}return i;default:return this.type.toString()}},lt.nb=function(t){t=t.split(/[Xx]/);for(var i=t.length,s="",l=0;l<i;l++){var u=t[l];s=u.match(/[Ff]/)!==null?l===0?s+u:s+("X"+(u[0]===" "?"":" ")+u):s+((l===0?"":"X ")+"F"+(u[0]===" "?"":" ")+u)}return s},lt.parse=function(t,i){function s(){return A>=_-1?!0:O[A+1].match(Y)!==null}function l(){return A++,O[A]}function u(Rt){var Qt=parseFloat(l()),Gt=parseFloat(l());I===I.toLowerCase()&&(Qt=X.x+Qt,Gt=X.y+Gt),Rt.h(Qt,Gt)}function c(){return u(X),X}function d(){return u(z),z}function m(){var Rt=L.toLowerCase();return Rt!=="c"&&Rt!=="s"&&Rt!=="q"&&Rt!=="t"?X:new F(2*X.x-z.x,2*X.y-z.y)}i===void 0&&(i=!1);var y=/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm;t=t.replace(/,/gm," "),t=t.replace(y,"$1 $2"),t=t.replace(y,"$1 $2"),t=t.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([^s])/gm,"$1 $2"),t=t.replace(/([^s])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,"$1 $2"),t=t.replace(/([0-9])([+\-])/gm,"$1 $2"),t=t.replace(/[\s\r\t\n]+/gm," "),t=t.replace(/^\s+|\s+$/g,"");var O=t.split(" ");for(t=0;t<O.length;t++){var w=O[t];if(w.match(/(\.[0-9]*)(\.)/gm)!==null){y=St();for(var k="",P=!1,T=0;T<w.length;T++){var M=w[T];M!=="."||P?M==="."?(y.push(k),k="."):k+=M:(P=!0,k+=M)}for(y.push(k),O.splice(t,1),w=0;w<y.length;w++)O.splice(t+w,0,y[w]);t+=y.length-1,dt(y)}}var A=-1,I="",L="";y=new F(0,0);var z=new F(0,0),X=new F(0,0),_=O.length;t=I$(null),P=k=w=!1,T=!0,M=null;for(var Y=/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/;!(A>=_-1);)if(L=I,I=l(),I!=="")switch(I.toUpperCase()){case"X":T=!0,k=w=!1;break;case"M":for(M=c(),t.nc===null||T===!0?(Sp(t,M.x,M.y,w,!k,P),T=!1):t.moveTo(M.x,M.y),y.assign(X);!s();)M=c(),t.lineTo(M.x,M.y);break;case"L":for(;!s();)M=c(),t.lineTo(M.x,M.y);break;case"H":for(;!s();)X=new F((I===I.toLowerCase()?X.x:0)+parseFloat(l()),X.y),t.lineTo(X.x,X.y);break;case"V":for(;!s();)X=new F(X.x,(I===I.toLowerCase()?X.y:0)+parseFloat(l())),t.lineTo(X.x,X.y);break;case"C":for(;!s();){M=new F,u(M);var G=d(),ut=c();Pa(t,M.x,M.y,G.x,G.y,ut.x,ut.y)}break;case"S":for(;!s();)M=m(),G=d(),ut=c(),Pa(t,M.x,M.y,G.x,G.y,ut.x,ut.y);break;case"Q":for(;!s();)M=d(),G=c(),Xx(t,M.x,M.y,G.x,G.y);break;case"T":for(;!s();)z=M=m(),G=c(),Xx(t,M.x,M.y,G.x,G.y);break;case"B":for(;!s();){M=parseFloat(l()),G=parseFloat(l()),ut=parseFloat(l());var gt=parseFloat(l()),mt=parseFloat(l()),st=mt,et=!1;s()||(st=parseFloat(l()),s()||(et=parseFloat(l())!==0)),I===I.toLowerCase()&&(ut+=X.x,gt+=X.y),t.arcTo(M,G,ut,gt,mt,st,et)}break;case"A":for(;!s();)M=Math.abs(parseFloat(l())),G=Math.abs(parseFloat(l())),ut=parseFloat(l()),mt=gt=!1,et=st=0,st=l(),st.length===1?(gt=!!parseFloat(st),mt=!!parseFloat(l()),st=parseFloat(l())):st.length===2?(gt=!!parseFloat(st[0]),mt=!!parseFloat(st[1]),st=parseFloat(l())):(gt=!!parseFloat(st[0]),mt=!!parseFloat(st[1]),st=parseFloat(st.slice(2))),et=parseFloat(l()),I===I.toLowerCase()&&(st=X.x+st,et=X.y+et),X.h(st,et),zG(t,M,G,ut,gt,mt,st,et);break;case"Z":VG(t),X.assign(y);break;case"F":for(M="",G=1;O[A+G];)if(O[A+G]==="0")P=!0,G++;else if(O[A+G].match(/[Uu]/)!==null)G++;else if(O[A+G].match(Y)===null)G++;else{M=O[A+G];break}M.match(/[Mm]/)?w=!0:0<t.nc.segments.length&&(t.nc.isFilled=!0);break;case"U":for(M="",G=1;O[A+G];)if(O[A+G].match(/[Ff]/)!==null)G++;else if(O[A+G].match(Y)===null)G++;else{M=O[A+G];break}M.match(/[Mm]/)?k=!0:t.nc.isShadowed=!1}if(y=t.ns,Bx=t,i)for(i=y.figures.iterator;i.next();)i.value.isFilled=!0;return y},lt.Ha=function(t,i){for(var s=t.length,l=F.alloc(),u=0;u<s;u++){var c=t[u];l.x=c[0],l.y=c[1],i.Ga(l),c[0]=l.x,c[1]=l.y,l.x=c[2],l.y=c[3],i.Ga(l),c[2]=l.x,c[3]=l.y,l.x=c[4],l.y=c[5],i.Ga(l),c[4]=l.x,c[5]=l.y,l.x=c[6],l.y=c[7],i.Ga(l),c[6]=l.x,c[7]=l.y}F.free(l)},lt.prototype.Zu=function(){if(this._isInvalidBounds)return!0;if(this.type===lt.o){if(this.$p!==this.figures.Ja)return!0;for(var t=this.figures.s,i=t.length,s=0;s<i;s++)if(t[s].Zu())return!0}return!1},lt.prototype.computeBounds=function(){if(this._isInvalidBounds=!1,this.xm=this.sk=null,this.ym=NaN,this.type===lt.o){this.$p=this.figures.Ja;for(var t=this.figures.s,i=t.length,s=0;s<i;s++){var l=t[s];l._isInvalidBounds=!1;var u=l.segments;l.rr=u.Ja,l=u.s,u=l.length;for(var c=0;c<u;c++){var d=l[c];d._isInvalidBounds=!1,d.ae=null}}}t=this.Hp,t.ka(),isNaN(this.Rk)||isNaN(this.Qk)?t.h(0,0,0,0):t.h(0,0,this.Rk,this.Qk),R5(this,t,!1),Si(t,0,0,0,0),t.freeze()},lt.prototype.ix=function(){var t=new tt;return R5(this,t,!0),t};function R5(t,i,s){switch(t.type){case lt.j:case lt.u:case lt.F:s?i.h(t.od,t.pd,0,0):Si(i,t.od,t.pd,0,0),Si(i,t.Dc,t.Ec,0,0);break;case lt.o:var l=t.figures;t=l.s,l=l.length;for(var u=0;u<l;u++){var c=t[u];s&&u===0?i.h(c.startX,c.startY,0,0):Si(i,c.startX,c.startY,0,0);for(var d=c.segments.s,m=d.length,y=c.startX,O=c.startY,w=0;w<m;w++){var k=d[w];switch(k.type){case be:case ys:y=k.endX,O=k.endY,Si(i,y,O,0,0);break;case br:U.Cl(y,O,k.point1X,k.point1Y,k.point2X,k.point2Y,k.endX,k.endY,.5,i),y=k.endX,O=k.endY;break;case yo:U.iv(y,O,k.point1X,k.point1Y,k.endX,k.endY,.5,i),y=k.endX,O=k.endY;break;case ti:case Vs:var P=k.type===ti?jl(k,c):Mh(k,c,y,O),T=P.length;if(T===0){y=k.type===ti?k.centerX:k.endX,O=k.type===ti?k.centerY:k.endY,Si(i,y,O,0,0);break}k=null;for(var M=0;M<T;M++)k=P[M],U.Cl(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],.5,i);k!==null&&(y=k[6],O=k[7]);break;default:D("Unknown Segment type: "+k.type)}}}break;default:D("Unknown Geometry type: "+t.type)}}lt.prototype.normalize=function(){this._isFrozen&&B(this);var t=this.ix();return this.offset(-t.x,-t.y),new F(-t.x,-t.y)},lt.prototype.offset=function(t,i){return this._isFrozen&&B(this),this.transform(1,0,0,1,t,i),this},lt.prototype.scale=function(t,i){return this._isFrozen&&B(this),this.transform(t,0,0,i,0,0),this},lt.prototype.rotate=function(t,i,s){this._isFrozen&&B(this),i===void 0&&(i=0),s===void 0&&(s=0);var l=Xt.alloc();return l.reset(),l.rotate(t,i,s),this.transform(l.m11,l.m12,l.m21,l.m22,l.dx,l.dy),Xt.free(l),this},n=lt.prototype,n.transform=function(t,i,s,l,u,c){switch(this.type){case lt.j:case lt.u:case lt.F:var d=this.od,m=this.pd;this.od=d*t+m*s+u,this.pd=d*i+m*l+c,d=this.Dc,m=this.Ec,this.Dc=d*t+m*s+u,this.Ec=d*i+m*l+c;break;case lt.o:for(var y=this.figures.s,O=y.length,w=0;w<O;w++){var k=y[w];d=k.startX,m=k.startY,k.startX=d*t+m*s+u,k.startY=d*i+m*l+c,k=k.segments.s;for(var P=k.length,T=0;T<P;T++){var M=k[T];switch(M.type){case be:case ys:d=M.endX,m=M.endY,M.endX=d*t+m*s+u,M.endY=d*i+m*l+c;break;case br:d=M.point1X,m=M.point1Y,M.point1X=d*t+m*s+u,M.point1Y=d*i+m*l+c,d=M.point2X,m=M.point2Y,M.point2X=d*t+m*s+u,M.point2Y=d*i+m*l+c,d=M.endX,m=M.endY,M.endX=d*t+m*s+u,M.endY=d*i+m*l+c;break;case yo:d=M.point1X,m=M.point1Y,M.point1X=d*t+m*s+u,M.point1Y=d*i+m*l+c,d=M.endX,m=M.endY,M.endX=d*t+m*s+u,M.endY=d*i+m*l+c;break;case ti:d=M.centerX,m=M.centerY,M.centerX=d*t+m*s+u,M.centerY=d*i+m*l+c,i!==0&&(d=180*Math.atan2(i,t)/Math.PI,0>d&&(d+=360),M.startAngle+=d),0>t&&(M.startAngle=180-M.startAngle,M.sweepAngle=-M.sweepAngle),0>l&&(M.startAngle=-M.startAngle,M.sweepAngle=-M.sweepAngle),M.radiusX*=Math.sqrt(t*t+s*s),M.radiusY!==void 0&&(M.radiusY*=Math.sqrt(i*i+l*l));break;case Vs:if(d=M.endX,m=M.endY,M.endX=d*t+m*s+u,M.endY=d*i+m*l+c,M.radiusX===0||M.radiusY===0)break;i!==0&&(d=180*Math.atan2(i,t)/Math.PI,0>d&&(d+=360),M.xAxisRotation+=d),0>t&&(M.xAxisRotation=180-M.xAxisRotation,M.isClockwiseArc=!M.isClockwiseArc),0>l&&(M.xAxisRotation=-M.xAxisRotation,M.isClockwiseArc=!M.isClockwiseArc),M.radiusX*=Math.sqrt(t*t+s*s),M.radiusY*=Math.sqrt(i*i+l*l);break;default:D("Unknown Segment type: "+M.type)}}}}return this._isInvalidBounds=!0,this},n.ca=function(t,i){i===void 0&&(i=0);var s=this.od,l=this.pd,u=this.Dc,c=this.Ec;switch(this.type){case lt.j:return U.Zb(s,l,u,c,i,t.x,t.y);case lt.u:var d=tt.allocAt(Math.min(s,u)-i,Math.min(l,c)-i,Math.abs(u-s)+2*i,Math.abs(c-l)+2*i);return t=d.ca(t),tt.free(d),t;case lt.F:d=Math.min(s,u)-i;var m=Math.min(l,c)-i;return s=(Math.abs(u-s)+2*i)/2,i=(Math.abs(c-l)+2*i)/2,0>=s||0>=i?!1:(d=t.x-(d+s),m=t.y-(m+i),1>=d*d/(s*s)+m*m/(i*i));case lt.o:return j2(this,t,i,!0,!1);default:return!1}};function j2(t,i,s,l,u){var c=i.x;i=i.y;for(var d=t.bounds.x-20,m=0,y,O,w,k,P=t.figures.s,T=P.length,M=0;M<T;M++){var A=P[M],I=!A.isEvenOdd;if(A.isFilled){if(l&&A.ca(c,i,s))return!0;var L=A.segments;y=A.startX,O=A.startY;for(var z=y,X=O,_=L.s,Y=0;Y<=L.length;Y++){var G=void 0;if(Y!==L.length){G=_[Y];var ut=G.type;t=G.endX,k=G.endY}else ut=be,t=z,k=X;switch(ut){case ys:if(z=zv(c,i,d,i,y,O,z,X),isNaN(z))return!0;m+=z,z=t,X=k;break;case be:if(y=zv(c,i,d,i,y,O,t,k),isNaN(y))return!0;m+=y;break;case br:w=U.Eo(y,O,G.point1X,G.point1Y,G.point2X,G.point2Y,t,k,d,i,c,i,.5),m+=w;break;case yo:w=U.Eo(y,O,(y+2*G.point1X)/3,(O+2*G.point1Y)/3,(2*G.point1X+t)/3,(2*G.point1Y+k)/3,t,k,d,i,c,i,.5),m+=w;break;case ti:case Vs:ut=G.type===ti?jl(G,A):Mh(G,A,y,O);var gt=ut.length;if(gt===0){if(y=zv(c,i,d,i,y,O,G.type===ti?G.centerX:G.endX,G.type===ti?G.centerY:G.endY),isNaN(y))return!0;m+=y;break}G=null;for(var mt=0;mt<gt;mt++){if(G=ut[mt],mt===0){if(w=zv(c,i,d,i,y,O,G[0],G[1]),isNaN(w))return!0;m+=w}w=U.Eo(G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],d,i,c,i,.5),m+=w}G!==null&&(t=G[6],k=G[7]);break;default:D("Unknown Segment type: "+G.type)}y=t,O=k}if(I){if(m!==0)return!0}else if(m%2!==0)return!0;m=0}else if(A.ca(c,i,u?s:s+2))return!0}return!1}function zv(t,i,s,l,u,c,d,m){if(U.Zb(u,c,d,m,.05,t,i))return NaN;var y=(t-s)*(c-m);if(y===0)return 0;var O=((t*l-i*s)*(u-d)-(t-s)*(u*m-c*d))/y;if(i=(t*l-i*s)*(c-m)/y,O>=t)return 0;if((u>d?u-d:d-u)<(c>m?c-m:m-c)){if(c<m){if(i<c||i>m)return 0}else if(i<m||i>c)return 0}else if(u<d){if(O<u||O>d)return 0}else if(O<d||O>u)return 0;return 0<y?1:-1}function L5(t,i,s,l){t=t.figures.s;for(var u=t.length,c=0;c<u;c++)if(t[c].ca(i,s,l))return!0;return!1}n.Pu=function(t,i){if(0>t?t=0:1<t&&(t=1),i===void 0&&(i=new F),this.type===lt.j)return i.h(this.startX+t*(this.endX-this.startX),this.startY+t*(this.endY-this.startY)),i;for(var s=this.flattenedSegments,l=this.flattenedLengths,u=s.length,c=this.flattenedTotalLength*t,d=0,m=0;m<u;m++){var y=l[m],O=y.length;for(t=0;t<O;t++){var w=y[t];if(d+w>=c)return l=c-d,l=w===0?0:l/w,s=s[m],m=s[2*t],u=s[2*t+1],i.h(m+(s[2*t+2]-m)*l,u+(s[2*t+3]-u)*l),i;d+=w}}return i},n.wx=function(t){if(0>t?t=0:1<t&&(t=1),this.type===lt.j)return 180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI;for(var i=this.flattenedSegments,s=this.flattenedLengths,l=i.length,u=this.flattenedTotalLength*t,c=0,d=0;d<l;d++){var m=s[d],y=m.length;for(t=0;t<y;t++){var O=m[t];if(c+O>=u)return u=i[d],i=u[2*t],s=u[2*t+1],l=u[2*t+2],t=u[2*t+3],1>Math.abs(l-i)&&1>Math.abs(t-s)?0:1>Math.abs(l-i)?0<=t-s?90:270:1>Math.abs(t-s)?0<=l-i?0:180:180*Math.atan2(t-s,l-i)/Math.PI;c+=O}}return NaN},n.Qu=function(t,i){if(0>t?t=0:1<t&&(t=1),i===void 0&&(i=[]),i.length=3,this.type===lt.j)return i[0]=this.startX+t*(this.endX-this.startX),i[1]=this.startY+t*(this.endY-this.startY),i[2]=180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI,i;for(var s=this.flattenedSegments,l=this.flattenedLengths,u=s.length,c=this.flattenedTotalLength*t,d=0,m=0;m<u;m++){var y=l[m],O=y.length;for(t=0;t<O;t++){var w=y[t];if(d+w>=c)return l=c-d,l=w===0?0:l/w,w=s[m],s=w[2*t],m=w[2*t+1],u=w[2*t+2],t=w[2*t+3],i[0]=s+(u-s)*l,i[1]=m+(t-m)*l,i[2]=1>Math.abs(u-s)&&1>Math.abs(t-m)?0:1>Math.abs(u-s)?0<=t-m?90:270:1>Math.abs(t-m)?0<=u-s?0:180:180*Math.atan2(t-m,u-s)/Math.PI,i;d+=w}}return i},n.xx=function(t){if(this.type===lt.j){var i=this.startX,s=this.startY,l=this.endX,u=this.endY;if(i!==l||s!==u){var c=t.x;if(t=t.y,i===l){if(s<u){var d=s;l=u}else d=u,l=s;return t<=d?d===s?0:1:t>=l?l===s?0:1:Math.abs(t-s)/(l-d)}if(s===u)return i<l?d=i:(d=l,l=i),c<=d?d===i?0:1:c>=l?l===i?0:1:Math.abs(c-i)/(l-d);d=(l-i)*(l-i)+(u-s)*(u-s);var m=F.alloc();return U.qh(i,s,l,u,c,t,m),t=m.x,c=m.y,F.free(m),Math.sqrt(((t-i)*(t-i)+(c-s)*(c-s))/d)}}else if(this.type===lt.u){d=this.startX,m=this.startY;var y=this.endX;if(u=this.endY,d!==y||m!==u){i=y-d,s=u-m,c=2*i+2*s,l=t.x,t=t.y,l=Math.min(Math.max(l,d),y),t=Math.min(Math.max(t,m),u),d=Math.abs(l-d),y=Math.abs(l-y),m=Math.abs(t-m),u=Math.abs(t-u);var O=Math.min(d,y,m,u);if(O===m)return l/c;if(O===y)return(i+t)/c;if(O===u)return(2*i+s-l)/c;if(O===d)return(2*i+2*s-t)/c}}else{i=this.flattenedSegments,s=this.flattenedLengths,c=this.flattenedTotalLength,l=F.alloc(),u=1/0,m=d=0,y=i.length;for(var w=O=0,k=0;k<y;k++)for(var P=i[k],T=s[k],M=P.length,A=0;A<M;A+=2){var I=P[A],L=P[A+1];if(A!==0){U.qh(O,w,I,L,t.x,t.y,l);var z=(l.x-t.x)*(l.x-t.x)+(l.y-t.y)*(l.y-t.y);z<u&&(u=z,d=m,d+=Math.sqrt((l.x-O)*(l.x-O)+(l.y-w)*(l.y-w))),m+=T[(A-2)/2]}O=I,w=L}return F.free(l),t=d/c,0>t?0:1<t?1:t}return 0};function $5(t){if(t.sk===null){var i=t.sk=[],s=t.xm=[],l=[],u=[];if(t.type===lt.j)l.push(t.startX),l.push(t.startY),l.push(t.endX),l.push(t.endY),i.push(l),u.push(Math.sqrt((t.startX-t.endX)*(t.startX-t.endX)+(t.startY-t.endY)*(t.startY-t.endY))),s.push(u);else if(t.type===lt.u)l.push(t.startX),l.push(t.startY),l.push(t.endX),l.push(t.startY),l.push(t.endX),l.push(t.endY),l.push(t.startX),l.push(t.endY),l.push(t.startX),l.push(t.startY),i.push(l),u.push(Math.abs(t.startX-t.endX)),u.push(Math.abs(t.startY-t.endY)),u.push(Math.abs(t.startX-t.endX)),u.push(Math.abs(t.startY-t.endY)),s.push(u);else if(t.type===lt.F){var c=new vi;c.startX=t.endX,c.startY=(t.startY+t.endY)/2;var d=new Jt(ti);if(d.startAngle=0,d.sweepAngle=360,d.centerX=(t.startX+t.endX)/2,d.centerY=(t.startY+t.endY)/2,d.radiusX=Math.abs(t.startX-t.endX)/2,d.radiusY=Math.abs(t.startY-t.endY)/2,c.add(d),t=jl(d,c),u=t.length,u===0)l.push(d.centerX),l.push(d.centerY);else{d=c.startX,c=c.startY;for(var m=0;m<u;m++){var y=t[m];U.Qe(d,c,y[2],y[3],y[4],y[5],y[6],y[7],.5,l),d=y[6],c=y[7]}}i.push(l),s.push(E2(l))}else for(t=t.figures.iterator;t.next();){u=t.value,l=[],l.push(u.startX),l.push(u.startY),d=u.startX,c=u.startY,m=d,y=c;for(var O=u.segments.s,w=O.length,k=0;k<w;k++){var P=O[k];switch(P.type){case ys:4<=l.length&&(i.push(l),s.push(E2(l))),l=[],l.push(P.endX),l.push(P.endY),d=P.endX,c=P.endY,m=d,y=c;break;case be:l.push(P.endX),l.push(P.endY),d=P.endX,c=P.endY;break;case br:U.Qe(d,c,P.point1X,P.point1Y,P.point2X,P.point2Y,P.endX,P.endY,.5,l),d=P.endX,c=P.endY;break;case yo:U.cp(d,c,P.point1X,P.point1Y,P.endX,P.endY,.5,l),d=P.endX,c=P.endY;break;case ti:var T=jl(P,u),M=T.length;if(M===0){l.push(P.centerX),l.push(P.centerY),d=P.centerX,c=P.centerY;break}for(var A=0;A<M;A++){var I=T[A];U.Qe(d,c,I[2],I[3],I[4],I[5],I[6],I[7],.5,l),d=I[6],c=I[7]}break;case Vs:if(T=Mh(P,u,d,c),M=T.length,A=P.endX,I=P.endY,M===0){l.push(A),l.push(I),d=A,c=I;break}for(A=0;A<M;A++)I=T[A],U.Qe(d,c,I[2],I[3],I[4],I[5],I[6],I[7],.5,l),d=I[6],c=I[7];break;default:D("Segment not of valid type: "+P.type)}P.isClosed&&(l.push(m),l.push(y))}4<=l.length&&(i.push(l),s.push(E2(l)))}}}function E2(t){for(var i=[],s=0,l=0,u=t.length,c=0;c<u;c+=2){var d=t[c],m=t[c+1];c!==0&&i.push(Math.sqrt(go(s,l,d,m))),s=d,l=m}return i}n.add=function(t){return this.ee.add(t),this},n.om=function(t,i,s,l,u,c,d,m){return this._isFrozen&&B(this),this.fg=new Tt(t,i,u,c).freeze(),this.gg=new Tt(s,l,d,m).freeze(),this},S.Object.defineProperties(lt.prototype,{_isFrozen:{get:function(){return(this.l&1)!==0},set:function(t){this.l=t?this.l|1:this.l&-2}},_isInvalidBounds:{get:function(){return(this.l&2)!==0},set:function(t){this.l=t?this.l|2:this.l&-3}},flattenedSegments:{get:function(){return $5(this),this.sk}},flattenedLengths:{get:function(){return $5(this),this.xm}},flattenedTotalLength:{get:function(){var t=this.ym;if(isNaN(t)){if(this.type===lt.j){t=Math.abs(this.endX-this.startX);var i=Math.abs(this.endY-this.startY);t=Math.sqrt(t*t+i*i)}else if(this.type===lt.u)t=2*Math.abs(this.endX-this.startX)+2*Math.abs(this.endY-this.startY);else{i=this.flattenedLengths;for(var s=i.length,l=t=0;l<s;l++)for(var u=i[l],c=u.length,d=0;d<c;d++)t+=u[d]}this.ym=t}return t}},type:{get:function(){return this.na},set:function(t){this.na!==t&&(this._isFrozen&&B(this,t),this.na=t,t===lt.o?this.ee=new ct:(lt.V===null&&(lt.V=new ct().freeze()),this.ee=lt.V),this._isInvalidBounds=!0)}},startX:{get:function(){return this.od},set:function(t){this.od!==t&&(this._isFrozen&&B(this,t),this.od=t,this._isInvalidBounds=!0)}},startY:{get:function(){return this.pd},set:function(t){this.pd!==t&&(this._isFrozen&&B(this,t),this.pd=t,this._isInvalidBounds=!0)}},endX:{get:function(){return this.Dc},set:function(t){this.Dc!==t&&(this._isFrozen&&B(this,t),this.Dc=t,this._isInvalidBounds=!0)}},endY:{get:function(){return this.Ec},set:function(t){this.Ec!==t&&(this._isFrozen&&B(this,t),this.Ec=t,this._isInvalidBounds=!0)}},figures:{get:function(){return this.ee},set:function(t){this.ee!==t&&(this._isFrozen&&B(this,t),this.ee=t,this._isInvalidBounds=!0)}},spot1:{get:function(){return this.fg},set:function(t){this._isFrozen&&B(this,t),this.fg=t.J()}},spot2:{get:function(){return this.gg},set:function(t){this._isFrozen&&B(this,t),this.gg=t.J()}},defaultStretch:{get:function(){return this.Uf},set:function(t){this._isFrozen&&B(this,t),this.Uf=t}},bounds:{get:function(){return this.Zu()&&this.computeBounds(),this.Hp}}}),lt.prototype.setSpots=lt.prototype.om,lt.prototype.add=lt.prototype.add,lt.prototype.getFractionForPoint=lt.prototype.xx,lt.prototype.getPointAndAngleAlongPath=lt.prototype.Qu,lt.prototype.getAngleAlongPath=lt.prototype.wx,lt.prototype.getPointAlongPath=lt.prototype.Pu,lt.prototype.containsPoint=lt.prototype.ca,lt.prototype.transform=lt.prototype.transform,lt.prototype.rotate=lt.prototype.rotate,lt.prototype.scale=lt.prototype.scale,lt.prototype.offset=lt.prototype.offset,lt.prototype.normalize=lt.prototype.normalize,lt.prototype.computeBoundsWithoutOrigin=lt.prototype.ix,lt.prototype.equalsApprox=lt.prototype.Xa,lt.className="Geometry",lt.j=new it(lt,"Line",0),lt.u=new it(lt,"Rectangle",1),lt.F=new it(lt,"Ellipse",2),lt.o=new it(lt,"Path",3),lt.V=null,lt.hb="UuBbMmZzLlHhVvCcSsQqTtAaFfXx",lt.className="Geometry",lt.stringify=lt.ia,lt.fillPath=lt.nb,lt.parse=lt.parse,lt.Line=lt.j,lt.Rectangle=lt.u,lt.Ellipse=lt.F,lt.Path=lt.o;function vi(t,i,s,l,u){Ue(this),s===void 0&&(s=!0),l===void 0&&(l=!0),u===void 0&&(u=!1),this.l=2|(s?4:0)|(l?8:0)|(u?16:0),t!==void 0?this.od=t:this.od=0,i!==void 0?this.pd=i:this.pd=0,this.ol=new ct,this.rr=this.ol.Ja,this.fw=null}vi.prototype.copy=function(){var t=new vi;t.l=this.l&-2,t.od=this.od,t.pd=this.pd;for(var i=this.ol.s,s=i.length,l=t.ol,u=0;u<s;u++){var c=i[u].copy();l.add(c)}return t.rr=this.rr,t.fw=this.fw,t},n=vi.prototype,n.Xa=function(t){if(!(t instanceof vi&&U.B(this.startX,t.startX)&&U.B(this.startY,t.startY)))return!1;var i=this.segments.s;t=t.segments.s;var s=i.length;if(s!==t.length)return!1;for(var l=0;l<s;l++)if(!i[l].Xa(t[l]))return!1;return!0},n.toString=function(t){t===void 0&&(t=-1);for(var i=0>t?"M"+this.startX.toString()+" "+this.startY.toString():"M"+this.startX.toFixed(t)+" "+this.startY.toFixed(t),s=this.segments.s,l=s.length,u=0;u<l;u++)i+=" "+s[u].toString(t);return i},n.freeze=function(){this._isFrozen=!0;var t=this.segments;t.freeze();var i=t.s;t=t.length;for(var s=0;s<t;s++)i[s].freeze();return this},n.ka=function(){this._isFrozen=!1;var t=this.segments;t.ka(),t=t.s;for(var i=t.length,s=0;s<i;s++)t[s].ka();return this},n.Zu=function(){if(this._isInvalidBounds)return!0;var t=this.segments;if(this.rr!==t.Ja)return!0;t=t.s;for(var i=t.length,s=0;s<i;s++)if(t[s]._isInvalidBounds)return!0;return!1},n.add=function(t){return this.ol.add(t),this},n.ca=function(t,i,s){for(var l=this.startX,u=this.startY,c=l,d=u,m=this.segments.s,y=m.length,O=0;O<y;O++){var w=m[O];switch(w.type){case ys:c=w.endX,d=w.endY,l=w.endX,u=w.endY;break;case be:if(U.Zb(l,u,w.endX,w.endY,s,t,i))return!0;l=w.endX,u=w.endY;break;case br:if(U.bs(l,u,w.point1X,w.point1Y,w.point2X,w.point2Y,w.endX,w.endY,.5,t,i,s))return!0;l=w.endX,u=w.endY;break;case yo:if(U.jv(l,u,w.point1X,w.point1Y,w.endX,w.endY,.5,t,i,s))return!0;l=w.endX,u=w.endY;break;case ti:case Vs:var k=w.type===ti?jl(w,this):Mh(w,this,l,u),P=k.length,T=w.type===ti?w.centerX:w.endX,M=w.type===ti?w.centerY:w.endY;if(P===0){if(U.Zb(l,u,T,M,s,t,i))return!0;l=T,u=M;break}for(T=null,M=0;M<P;M++)if(T=k[M],M===0&&U.Zb(l,u,T[0],T[1],s,t,i)||U.bs(T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],.5,t,i,s))return!0;T!==null&&(l=T[6],u=T[7]);break;default:D("Unknown Segment type: "+w.type)}if(w.isClosed&&(l!==c||u!==d)&&U.Zb(l,u,c,d,s,t,i))return!0}return!1},S.Object.defineProperties(vi.prototype,{_isFrozen:{get:function(){return(this.l&1)!==0},set:function(t){this.l=t?this.l|1:this.l&-2}},_isInvalidBounds:{get:function(){return(this.l&2)!==0},set:function(t){this.l=t?this.l|2:this.l&-3}},isFilled:{get:function(){return(this.l&4)!==0},set:function(t){this._isFrozen&&B(this,t),this.l=t?this.l|4:this.l&-5}},isShadowed:{get:function(){return(this.l&8)!==0},set:function(t){this._isFrozen&&B(this,t),this.l=t?this.l|8:this.l&-9}},isEvenOdd:{get:function(){return(this.l&16)!==0},set:function(t){this._isFrozen&&B(this,t),this.l=t?this.l|16:this.l&-17}},startX:{get:function(){return this.od},set:function(t){this._isFrozen&&B(this,t),this.od=t,this._isInvalidBounds=!0}},startY:{get:function(){return this.pd},set:function(t){this._isFrozen&&B(this,t),this.pd=t,this._isInvalidBounds=!0}},segments:{get:function(){return this.ol},set:function(t){this._isFrozen&&B(this,t),this.ol=t,this._isInvalidBounds=!0}}}),vi.prototype.add=vi.prototype.add,vi.prototype.equalsApprox=vi.prototype.Xa,vi.className="PathFigure";function Jt(t,i,s,l,u,c,d,m){Ue(this),t===void 0&&(t=be),this.na=t,this.l=2,i!==void 0?this.Dc=i:this.Dc=0,s!==void 0?this.Ec=s:this.Ec=0,l===void 0&&(l=0),u===void 0&&(u=0),c===void 0&&(c=0),d===void 0&&(d=0),t===Vs?(t=c%360,0>t&&(t+=360),this.Ne=t,this.Vh=0,this.Wh=Math.max(l,0),this.Pg=Math.max(u,0),typeof d=="boolean"?d&&(this.isLargeArc=!0):typeof d=="number"&&d&&(this.isLargeArc=!0),m&&(this.isClockwiseArc=!0)):(this.Ne=l,this.Vh=u,t===ti&&(c=Math.max(c,0)),this.Wh=c,typeof d=="number"?(t===ti&&(d=Math.max(d,0)),this.Pg=d):this.Pg=0),this.ae=null}Jt.prototype.copy=function(){var t=new Jt;return t.na=this.na,t.l=this.l&-2,t.Dc=this.Dc,t.Ec=this.Ec,t.Ne=this.Ne,t.Vh=this.Vh,t.Wh=this.Wh,t.Pg=this.Pg,t},n=Jt.prototype,n.Xa=function(t){if(!(t instanceof Jt)||this.type!==t.type||this.isClosed!==t.isClosed)return!1;switch(this.type){case ys:case be:return U.B(this.endX,t.endX)&&U.B(this.endY,t.endY);case br:return U.B(this.endX,t.endX)&&U.B(this.endY,t.endY)&&U.B(this.point1X,t.point1X)&&U.B(this.point1Y,t.point1Y)&&U.B(this.point2X,t.point2X)&&U.B(this.point2Y,t.point2Y);case yo:return U.B(this.endX,t.endX)&&U.B(this.endY,t.endY)&&U.B(this.point1X,t.point1X)&&U.B(this.point1Y,t.point1Y);case ti:return U.B(this.startAngle,t.startAngle)&&U.B(this.sweepAngle,t.sweepAngle)&&U.B(this.centerX,t.centerX)&&U.B(this.centerY,t.centerY)&&U.B(this.radiusX,t.radiusX)&&U.B(this.radiusY,t.radiusY);case Vs:return this.isClockwiseArc===t.isClockwiseArc&&this.isLargeArc===t.isLargeArc&&U.B(this.xAxisRotation,t.xAxisRotation)&&U.B(this.endX,t.endX)&&U.B(this.endY,t.endY)&&U.B(this.radiusX,t.radiusX)&&U.B(this.radiusY,t.radiusY);default:return!1}},n.qb=function(t){t.classType===Jt&&(this.type=t)},n.toString=function(t){switch(t===void 0&&(t=-1),this.type){case ys:t=0>t?"M"+this.endX.toString()+" "+this.endY.toString():"M"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case be:t=0>t?"L"+this.endX.toString()+" "+this.endY.toString():"L"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case br:t=0>t?"C"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.point2X.toString()+" "+this.point2Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"C"+this.point1X.toFixed(t)+" "+this.point1Y.toFixed(t)+" "+this.point2X.toFixed(t)+" "+this.point2Y.toFixed(t)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case yo:t=0>t?"Q"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"Q"+this.point1X.toFixed(t)+" "+this.point1Y.toFixed(t)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case ti:t=0>t?"B"+this.startAngle.toString()+" "+this.sweepAngle.toString()+" "+this.centerX.toString()+" "+this.centerY.toString()+" "+this.radiusX.toString()+" "+this.radiusY.toString():"B"+this.startAngle.toFixed(t)+" "+this.sweepAngle.toFixed(t)+" "+this.centerX.toFixed(t)+" "+this.centerY.toFixed(t)+" "+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t);break;case Vs:t=0>t?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.xAxisRotation.toString()+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toString()+" "+this.endY.toString():"A"+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t)+" "+this.xAxisRotation.toFixed(t)+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;default:t=this.type.toString()}return t+(this.isClosed?"z":"")},n.freeze=function(){return this._isFrozen=!0,this},n.ka=function(){return this._isFrozen=!1,this},n.close=function(){return this.isClosed=!0,this};function jl(t,i){if(t.ae!==null&&i._isInvalidBounds===!1)return t.ae;var s=t.radiusX,l=t.radiusY;if(l===void 0&&(l=s),s===0||l===0)return t.ae=[],t.ae;i=t.Ne;var u=t.Vh,c=U.jx(0,0,s<l?s:l,t.startAngle,t.startAngle+t.sweepAngle,!1);if(s!==l){var d=Xt.alloc();d.reset(),s<l?d.scale(1,l/s):d.scale(s/l,1),lt.Ha(c,d),Xt.free(d)}for(s=c.length,l=0;l<s;l++)d=c[l],d[0]+=i,d[1]+=u,d[2]+=i,d[3]+=u,d[4]+=i,d[5]+=u,d[6]+=i,d[7]+=u;return t.ae=c,t.ae}function Mh(t,i,s,l){function u(A,I,L,z){return(A*z<I*L?-1:1)*Math.acos((A*L+I*z)/(Math.sqrt(A*A+I*I)*Math.sqrt(L*L+z*z)))}if(t.ae!==null&&i._isInvalidBounds===!1)return t.ae;if(t.radiusX===0||t.radiusY===0)return t.ae=[],t.ae;i=t.Wh;var c=t.Pg;i===0&&(i=1e-4),c===0&&(c=1e-4);var d=Math.PI/180*t.Ne,m=t.isLargeArc,y=t.isClockwiseArc,O=t.Dc,w=t.Ec,k=Math.cos(d),P=Math.sin(d),T=k*(s-O)/2+P*(l-w)/2;d=-P*(s-O)/2+k*(l-w)/2;var M=T*T/(i*i)+d*d/(c*c);return 1<M&&(i*=Math.sqrt(M),c*=Math.sqrt(M)),M=(m===y?-1:1)*Math.sqrt((i*i*c*c-i*i*d*d-c*c*T*T)/(i*i*d*d+c*c*T*T)),isNaN(M)&&(M=0),m=M*i*d/c,M=M*-c*T/i,isNaN(m)&&(m=0),isNaN(M)&&(M=0),s=(s+O)/2+k*m-P*M,l=(l+w)/2+P*m+k*M,w=u(1,0,(T-m)/i,(d-M)/c),k=(T-m)/i,O=(d-M)/c,T=(-T-m)/i,m=(-d-M)/c,d=u(k,O,T,m),T=(k*T+O*m)/(Math.sqrt(k*k+O*O)*Math.sqrt(T*T+m*m)),-1>=T?d=Math.PI:1<=T&&(d=0),!y&&0<d&&(d-=2*Math.PI),y&&0>d&&(d+=2*Math.PI),y=i>c?1:i/c,T=i>c?c/i:1,i=U.jx(0,0,i>c?i:c,w,w+d,!0),c=Xt.alloc(),c.reset(),c.translate(s,l),c.rotate(t.Ne,0,0),c.scale(y,T),lt.Ha(i,c),Xt.free(c),t.ae=i,t.ae}S.Object.defineProperties(Jt.prototype,{_isFrozen:{get:function(){return(this.l&1)!==0},set:function(t){this.l=t?this.l|1:this.l&-2}},_isInvalidBounds:{get:function(){return(this.l&2)!==0},set:function(t){this.l=t?this.l|2:this.l&-3}},isClosed:{get:function(){return(this.l&8)!==0},set:function(t){this.isClosed!==t&&(this.l=t?this.l|8:this.l&-9,this._isInvalidBounds=!0)}},type:{get:function(){return this.na},set:function(t){this._isFrozen&&B(this,t),this.na=t,this._isInvalidBounds=!0}},endX:{get:function(){return this.Dc},set:function(t){this._isFrozen&&B(this,t),this.Dc=t,this._isInvalidBounds=!0}},endY:{get:function(){return this.Ec},set:function(t){this._isFrozen&&B(this,t),this.Ec=t,this._isInvalidBounds=!0}},point1X:{get:function(){return this.Ne},set:function(t){this._isFrozen&&B(this,t),this.Ne=t,this._isInvalidBounds=!0}},point1Y:{get:function(){return this.Vh},set:function(t){this._isFrozen&&B(this,t),this.Vh=t,this._isInvalidBounds=!0}},point2X:{get:function(){return this.Wh},set:function(t){this._isFrozen&&B(this,t),this.Wh=t,this._isInvalidBounds=!0}},point2Y:{get:function(){return this.Pg},set:function(t){this._isFrozen&&B(this,t),this.Pg=t,this._isInvalidBounds=!0}},centerX:{get:function(){return this.Ne},set:function(t){this._isFrozen&&B(this,t),this.Ne=t,this._isInvalidBounds=!0}},centerY:{get:function(){return this.Vh},set:function(t){this._isFrozen&&B(this,t),this.Vh=t,this._isInvalidBounds=!0}},radiusX:{get:function(){return this.Wh},set:function(t){0>t&&q(t,">= zero",Jt,"radiusX"),this._isFrozen&&B(this,t),this.Wh=t,this._isInvalidBounds=!0}},radiusY:{get:function(){return this.Pg},set:function(t){0>t&&q(t,">= zero",Jt,"radiusY"),this._isFrozen&&B(this,t),this.Pg=t,this._isInvalidBounds=!0}},startAngle:{get:function(){return this.Dc},set:function(t){this._isFrozen&&B(this,t),t%=360,0>t&&(t+=360),this.Dc=t,this._isInvalidBounds=!0}},sweepAngle:{get:function(){return this.Ec},set:function(t){this._isFrozen&&B(this,t),360<t&&(t=360),-360>t&&(t=-360),this.Ec=t,this._isInvalidBounds=!0}},isClockwiseArc:{get:function(){return(this.l&4)!==0},set:function(t){this._isFrozen&&B(this,t),this.l=t?this.l|4:this.l&-5,this._isInvalidBounds=!0}},isLargeArc:{get:function(){return(this.l&16)!==0},set:function(t){this._isFrozen&&B(this,t),this.l=t?this.l|16:this.l&-17,this._isInvalidBounds=!0}},xAxisRotation:{get:function(){return this.Ne},set:function(t){this._isFrozen&&B(this,t),t%=360,0>t&&(t+=360),this.Ne=t,this._isInvalidBounds=!0}}}),Jt.prototype.equalsApprox=Jt.prototype.Xa;var ys=new it(Jt,"Move",0),be=new it(Jt,"Line",1),br=new it(Jt,"Bezier",2),yo=new it(Jt,"QuadraticBezier",3),ti=new it(Jt,"Arc",4),Vs=new it(Jt,"SvgArc",4);Jt.className="PathSegment",Jt.Move=ys,Jt.Line=be,Jt.Bezier=br,Jt.QuadraticBezier=yo,Jt.Arc=ti,Jt.SvgArc=Vs;function Tr(){this.H=null,this.wu=new F(0,0).freeze(),this.lt=new F(0,0).freeze(),this.Ap=this.Qq=0,this.Bp=1,this.wq="",this.Vr=this.Sp=!1,this.Qp=this.Dp=0,this.xg=this.mq=this.sq=!1,this.Yp=null,this.Qr=0,this.xd=this.Mr=null}Tr.prototype.copy=function(){var t=new Tr;return this.clone(t)},Tr.prototype.clone=function(t){return t.H=this.H,t.wu.assign(this.viewPoint),t.lt.assign(this.documentPoint),t.Qq=this.Qq,t.Ap=this.Ap,t.Bp=this.Bp,t.wq=this.wq,t.Sp=this.Sp,t.Vr=this.Vr,t.Dp=this.Dp,t.Qp=this.Qp,t.sq=this.sq,t.mq=this.mq,t.xg=this.xg,t.Yp=this.Yp,t.Qr=this.Qr,t.Mr=this.Mr,t.xd=this.xd,t},Tr.prototype.toString=function(){var t="^";return this.modifiers!==0&&(t+="M:"+this.modifiers),this.button!==0&&(t+="B:"+this.button),this.key!==""&&(t+="K:"+this.key),this.clickCount!==0&&(t+="C:"+this.clickCount),this.delta!==0&&(t+="D:"+this.delta),this.handled&&(t+="h"),this.bubbles&&(t+="b"),this.documentPoint!==null&&(t+="@"+this.documentPoint.toString()),t},Tr.prototype.Ro=function(t,i){var s=this.diagram;return s===null||PL(s,t,i),i},Tr.prototype.Bz=function(t,i){var s=this.diagram;return s===null||(PL(s,t,i),i.assign(s.Os(i))),i},S.Object.defineProperties(Tr.prototype,{diagram:{get:function(){return this.H},set:function(t){this.H=t}},viewPoint:{get:function(){return this.wu},set:function(t){this.wu.assign(t)}},documentPoint:{get:function(){return this.lt},set:function(t){this.lt.assign(t)}},modifiers:{get:function(){return this.Qq},set:function(t){this.Qq=t}},button:{get:function(){return this.Ap},set:function(t){if(this.Ap=t,this.event===null)switch(t){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2}}},buttons:{get:function(){return this.Bp},set:function(t){this.Bp=t}},key:{get:function(){return this.wq},set:function(t){this.wq=t}},down:{get:function(){return this.Sp},set:function(t){this.Sp=t}},up:{get:function(){return this.Vr},set:function(t){this.Vr=t}},clickCount:{get:function(){return this.Dp},set:function(t){this.Dp=t}},delta:{get:function(){return this.Qp},set:function(t){this.Qp=t}},isMultiTouch:{get:function(){return this.sq},set:function(t){this.sq=t}},handled:{get:function(){return this.mq},set:function(t){this.mq=t}},bubbles:{get:function(){return this.xg},set:function(t){this.xg=t}},event:{get:function(){return this.Yp},set:function(t){this.Yp=t}},isTouchEvent:{get:function(){var t=this.event;return t===null?!1:t.pointerType==="touch"||t.pointerType==="pen"}},timestamp:{get:function(){return this.Qr},set:function(t){this.Qr=t}},targetDiagram:{get:function(){return this.Mr},set:function(t){this.Mr=t}},targetObject:{get:function(){return this.xd},set:function(t){this.xd=t}},control:{get:function(){return(this.modifiers&1)!==0},set:function(t){this.modifiers=t?this.modifiers|1:this.modifiers&-2}},shift:{get:function(){return(this.modifiers&4)!==0},set:function(t){this.modifiers=t?this.modifiers|4:this.modifiers&-5}},alt:{get:function(){return(this.modifiers&2)!==0},set:function(t){this.modifiers=t?this.modifiers|2:this.modifiers&-3}},meta:{get:function(){return(this.modifiers&8)!==0},set:function(t){this.modifiers=t?this.modifiers|8:this.modifiers&-9}},left:{get:function(){var t=this.event;return t===null||t.type!=="mousedown"&&t.type!=="mouseup"&&t.type!=="pointerdown"&&t.type!=="pointerup"?(this.buttons&1)!==0:this.button===0},set:function(t){this.buttons=t?this.buttons|1:this.buttons&-2}},right:{get:function(){var t=this.event;return t===null||t.type!=="mousedown"&&t.type!=="mouseup"&&t.type!=="pointerdown"&&t.type!=="pointerup"?(this.buttons&2)!==0:this.button===2},set:function(t){this.buttons=t?this.buttons|2:this.buttons&-3}},middle:{get:function(){var t=this.event;return t===null||t.type!=="mousedown"&&t.type!=="mouseup"&&t.type!=="pointerdown"&&t.type!=="pointerup"?(this.buttons&4)!==0:this.button===1},set:function(t){this.buttons=t?this.buttons|4:this.buttons&-5}}}),Tr.prototype.getMultiTouchDocumentPoint=Tr.prototype.Bz,Tr.prototype.getMultiTouchViewPoint=Tr.prototype.Ro,Tr.className="InputEvent";function cf(){this.H=null,this.xa="",this.$q=this.Kr=null}cf.prototype.copy=function(){var t=new cf;return t.H=this.H,t.xa=this.xa,t.Kr=this.Kr,t.$q=this.$q,t},cf.prototype.toString=function(){var t="*"+this.name;return this.subject!==null&&(t+=":"+this.subject.toString()),this.parameter!==null&&(t+="("+this.parameter.toString()+")"),t},S.Object.defineProperties(cf.prototype,{diagram:{get:function(){return this.H},set:function(t){this.H=t}},name:{get:function(){return this.xa},set:function(t){this.xa=t}},subject:{get:function(){return this.Kr},set:function(t){this.Kr=t}},parameter:{get:function(){return this.$q},set:function(t){this.$q=t}}}),cf.className="DiagramEvent";function Te(){this.Em=ke,this.rf=this.Pq="",this.Kn=this.Ln=this.Qn=this.Rn=this.Pn=this.H=this.dc=null}Te.prototype.clear=function(){this.Kn=this.Ln=this.Qn=this.Rn=this.Pn=this.H=this.dc=null},Te.prototype.copy=function(){var t=new Te;t.Em=this.Em,t.Pq=this.Pq,t.rf=this.rf,t.dc=this.dc,t.H=this.H,t.Pn=this.Pn;var i=this.Rn;return t.Rn=J(i)&&typeof i.J=="function"?i.J():i,i=this.Qn,t.Qn=J(i)&&typeof i.J=="function"?i.J():i,i=this.Ln,t.Ln=J(i)&&typeof i.J=="function"?i.J():i,i=this.Kn,t.Kn=J(i)&&typeof i.J=="function"?i.J():i,t},Te.prototype.qb=function(t){t.classType===Te&&(this.change=t)},Te.prototype.toString=function(){var t="";return t=this.change===zs?t+"* ":this.change===ke?t+(this.model!==null?"!m":"!d"):t+((this.model!==null?"!m":"!d")+this.change),this.propertyName&&typeof this.propertyName=="string"&&(t+=" "+this.propertyName),this.modelChange&&this.modelChange!==this.propertyName&&(t+=" "+this.modelChange),t+=": ",this.change===zs?this.oldValue!==null&&(t+=" "+this.oldValue):(this.object!==null&&(t+=Mt(this.object)),this.oldValue!==null&&(t+="  old: "+Mt(this.oldValue)),this.oldParam!==null&&(t+=" "+this.oldParam),this.newValue!==null&&(t+="  new: "+Mt(this.newValue)),this.newParam!==null&&(t+=" "+this.newParam)),t},Te.prototype.I=function(t){return t?this.oldValue:this.newValue},Te.prototype.Dz=function(t){return t?this.oldParam:this.newParam},Te.prototype.canUndo=function(){return this.model!==null||this.diagram!==null},Te.prototype.undo=function(){this.canUndo()&&(this.model!==null?this.model.changeState(this,!0):this.diagram!==null&&this.diagram.changeState(this,!0))},Te.prototype.canRedo=function(){return this.model!==null||this.diagram!==null},Te.prototype.redo=function(){this.canRedo()&&(this.model!==null?this.model.changeState(this,!1):this.diagram!==null&&this.diagram.changeState(this,!1))},S.Object.defineProperties(Te.prototype,{model:{get:function(){return this.dc},set:function(t){this.dc=t}},diagram:{get:function(){return this.H},set:function(t){this.H=t}},change:{get:function(){return this.Em},set:function(t){this.Em=t}},modelChange:{get:function(){return this.Pq},set:function(t){this.Pq=t}},propertyName:{get:function(){return this.rf},set:function(t){this.rf=t}},isTransactionFinished:{get:function(){return this.Em===zs&&(this.rf==="CommittedTransaction"||this.rf==="FinishedUndo"||this.rf==="FinishedRedo")}},object:{get:function(){return this.Pn},set:function(t){this.Pn=t}},oldValue:{get:function(){return this.Rn},set:function(t){this.Rn=t}},oldParam:{get:function(){return this.Qn},set:function(t){this.Qn=t}},newValue:{get:function(){return this.Ln},set:function(t){this.Ln=t}},newParam:{get:function(){return this.Kn},set:function(t){this.Kn=t}}}),Te.prototype.redo=Te.prototype.redo,Te.prototype.canRedo=Te.prototype.canRedo,Te.prototype.undo=Te.prototype.undo,Te.prototype.canUndo=Te.prototype.canUndo,Te.prototype.getParam=Te.prototype.Dz,Te.prototype.getValue=Te.prototype.I,Te.prototype.clear=Te.prototype.clear;var zs=new it(Te,"Transaction",-1),ke=new it(Te,"Property",0),oi=new it(Te,"Insert",1),ci=new it(Te,"Remove",2);Te.className="ChangedEvent",Te.Transaction=zs,Te.Property=ke,Te.Insert=oi,Te.Remove=ci;function ki(){this.o=new ct().freeze(),this.xa="",this.j=!1}ki.prototype.toString=function(t){var i="Transaction: "+this.name+" "+this.changes.count.toString()+(this.isComplete?"":", incomplete");if(t!==void 0&&0<t){t=this.changes.count;for(var s=0;s<t;s++){var l=this.changes.M(s);l!==null&&(i+=`
  `+l.toString())}}return i},ki.prototype.clear=function(){var t=this.changes;t.ka();for(var i=t.count-1;0<=i;i--){var s=t.M(i);s!==null&&s.clear()}t.clear(),t.freeze()},ki.prototype.canUndo=function(){return this.isComplete},ki.prototype.undo=function(){if(this.canUndo())for(var t=this.changes.count-1;0<=t;t--){var i=this.changes.M(t);i!==null&&i.undo()}},ki.prototype.canRedo=function(){return this.isComplete},ki.prototype.redo=function(){if(this.canRedo())for(var t=this.changes.count,i=0;i<t;i++){var s=this.changes.M(i);s!==null&&s.redo()}},ki.prototype.$j=function(){if(this.isComplete){var t=this.changes;t.ka();for(var i=new jt,s=0;s<t.count;s++){var l=t.M(s);if(l!==null&&l.change===ke&&l.object){var u=i.get(l.object);u||(u=new jt,i.set(l.object,u));var c=u.get(l.propertyName);c===null?u.set(l.propertyName,-1):(0<c&&t.cd(c,null),u.set(l.propertyName,s))}}for(s=i=0;s<t.count;s++)l=t.M(s),l!==null&&(s>i&&t.cd(i,l),i++);for(;t.length>i;)t.pop();t.freeze()}},S.Object.defineProperties(ki.prototype,{changes:{get:function(){return this.o}},name:{get:function(){return this.xa},set:function(t){this.xa=t}},isComplete:{get:function(){return this.j},set:function(t){this.j=t}}}),ki.prototype.optimize=ki.prototype.$j,ki.prototype.redo=ki.prototype.redo,ki.prototype.canRedo=ki.prototype.canRedo,ki.prototype.undo=ki.prototype.undo,ki.prototype.canUndo=ki.prototype.canUndo,ki.prototype.clear=ki.prototype.clear,ki.className="Transaction";function je(){this.Ot=new at,this.Jd=!1,this.u=new ct().freeze(),this.Ce=-1,this.o=999,this.Fe=!1,this.Mp=null,this.bi=0,this.j=!1,this.Ie=new ct().freeze(),this.gl=new ct,this.st=!0,this.Ct=this.qq=this.Ft=this.Et=!1}je.prototype.toString=function(t){var i="UndoManager "+this.historyIndex+"<"+this.history.count+"<="+this.maxHistoryLength;i+="[";for(var s=this.nestedTransactionNames.count,l=0;l<s;l++)0<l&&(i+=" "),i+=this.nestedTransactionNames.M(l);if(i+="]",t!==void 0&&0<t)for(s=this.history.count,l=0;l<s;l++)i+=`
 `+this.history.M(l).toString(t-1);return i},je.prototype.clear=function(){var t=this.history;t.ka();for(var i=t.count-1;0<=i;i--){var s=t.M(i);s!==null&&s.clear()}t.clear(),this.Ce=-1,t.freeze(),this.Fe=!1,this.Mp=null,this.bi=0,this.Ie.ka(),this.Ie.clear(),this.Ie.freeze(),this.gl.clear(),this.Ct=this.qq=this.Ft=this.Et=!1},je.prototype.copyProperties=function(t){this.isEnabled=t.isEnabled,this.maxHistoryLength=t.maxHistoryLength,this.checksTransactionLevel=t.checksTransactionLevel},n=je.prototype,n.Xw=function(t){this.Ot.add(t)},n.Rx=function(t){this.Ot.remove(t)},n.Ea=function(t){if(t===void 0&&(t=""),t===null&&(t=""),this.isUndoingRedoing)return!1;this.st===!0&&(this.st=!1,this.bi++,this.isInternalTransaction||this.Pb("StartingFirstTransaction",t,this.currentTransaction),0<this.bi&&this.bi--),this.isEnabled&&(this.Ie.ka(),this.Ie.add(t),this.Ie.freeze(),this.currentTransaction===null?this.gl.add(0):this.gl.add(this.currentTransaction.changes.count)),this.bi++;var i=this.transactionLevel===1;return i&&(this.isInternalTransaction||this.Pb("StartedTransaction",t,this.currentTransaction)),i},n.eb=function(t){return t===void 0&&(t=""),D5(this,!0,t)},n.Kf=function(){return D5(this,!1,"")};function D5(t,i,s){if(t.isUndoingRedoing)return!1;t.checksTransactionLevel&&1>t.transactionLevel&&K("Ending transaction without having started a transaction: "+s);var l=t.transactionLevel===1,u=t.currentTransaction;l&&i&&(t.isInternalTransaction||t.Pb("CommittingTransaction",s,u));var c=0;if(0<t.transactionLevel&&(t.bi--,t.isEnabled)){var d=t.Ie.count;0<d&&(s===""&&(s=t.Ie.M(0)),t.Ie.ka(),t.Ie.mb(d-1),t.Ie.freeze()),d=t.gl.count,0<d&&(c=t.gl.M(d-1),t.gl.mb(d-1))}if(l){if(i)t.qq=!1,u===null&&s!==""&&(u=t.currentTransaction),t.isEnabled&&u!==null&&(u.isComplete||(u.isComplete=!0,u.name=s),t.lx(),i=t.history,i.ka(),l=t.maxHistoryLength,0<=l&&(l===0?i.clear():i.count>=l&&(c=i.M(0),c!==null&&c.clear(),i.mb(0),t.Ce--)),l===0||i.count!==0&&i.get(i.count-1)===u||(i.add(u),t.Ce++),i.freeze()),t.isInternalTransaction||t.Pb("CommittedTransaction",s,u);else{t.Fe=!0;try{t.isEnabled&&u!==null&&(u.isComplete=!0,u.undo())}finally{t.isInternalTransaction||t.Pb("RolledBackTransaction",s,u),t.Fe=!1}u!==null&&u.clear()}return t.Mp=null,t.isPendingClear&&t.clear(),t.isPendingClear=!1,t.isPendingUnmodified=!1,!0}if(t.isEnabled&&!i&&u!==null){for(t=c,s=u.changes,u=s.count-1;u>=t;u--)i=s.M(u),i!==null&&i.undo(),s.ka(),s.mb(u);s.freeze()}return!1}n.lx=function(){if(!this.isUndoingRedoing&&this.canRedo()){var t=this.history;t.ka();for(var i=t.count-1;i>this.historyIndex;i--){var s=t.M(i);s!==null&&s.clear(),t.mb(i),this.qq=!0}t.freeze()}},je.prototype.canUndo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var t=this.transactionToUndo;return!!(t!==null&&t.canUndo())},je.prototype.undo=function(){if(this.canUndo()){var t=this.transactionToUndo;try{this.Fe=!0,this.Pb("StartingUndo","Undo",t),this.Ce--,t.undo()}catch(i){K("undo error: "+i.toString())}finally{this.Pb("FinishedUndo","Undo",t),this.Fe=!1}}},je.prototype.canRedo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var t=this.transactionToRedo;return!!(t!==null&&t.canRedo())},je.prototype.redo=function(){if(this.canRedo()){var t=this.transactionToRedo;try{this.Fe=!0,this.Pb("StartingRedo","Redo",t),this.Ce++,t.redo()}catch(i){K("redo error: "+i.toString())}finally{this.Pb("FinishedRedo","Redo",t),this.Fe=!1}}},je.prototype.Pb=function(t,i,s){s===void 0&&(s=null);var l=new Te;for(l.change=zs,l.propertyName=t,l.object=s,l.oldValue=i,t=this.models;t.next();)i=t.value,l.model=i,i.cs(l)},je.prototype.Tu=function(t){if(this.isEnabled&&!this.isUndoingRedoing&&!this.skipsEvent(t)){var i=this.currentTransaction;i===null&&(this.Mp=i=new ki);var s=t.copy();i=i.changes,i.ka(),i.add(s),i.freeze(),this.checksTransactionLevel&&0>=this.transactionLevel&&!this.st&&(t=t.diagram,t!==null&&t.pi===!1||K("Change not within a transaction: "+s.toString()))}},je.prototype.skipsEvent=function(t){if(t===null||0>t.change.value)return!0;if(t=t.object,t===null)return!1;if(t.layer!==void 0){if(t=t.layer,t!==null&&t.isTemporary)return!0}else if(t.isTemporary)return!0;return!1},S.Object.defineProperties(je.prototype,{models:{get:function(){return this.Ot.iterator}},isEnabled:{get:function(){return this.Jd},set:function(t){this.Jd=t}},transactionToUndo:{get:function(){return 0<=this.historyIndex&&this.historyIndex<=this.history.count-1?this.history.M(this.historyIndex):null}},transactionToRedo:{get:function(){return this.historyIndex<this.history.count-1?this.history.M(this.historyIndex+1):null}},isUndoingRedoing:{get:function(){return this.Fe}},history:{get:function(){return this.u}},maxHistoryLength:{get:function(){return this.o},set:function(t){this.o=t}},historyIndex:{get:function(){return this.Ce}},currentTransaction:{get:function(){return this.Mp}},transactionLevel:{get:function(){return this.bi}},isInTransaction:{get:function(){return 0<this.bi}},checksTransactionLevel:{get:function(){return this.j},set:function(t){this.j=t}},nestedTransactionNames:{get:function(){return this.Ie}},isPendingClear:{get:function(){return this.Et},set:function(t){this.Et=t}},isPendingUnmodified:{get:function(){return this.Ft},set:function(t){this.Ft=t}},isInternalTransaction:{get:function(){return this.Ct},set:function(t){this.Ct=t}},isJustDiscarded:{get:function(){return this.qq}}}),je.prototype.handleChanged=je.prototype.Tu,je.prototype.redo=je.prototype.redo,je.prototype.undo=je.prototype.undo,je.prototype.canUndo=je.prototype.canUndo,je.prototype.discardHistoryAfterIndex=je.prototype.lx,je.prototype.rollbackTransaction=je.prototype.Kf,je.prototype.commitTransaction=je.prototype.eb,je.prototype.startTransaction=je.prototype.Ea,je.prototype.removeModel=je.prototype.Rx,je.prototype.addModel=je.prototype.Xw,je.prototype.clear=je.prototype.clear,je.className="UndoManager";function Kt(){Ue(this),this.H=Jd,this.xa="",this.Jd=!0,this.nb=!1,this.vm=null,this.yy=new Tr,this.Yr=-1}Kt.prototype.toString=function(){return this.name!==""?this.name+" Tool":Vt(this.constructor)},Kt.prototype.updateAdornments=function(){},Kt.prototype.canStart=function(){return this.isEnabled},Kt.prototype.doStart=function(){},Kt.prototype.doActivate=function(){this.isActive=!0},Kt.prototype.doDeactivate=function(){this.isActive=!1},Kt.prototype.doStop=function(){},Kt.prototype.doCancel=function(){this.transactionResult=null,this.stopTool()},Kt.prototype.stopTool=function(){var t=this.diagram;t.currentTool===this&&(t.currentTool=null,t.currentCursor="")},Kt.prototype.doMouseDown=function(){!this.isActive&&this.canStart()&&this.doActivate()},Kt.prototype.doMouseMove=function(){},Kt.prototype.doMouseUp=function(){this.stopTool()},Kt.prototype.doMouseWheel=function(){},Kt.prototype.canStartMultiTouch=function(){return!0},Kt.prototype.standardPinchZoomStart=function(){var t=this.diagram,i=t.lastInput,s=i.Ro(0,F.allocAt(NaN,NaN)),l=i.Ro(1,F.allocAt(NaN,NaN));if(s.w()&&l.w()&&(this.doCancel(),t.Pl("hasGestureZoom"))){t.Bw=t.scale;var u=l.x-s.x,c=l.y-s.y;t.Jw=Math.sqrt(u*u+c*c),i.bubbles=!1}F.free(s),F.free(l)},Kt.prototype.standardPinchZoomMove=function(){var t=this.diagram,i=t.lastInput,s=i.Ro(0,F.allocAt(NaN,NaN)),l=i.Ro(1,F.allocAt(NaN,NaN));if(s.w()&&l.w()&&(this.doCancel(),t.Pl("hasGestureZoom"))){var u=l.x-s.x,c=l.y-s.y;c=Math.sqrt(u*u+c*c)/t.Jw,u=new F((Math.min(l.x,s.x)+Math.max(l.x,s.x))/2,(Math.min(l.y,s.y)+Math.max(l.y,s.y))/2),c*=t.Bw;var d=t.commandHandler;if(c!==t.scale&&d.canResetZoom(c)){var m=t.zoomPoint;t.zoomPoint=u,d.resetZoom(c),t.zoomPoint=m}i.bubbles=!1}F.free(s),F.free(l)},Kt.prototype.doKeyDown=function(){this.diagram.lastInput.key==="Esc"&&this.doCancel()},Kt.prototype.doKeyUp=function(){},Kt.prototype.Ea=function(t){return t===void 0&&(t=this.name),this.transactionResult=null,this.diagram.Ea(t)},Kt.prototype.stopTransaction=function(){var t=this.diagram;return this.transactionResult===null?t.Kf():t.eb(this.transactionResult)},Kt.prototype.standardMouseSelect=function(){var t=this.diagram;if(t.allowSelect){var i=t.lastInput,s=t.Nl(i.documentPoint,!1);if(s!==null){if(Dt?i.meta:i.control){for(t.R("ChangingSelection",t.selection),i=s;i!==null&&!i.canSelect();)i=i.containingGroup;i!==null&&(i.isSelected=!i.isSelected),t.R("ChangedSelection",t.selection)}else if(i.shift){if(!s.isSelected){for(t.R("ChangingSelection",t.selection),i=s;i!==null&&!i.canSelect();)i=i.containingGroup;i!==null&&(i.isSelected=!0),t.R("ChangedSelection",t.selection)}}else if(!s.isSelected){for(i=s;i!==null&&!i.canSelect();)i=i.containingGroup;i!==null&&t.select(i)}}else!i.left||(Dt?i.meta:i.control)||i.shift||t.clearSelection()}},Kt.prototype.standardMouseClick=function(t,i){t===void 0&&(t=null),i===void 0&&(i=function(u){return!u.layer.isTemporary});var s=this.diagram,l=s.lastInput;return t=s.jc(l.documentPoint,t,i),l.targetObject=t,aG(t,l,s),l.handled};function aG(t,i,s){if(i.handled=!1,t===null||t.If()){var l=0;i.left?l=i.clickCount===1?1:i.clickCount===2?2:1:i.right&&i.clickCount===1&&(l=3);var u="ObjectSingleClicked";if(t!==null){switch(l){case 1:u="ObjectSingleClicked";break;case 2:u="ObjectDoubleClicked";break;case 3:u="ObjectContextClicked"}l!==0&&s.R(u,t)}else{switch(l){case 1:u="BackgroundSingleClicked";break;case 2:u="BackgroundDoubleClicked";break;case 3:u="BackgroundContextClicked"}l!==0&&s.R(u)}if(t!==null)for(;t!==null;){switch(s=null,l){case 1:s=t.click;break;case 2:s=t.doubleClick?t.doubleClick:t.click;break;case 3:s=t.contextClick}if(s!==null&&(s(i,t),i.handled))break;t=t.panel}else{switch(t=null,l){case 1:t=s.click;break;case 2:t=s.doubleClick?s.doubleClick:s.click;break;case 3:t=s.contextClick}t!==null&&t(i)}}}Kt.prototype.standardMouseOver=function(){var t=this.diagram,i=t.lastInput;if(t.animationManager.Ab!==!0){var s=t.skipsUndoManager;t.skipsUndoManager=!0;var l=t.viewportBounds.ca(i.documentPoint)?t.jc(i.documentPoint,null,null):null;!i.event||i.event.type!=="pointercancel"&&i.event.type!=="pointerout"||(l=null),i.targetObject=l;var u=!1;if(l!==t.Bk){var c=t.Bk,d=c;for(t.Bk=l,this.doCurrentObjectChanged(c,l),i.handled=!1;c!==null;){var m=c.mouseLeave;if(m!==null&&(l===c||l!==null&&l.rg(c)||(m(i,c,l),u=!0,i.handled)))break;c=c.panel}for(c=d,i.handled=!1;l!==null&&(d=l.mouseEnter,!(d!==null&&(c===l||c!==null&&c.rg(l)||(d(i,l,c),u=!0,i.handled))));)l=l.panel;l=t.Bk}if(l!==null){for(c=l,d="";c!==null&&(d=c.cursor,d==="");)c=c.panel;for(t.currentCursor=d,i.handled=!1,c=l;c!==null&&(l=c.mouseOver,!(l!==null&&(l(i,c),u=!0,i.handled)));)c=c.panel}else this.doUpdateCursor(null),l=t.mouseOver,l!==null&&(l(i),u=!0);u&&t.ac(),t.skipsUndoManager=s}},Kt.prototype.doUpdateCursor=function(){var t=this.diagram;t&&(t.currentCursor="")},Kt.prototype.doCurrentObjectChanged=function(){},Kt.prototype.standardMouseWheel=function(){var t=this.diagram,i=t.lastInput,s=i.delta;if(s!==0&&t.documentBounds.w()){var l=t.commandHandler,u=t.toolManager.mouseWheelBehavior;if(l!==null&&(u===zg&&!i.shift||u===_d&&i.control))(0<s?l.canIncreaseZoom():l.canDecreaseZoom())&&(u=t.zoomPoint,t.zoomPoint=i.viewPoint,0<s?l.increaseZoom():l.decreaseZoom(),t.zoomPoint=u),i.bubbles=!1;else if(u===zg&&i.shift||u===_d&&!i.control){l=t.position.copy();var c=i.event;u=c.deltaMode;var d=c.deltaX;c=c.deltaY;var m="pixel";if(d===0&&c===0||i.shift)!i.shift&&t.allowVerticalScroll?(s=3*s*t.scrollVerticalLineChange,t.scroll(m,0<s?"up":"down",Math.abs(s))):i.shift&&t.allowHorizontalScroll&&(s=3*s*t.scrollHorizontalLineChange,t.scroll(m,0<s?"left":"right",Math.abs(s)));else{switch(u){case 0:m="pixel";break;case 1:m="line";break;case 2:m="page"}d!==0&&t.allowHorizontalScroll&&(d*=t.scrollHorizontalLineChange/16,t.scroll(m,0<d?"right":"left",Math.abs(d))),c!==0&&t.allowVerticalScroll&&(c*=t.scrollVerticalLineChange/16,t.scroll(m,0<c?"down":"up",Math.abs(c)))}this.doWheelChange(t,l,i)}}},Kt.prototype.doWheelChange=function(t,i,s){t.position.D(i)&&s.event.wheelDeltaX===0||(s.bubbles=!1)},Kt.prototype.standardWaitAfter=function(t,i){i===void 0&&(i=this.diagram.lastInput),this.cancelWaitAfter();var s=this,l=i.clone(this.yy);this.Yr=$(function(){s.doWaitAfter(l)},t)},Kt.prototype.cancelWaitAfter=function(){this.Yr!==-1&&N.clearTimeout(this.Yr),this.Yr=-1},Kt.prototype.doWaitAfter=function(){},Kt.prototype.findToolHandleAt=function(t,i){return t=this.diagram.jc(t,function(s){for(;s!==null&&!(s.panel instanceof Wt);)s=s.panel;return s}),t===null?null:t.part.category===i?t:null},Kt.prototype.isBeyondDragSize=function(t,i){var s=this.diagram;t===void 0&&(t=s.firstInput.viewPoint),i===void 0&&(i=s.lastInput.viewPoint);var l=s.toolManager.dragSize,u=l.width;return l=l.height,s.firstInput.isTouchEvent&&(u+=6,l+=6),Math.abs(i.x-t.x)>u||Math.abs(i.y-t.y)>l},S.Object.defineProperties(Kt.prototype,{diagram:{get:function(){return this.H},set:function(t){t instanceof H&&(this.H=t)}},name:{get:function(){return this.xa},set:function(t){this.xa=t}},isEnabled:{get:function(){return this.Jd},set:function(t){this.Jd=t}},isActive:{get:function(){return this.nb},set:function(t){this.nb=t}},transactionResult:{get:function(){return this.vm},set:function(t){this.vm=t}}}),Kt.prototype.startTransaction=Kt.prototype.Ea,Kt.className="Tool";function Ce(){Kt.call(this),this.name="ToolManager",this.hb=new ct,this.ob=new ct,this.Ib=new ct,this.F=this.V=850,this.o=new At(2,2).ja(),this.Ha=5e3,this.ia=_d,this.u=F5,this.Lp=this.j=null,this.zj=-1}x(Ce,Kt),Ce.prototype.initializeStandardTools=function(){},Ce.prototype.updateAdornments=function(t){var i=this.currentToolTip;if(i instanceof Wt&&this.Lp===t){var s=i.adornedObject;(t!==null?s.part===t:s===null)?this.showToolTip(i,s):this.hideToolTip()}},Ce.prototype.doMouseDown=function(){var t=this.diagram,i=t.lastInput;if(i.isTouchEvent&&this.gestureBehavior===Xv&&(i.bubbles=!1),i.isMultiTouch){if(this.cancelWaitAfter(),this.gestureBehavior===R2){i.bubbles=!0;return}if(this.gestureBehavior===Xv)return;if(t.currentTool.canStartMultiTouch()){t.currentTool.standardPinchZoomStart();return}}for(var s=this.mouseDownTools.length,l=0;l<s;l++){var u=this.mouseDownTools.M(l);if(u.diagram=this.diagram,u.canStart()){t.doFocus(),t.currentTool=u,t.currentTool===u&&(u.isActive||u.doActivate(),u.doMouseDown());return}}t.lastInput.button===1&&(this.mouseWheelBehavior===_d?this.mouseWheelBehavior=zg:this.mouseWheelBehavior===zg&&(this.mouseWheelBehavior=_d)),this.doActivate(),this.standardWaitAfter(this.holdDelay,i)},Ce.prototype.doMouseMove=function(){var t=this.diagram,i=t.lastInput;if(i.isMultiTouch){if(this.gestureBehavior===R2){i.bubbles=!0;return}if(this.gestureBehavior===Xv)return;if(t.currentTool.canStartMultiTouch()){t.currentTool.standardPinchZoomMove();return}}if(this.isActive)for(var s=this.mouseMoveTools.length,l=0;l<s;l++){var u=this.mouseMoveTools.M(l);if(u.diagram=this.diagram,u.canStart()){t.doFocus(),t.currentTool=u,t.currentTool===u&&(u.isActive||u.doActivate(),u.doMouseMove());return}}I5(this,t),t=i.event,t===null||t.type!=="pointermove"&&t.cancelable||(i.bubbles=!0)};function I5(t,i){t.standardMouseOver(),t.isBeyondDragSize()&&t.standardWaitAfter(t.isActive?t.holdDelay:t.hoverDelay,i.lastInput)}Ce.prototype.doCurrentObjectChanged=function(t,i){t=this.currentToolTip,t===null||i!==null&&t instanceof Wt&&(i===t||i.rg(t))||this.hideToolTip()},Ce.prototype.doWaitAfter=function(t){var i=this.diagram;i.ta!==null&&(this.doMouseHover(),this.isActive||this.doToolTip(),t.isTouchEvent&&!i.lastInput.handled&&(t=t.copy(),t.button=2,t.buttons=2,i.lastInput=t,i.pu=!0,i.doMouseUp()))},Ce.prototype.doMouseHover=function(){var t=this.diagram,i=t.lastInput;i.targetObject===null&&(i.targetObject=t.jc(i.documentPoint,null,null));var s=i.targetObject;if(s!==null)for(i.handled=!1;s!==null&&(t=this.isActive?s.mouseHold:s.mouseHover,!(t!==null&&(t(i,s),i.handled)));)s=s.panel;else s=this.isActive?t.mouseHold:t.mouseHover,s!==null&&s(i)},Ce.prototype.doToolTip=function(){var t=this.diagram,i=t.lastInput;if(i.targetObject===null&&(i.targetObject=t.jc(i.documentPoint,null,null)),i=i.targetObject,i!==null){if(t=this.currentToolTip,!(t instanceof Wt)||i!==t&&!i.rg(t)){for(;i!==null;){if(t=i.toolTip,t!==null){this.showToolTip(t,i);return}i=i.panel}this.hideToolTip()}}else i=t.toolTip,i!==null?this.showToolTip(i,null):this.hideToolTip()},Ce.prototype.showToolTip=function(t,i){var s=this.diagram;if(t!==this.currentToolTip&&this.hideToolTip(),t instanceof Wt){t.layerName="Tool",t.selectable=!1,t.scale=1/s.scale,t.category="ToolTip",t.placeholder!==null&&(t.placeholder.scale=s.scale);var l=t.diagram;l!==null&&l!==s&&l.remove(t),s.add(t),i!==null?t.adornedObject=i:t.data=s.model,t.Va(),this.positionToolTip(t,i)}else t instanceof pa&&t!==this.currentToolTip&&t.show(i,s,this);if(this.currentToolTip=t,this.zj!==-1&&(N.clearTimeout(this.zj),this.zj=-1),t=this.toolTipDuration,0<t&&t!==1/0){var u=this;this.zj=$(function(){u.hideToolTip()},t)}},Ce.prototype.positionToolTip=function(t){if(t.placeholder===null){var i=this.diagram,s=i.lastInput.documentPoint.copy(),l=t.measuredBounds,u=i.viewportBounds;i.lastInput.isTouchEvent&&(s.x-=l.width),s.x+l.width>u.right&&(s.x-=l.width+5/i.scale),s.x<u.x&&(s.x=u.x),s.y=s.y+20/i.scale+l.height>u.bottom?s.y-(l.height+5/i.scale):s.y+20/i.scale,s.y<u.y&&(s.y=u.y),t.position=s}},Ce.prototype.hideToolTip=function(){this.zj!==-1&&(N.clearTimeout(this.zj),this.zj=-1);var t=this.diagram,i=this.currentToolTip;i!==null&&(i instanceof Wt?(t.remove(i),this.Lp!==null&&this.Lp.Jf(i.category),i.data=null,i.adornedObject=null):i instanceof pa&&i.hide!==null&&i.hide(t,this),this.currentToolTip=null)},Ce.prototype.doMouseUp=function(){this.cancelWaitAfter();var t=this.diagram;if(this.isActive)for(var i=this.mouseUpTools.length,s=0;s<i;s++){var l=this.mouseUpTools.M(s);if(l.diagram=this.diagram,l.canStart()){t.doFocus(),t.currentTool=l,t.currentTool===l&&(l.isActive||l.doActivate(),l.doMouseUp());return}}t.doFocus(),this.doDeactivate()},Ce.prototype.doMouseWheel=function(){this.standardMouseWheel()},Ce.prototype.doKeyDown=function(){var t=this.diagram;t.commandHandler!==null&&t.commandHandler.doKeyDown()},Ce.prototype.doKeyUp=function(){var t=this.diagram;t.commandHandler!==null&&t.commandHandler.doKeyUp()},Ce.prototype.findTool=function(t){for(var i=this.mouseDownTools.length,s=0;s<i;s++){var l=this.mouseDownTools.M(s);if(l.name===t)return l}for(i=this.mouseMoveTools.length,s=0;s<i;s++)if(l=this.mouseMoveTools.M(s),l.name===t)return l;for(i=this.mouseUpTools.length,s=0;s<i;s++)if(l=this.mouseUpTools.M(s),l.name===t)return l;return null},Ce.prototype.replaceTool=function(t,i){i!==null&&(i.diagram=this.diagram);for(var s=this.mouseDownTools.length,l=0;l<s;l++){var u=this.mouseDownTools.M(l);if(u.name===t)return i!==null?this.mouseDownTools.cd(l,i):this.mouseDownTools.mb(l),u}for(s=this.mouseMoveTools.length,l=0;l<s;l++)if(u=this.mouseMoveTools.M(l),u.name===t)return i!==null?this.mouseMoveTools.cd(l,i):this.mouseMoveTools.mb(l),u;for(s=this.mouseUpTools.length,l=0;l<s;l++)if(u=this.mouseUpTools.M(l),u.name===t)return i!==null?this.mouseUpTools.cd(l,i):this.mouseUpTools.mb(l),u;return null},Ce.prototype.gb=function(t,i,s){i!==null&&(i.name=t,i.diagram=this.diagram),this.findTool(t)?this.replaceTool(t,i):i!==null&&s.add(i)},S.Object.defineProperties(Ce.prototype,{mouseWheelBehavior:{get:function(){return this.ia},set:function(t){this.ia=t}},gestureBehavior:{get:function(){return this.u},set:function(t){this.u=t}},currentToolTip:{get:function(){return this.j},set:function(t){this.j=t,this.Lp=t!==null&&t instanceof Wt?t.adornedPart:null}},mouseDownTools:{get:function(){return this.hb}},mouseMoveTools:{get:function(){return this.ob}},mouseUpTools:{get:function(){return this.Ib}},hoverDelay:{get:function(){return this.V},set:function(t){this.V=t}},holdDelay:{get:function(){return this.F},set:function(t){this.F=t}},dragSize:{get:function(){return this.o},set:function(t){this.o=t.J()}},toolTipDuration:{get:function(){return this.Ha},set:function(t){this.Ha=t}}}),Ce.prototype.replaceStandardTool=Ce.prototype.gb;var _d=new it(Ce,"WheelScroll",0),zg=new it(Ce,"WheelZoom",1),uG=new it(Ce,"WheelNone",2),F5=new it(Ce,"GestureZoom",3),Xv=new it(Ce,"GestureCancel",4),R2=new it(Ce,"GestureNone",5);Ce.className="ToolManager",Ce.WheelScroll=_d,Ce.WheelZoom=zg,Ce.WheelNone=uG,Ce.GestureZoom=F5,Ce.GestureCancel=Xv,Ce.GestureNone=R2;function Me(){Kt.call(this),this.name="Dragging",this.u=this.Sw=this.ob=!0,this.o=this.Ha=this.V=this.Oe=null,this.Xm=this.Ib=!1,this.sl=new F(NaN,NaN),this.Er=new F,this.hb=!0,this.Hk=100,this.Cg=[],this.te=new at().freeze(),this.ia=new op,this.An=null,this.F="copy",this.Oc="",this.Pc="no-drop"}var ff;x(Me,Kt),Me.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t.isReadOnly&&!t.allowDragOut||!t.allowMove&&!t.allowCopy&&!t.allowDragOut||!t.allowSelect)return!1;var i=t.lastInput;return!i.left||t.currentTool!==this&&(!this.isBeyondDragSize()||i.isTouchEvent&&i.timestamp-t.firstInput.timestamp<this.Hk)?!1:this.findDraggablePart()!==null},Me.prototype.findDraggablePart=function(){var t=this.diagram;if(t=t.Nl(t.firstInput.documentPoint,!1),t===null)return null;for(;t!==null&&!t.canSelect();)t=t.containingGroup;return t!==null&&(t.canMove()||t.canCopy())?t:null},Me.prototype.standardMouseSelect=function(){var t=this.diagram;if(t.allowSelect){var i=t.Nl(t.firstInput.documentPoint,!1);if(i!==null){for(;i!==null&&!i.canSelect();)i=i.containingGroup;this.currentPart=i,this.currentPart===null||this.currentPart.isSelected||(t.R("ChangingSelection",t.selection),i=t.lastInput,(Dt?i.meta:i.control)||i.shift||t.clearSelection(!0),this.currentPart.isSelected=!0,t.R("ChangedSelection",t.selection))}}},Me.prototype.doActivate=function(){var t=this.diagram;this.An=null,this.currentPart===null&&this.standardMouseSelect();var i=this.currentPart;i!==null&&(i.canMove()||i.canCopy())&&(t.Fu(!0),Ai=null,this.isActive=!0,this.sl.set(t.position),L2(this,t.selection),this.Cg.length=0,t.animationManager.Cc(),this.draggedParts=this.computeEffectiveCollection(t.selection,this.dragOptions),this.Sw=this.diagram.layout.isRealtime,this.diagram.layout.isRealtime=!1,t.Ms=!0,t.Gf("temporaryPixelRatio")===!0&&30<t.$w&&qg(t),rx(t,this.draggedParts),this.Ea("Drag"),this.startPoint=t.firstInput.documentPoint,t.isMouseCaptured=!0,t.allowDragOut&&(this.isDragOutStarted=!0,this.Xm=!1,Ai=this,Qh=this.diagram,this.doSimulatedDragOut()))};function L2(t,i){if(t.dragsLink){var s=t.diagram;s.allowRelink&&(s.model.Vj()&&i.count===1&&i.first()instanceof rt?(t.draggedLink=i.first(),t.draggedLink.canRelinkFrom()&&t.draggedLink.canRelinkTo()&&t.draggedLink.Dj(),t.Oe=s.toolManager.findTool("Relinking"),t.Oe===null&&(t.Oe=new Wr,t.Oe.diagram=s),t.Oe.originalLink=t.draggedLink):(t.draggedLink=null,t.Oe=null))}}Me.prototype.computeEffectiveCollection=function(t,i){return this.diagram.commandHandler.computeEffectiveCollection(t,i)},Me.prototype.Pd=function(t){return t===void 0?new ku(mo):this.isGridSnapEnabled?new ku(new F(Math.round(1e3*t.x)/1e3,Math.round(1e3*t.y)/1e3)):new ku(t.copy())},Me.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;if(this.diagram.layout.isRealtime=this.Sw,t.Fu(!1),t.ug(),$2(this),Kg(t,this.draggedParts),this.draggedParts=this.currentPart=this.An=null,this.Xm=this.isDragOutStarted=!1,0<ff.count){for(var i=ff,s=i.length,l=0;l<s;l++){var u=i.M(l);z5(u),Su(u),$2(u),u.diagram.ug()}i.clear()}z5(this),this.sl.h(NaN,NaN),Qh!==null&&(Qh.currentCursor=""),Ai=Qh=null,Su(this),t.isMouseCaptured=!1,t.currentCursor="",t.Ms=!1,this.stopTransaction(),tx(t,!0)},Me.prototype.stopTransaction=function(){var t=this.diagram,i=Kt.prototype.stopTransaction.call(this);return i&&t.undoManager.transactionToUndo!==null&&t.undoManager.transactionToUndo.$j(),i};function $2(t){var i=t.diagram,s=i.skipsUndoManager;i.skipsUndoManager=!0,X5(t,i.lastInput,null),i.skipsUndoManager=s,t.Cg.length=0}function V5(){var t=Ai;Su(t),I2(t);var i=t.diagram;t.sl.w()&&(i.position=t.sl),i.ug()}Me.prototype.doCancel=function(){Su(this),I2(this);var t=this.diagram;this.sl.w()&&(t.position=this.sl),this.stopTool()},Me.prototype.doKeyDown=function(){var t=this.diagram,i=t.lastInput;this.isActive&&(i.key==="Esc"?this.doCancel():i.key!==t.previousInput.key&&this.doMouseMove())},Me.prototype.doKeyUp=function(){this.isActive&&this.doMouseMove()};function D2(t,i){if(t.copiedParts===null){var s=t.diagram;if((!i||!s.isReadOnly&&!s.isModelReadOnly)&&t.draggedParts!==null){var l=s.undoManager;for(l.isEnabled&&l.isInTransaction?l.currentTransaction!==null&&0<l.currentTransaction.changes.count&&(s.undoManager.Kf(),s.Ea("Drag")):I2(t),s.skipsUndoManager=!i,s.partManager.addsToTemporaryLayer=!i,t.startPoint=s.firstInput.documentPoint,i=t.copiesEffectiveCollection?t.draggedParts.Lf():s.selection,i=s.Jj(i,s,!0),s=new jt,l=t.draggedParts.iterator;l.next();){var u=l.key;if(u.Zc()&&u.canCopy()){var c=i.I(u);c!==null&&(c.location=u.location,c.Va(),s.add(c,t.Pd(c.location)))}}for(i=i.iterator;i.next();)l=i.value,l instanceof rt&&l.canCopy()&&s.add(l,t.Pd());t.copiedParts=s,L2(t,s.Lf()),t.draggedLink!==null&&(s=t.draggedLink,i=s.routeBounds,Ca(s,t.startPoint.x-(i.x+i.width/2),t.startPoint.y-(i.y+i.height/2))),t.doUpdateCursor(null)}}}function Su(t){var i=t.diagram;if(t.copiedParts!==null){if(i.Hs(t.copiedParts.Lf(),!1),t.copiedParts=null,t.draggedParts!==null)for(var s=t.draggedParts.iterator;s.next();)s.key instanceof rt&&(s.value.point=new F(0,0));t.doUpdateCursor(null)}i.skipsUndoManager=!1,i.partManager.addsToTemporaryLayer=!1,t.startPoint=i.firstInput.documentPoint}function z5(t){if(t.draggedLink!==null){if(t.dragsLink&&t.Oe!==null){var i=t.Oe;i.diagram.remove(i.temporaryFromNode),i.diagram.remove(i.temporaryToNode),t.Oe.originalLink=null}t.draggedLink=null,t.Oe=null}}function df(t,i,s){var l=t.diagram,u=t.startPoint,c=F.alloc();c.assign(l.lastInput.documentPoint),t.moveParts(i,c.re(u),s),F.free(c),l.Gf("temporaryPixelRatio")===!0&&l.Yh===null&&30<l.$w&&(qg(l),l.gk())}Me.prototype.moveParts=function(t,i,s){s===void 0&&(s=!1);var l=this.diagram;l!==null&&ab(l,t,i,this.dragOptions,s)};function I2(t){if(t.draggedParts!==null){for(var i=t.diagram,s=t.draggedParts.iterator;s.next();){var l=s.key;l.Zc()&&(l.location=s.value.point)}for(s=t.draggedParts.iterator;s.next();)if(l=s.key,l instanceof rt&&l.suspendsRouting){var u=s.value.point;t.draggedParts.add(l,t.Pd()),Ca(l,-u.x,-u.y)}i.bd()}}function F2(t,i){var s=t.diagram;t.dragsLink&&(t.draggedLink!==null&&(t.draggedLink.fromNode=null,t.draggedLink.toNode=null),Z5(t,!1));var l=t.findDragOverObject(i),u=s.lastInput;u.targetObject=l,t.doUpdateCursor(l);var c=s.skipsUndoManager,d=!1;try{if(s.skipsUndoManager=!0,d=X5(t,u,l),!t.isActive&&Ai===null)return;var m=l!==null?l.part:null;if(m===null||s.handlesDragDropForTopLevelParts&&m.isTopLevel&&!(m instanceof Lt)){var y=s.mouseDragOver;y!==null&&(y(u),d=!0)}if(!t.isActive&&Ai===null||(t.doDragOver(i,l),!t.isActive&&Ai===null))return}finally{s.skipsUndoManager=c,d&&s.bd()}t.An=l,s.isReadOnly||!s.allowMove&&!s.allowCopy||!s.allowHorizontalScroll&&!s.allowVerticalScroll||s.fs(u.viewPoint)}Me.prototype.findDragOverObject=function(t){var i=this;return ib(this.diagram,t,null,function(s){return s===null?s=!0:(s=s.part,s=!!(s===null||s instanceof Wt||s.layer.isTemporary||i.draggedParts&&i.draggedParts.contains(s)||i.copiedParts&&i.copiedParts.contains(s))),!s})},Me.prototype.doUpdateCursor=function(t){var i=this.diagram;(t===null||this.An!==t)&&(!this.diagram.currentTool.isActive||this.mayCopy()?i.currentCursor=this.copyCursor:this.mayMove()?i.currentCursor=this.moveCursor:this.mayDragOut()&&(i.currentCursor=this.nodropCursor))};function X5(t,i,s){var l=!1,u=t.Cg.length,c=0<u?t.Cg[0]:null;if(s===c)return!1;i.handled=!1;for(var d=0;d<u;d++){var m=t.Cg[d],y=m.mouseDragLeave;if(y!==null&&(y(i,m,s),l=!0,i.handled))break}if(t.Cg.length=0,!t.isActive&&Ai===null||s===null)return l;for(i.handled=!1,u=s;u!==null;)t.Cg.push(u),u=B5(u);for(u=t.Cg.length,s=0;s<u&&(d=t.Cg[s],m=d.mouseDragEnter,m===null||(m(i,d,c),l=!0,!i.handled));s++);return l}function B5(t){var i=t.panel;return i!==null?i:t instanceof kt&&!(t instanceof Lt)&&(t=t.containingGroup,t!==null&&t.handlesDragDropForMembers)?t:null}function _5(t,i,s){var l=t.Oe;if(l===null)return null;var u=t.diagram.og(i,l.portGravity,function(O){return l.findValidLinkablePort(O,s)});t=F.alloc();var c=1/0,d=null;for(u=u.iterator;u.next();){var m=u.value;if(m.part!==null){var y=m.ga(oe,t);y=i.Bf(y),y<c&&(d=m,c=y)}}return F.free(t),d}function Z5(t,i){var s=t.draggedLink;if(s!==null&&!(2>s.pointsCount)){var l=t.diagram;if(!l.isReadOnly){var u=t.Oe;if(u!==null){var c=null,d=null;s.fromNode===null&&(c=_5(t,s.i(0),!1),c!==null&&(d=c.part));var m=null,y=null;s.toNode===null&&(m=_5(t,s.i(s.pointsCount-1),!0),m!==null&&(y=m.part)),u.isValidLink(d,c,y,m)?i?(s.defaultFromPoint=s.i(0),s.defaultToPoint=s.i(s.pointsCount-1),s.suspendsRouting=!1,s.fromNode=d,c!==null&&(s.fromPortId=c.portId),s.toNode=y,m!==null&&(s.toPortId=m.portId),s.fromPort!==l.Mx&&l.R("LinkRelinked",s,l.Mx),s.toPort!==l.Nx&&l.R("LinkRelinked",s,l.Nx)):K5(u,d,c,y,m):K5(u,null,null,null,null)}}}}Me.prototype.doDragOver=function(){};function Y5(t,i){var s=t.diagram;t.dragsLink&&Z5(t,!0),$2(t);var l=t.findDragOverObject(i),u=s.lastInput;if(u.targetObject=l,l!==null){u.handled=!1;for(var c=l;c!==null;){var d=c.mouseDrop;if(d!==null&&(d(u,c),u.handled))break;hG(t,u,c),c=B5(c)}}else c=s.mouseDrop,c!==null&&c(u);if(t.isActive||Ai!==null){for(u=(t.copiedParts||t.draggedParts).iterator;u.next();)c=u.key,c instanceof ft&&c.linksConnected.each(function(m){m.suspendsRouting=!1});if(t.doDropOnto(i,l),t.isActive||Ai!==null){for(t=tt.alloc(),i=s.selection.iterator;i.next();)l=i.value,l instanceof ft&&cG(s,l,t);tt.free(t)}}}function hG(t,i,s){t=t.diagram,s=s.part,!t.handlesDragDropForTopLevelParts||!s.isTopLevel||s instanceof Lt||(s=t.mouseDrop,s!==null&&s(i))}function cG(t,i,s){var l=!1;if(s=i.getAvoidableRect(s),t.viewportBounds.Re(s)&&(l=!0),t=t.Nu(s,function(u){return u.part},function(u){return u instanceof rt},!0,function(u){return u instanceof rt},l),t.count!==0)for(t=t.iterator;t.next();)s=t.value,!s.Td(i)&&s.isAvoiding&&s.bb()}Me.prototype.doDropOnto=function(){},Me.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram,i=t.lastInput;this.simulatedMouseMove(i.event,i.documentPoint,i.targetDiagram)||this.currentPart===null||this.draggedParts===null||(this.mayCopy()?(D2(this,!1),rx(t,this.copiedParts),df(this,this.copiedParts,!1),Kg(t,this.copiedParts)):this.mayMove()?(Su(this),df(this,this.draggedParts,!0)):this.mayDragOut()?(D2(this,!1),df(this,this.copiedParts,!1)):Su(this),F2(this,t.lastInput.documentPoint))}},Me.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram,i=t.lastInput;if(!this.simulatedMouseUp(i.event,i.documentPoint,i.targetDiagram)){i=!1;var s=this.mayCopy();if(s&&this.copiedParts!==null?(Su(this),D2(this,!0),rx(t,this.copiedParts),df(this,this.copiedParts,!1),Kg(t,this.copiedParts),this.copiedParts!==null&&(t.R("ChangingSelection",t.selection),t.clearSelection(!0),this.copiedParts.iteratorKeys.each(function(u){u.isSelected=!0}))):(i=!0,Su(this),this.mayMove()&&(df(this,this.draggedParts,!0),F2(this,t.lastInput.documentPoint))),this.Xm=!0,Y5(this,t.lastInput.documentPoint),this.isActive){var l=s?this.copiedParts.Lf():this.draggedParts.Lf();this.copiedParts=null,i&&fG(this),t.Ya(),Kg(t,this.draggedParts),this.transactionResult=s?"Copy":"Move",t.R(s?"SelectionCopied":"SelectionMoved",l)}this.stopTool(),s&&t.R("ChangedSelection",t.selection)}}},Me.prototype.simulatedMouseMove=function(t,i,s){if(Ai===null)return!1;var l=Ai.diagram;s instanceof H||(s=null);var u=Qh;return s!==u&&(u!==null&&u!==l&&(u.ug(),Ai.isDragOutStarted=!1,u=u.toolManager.findTool("Dragging"),u!==null&&u.doSimulatedDragLeave()),Qh=s,s!==null&&s!==l&&(V5(),u=s.toolManager.findTool("Dragging"),u!==null&&(ff.contains(u)||ff.add(u),u.doSimulatedDragEnter())),this.doUpdateCursor(null)),s===null||s===l||!s.allowDrop||s.isReadOnly||!s.allowInsert?!1:(l=s.toolManager.findTool("Dragging"),l!==null&&(t!==null&&(t.targetTouches!==void 0&&(0<t.targetTouches.length?t=t.targetTouches[0]:0<t.changedTouches.length&&(t=t.changedTouches[0])),i=s.getMouse(t)),s.lastInput.documentPoint=i,s.lastInput.viewPoint=s.np(i),s.lastInput.down=!1,s.lastInput.up=!1,l.doSimulatedDragOver()),!0)},Me.prototype.simulatedMouseUp=function(t,i,s){if(Ai===null)return!1;var l=Qh,u=Ai.diagram;if(s===null)return Ai.doCancel(),!0;if(s!==l){var c=l.toolManager.findTool("Dragging");if(l!==null&&l!==u&&c!==null)return l.ug(),Ai.isDragOutStarted=!1,c.doSimulatedDragLeave(),!1;Qh=s,l=s.toolManager.findTool("Dragging"),l!==null&&(V5(),ff.contains(l)||ff.add(l),l.doSimulatedDragEnter())}return s!==this.diagram?(t!==null?(t.targetTouches!==void 0&&(0<t.targetTouches.length?t=t.targetTouches[0]:0<t.changedTouches.length&&(t=t.changedTouches[0])),i=s.getMouse(t)):i===null&&(i=new F),s.lastInput.documentPoint=i,s.lastInput.viewPoint=s.np(i),s.lastInput.down=!1,s.lastInput.up=!0,t=s.toolManager.findTool("Dragging"),t!==null&&t.doSimulatedDrop(),t=Ai,t!==null&&(s=t.mayCopy(),t.transactionResult=s?"Copy":"Move",t.stopTool()),!0):!1};function fG(t){if(t.draggedParts!==null)for(var i=t.draggedParts.iterator;i.next();){var s=i.key;s instanceof ft&&(s=s.containingGroup,s===null||s.placeholder===null||t.draggedParts.contains(s)||s.placeholder.v())}}Me.prototype.mayCopy=function(){if(!this.isCopyEnabled)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowCopy||(Dt?!t.lastInput.alt:!t.lastInput.control))return!1;for(t=t.selection.iterator;t.next();)if(t.value.canCopy())return!0;return!!(this.draggedLink!==null&&this.dragsLink&&this.draggedLink.canCopy())},Me.prototype.mayDragOut=function(){if(!this.isCopyEnabled)return!1;var t=this.diagram;if(!t.allowDragOut||!t.allowCopy||t.allowMove)return!1;for(t=t.selection.iterator;t.next();)if(t.value.canCopy())return!0;return!!(this.draggedLink!==null&&this.dragsLink&&this.draggedLink.canCopy())},Me.prototype.mayMove=function(){var t=this.diagram;if(t.isReadOnly||!t.allowMove)return!1;for(t=t.selection.iterator;t.next();)if(t.value.canMove())return!0;return!!(this.draggedLink!==null&&this.dragsLink&&this.draggedLink.canMove())},Me.prototype.computeBorder=function(t,i,s){return this.Xm||this.draggedParts===null||this.draggedParts.contains(t)?null:s.assign(i)},Me.prototype.Az=function(){return Ai},Me.prototype.mayDragIn=function(){var t=this.diagram;if(!t.allowDrop||t.isReadOnly||t.isModelReadOnly||!t.allowInsert)return!1;var i=Ai;return!(i===null||i.diagram.model.dataFormat!==t.model.dataFormat)},Me.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var t=this.diagram;t.animationManager.Cc(),ga(t),t.animationManager.Cc(),t=Ai,t!==null&&(t.diagram.Ms=!1),this.doUpdateCursor(null)}},Me.prototype.doSimulatedDragLeave=function(){var t=Ai;t!==null&&t.doSimulatedDragOut(),this.doCancel()},Me.prototype.doSimulatedDragOver=function(){var t=this.diagram;t.animationManager.Cm=!0;var i=Ai;if(i!==null&&i.draggedParts!==null){if(!this.mayDragIn())return;U5(this,i.draggedParts.Lf(),!1,t.firstInput),df(this,this.copiedParts,!1),F2(this,t.lastInput.documentPoint)}t.animationManager.Cm=!1},Me.prototype.doSimulatedDrop=function(){var t=this.diagram,i=Ai;if(i!==null){var s=i.diagram;if(i.Xm=!0,Su(this),!this.mayDragIn())return;t.animationManager.Cm=!0,t.R("ChangingSelection",t.selection),this.Ea("Drop"),U5(this,i.draggedParts.Lf(),!0,t.lastInput),df(this,this.copiedParts,!1);var l=new at;this.copiedParts!==null&&(t.clearSelection(!0),this.copiedParts.iteratorKeys.each(function(u){u.isSelected=!0,l.add(u)})),Y5(this,t.lastInput.documentPoint),t.Ya(),this.copiedParts!==null&&(this.transactionResult="ExternalCopy"),this.copiedParts=null,t.doFocus(),t.R("ExternalObjectsDropped",l,s),this.stopTransaction(),t.R("ChangedSelection",t.selection)}t.animationManager.Cm=!1};function U5(t,i,s,l){if(t.copiedParts===null){var u=t.diagram;if(!u.isReadOnly&&!u.isModelReadOnly){u.skipsUndoManager=!s,u.partManager.addsToTemporaryLayer=!s,t.startPoint=l.documentPoint,s=u.Jj(i,u,!0);var c=tt.alloc();u=l=1/0;for(var d=-1/0,m=-1/0,y=i.iterator;y.next();){var O=y.value;if(O.isVisible()){var w=O.location;O=w.x,w=w.y,isNaN(O)||isNaN(w)||(O<l&&(l=O),w<u&&(u=w),O>d&&(d=O),w>m&&(m=w))}}for(l===1/0?c.h(0,0,0,0):c.h(l,u,d-l,m-u),l=c.x+c.width/2,u=c.y+c.height/2,tt.free(c),c=t.Er,d=new jt,m=F.alloc(),y=i.iterator;y.next();)O=y.value,O instanceof rt&&O.canCopy()&&(w=s.I(O),w!==null&&(w.points=O.points,Ca(w,c.x-l,c.y-u),w.suspendsRouting=!0,d.add(w,t.Pd())));for(i=i.iterator;i.next();)O=i.value,O.Zc()&&O.canCopy()&&(y=s.I(O),y!==null&&(O=O.location,m.h(c.x-(l-O.x),c.y-(u-O.y)),y.location=m,y.Va(),d.add(y,t.Pd(m))));F.free(m),t.copiedParts=d,L2(t,d.Lf()),t.draggedLink!==null&&(s=t.draggedLink,i=s.routeBounds,Ca(s,t.startPoint.x-(i.x+i.width/2),t.startPoint.y-(i.y+i.height/2))),t.doUpdateCursor(null)}}}Me.prototype.doSimulatedDragOut=function(){var t=this.diagram;t.Ms=!1,this.mayCopy()||this.mayMove()?t.currentCursor="":t.currentCursor=this.nodropCursor,this.An=null},Me.prototype.computeMove=function(t,i,s,l){return s=this.diagram,s!==null?s.computeMove(t,i,this.dragOptions,l):new F},S.Object.defineProperties(Me.prototype,{isCopyEnabled:{get:function(){return this.ob},set:function(t){this.ob=t}},copiesEffectiveCollection:{get:function(){return this.u},set:function(t){this.u=t}},dragOptions:{get:function(){return this.ia},set:function(t){this.ia=t}},isGridSnapEnabled:{get:function(){return this.dragOptions.isGridSnapEnabled},set:function(t){this.dragOptions.isGridSnapEnabled=t}},isComplexRoutingRealtime:{get:function(){return this.hb},set:function(t){this.hb=t}},isGridSnapRealtime:{get:function(){return this.dragOptions.isGridSnapRealtime},set:function(t){this.dragOptions.isGridSnapRealtime=t}},gridSnapCellSize:{get:function(){return this.dragOptions.gridSnapCellSize},set:function(t){this.dragOptions.gridSnapCellSize.D(t)||(t=t.J(),this.dragOptions.gridSnapCellSize=t)}},gridSnapCellSpot:{get:function(){return this.dragOptions.gridSnapCellSpot},set:function(t){this.dragOptions.gridSnapCellSpot.D(t)||(t=t.J(),this.dragOptions.gridSnapCellSpot=t)}},gridSnapOrigin:{get:function(){return this.dragOptions.gridSnapOrigin},set:function(t){this.dragOptions.gridSnapOrigin.D(t)||(t=t.J(),this.dragOptions.gridSnapOrigin=t)}},dragsLink:{get:function(){return this.dragOptions.dragsLink},set:function(t){this.dragOptions.dragsLink=t}},dragsTree:{get:function(){return this.dragOptions.dragsTree},set:function(t){this.dragOptions.dragsTree=t}},copyCursor:{get:function(){return this.F},set:function(t){this.F=t}},moveCursor:{get:function(){return this.Oc},set:function(t){this.Oc=t}},nodropCursor:{get:function(){return this.Pc},set:function(t){this.Pc=t}},currentPart:{get:function(){return this.V},set:function(t){this.V=t}},copiedParts:{get:function(){return this.o},set:function(t){this.o=t}},draggedParts:{get:function(){return this.Ha},set:function(t){this.Ha=t}},draggingParts:{get:function(){return this.copiedParts!==null?this.copiedParts.Lf():this.draggedParts!==null?this.draggedParts.Lf():this.te}},draggedLink:{get:function(){return this.diagram.draggedLink},set:function(t){this.diagram.draggedLink=t}},isDragOutStarted:{get:function(){return this.Ib},set:function(t){this.Ib=t}},startPoint:{get:function(){return this.Er},set:function(t){this.Er.D(t)||this.Er.assign(t)}},delay:{get:function(){return this.Hk},set:function(t){this.Hk=t}}}),Me.prototype.getDraggingSource=Me.prototype.Az;var Ai=null,Qh=null;Me.className="DraggingTool",ff=new ct,pt("draggingTool",function(){return this.findTool("Dragging")},function(t){this.gb("Dragging",t,this.mouseMoveTools)}),Ce.prototype.doCancel=function(){Ai!==null&&Ai.doCancel(),Kt.prototype.doCancel.call(this)};function Yi(){Kt.call(this),this.te=100,this.Ha=!1,this.u="pointer";var t=new rt,i=new It;i.isPanelMain=!0,i.stroke="blue",t.add(i),i=new It,i.toArrow="Standard",i.fill="blue",i.stroke="blue",t.add(i),t.layerName="Tool",this.Ci=t,t=new ft,i=new It,i.portId="",i.figure="Rectangle",i.fill=null,i.stroke="magenta",i.strokeWidth=2,i.desiredSize=af,t.add(i),t.selectable=!1,t.layerName="Tool",this.Bi=t,this.j=i,t=new ft,i=new It,i.portId="",i.figure="Rectangle",i.fill=null,i.stroke="magenta",i.strokeWidth=2,i.desiredSize=af,t.add(i),t.selectable=!1,t.layerName="Tool",this.Di=t,this.o=i,this.Pc=this.Oc=this.ob=this.hb=this.Ib=null,this.ia=!0,this.hy=new jt,this.Of=this.gj=this.Pf=null}x(Yi,Kt),Yi.prototype.doStop=function(){this.diagram.ug(),this.originalToPort=this.originalToNode=this.originalFromPort=this.originalFromNode=this.originalLink=null,this.validPortsCache.clear(),this.targetPort=null},Yi.prototype.copyPortProperties=function(t,i,s,l,u){if(t!==null&&i!==null&&s!==null&&l!==null){var c=i.Df(),d=At.alloc();d.width=i.naturalBounds.width*c,d.height=i.naturalBounds.height*c,l.desiredSize=d,At.free(d),u?(l.toSpot=i.toSpot,l.toEndSegmentLength=i.toEndSegmentLength):(l.fromSpot=i.fromSpot,l.fromEndSegmentLength=i.fromEndSegmentLength),s.locationSpot=oe,c=F.alloc(),s.location=i.ga(oe,c),F.free(c),l.angle=i.li(),this.portTargeted!==null&&this.portTargeted(t,i,s,l,u)}},Yi.prototype.setNoTargetPortProperties=function(t,i,s){i!==null&&(i.desiredSize=af,i.fromSpot=_i,i.toSpot=_i),t!==null&&(t.location=this.diagram.lastInput.documentPoint),this.portTargeted!==null&&this.portTargeted(null,null,t,i,s)},Yi.prototype.doMouseDown=function(){this.isActive&&this.doMouseMove()},Yi.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram;if(this.targetPort=this.findTargetPort(this.isForwards),this.targetPort!==null&&this.targetPort.part instanceof ft){var i=this.targetPort.part;this.isForwards?this.copyPortProperties(i,this.targetPort,this.temporaryToNode,this.temporaryToPort,!0):this.copyPortProperties(i,this.targetPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else this.isForwards?this.setNoTargetPortProperties(this.temporaryToNode,this.temporaryToPort,!0):this.setNoTargetPortProperties(this.temporaryFromNode,this.temporaryFromPort,!1);(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.fs(t.lastInput.viewPoint)}},Yi.prototype.findValidLinkablePort=function(t,i){if(t===null)return null;var s=t.part;if(!(s instanceof ft))return null;for(;t!==null;){var l=i?t.toLinkable:t.fromLinkable;if(l===!0&&(t.portId!==null||t instanceof ft)&&(i?this.isValidTo(s,t):this.isValidFrom(s,t)))return t;if(l===!1)break;t=t.panel}return null},Yi.prototype.findTargetPort=function(t){var i=this.diagram,s=i.lastInput.documentPoint,l=this.portGravity;0>=l&&(l=.1);var u=this,c=i.og(s,l,function(k){return u.findValidLinkablePort(k,t)},null,!0);for(l=1/0,i=null,c=c.iterator;c.next();){var d=c.value,m=d.part;if(m instanceof ft){var y=d.ga(oe,F.alloc()),O=s.x-y.x,w=s.y-y.y;F.free(y),y=O*O+w*w,y<l&&(O=this.validPortsCache.I(d),O!==null?O&&(i=d,l=y):t&&this.isValidLink(this.originalFromNode,this.originalFromPort,m,d)||!t&&this.isValidLink(m,d,this.originalToNode,this.originalToPort)?(this.validPortsCache.add(d,!0),i=d,l=y):this.validPortsCache.add(d,!1))}}return i!==null&&(s=i.part,s instanceof ft&&(s.layer===null||s.layer.allowLink))?i:null},Yi.prototype.isValidFrom=function(t,i){if(t===null||i===null)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(t.layer!==null&&!t.layer.allowLink||i.fromLinkable!==!0))return!1;var s=i.fromMaxLinks;if(1/0>s){if(this.originalLink!==null&&t===this.originalFromNode&&i===this.originalFromPort)return!0;if(i=i.portId,i===null&&(i=""),t.Lo(i).count>=s)return!1}return!0},Yi.prototype.isValidTo=function(t,i){if(t===null||i===null)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(t.layer!==null&&!t.layer.allowLink||i.toLinkable!==!0))return!1;var s=i.toMaxLinks;if(1/0>s){if(this.originalLink!==null&&t===this.originalToNode&&i===this.originalToPort)return!0;if(i=i.portId,i===null&&(i=""),t.Sd(i).count>=s)return!1}return!0},Yi.prototype.isInSameNode=function(t,i){return t===null||i===null?!1:t===i?!0:(t=t.part,i=i.part,t!==null&&t===i)},Yi.prototype.isLinked=function(t,i){if(t===null||i===null)return!1;var s=t.part;if(!(s instanceof ft))return!1;t=t.portId,t===null&&(t="");var l=i.part;if(!(l instanceof ft))return!1;for(i=i.portId,i===null&&(i=""),i=l.Sd(i);i.next();)if(l=i.value,l.fromNode===s&&l.fromPortId===t)return!0;return!1},Yi.prototype.isValidLink=function(t,i,s,l){if(!this.isValidFrom(t,i)||!this.isValidTo(s,l)||!(i===null||l===null||(i.fromLinkableSelfNode&&l.toLinkableSelfNode||!this.isInSameNode(i,l))&&(i.fromLinkableDuplicates&&l.toLinkableDuplicates||!this.isLinked(i,l)))||this.originalLink!==null&&(t!==null&&this.isLabelDependentOnLink(t,this.originalLink)||s!==null&&this.isLabelDependentOnLink(s,this.originalLink))||t!==null&&s!==null&&(t.data===null&&s.data!==null||t.data!==null&&s.data===null)||!this.isValidCycle(t,s,this.originalLink))return!1;if(t!==null){var u=t.linkValidation;if(u!==null&&!u(t,i,s,l,this.originalLink))return!1}return s!==null&&(u=s.linkValidation,u!==null&&!u(t,i,s,l,this.originalLink))?!1:(u=this.linkValidation,u!==null?u(t,i,s,l,this.originalLink):!0)},Yi.prototype.isLabelDependentOnLink=function(t,i){if(t===null)return!1;var s=t.labeledLink;if(s===null)return!1;if(s===i)return!0;var l=new at;return l.add(t),V2(this,s,i,l)};function V2(t,i,s,l){if(i===s)return!0;var u=i.fromNode;return u!==null&&u.isLinkLabel&&(l.add(u),V2(t,u.labeledLink,s,l))?!0:(i=i.toNode,!!(i!==null&&i.isLinkLabel&&(l.add(i),V2(t,i.labeledLink,s,l))))}Yi.prototype.isValidCycle=function(t,i,s){if(s===void 0&&(s=null),t===null||i===null)return this.isUnconnectedLinkValid;var l=this.diagram.validCycle;if(l!==xb){if(l===XL){if(l=s||this.temporaryLink,l!==null&&!l.isTreeLink)return!0;for(l=i.linksConnected;l.next();){var u=l.value;if(u!==s&&u.isTreeLink&&u.toNode===i)return!1}return!Xg(this,t,i,s,!0)}if(l===BL){if(l=s||this.temporaryLink,l!==null&&!l.isTreeLink)return!0;for(l=t.linksConnected;l.next();)if(u=l.value,u!==s&&u.isTreeLink&&u.fromNode===t)return!1;return!Xg(this,t,i,s,!0)}if(l===FL)return t===i?t=!0:(l=new at,l.add(i),t=W5(this,l,t,i,s)),!t;if(l===VL)return!Xg(this,t,i,s,!1);if(l===zL)return t===i?t=!0:(l=new at,l.add(i),t=q5(this,l,t,i,s)),!t}return!0};function Xg(t,i,s,l,u){if(i===s)return!0;if(i===null||s===null)return!1;for(var c=i.linksConnected;c.next();){var d=c.value;if(d!==l&&(!u||d.isTreeLink)&&d.toNode===i&&(d=d.fromNode,d!==i&&Xg(t,d,s,l,u)))return!0}return!1}function W5(t,i,s,l,u){if(s===l)return!0;if(s===null||l===null||i.contains(s))return!1;i.add(s);for(var c=s.linksConnected;c.next();){var d=c.value;if(d!==u&&d.toNode===s&&(d=d.fromNode,d!==s&&W5(t,i,d,l,u)))return!0}return!1}function q5(t,i,s,l,u){if(s===l)return!0;if(s===null||l===null||i.contains(s))return!1;i.add(s);for(var c=s.linksConnected;c.next();){var d=c.value;if(d!==u){var m=d.fromNode;if(d=d.toNode,m=m===s?d:m,m!==s&&q5(t,i,m,l,u))return!0}}return!1}S.Object.defineProperties(Yi.prototype,{portGravity:{get:function(){return this.te},set:function(t){0<=t&&(this.te=t)}},isUnconnectedLinkValid:{get:function(){return this.Ha},set:function(t){this.Ha=t}},linkingCursor:{get:function(){return this.u},set:function(t){this.u=t}},temporaryLink:{get:function(){return this.Ci},set:function(t){this.Ci=t}},temporaryFromNode:{get:function(){return this.Bi},set:function(t){(this.Bi=t)&&(this.j=t.port)}},temporaryFromPort:{get:function(){return this.j},set:function(t){if(this.j!==null){var i=this.j.panel;if(i!==null){var s=i.O.indexOf(this.j);i.mb(s),i.Hb(s,t)}}this.j=t}},temporaryToNode:{get:function(){return this.Di},set:function(t){(this.Di=t)&&(this.o=t.port)}},temporaryToPort:{get:function(){return this.o},set:function(t){if(this.o!==null){var i=this.o.panel;if(i!==null){var s=i.O.indexOf(this.o);i.mb(s),i.Hb(s,t)}}this.o=t}},originalLink:{get:function(){return this.Ib},set:function(t){this.Ib=t}},originalFromNode:{get:function(){return this.hb},set:function(t){this.hb=t}},originalFromPort:{get:function(){return this.ob},set:function(t){this.ob=t}},originalToNode:{get:function(){return this.Oc},set:function(t){this.Oc=t}},originalToPort:{get:function(){return this.Pc},set:function(t){this.Pc=t}},isForwards:{get:function(){return this.ia},set:function(t){this.ia=t}},validPortsCache:{get:function(){return this.hy}},targetPort:{get:function(){return this.Pf},set:function(t){this.Pf=t}},linkValidation:{get:function(){return this.gj},set:function(t){this.gj=t}},portTargeted:{get:function(){return this.Of},set:function(t){this.Of=t}}}),Yi.className="LinkingBaseTool";function Xn(){Yi.call(this),this.name="Linking",this.V={},this.F=null,this.K=Bv,this.Xd=null}x(Xn,Yi),Xn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return t.isReadOnly||t.isModelReadOnly||!t.allowLink||!t.model.ws()||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize()?!1:this.findLinkablePort()!==null},Xn.prototype.findLinkablePort=function(){var t=this.diagram,i=this.startObject;if(i===null&&(i=t.jc(t.firstInput.documentPoint,null,null)),i===null||(t=i.part,!(t instanceof ft)))return null;var s=this.direction;if(s===Bv||s===G5){var l=this.findValidLinkablePort(i,!1);if(l!==null||this.startObject===t&&(l=t.port,this.findValidLinkablePort(l,!1)))return this.isForwards=!0,l}return(s===Bv||s===H5)&&(i=this.findValidLinkablePort(i,!0),i!==null||this.startObject===t&&(i=t.port,this.findValidLinkablePort(i,!0)))?(this.isForwards=!1,i):null},Xn.prototype.doActivate=function(){var t=this.diagram,i=this.findLinkablePort();i===null?this.stopTool():(this.Ea(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.isForwards?(this.temporaryToNode!==null&&(this.temporaryToNode.location=t.lastInput.documentPoint),this.originalFromPort=i,i=this.originalFromPort.part,i instanceof ft&&(this.originalFromNode=i),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1)):(this.temporaryFromNode!==null&&(this.temporaryFromNode.location=t.lastInput.documentPoint),this.originalToPort=i,i=this.originalToPort.part,i instanceof ft&&(this.originalToNode=i),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0)),t.add(this.temporaryFromNode),this.temporaryFromNode&&this.temporaryFromNode.Va(),t.add(this.temporaryToNode),this.temporaryToNode&&this.temporaryToNode.Va(),this.temporaryLink!==null&&(this.temporaryFromNode!==null&&(this.temporaryLink.fromNode=this.temporaryFromNode),this.temporaryToNode!==null&&(this.temporaryLink.toNode=this.temporaryToNode),this.temporaryLink.isTreeLink=this.isNewTreeLink(),this.temporaryLink.bb(),t.add(this.temporaryLink)),this.isActive=!0)},Xn.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.stopTransaction()},Xn.prototype.doStop=function(){Yi.prototype.doStop.call(this),this.startObject=null},Xn.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram,i=this.transactionResult=null,s=null,l=null,u=null,c=null;try{var d=this.targetPort=this.findTargetPort(this.isForwards);if(d!==null){var m=d.part;m instanceof ft&&(this.isForwards?(this.originalFromNode!==null&&(i=this.originalFromNode,s=this.originalFromPort),l=m,u=d):(i=m,s=d,this.originalToNode!==null&&(l=this.originalToNode,u=this.originalToPort)))}else this.isForwards?this.originalFromNode!==null&&this.isUnconnectedLinkValid&&(i=this.originalFromNode,s=this.originalFromPort):this.originalToNode!==null&&this.isUnconnectedLinkValid&&(l=this.originalToNode,u=this.originalToPort);i!==null||l!==null?(c=this.insertLink(i,s,l,u),c!==null?(d===null&&(this.isForwards?c.defaultToPoint=t.lastInput.documentPoint:c.defaultFromPoint=t.lastInput.documentPoint),t.allowSelect&&(t.R("ChangingSelection",t.selection),t.clearSelection(!0),c.isSelected=!0),this.transactionResult=this.name,t.R("LinkDrawn",c)):this.doNoLink(i,s,l,u)):this.isForwards?this.doNoLink(this.originalFromNode,this.originalFromPort,null,null):this.doNoLink(null,null,this.originalToNode,this.originalToPort)}finally{this.stopTool(),c&&t.allowSelect&&t.R("ChangedSelection",t.selection)}}},Xn.prototype.isNewTreeLink=function(){var t=this.archetypeLinkData;if(t===null)return!0;if(t instanceof rt)return t.isTreeLink;var i=this.diagram;return i===null?!0:(t=i.partManager.getLinkCategoryForData(t),i=i.partManager.findLinkTemplateForCategory(t),i!==null?i.isTreeLink:!0)},Xn.prototype.insertLink=function(t,i,s,l){return this.diagram.partManager.insertLink(t,i,s,l)},Xn.prototype.doNoLink=function(){},S.Object.defineProperties(Xn.prototype,{archetypeLinkData:{get:function(){return this.V},set:function(t){this.V=t}},archetypeLabelNodeData:{get:function(){return this.F},set:function(t){this.F=t}},direction:{get:function(){return this.K},set:function(t){this.K=t}},startObject:{get:function(){return this.Xd},set:function(t){this.Xd=t}}});var Bv=new it(Xn,"Either",0),G5=new it(Xn,"ForwardsOnly",0),H5=new it(Xn,"BackwardsOnly",0);Xn.className="LinkingTool",Xn.Either=Bv,Xn.ForwardsOnly=G5,Xn.BackwardsOnly=H5;function Wr(){Yi.call(this),this.name="Relinking";var t=new It;t.figure="Diamond",t.desiredSize=ge,t.fill="lightblue",t.stroke="dodgerblue",t.cursor=this.linkingCursor,t.segmentIndex=0,this.V=t,t=new It,t.figure="Diamond",t.desiredSize=ge,t.fill="lightblue",t.stroke="dodgerblue",t.cursor=this.linkingCursor,t.segmentIndex=-1,this.Xd=t,this.F=null,this.Ew=new tt}x(Wr,Yi),Wr.prototype.updateAdornments=function(t){if(t!==null&&t instanceof rt){var i="RelinkFrom",s=null;if(t.isSelected&&!this.diagram.isReadOnly){var l=t.selectionObject;l!==null&&t.canRelinkFrom()&&t.actualBounds.w()&&t.isVisible()&&l.actualBounds.w()&&l.Ed()&&(s=t.Oj(i),s===null&&(s=this.makeAdornment(l,!1),t.bh(i,s)))}s===null&&t.Jf(i),i="RelinkTo",s=null,t.isSelected&&!this.diagram.isReadOnly&&(l=t.selectionObject,l!==null&&t.canRelinkTo()&&t.actualBounds.w()&&t.isVisible()&&l.actualBounds.w()&&l.Ed()&&(s=t.Oj(i),s===null?(s=this.makeAdornment(l,!0),t.bh(i,s)):s.v())),s===null&&t.Jf(i)}},Wr.prototype.makeAdornment=function(t,i){var s=new Wt;return s.type=nt.Link,i=i?this.toHandleArchetype:this.fromHandleArchetype,i!==null&&s.add(i.copy()),s.adornedObject=t,s},Wr.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowRelink||!t.model.ws()||!t.lastInput.left)return!1;var i=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom");return i===null&&(i=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo")),i!==null},Wr.prototype.doActivate=function(){var t=this.diagram;if(this.originalLink===null){var i=this.handle;if(i===null&&(i=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom"),i===null&&(i=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo"))),i===null)return;var s=i.part;if(!(s instanceof Wt&&s.adornedPart instanceof rt))return;this.handle=i,this.isForwards=s===null||s.category==="RelinkTo",this.originalLink=s.adornedPart}this.Ea(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.originalFromPort=this.originalLink.fromPort,this.originalFromNode=this.originalLink.fromNode,this.originalToPort=this.originalLink.toPort,this.originalToNode=this.originalLink.toNode,this.Ew.set(this.originalLink.actualBounds),this.originalLink!==null&&0<this.originalLink.pointsCount&&(this.originalLink.fromNode===null&&(this.temporaryFromPort!==null&&(this.temporaryFromPort.desiredSize=wu),this.temporaryFromNode!==null&&(this.temporaryFromNode.location=this.originalLink.i(0))),this.originalLink.toNode===null&&(this.temporaryToPort!==null&&(this.temporaryToPort.desiredSize=wu),this.temporaryToNode!==null&&(this.temporaryToNode.location=this.originalLink.i(this.originalLink.pointsCount-1)))),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0),t.add(this.temporaryFromNode),t.add(this.temporaryToNode),this.temporaryLink!==null&&(this.temporaryFromNode!==null&&(this.temporaryLink.fromNode=this.temporaryFromNode),this.temporaryToNode!==null&&(this.temporaryLink.toNode=this.temporaryToNode),this.copyLinkProperties(this.originalLink,this.temporaryLink),this.temporaryLink.bb(),t.add(this.temporaryLink)),this.isActive=!0},Wr.prototype.copyLinkProperties=function(t,i){if(t!==null&&i!==null){i.adjusting=t.adjusting,i.corner=t.corner;var s=t.curve;(s===bp||s===Ma)&&(s=yn),i.curve=s,i.curviness=t.curviness,i.isTreeLink=t.isTreeLink,i.points=t.points,i.routing=t.routing,i.smoothness=t.smoothness,i.fromSpot=t.fromSpot,i.fromEndSegmentLength=t.fromEndSegmentLength,i.fromShortLength=t.fromShortLength,i.toSpot=t.toSpot,i.toEndSegmentLength=t.toEndSegmentLength,i.toShortLength=t.toShortLength}},Wr.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.stopTransaction()},Wr.prototype.doStop=function(){Yi.prototype.doStop.call(this),this.handle=null},Wr.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram;this.transactionResult=null;var i=this.originalFromNode,s=this.originalFromPort,l=this.originalToNode,u=this.originalToPort,c=this.originalLink;try{if(this.targetPort=this.findTargetPort(this.isForwards),this.targetPort!==null){var d=this.targetPort.part;d instanceof ft&&(this.isForwards?(l=d,u=this.targetPort):(i=d,s=this.targetPort))}else this.isUnconnectedLinkValid?this.isForwards?u=l=null:s=i=null:c=null;c!==null?(this.reconnectLink(c,this.isForwards?l:i,this.isForwards?u:s,this.isForwards),this.targetPort===null&&(this.isForwards?c.defaultToPoint=t.lastInput.documentPoint:c.defaultFromPoint=t.lastInput.documentPoint,c.bb()),this.transactionResult=this.name,t.R("LinkRelinked",c,this.isForwards?this.originalToPort:this.originalFromPort)):this.doNoRelink(this.originalLink,this.isForwards),this.originalLink.Wo(this.Ew)}finally{this.stopTool()}}},Wr.prototype.reconnectLink=function(t,i,s,l){return s=s!==null&&s.portId!==null?s.portId:"",l?(t.toNode=i,t.toPortId=s):(t.fromNode=i,t.fromPortId=s),!0},Wr.prototype.doNoRelink=function(){};function K5(t,i,s,l,u){i!==null?(t.copyPortProperties(i,s,t.temporaryFromNode,t.temporaryFromPort,!1),t.diagram.add(t.temporaryFromNode)):t.diagram.remove(t.temporaryFromNode),l!==null?(t.copyPortProperties(l,u,t.temporaryToNode,t.temporaryToPort,!0),t.diagram.add(t.temporaryToNode)):t.diagram.remove(t.temporaryToNode)}S.Object.defineProperties(Wr.prototype,{fromHandleArchetype:{get:function(){return this.V},set:function(t){this.V=t}},toHandleArchetype:{get:function(){return this.Xd},set:function(t){this.Xd=t}},handle:{get:function(){return this.F},set:function(t){if(t!==null&&!(t.part instanceof Wt))throw Error("new handle is not in an Adornment: "+t);this.F=t}}}),Wr.className="RelinkingTool",pt("linkingTool",function(){return this.findTool("Linking")},function(t){this.gb("Linking",t,this.mouseMoveTools)}),pt("relinkingTool",function(){return this.findTool("Relinking")},function(t){this.gb("Relinking",t,this.mouseDownTools)});function ei(){Kt.call(this),this.name="LinkReshaping";var t=new It;t.figure="Rectangle",t.desiredSize=$d,t.fill="lightblue",t.stroke="dodgerblue",this.o=t,t=new It,t.figure="Diamond",t.desiredSize=ge,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="move",this.u=t,this.F=3,this.Ss=this.j=null,this.Fw=new F,this.Xq=new ct}x(ei,Kt),ei.prototype.Ru=function(t){return t&&t.reshapingBehavior.value!==0?t.reshapingBehavior:z2},ei.prototype.nm=function(t,i){t.reshapingBehavior=i},ei.prototype.updateAdornments=function(t){if(t!==null&&t instanceof rt){var i=null;if(t.isSelected&&!this.diagram.isReadOnly){var s=t.path;s!==null&&t.canReshape()&&t.actualBounds.w()&&t.isVisible()&&s.actualBounds.w()&&s.Ed()&&(i=t.Oj(this.name),i===null||i.Aw!==t.pointsCount||i.Uw!==t.resegmentable)&&(i=this.makeAdornment(s),i!==null&&(i.Aw=t.pointsCount,i.Uw=t.resegmentable,t.bh(this.name,i)))}i===null&&t.Jf(this.name)}},ei.prototype.makeAdornment=function(t){var i=t.part,s=i.pointsCount,l=i.isOrthogonal,u=null;if(i.points!==null&&1<s){u=new Wt,u.type=nt.Link,s=i.firstPickIndex;var c=i.lastPickIndex,d=l?1:0;if(i.resegmentable&&i.computeCurve()!==mr)for(var m=s+d;m<c-d;m++){var y=this.makeResegmentHandle(t,m);y!==null&&(y.segmentIndex=m,y.segmentFraction=.5,y.fromMaxLinks=999,u.add(y))}for(d=s+1;d<c;d++)if(m=this.makeHandle(t,d),m!==null){if(m.segmentIndex=d,d!==s)if(d===s+1&&l){y=i.i(s);var O=i.i(s+1);U.B(y.x,O.x)&&U.B(y.y,O.y)&&(O=i.i(s-1)),U.B(y.x,O.x)?(this.nm(m,Ud),m.cursor="n-resize"):U.B(y.y,O.y)&&(this.nm(m,Yd),m.cursor="w-resize")}else d===c-1&&l?(y=i.i(c-1),O=i.i(c),U.B(y.x,O.x)&&U.B(y.y,O.y)&&(y=i.i(c+1)),U.B(y.x,O.x)?(this.nm(m,Ud),m.cursor="n-resize"):U.B(y.y,O.y)&&(this.nm(m,Yd),m.cursor="w-resize")):d!==c&&(this.nm(m,X2),m.cursor="move");u.add(m)}u.adornedObject=t}return u},ei.prototype.makeHandle=function(){var t=this.handleArchetype;return t===null?null:t.copy()},ei.prototype.makeResegmentHandle=function(){var t=this.midHandleArchetype;return t===null?null:t.copy()},ei.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!t.isReadOnly&&t.allowReshape&&t.lastInput.left?this.findToolHandleAt(t.firstInput.documentPoint,this.name)!==null:!1},ei.prototype.doActivate=function(){var t=this.diagram;if(this.handle===null&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),this.handle!==null){var i=this.handle.part.adornedPart;if(i instanceof rt){if(this.Ss=i,t.isMouseCaptured=!0,this.Ea(this.name),i.resegmentable&&this.handle.fromMaxLinks===999){var s=i.points.copy(),l=this.getResegmentingPoint();if(s.Hb(this.handle.segmentIndex+1,l),i.isOrthogonal&&s.Hb(this.handle.segmentIndex+1,l),i.points=s,i.Xb(),i.updateAdornments(),this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name),this.handle===null){this.doDeactivate();return}}this.Fw=i.i(this.handle.segmentIndex),this.Xq=i.points.copy(),this.isActive=!0}}},ei.prototype.doDeactivate=function(){this.stopTransaction(),this.Ss=this.handle=null,this.isActive=this.diagram.isMouseCaptured=!1},ei.prototype.stopTransaction=function(){var t=this.diagram,i=Kt.prototype.stopTransaction.call(this);return i&&t.undoManager.transactionToUndo!==null&&t.undoManager.transactionToUndo.$j(),i},ei.prototype.doCancel=function(){var t=this.adornedLink;t!==null&&(t.points=this.Xq),this.stopTool()},ei.prototype.getResegmentingPoint=function(){return this.handle.ga(oe)},ei.prototype.doMouseMove=function(){var t=this.diagram;this.isActive&&(t=this.computeReshape(t.lastInput.documentPoint),this.reshape(t))},ei.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var i=this.computeReshape(t.lastInput.documentPoint);if(this.reshape(i),i=this.adornedLink,i!==null&&i.resegmentable){var s=this.handle.segmentIndex,l=i.i(s-1),u=i.i(s),c=i.i(s+1);if(i.isOrthogonal){if(s>i.firstPickIndex+1&&s<i.lastPickIndex-1){var d=i.i(s-2);if(Math.abs(l.x-u.x)<this.resegmentingDistance&&Math.abs(l.y-u.y)<this.resegmentingDistance&&(Zd(this,d,l,u,c,!0)||Zd(this,d,l,u,c,!1))){var m=i.points.copy();Zd(this,d,l,u,c,!0)?(m.cd(s-2,new F(d.x,(c.y+d.y)/2)),m.cd(s+1,new F(c.x,(c.y+d.y)/2))):(m.cd(s-2,new F((c.x+d.x)/2,d.y)),m.cd(s+1,new F((c.x+d.x)/2,c.y))),m.mb(s),m.mb(s-1),i.points=m,i.Xb()}else d=i.i(s+2),Math.abs(u.x-c.x)<this.resegmentingDistance&&Math.abs(u.y-c.y)<this.resegmentingDistance&&(Zd(this,l,u,c,d,!0)||Zd(this,l,u,c,d,!1))&&(m=i.points.copy(),Zd(this,l,u,c,d,!0)?(m.cd(s-1,new F(l.x,(l.y+d.y)/2)),m.cd(s+2,new F(d.x,(l.y+d.y)/2))):(m.cd(s-1,new F((l.x+d.x)/2,l.y)),m.cd(s+2,new F((l.x+d.x)/2,d.y))),m.mb(s+1),m.mb(s),i.points=m,i.Xb())}}else d=F.alloc(),U.qh(l.x,l.y,c.x,c.y,u.x,u.y,d)&&d.Bf(u)<this.resegmentingDistance*this.resegmentingDistance&&(l=i.points.copy(),l.mb(s),i.points=l,i.Xb()),F.free(d)}t.Ya(),this.transactionResult=this.name,t.R("LinkReshaped",this.adornedLink,this.Xq)}this.stopTool()};function Zd(t,i,s,l,u,c){return c?Math.abs(i.y-s.y)<t.resegmentingDistance&&Math.abs(s.y-l.y)<t.resegmentingDistance&&Math.abs(l.y-u.y)<t.resegmentingDistance:Math.abs(i.x-s.x)<t.resegmentingDistance&&Math.abs(s.x-l.x)<t.resegmentingDistance&&Math.abs(l.x-u.x)<t.resegmentingDistance}ei.prototype.reshape=function(t){var i=this.adornedLink;i.uh();var s=this.handle.segmentIndex,l=this.Ru(this.handle);if(i.isOrthogonal)if(s===i.firstPickIndex+1)s=i.firstPickIndex+1,l===Ud?(i.L(s,i.i(s-1).x,t.y),i.L(s+1,i.i(s+2).x,t.y)):l===Yd&&(i.L(s,t.x,i.i(s-1).y),i.L(s+1,t.x,i.i(s+2).y));else if(s===i.lastPickIndex-1)s=i.lastPickIndex-1,l===Ud?(i.L(s-1,i.i(s-2).x,t.y),i.L(s,i.i(s+1).x,t.y)):l===Yd&&(i.L(s-1,t.x,i.i(s-2).y),i.L(s,t.x,i.i(s+1).y));else{l=s;var u=i.i(l),c=i.i(l-1),d=i.i(l+1);U.B(c.x,u.x)&&U.B(u.y,d.y)?(U.B(c.x,i.i(l-2).x)&&!U.B(c.y,i.i(l-2).y)?(i.m(l,t.x,c.y),s++,l++):i.L(l-1,t.x,c.y),U.B(d.y,i.i(l+2).y)&&!U.B(d.x,i.i(l+2).x)?i.m(l+1,d.x,t.y):i.L(l+1,d.x,t.y)):U.B(c.y,u.y)&&U.B(u.x,d.x)?(U.B(c.y,i.i(l-2).y)&&!U.B(c.x,i.i(l-2).x)?(i.m(l,c.x,t.y),s++,l++):i.L(l-1,c.x,t.y),U.B(d.x,i.i(l+2).x)&&!U.B(d.y,i.i(l+2).y)?i.m(l+1,t.x,d.y):i.L(l+1,t.x,d.y)):U.B(c.x,u.x)&&U.B(u.x,d.x)?(U.B(c.x,i.i(l-2).x)&&!U.B(c.y,i.i(l-2).y)?(i.m(l,t.x,c.y),s++,l++):i.L(l-1,t.x,c.y),U.B(d.x,i.i(l+2).x)&&!U.B(d.y,i.i(l+2).y)?i.m(l+1,t.x,d.y):i.L(l+1,t.x,d.y)):U.B(c.y,u.y)&&U.B(u.y,d.y)&&(U.B(c.y,i.i(l-2).y)&&!U.B(c.x,i.i(l-2).x)?(i.m(l,c.x,t.y),s++,l++):i.L(l-1,c.x,t.y),U.B(d.y,i.i(l+2).y)&&!U.B(d.x,i.i(l+2).x)?i.m(l+1,d.x,t.y):i.L(l+1,d.x,t.y)),i.L(s,t.x,t.y)}else i.L(s,t.x,t.y),l=i.fromNode,u=i.fromPort,l!==null&&(c=l.findVisibleNode(),c!==null&&c!==l&&(l=c,u=l.port)),s===1&&i.computeSpot(!0,u).Mc()&&(c=u.ga(oe,F.alloc()),l=i.getLinkPointFromPoint(l,u,c,t,!0,F.alloc()),i.L(0,l.x,l.y),F.free(c),F.free(l)),l=i.toNode,u=i.toPort,l!==null&&(c=l.findVisibleNode(),c!==null&&c!==l&&(l=c,u=l.port)),s===i.pointsCount-2&&i.computeSpot(!1,u).Mc()&&(s=u.ga(oe,F.alloc()),t=i.getLinkPointFromPoint(l,u,s,t,!1,F.alloc()),i.L(i.pointsCount-1,t.x,t.y),F.free(s),F.free(t));i.zf()},ei.prototype.computeReshape=function(t){var i=this.adornedLink,s=this.handle.segmentIndex;switch(this.Ru(this.handle)){case X2:return t;case Ud:return new F(i.i(s).x,t.y);case Yd:return new F(t.x,i.i(s).y);default:case z2:return i.i(s)}},S.Object.defineProperties(ei.prototype,{handleArchetype:{get:function(){return this.o},set:function(t){this.o=t}},midHandleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},handle:{get:function(){return this.j},set:function(t){if(t!==null&&!(t.part instanceof Wt))throw Error("new handle is not in an Adornment: "+t);this.j=t}},adornedLink:{get:function(){return this.Ss}},resegmentingDistance:{get:function(){return this.F},set:function(t){this.F=t}},originalPoint:{get:function(){return this.Fw}},originalPoints:{get:function(){return this.Xq}}}),ei.prototype.setReshapingBehavior=ei.prototype.nm,ei.prototype.getReshapingBehavior=ei.prototype.Ru;var z2=new it(ei,"None",0),Yd=new it(ei,"Horizontal",1),Ud=new it(ei,"Vertical",2),X2=new it(ei,"All",3);ei.className="LinkReshapingTool",ei.None=z2,ei.Horizontal=Yd,ei.Vertical=Ud,ei.All=X2,pt("linkReshapingTool",function(){return this.findTool("LinkReshaping")},function(t){this.gb("LinkReshaping",t,this.mouseDownTools)});function dn(){Kt.call(this),this.name="Resizing",this.o=new At(1,1).freeze(),this.j=new At(9999,9999).freeze(),this.yg=new At(NaN,NaN).freeze(),this.V=!1,this.ia=!0,this.ue=null;var t=new It;t.alignmentFocus=oe,t.figure="Rectangle",t.desiredSize=$d,t.fill="lightblue",t.stroke="dodgerblue",t.strokeWidth=1,t.cursor="pointer",this.F=t,this.u=null,this.Wq=new F,this.Dw=new At,this.Sn=new F,this.qt=new At(0,0),this.pt=new At(1/0,1/0),this.ot=new At(1,1)}x(dn,Kt),dn.prototype.updateAdornments=function(t){if(!(t===null||t instanceof rt)){if(t.isSelected&&!this.diagram.isReadOnly){var i=t.resizeObject,s=t.Oj(this.name);if(i!==null&&t.canResize()&&t.actualBounds.w()&&t.isVisible()&&i.actualBounds.w()&&i.Ed()&&((s===null||s.adornedObject!==i)&&(s=this.makeAdornment(i)),s!==null)){i=i.li(),Cu(t)&&this.updateResizeHandles(s,i),t.bh(this.name,s);return}}t.Jf(this.name)}},dn.prototype.makeAdornment=function(t){var i=t.part.resizeAdornmentTemplate;if(i===null){i=new Wt,i.type=nt.Spot,i.locationSpot=oe;var s=new gn;s.isPanelMain=!0,i.add(s),i.add(this.makeHandle(t,Ji)),i.add(this.makeHandle(t,Id)),i.add(this.makeHandle(t,Yo)),i.add(this.makeHandle(t,Fd)),i.add(this.makeHandle(t,Zr)),i.add(this.makeHandle(t,Kn)),i.add(this.makeHandle(t,Ur)),i.add(this.makeHandle(t,Yr))}else if(Gr(i),i=i.copy(),i===null)return null;return i.adornedObject=t,i},dn.prototype.makeHandle=function(t,i){return t=this.handleArchetype,t===null?null:(t=t.copy(),t.alignment=i,t)},dn.prototype.updateResizeHandles=function(t,i){if(t!==null){if(!t.alignment.Yb()&&(t.cursor==="pointer"||0<t.cursor.indexOf("resize")))t:{var s=t.alignment;if(s.Mc()&&(s=oe),0>=s.x)i=0>=s.y?i+225:1<=s.y?i+135:i+180;else if(1<=s.x)0>=s.y?i+=315:1<=s.y&&(i+=45);else if(0>=s.y)i+=270;else if(1<=s.y)i+=90;else break t;0>i?i+=360:360<=i&&(i-=360),t.cursor=22.5>i?"e-resize":67.5>i?"se-resize":112.5>i?"s-resize":157.5>i?"sw-resize":202.5>i?"w-resize":247.5>i?"nw-resize":292.5>i?"n-resize":337.5>i?"ne-resize":"e-resize"}else if(t instanceof nt)for(t=t.elements;t.next();)this.updateResizeHandles(t.value,i)}},dn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!t.isReadOnly&&t.allowResize&&t.lastInput.left?this.findToolHandleAt(t.firstInput.documentPoint,this.name)!==null:!1},dn.prototype.doActivate=function(){var t=this.diagram;this.handle===null&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),this.handle!==null&&(this.adornedObject=this.handle.part.adornedObject,this.adornedObject!==null&&(t.isMouseCaptured=!0,t.animationManager.Cc(),this.Ea(this.name),this.Wq.set(this.adornedObject.ga(this.handle.alignment.gv())),this.Sn.set(this.adornedObject.part.location),this.Dw.set(this.adornedObject.desiredSize),this.ot=this.computeCellSize(),this.qt=this.computeMinSize(),this.pt=this.computeMaxSize(),this.isActive=!0))},dn.prototype.doDeactivate=function(){var t=this.diagram;this.stopTransaction(),this.ue=this.handle=null,this.isActive=t.isMouseCaptured=!1},dn.prototype.stopTransaction=function(){var t=this.diagram,i=Kt.prototype.stopTransaction.call(this);return i&&t.undoManager.transactionToUndo!==null&&t.undoManager.transactionToUndo.$j(),i},dn.prototype.doCancel=function(){this.adornedObject!==null&&(this.adornedObject.desiredSize=this.originalDesiredSize,this.adornedObject.part.location=this.originalLocation),this.stopTool()},dn.prototype.doMouseMove=function(){var t=this.diagram;if(this.isActive){var i=this.qt,s=this.pt,l=this.ot,u=this.adornedObject.ps(t.lastInput.documentPoint,F.alloc()),c=this.computeReshape();i=this.computeResize(u,this.handle.alignment,i,s,l,c),this.resize(i),t.bd(),F.free(u)}},dn.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var i=this.qt,s=this.pt,l=this.ot,u=this.adornedObject.ps(t.lastInput.documentPoint,F.alloc()),c=this.computeReshape();i=this.computeResize(u,this.handle.alignment,i,s,l,c),this.resize(i),F.free(u),t.Ya(),this.transactionResult=this.name,t.R("PartResized",this.adornedObject,this.originalDesiredSize)}this.stopTool()},dn.prototype.resize=function(t){var i=this.diagram,s=this.adornedObject;if(s!==null){if(s.desiredSize=t.size,t=s.part,t.Va(),s=s.ga(this.handle.alignment.gv()),t instanceof Lt){var l=new ct;if(l.add(t),!this.dragsMembers&&t.placeholder===null){var u=new op;u.dragsMembers=!1}i.moveParts(l,this.oppositePoint.copy().re(s),!0,u)}else t.location=t.location.copy().re(s).add(this.oppositePoint);i.bd()}},dn.prototype.computeResize=function(t,i,s,l,u,c){i.Mc()&&(i=oe);var d=this.adornedObject.naturalBounds,m=d.x,y=d.y,O=d.x+d.width,w=d.y+d.height,k=1;if(!c){k=d.width;var P=d.height;0>=k&&(k=1),0>=P&&(P=1),k=P/k}return P=F.alloc(),U.Mo(t.x,t.y,m,y,u.width,u.height,P),t=d.copy(),0>=i.x?0>=i.y?(t.x=Math.max(P.x,O-l.width),t.x=Math.min(t.x,O-s.width),t.width=Math.max(O-t.x,s.width),t.y=Math.max(P.y,w-l.height),t.y=Math.min(t.y,w-s.height),t.height=Math.max(w-t.y,s.height),c||(1<=t.height/t.width?(t.height=Math.max(Math.min(k*t.width,l.height),s.height),t.width=t.height/k):(t.width=Math.max(Math.min(t.height/k,l.width),s.width),t.height=k*t.width),t.x=O-t.width,t.y=w-t.height)):1<=i.y?(t.x=Math.max(P.x,O-l.width),t.x=Math.min(t.x,O-s.width),t.width=Math.max(O-t.x,s.width),t.height=Math.max(Math.min(P.y-y,l.height),s.height),c||(1<=t.height/t.width?(t.height=Math.max(Math.min(k*t.width,l.height),s.height),t.width=t.height/k):(t.width=Math.max(Math.min(t.height/k,l.width),s.width),t.height=k*t.width),t.x=O-t.width)):(t.x=Math.max(P.x,O-l.width),t.x=Math.min(t.x,O-s.width),t.width=O-t.x,c||(t.height=Math.max(Math.min(k*t.width,l.height),s.height),t.width=t.height/k,t.y=y+.5*(w-y-t.height))):1<=i.x?0>=i.y?(t.width=Math.max(Math.min(P.x-m,l.width),s.width),t.y=Math.max(P.y,w-l.height),t.y=Math.min(t.y,w-s.height),t.height=Math.max(w-t.y,s.height),c||(1<=t.height/t.width?(t.height=Math.max(Math.min(k*t.width,l.height),s.height),t.width=t.height/k):(t.width=Math.max(Math.min(t.height/k,l.width),s.width),t.height=k*t.width),t.y=w-t.height)):1<=i.y?(t.width=Math.max(Math.min(P.x-m,l.width),s.width),t.height=Math.max(Math.min(P.y-y,l.height),s.height),c||(1<=t.height/t.width?(t.height=Math.max(Math.min(k*t.width,l.height),s.height),t.width=t.height/k):(t.width=Math.max(Math.min(t.height/k,l.width),s.width),t.height=k*t.width))):(t.width=Math.max(Math.min(P.x-m,l.width),s.width),c||(t.height=Math.max(Math.min(k*t.width,l.height),s.height),t.width=t.height/k,t.y=y+.5*(w-y-t.height))):0>=i.y?(t.y=Math.max(P.y,w-l.height),t.y=Math.min(t.y,w-s.height),t.height=w-t.y,c||(t.width=Math.max(Math.min(t.height/k,l.width),s.width),t.height=k*t.width,t.x=m+.5*(O-m-t.width))):1<=i.y&&(t.height=Math.max(Math.min(P.y-y,l.height),s.height),c||(t.width=Math.max(Math.min(t.height/k,l.width),s.width),t.height=k*t.width,t.x=m+.5*(O-m-t.width))),F.free(P),t},dn.prototype.computeReshape=function(){var t=$e;return this.adornedObject instanceof It&&(t=Kb(this.adornedObject)),!(t===Oo||this.diagram.lastInput.shift)},dn.prototype.computeMinSize=function(){var t=this.adornedObject.minSize.copy(),i=this.minSize;return!isNaN(i.width)&&i.width>t.width&&(t.width=i.width),!isNaN(i.height)&&i.height>t.height&&(t.height=i.height),t},dn.prototype.computeMaxSize=function(){var t=this.adornedObject.maxSize.copy(),i=this.maxSize;return!isNaN(i.width)&&i.width<t.width&&(t.width=i.width),!isNaN(i.height)&&i.height<t.height&&(t.height=i.height),t},dn.prototype.computeCellSize=function(){var t=new At(NaN,NaN),i=this.adornedObject.part;return i!==null&&(i=i.resizeCellSize,!isNaN(i.width)&&0<i.width&&(t.width=i.width),!isNaN(i.height)&&0<i.height&&(t.height=i.height)),i=this.cellSize,isNaN(t.width)&&!isNaN(i.width)&&0<i.width&&(t.width=i.width),isNaN(t.height)&&!isNaN(i.height)&&0<i.height&&(t.height=i.height),i=this.diagram,(isNaN(t.width)||isNaN(t.height))&&i&&(i=i.grid,i!==null&&i.visible&&this.isGridSnapEnabled&&(i=i.gridCellSize,isNaN(t.width)&&!isNaN(i.width)&&0<i.width&&(t.width=i.width),isNaN(t.height)&&!isNaN(i.height)&&0<i.height&&(t.height=i.height))),(isNaN(t.width)||t.width===0||t.width===1/0)&&(t.width=1),(isNaN(t.height)||t.height===0||t.height===1/0)&&(t.height=1),t},S.Object.defineProperties(dn.prototype,{handleArchetype:{get:function(){return this.F},set:function(t){this.F=t}},handle:{get:function(){return this.u},set:function(t){if(t!==null&&!(t.part instanceof Wt))throw Error("new handle is not in an Adornment: "+t);this.u=t}},adornedObject:{get:function(){return this.ue},set:function(t){if(t!==null&&t.part instanceof Wt)throw Error("new handle must not be in an Adornment: "+t);this.ue=t}},minSize:{get:function(){return this.o},set:function(t){if(!this.o.D(t)){var i=t.width;isNaN(i)&&(i=0),t=t.height,isNaN(t)&&(t=0),this.o.h(i,t)}}},maxSize:{get:function(){return this.j},set:function(t){if(!this.j.D(t)){var i=t.width;isNaN(i)&&(i=1/0),t=t.height,isNaN(t)&&(t=1/0),this.j.h(i,t)}}},cellSize:{get:function(){return this.yg},set:function(t){this.yg.D(t)||this.yg.assign(t)}},isGridSnapEnabled:{get:function(){return this.V},set:function(t){this.V=t}},dragsMembers:{get:function(){return this.ia},set:function(t){this.ia=t}},oppositePoint:{get:function(){return this.Wq},set:function(t){this.Wq.D(t)||this.Wq.assign(t)}},originalDesiredSize:{get:function(){return this.Dw}},originalLocation:{get:function(){return this.Sn}}}),dn.className="ResizingTool",pt("resizingTool",function(){return this.findTool("Resizing")},function(t){this.gb("Resizing",t,this.mouseDownTools)});function fr(){Kt.call(this),this.name="Rotating",this.ia=45,this.V=2,this.Sn=new F,this.ue=null;var t=new It;t.figure="Ellipse",t.desiredSize=ge,t.fill="lightblue",t.stroke="dodgerblue",t.strokeWidth=1,t.cursor="pointer",this.o=t,this.j=null,this.Cw=0,this.jr=new F(NaN,NaN),this.u=0,this.F=50}x(fr,Kt),fr.prototype.updateAdornments=function(t){if(t!==null){if(t.ph()){var i=t.rotateObject;if(i===t||i===t.path||i.isPanelMain)return}if(t.isSelected&&!this.diagram.isReadOnly&&(i=t.rotateObject,i!==null&&t.canRotate()&&t.actualBounds.w()&&t.isVisible()&&i.actualBounds.w()&&i.Ed())){var s=t.Oj(this.name);if((s===null||s.adornedObject!==i)&&(s=this.makeAdornment(i)),s!==null){s.angle=i.li(),s.placeholder===null&&(s.location=this.computeAdornmentLocation(i)),t.bh(this.name,s);return}}t.Jf(this.name)}},fr.prototype.makeAdornment=function(t){var i=t.part.rotateAdornmentTemplate;if(i===null){i=new Wt,i.type=nt.Position,i.locationSpot=oe;var s=this.handleArchetype;s!==null&&i.add(s.copy())}else if(Gr(i),i=i.copy(),i===null)return null;return i.adornedObject=t,i},fr.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!t.isReadOnly&&t.allowRotate&&t.lastInput.left?this.findToolHandleAt(t.firstInput.documentPoint,this.name)!==null:!1},fr.prototype.doActivate=function(){var t=this.diagram;if(this.adornedObject===null){if(this.handle===null&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),this.handle===null)return;this.adornedObject=this.handle.part.adornedObject}this.adornedObject!==null&&(t.isMouseCaptured=!0,t.delaysLayout=!0,this.Ea(this.name),this.Cw=this.adornedObject.angle,this.jr=this.computeRotationPoint(this.adornedObject),this.Sn=this.adornedObject.part.location.copy(),this.isActive=!0)},fr.prototype.computeRotationPoint=function(t){var i=t.part,s=i.locationObject;return i.rotationSpot.sb()?t.ga(i.rotationSpot):t===i||t===s?s.ga(i.locationSpot):t.ga(oe)},fr.prototype.computeAdornmentLocation=function(t){var i=this.rotationPoint;i.w()||(i=this.computeRotationPoint(t)),i=t.ps(i);var s=this.handleAngle;0>s?s+=360:360<=s&&(s-=360),s=Math.round(45*Math.round(s/45));var l=this.handleDistance;return s===0?i.x=t.naturalBounds.width+l:s===45?(i.x=t.naturalBounds.width+l,i.y=t.naturalBounds.height+l):s===90?i.y=t.naturalBounds.height+l:s===135?(i.x=-l,i.y=t.naturalBounds.height+l):s===180?i.x=-l:s===225?(i.x=-l,i.y=-l):s===270?i.y=-l:s===315&&(i.x=t.naturalBounds.width+l,i.y=-l),t.ga(i)},fr.prototype.doDeactivate=function(){var t=this.diagram;this.stopTransaction(),this.ue=this.handle=null,this.jr=new F(NaN,NaN),this.isActive=t.isMouseCaptured=!1},fr.prototype.stopTransaction=function(){var t=this.diagram,i=Kt.prototype.stopTransaction.call(this);return i&&t.undoManager.transactionToUndo!==null&&t.undoManager.transactionToUndo.$j(),i},fr.prototype.doCancel=function(){this.diagram.delaysLayout=!1,this.rotate(this.originalAngle),this.stopTool()},fr.prototype.doMouseMove=function(){var t=this.diagram;this.isActive&&(t=this.computeRotate(t.lastInput.documentPoint),this.rotate(t))},fr.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){t.delaysLayout=!1;var i=this.computeRotate(t.lastInput.documentPoint);this.rotate(i),t.Ya(),this.transactionResult=this.name,t.R("PartRotated",this.adornedObject,this.originalAngle)}this.stopTool()},fr.prototype.rotate=function(t){var i=this.adornedObject;if(i!==null){i.angle=t,i=i.part,i.Va();var s=i.locationObject,l=i.rotateObject;(s===l||s.rg(l))&&(s=this.Sn.copy(),i.location=s.re(this.rotationPoint).rotate(t-this.originalAngle).add(this.rotationPoint)),this.diagram.bd()}},fr.prototype.computeRotate=function(t){t=this.rotationPoint.ab(t)-this.handleAngle;var i=this.adornedObject.panel;i!==null&&(t-=i.li()),360<=t?t-=360:0>t&&(t+=360),i=Math.min(Math.abs(this.snapAngleMultiple),180);var s=Math.min(Math.abs(this.snapAngleEpsilon),i/2);return!this.diagram.lastInput.shift&&0<i&&0<s&&(t%i<s?t=Math.floor(t/i)*i:t%i>i-s&&(t=(Math.floor(t/i)+1)*i)),360<=t?t-=360:0>t&&(t+=360),t},S.Object.defineProperties(fr.prototype,{handleArchetype:{get:function(){return this.o},set:function(t){this.o=t}},handle:{get:function(){return this.j},set:function(t){if(t!==null&&!(t.part instanceof Wt))throw Error("new handle is not in an Adornment: "+t);this.j=t}},adornedObject:{get:function(){return this.ue},set:function(t){if(t!==null&&t.part instanceof Wt)throw Error("new handle must not be in an Adornment: "+t);this.ue=t}},snapAngleMultiple:{get:function(){return this.ia},set:function(t){this.ia=t}},snapAngleEpsilon:{get:function(){return this.V},set:function(t){this.V=t}},originalAngle:{get:function(){return this.Cw}},rotationPoint:{get:function(){return this.jr},set:function(t){this.jr=t.copy()}},handleAngle:{get:function(){return this.u},set:function(t){this.u=t}},handleDistance:{get:function(){return this.F},set:function(t){this.F=t}}}),fr.className="RotatingTool",pt("rotatingTool",function(){return this.findTool("Rotating")},function(t){this.gb("Rotating",t,this.mouseDownTools)});function Wd(){Kt.call(this),this.name="ClickSelecting"}x(Wd,Kt),Wd.prototype.canStart=function(){return!(!this.isEnabled||this.isBeyondDragSize())},Wd.prototype.doMouseUp=function(){this.isActive&&(this.standardMouseSelect(),!this.standardMouseClick()&&this.diagram.lastInput.isTouchEvent&&this.diagram.toolManager.doToolTip()),this.stopTool()},Wd.className="ClickSelectingTool";function da(){Kt.call(this),this.name="Action",this.nk=null}x(da,Kt),da.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram,i=t.lastInput,s=t.jc(i.documentPoint,function(l){for(;l.panel!==null&&!l.isActionable;)l=l.panel;return l});return s!==null&&s.isActionable?(this.nk=s,t.Bk=t.jc(i.documentPoint,null,null),!0):!1},da.prototype.doMouseDown=function(){if(this.isActive){var t=this.diagram.lastInput,i=this.nk;i!==null&&(t.targetObject=i,i.actionDown!==null&&i.actionDown(t,i))}else this.canStart()&&this.doActivate()},da.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram.lastInput,i=this.nk;i!==null&&(t.targetObject=i,i.actionMove!==null&&i.actionMove(t,i))}},da.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram.lastInput,i=this.nk;if(i===null)return;t.targetObject=i,i.actionUp!==null&&i.actionUp(t,i),this.standardMouseClick(function(s){for(;s.panel!==null&&(!s.isActionable||s!==i);)s=s.panel;return s},function(s){return s===i})}this.stopTool()},da.prototype.doCancel=function(){var t=this.diagram.lastInput,i=this.nk;i!==null&&(t.targetObject=i,i.actionCancel!==null&&i.actionCancel(t,i),this.stopTool())},da.prototype.doStop=function(){this.nk=null},da.className="ActionTool";function Nh(){Kt.call(this),this.name="ClickCreating",this.Ri=null,this.o=!0,this.j=!1,this.mw=new F(0,0)}x(Nh,Kt),Nh.prototype.canStart=function(){if(!this.isEnabled||this.archetypeNodeData===null)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.lastInput.left||this.isBeyondDragSize())return!1;if(this.isDoubleClick){if(t.lastInput.clickCount===1&&(this.mw=t.lastInput.viewPoint.copy()),t.lastInput.clickCount!==2||this.isBeyondDragSize(this.mw))return!1}else if(t.lastInput.clickCount!==1)return!1;return!(t.currentTool!==this&&t.Nl(t.lastInput.documentPoint,!0)!==null)},Nh.prototype.doMouseUp=function(){var t=this.diagram;this.isActive&&this.insertPart(t.lastInput.documentPoint),this.stopTool()},Nh.prototype.insertPart=function(t){var i=this.diagram,s=this.archetypeNodeData;if(s===null)return null;var l=null;try{if(i.R("ChangingSelection",i.selection),this.Ea(this.name),s instanceof kt)s.Zc()&&(Gr(s),l=s.copy(),l!==null&&i.add(l));else if(s!==null){var u=i.model.copyNodeData(s);J(u)&&(i.model.xf(u),l=i.Lc(u))}if(l!==null){var c=F.allocAt(t.x,t.y);this.isGridSnapEnabled&&hb(this.diagram,l,t,c),l.location=c,i.allowSelect&&(i.clearSelection(!0),l.isSelected=!0),F.free(c)}i.Ya(),this.transactionResult=this.name,i.R("PartCreated",l)}finally{this.stopTransaction(),i.R("ChangedSelection",i.selection)}return l},S.Object.defineProperties(Nh.prototype,{archetypeNodeData:{get:function(){return this.Ri},set:function(t){this.Ri=t}},isDoubleClick:{get:function(){return this.o},set:function(t){this.o=t}},isGridSnapEnabled:{get:function(){return this.j},set:function(t){this.j=t}}}),Nh.className="ClickCreatingTool";function Uo(){Kt.call(this),this.name="DragSelecting",this.Hk=175,this.o=!1;var t=new kt;t.layerName="Tool",t.selectable=!1;var i=new It;i.name="SHAPE",i.figure="Rectangle",i.fill=null,i.stroke="magenta",t.add(i),this.j=t}x(Uo,Kt),Uo.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(!t.allowSelect)return!1;var i=t.lastInput;return!(!i.left||t.currentTool!==this&&(!this.isBeyondDragSize()||i.timestamp-t.firstInput.timestamp<this.delay||t.Nl(i.documentPoint,!0)!==null))},Uo.prototype.doActivate=function(){var t=this.diagram;this.isActive=!0,t.isMouseCaptured=!0,t.skipsUndoManager=!0,t.add(this.box),this.doMouseMove()},Uo.prototype.doDeactivate=function(){var t=this.diagram;t.ug(),t.remove(this.box),t.skipsUndoManager=!1,this.isActive=t.isMouseCaptured=!1},Uo.prototype.doMouseMove=function(){var t=this.diagram;if(this.isActive&&this.box!==null){var i=this.computeBoxBounds(),s=this.box.fb("SHAPE");s===null&&(s=this.box.Qb());var l=At.alloc().h(i.width,i.height);s.desiredSize=l,this.box.lm(i.x,i.y,!1),At.free(l),(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.fs(t.lastInput.viewPoint)}},Uo.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram;t.remove(this.box);try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),this.selectInRect(this.computeBoxBounds()),t.R("ChangedSelection",t.selection)}finally{t.currentCursor=""}}this.stopTool()},Uo.prototype.computeBoxBounds=function(){var t=this.diagram;return new tt(t.firstInput.documentPoint,t.lastInput.documentPoint)},Uo.prototype.selectInRect=function(t){var i=this.diagram,s=i.lastInput;if(t=i.ux(t,this.isPartialInclusion),Dt?s.meta:s.control)if(s.shift)for(t=t.iterator;t.next();)i=t.value,i.isSelected&&(i.isSelected=!1);else for(t=t.iterator;t.next();)i=t.value,i.isSelected=!i.isSelected;else if(s.shift)for(t=t.iterator;t.next();)i=t.value,i.isSelected||(i.isSelected=!0);else{for(s=new ct,i=i.selection.iterator;i.next();){var l=i.value;t.contains(l)||s.add(l)}for(i=s.iterator;i.next();)i.value.isSelected=!1;for(t=t.iterator;t.next();)i=t.value,i.isSelected||(i.isSelected=!0)}},S.Object.defineProperties(Uo.prototype,{delay:{get:function(){return this.Hk},set:function(t){this.Hk=t}},isPartialInclusion:{get:function(){return this.o},set:function(t){this.o=t}},box:{get:function(){return this.j},set:function(t){this.j=t}}}),Uo.className="DragSelectingTool";function Wo(){Kt.call(this),this.name="Panning",this.Wt=new F,this.xy=new F,this.xg=!1;var t=this;this.Kw=function(){var i=t.diagram;i!==null&&i.removeEventListener(N.document,"scroll",t.Kw,!1),t.stopTool()}}x(Wo,Kt),Wo.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(!t.allowHorizontalScroll&&!t.allowVerticalScroll||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())},Wo.prototype.doActivate=function(){var t=this.diagram;this.xg?(t.lastInput.bubbles=!0,t.addEventListener(N.document,"scroll",this.Kw,!1)):(t.currentCursor="move",t.isMouseCaptured=!0,this.Wt.assign(t.position)),this.isActive=!0},Wo.prototype.doDeactivate=function(){var t=this.diagram;t.currentCursor="",this.isActive=t.isMouseCaptured=!1},Wo.prototype.doCancel=function(){var t=this.diagram;t.position=this.Wt,t.isMouseCaptured=!1,this.stopTool()},Wo.prototype.doMouseMove=function(){this.move()},Wo.prototype.doMouseUp=function(){this.move(),this.stopTool()},Wo.prototype.move=function(){var t=this.diagram;if(this.isActive&&t)if(this.xg)t.lastInput.bubbles=!0;else{var i=t.position,s=t.firstInput.documentPoint,l=t.lastInput.documentPoint,u=i.x+s.x-l.x;s=i.y+s.y-l.y,t.allowHorizontalScroll||(u=i.x),t.allowVerticalScroll||(s=i.y),t.position=this.xy.h(u,s)}},S.Object.defineProperties(Wo.prototype,{bubbles:{get:function(){return this.xg},set:function(t){this.xg=t}},originalPosition:{get:function(){return this.Wt}}}),Wo.className="PanningTool",pt("clickCreatingTool",function(){return this.findTool("ClickCreating")},function(t){this.gb("ClickCreating",t,this.mouseUpTools)}),pt("clickSelectingTool",function(){return this.findTool("ClickSelecting")},function(t){this.gb("ClickSelecting",t,this.mouseUpTools)}),pt("panningTool",function(){return this.findTool("Panning")},function(t){this.gb("Panning",t,this.mouseMoveTools)}),pt("dragSelectingTool",function(){return this.findTool("DragSelecting")},function(t){this.gb("DragSelecting",t,this.mouseMoveTools)}),pt("actionTool",function(){return this.findTool("Action")},function(t){this.gb("Action",t,this.mouseDownTools)});function pa(){this.F=this.u=this.j=this.o=null}S.Object.defineProperties(pa.prototype,{mainElement:{get:function(){return this.u},set:function(t){this.u=t}},show:{get:function(){return this.o},set:function(t){this.o!==t&&(this.o=t)}},hide:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t)}},valueFunction:{get:function(){return this.F},set:function(t){this.F=t}}}),pa.className="HTMLInfo";function Xs(t,i,s){this.text=t,this.hx=i,this.visible=s}Xs.className="ContextMenuButtonInfo";function Jn(){Kt.call(this),this.name="ContextMenu",this.o=this.gt=this.j=null,this.yw=new F,this.it=null,this.Dt=!1;var t=this;this.su=function(){t.stopTool()}}x(Jn,Kt);function dG(t){var i=new pa;i.show=function(u,c,d){d.showDefaultContextMenu()},i.hide=function(u,c){c.hideDefaultContextMenu()},qd=i,t.su=function(){t.stopTool()},i=V("div");var s=V("div");i.style.cssText="top: 0px;z-index:10002;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",s.style.cssText="z-index:10001;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";var l=V("style");N.document.getElementsByTagName("head")[0].appendChild(l),l.sheet.insertRule(".goCXul { list-style: none; }",0),l.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),l.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0),l=t.diagram,l!==null&&(l.addEventListener(i,"contextmenu",B2,!1),l.addEventListener(i,"selectstart",B2,!1),l.addEventListener(s,"contextmenu",B2,!1)),i.className="goCXforeground",s.className="goCXbackground",N.document.body&&(N.document.body.appendChild(i),N.document.body.appendChild(s)),_g=i,Bg=s,_2=!0}function B2(t){return t.preventDefault(),!1}Jn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return this.isBeyondDragSize()||!t.lastInput.right||1<t.lastInput.clickCount?!1:!!(t.lastInput.isTouchEvent&&this.defaultTouchContextMenu!==null||this.findObjectWithContextMenu()!==null)},Jn.prototype.doStart=function(){this.yw.set(this.diagram.firstInput.documentPoint)},Jn.prototype.doStop=function(){this.hideContextMenu(),this.currentObject=null},Jn.prototype.findObjectWithContextMenu=function(t){t===void 0&&(t=null);var i=this.diagram,s=i.lastInput,l=null;if(t instanceof H||(t instanceof xt?l=t:l=i.jc(s.documentPoint,null,function(u){return!u.layer.isTemporary})),l!==null){for(t=l;t!==null;){if(t.contextMenu!==null)return t;t=t.panel}if(i.lastInput.isTouchEvent&&this.defaultTouchContextMenu)return l.part}else if(i.contextMenu!==null)return i;return null},Jn.prototype.doActivate=function(){},Jn.prototype.doMouseDown=function(){if(Kt.prototype.doMouseDown.call(this),this.isActive&&this.currentContextMenu instanceof Wt){var t=this.diagram.toolManager.findTool("Action");t!==null&&t.canStart()&&(t.doActivate(),t.doMouseDown(),t.doDeactivate())}this.diagram.toolManager.mouseDownTools.contains(this)&&J5(this)},Jn.prototype.doMouseUp=function(){if(this.isActive&&this.currentContextMenu instanceof Wt){var t=this.diagram.toolManager.findTool("Action");t!==null&&t.canStart()&&(t.doActivate(),t.doCancel(),t.doDeactivate())}J5(this)};function J5(t){var i=t.diagram;if(t.isActive){var s=t.currentContextMenu;if(s!==null){var l=null;s instanceof pa||(l=i.jc(i.lastInput.documentPoint,null,null),l!==null&&l.rg(s)&&t.standardMouseClick(null,null)),t.maybeStopTool(l)}}else t.canStart()&&(tL(t,!0),t.isActive||t.stopTool())}Jn.prototype.maybeStopTool=function(){this.stopTool(),this.canStart()&&(this.diagram.currentTool=this,this.doMouseUp())};function tL(t,i,s){if(s===void 0&&(s=null),!t.Dt&&(t.Dt=!0,i&&t.standardMouseSelect(),i=t.standardMouseClick(),t.Dt=!1,!i)){if(t.isActive=!0,i=qd,s===null&&(s=t.findObjectWithContextMenu()),s!==null){var l=s.contextMenu;l!==null?(t.currentObject=s instanceof xt?s:null,t.showContextMenu(l,t.currentObject)):i!==null&&t.showContextMenu(i,t.currentObject)}else i!==null&&t.showContextMenu(i,null);t.currentContextMenu instanceof Wt&&!t.currentContextMenu.visible&&t.stopTool()}}Jn.prototype.doMouseMove=function(){var t=this.diagram.toolManager.findTool("Action");t!==null&&t.doMouseMove(),this.isActive&&this.diagram.toolManager.doMouseMove()},Jn.prototype.showContextMenu=function(t,i){var s=this.diagram;if(t!==this.currentContextMenu&&this.hideContextMenu(),t instanceof Wt){t.layerName="Tool",t.selectable=!1,t.scale=1/s.scale,t.category=this.name,t.placeholder!==null&&(t.placeholder.scale=s.scale);var l=t.diagram;l!==null&&l!==s&&l.remove(t),s.add(t),i!==null?t.adornedObject=i:t.data=s.model,t.Va(),this.positionContextMenu(t,i)}else t instanceof pa&&t.show(i,s,this);this.currentContextMenu=t},Jn.prototype.positionContextMenu=function(t){if(t.placeholder===null){var i=this.diagram,s=i.lastInput.documentPoint.copy(),l=t.measuredBounds,u=i.viewportBounds;i.lastInput.isTouchEvent&&(s.x-=l.width),s.x+l.width>u.right&&(s.x-=l.width+5/i.scale),s.x<u.x&&(s.x=u.x),s.y+l.height>u.bottom&&(s.y-=l.height+5/i.scale),s.y<u.y&&(s.y=u.y),t.position=s}},Jn.prototype.hideContextMenu=function(){var t=this.diagram,i=this.currentContextMenu;i!==null&&(i instanceof Wt?(t.remove(i),this.gt!==null&&this.gt.Jf(i.category),i.data=null,i.adornedObject=null):i instanceof pa&&(i.hide!==null?i.hide(t,this):i.mainElement!==null&&(i.mainElement.style.display="none")),this.currentContextMenu=null,this.standardMouseOver())};function pG(t){var i=new ct;return i.add(new Xs("Copy",function(s){s.commandHandler.copySelection()},function(s){return s.commandHandler.canCopySelection()})),i.add(new Xs("Cut",function(s){s.commandHandler.cutSelection()},function(s){return s.commandHandler.canCutSelection()})),i.add(new Xs("Delete",function(s){s.commandHandler.deleteSelection()},function(s){return s.commandHandler.canDeleteSelection()})),i.add(new Xs("Paste",function(s){s.commandHandler.pasteSelection(t.mouseDownPoint)},function(s){return s.commandHandler.canPasteSelection(t.mouseDownPoint)})),i.add(new Xs("Select All",function(s){s.commandHandler.selectAll()},function(s){return s.commandHandler.canSelectAll()})),i.add(new Xs("Undo",function(s){s.commandHandler.undo()},function(s){return s.commandHandler.canUndo()})),i.add(new Xs("Redo",function(s){s.commandHandler.redo()},function(s){return s.commandHandler.canRedo()})),i.add(new Xs("Scroll To Part",function(s){s.commandHandler.scrollToPart()},function(s){return s.commandHandler.canScrollToPart()})),i.add(new Xs("Zoom To Fit",function(s){s.commandHandler.zoomToFit()},function(s){return s.commandHandler.canZoomToFit()})),i.add(new Xs("Reset Zoom",function(s){s.commandHandler.resetZoom()},function(s){return s.commandHandler.canResetZoom()})),i.add(new Xs("Group Selection",function(s){s.commandHandler.groupSelection()},function(s){return s.commandHandler.canGroupSelection()})),i.add(new Xs("Ungroup Selection",function(s){s.commandHandler.ungroupSelection()},function(s){return s.commandHandler.canUngroupSelection()})),i.add(new Xs("Edit Text",function(s){s.commandHandler.editTextBlock()},function(s){return s.commandHandler.canEditTextBlock()})),i}Jn.prototype.showDefaultContextMenu=function(){var t=this.diagram;this.it===null&&(this.it=pG(this)),_g.innerHTML="",Bg.addEventListener("pointerdown",this.su,!1);var i=this,s=V("ul");s.className="goCXul",_g.appendChild(s),s.innerHTML="";for(var l=this.it.iterator;l.next();){var u=l.value,c=u.visible;if(typeof u.hx=="function"&&(typeof c!="function"||c(t))){c=V("li"),c.className="goCXli";var d=V("a");d.className="goCXa",d.href="#",d.ky=u.hx,d.addEventListener("pointerdown",function(m){return this.ky(t),i.stopTool(),m.preventDefault(),!1},!1),d.textContent=u.text,c.appendChild(d),s.appendChild(c)}}_g.style.display="block",Bg.style.display="block"},Jn.prototype.hideDefaultContextMenu=function(){if(this.currentContextMenu!==null&&this.currentContextMenu===qd){_g.style.display="none",Bg.style.display="none";var t=this.diagram;t!==null&&t.removeEventListener(Bg,"pointerdown",this.su,!1),this.currentContextMenu=null}},S.Object.defineProperties(Jn.prototype,{currentContextMenu:{get:function(){return this.j},set:function(t){this.j=t,this.gt=t instanceof Wt?t.adornedPart:null}},defaultTouchContextMenu:{get:function(){return _2===!1&&qd===null&&Os&&dG(this),qd},set:function(t){t===null&&(_2=!0),qd=t}},currentObject:{get:function(){return this.o},set:function(t){this.o=t}},mouseDownPoint:{get:function(){return this.yw}}});var qd=null,_2=!1,Bg=null,_g=null;Jn.className="ContextMenuTool",pt("contextMenuTool",function(){return this.findTool("ContextMenu")},function(t){this.gb("ContextMenu",t,this.mouseUpTools)});function ve(){Kt.call(this),this.name="TextEditing",this.Zh=new fe,this.ia=null,this.V=Y2,this.vj=null,this.qa=Zg,this.u=1,this.F=!0,this.o=null,this.j=new pa,this.jt=null,mG(this,this.j)}x(ve,Kt);function mG(t,i){if(Os){var s=V("textarea");t.jt=s,s.addEventListener("input",function(){if(t.textBlock!==null){var l=t.Lx(this.value);this.style.width=20+l.measuredBounds.width*this.wA+"px",this.rows=l.lineCount}},!1),s.addEventListener("keydown",function(l){if(!l.isComposing&&t.textBlock!==null){var u=l.key;u==="Enter"?(t.textBlock.isMultiline===!1&&l.preventDefault(),t.acceptText(Zv)):u==="Tab"?(t.acceptText(Z2),l.preventDefault()):u==="Escape"&&(t.doCancel(),t.diagram!==null&&t.diagram.doFocus())}},!1),s.addEventListener("focus",function(){if(t.currentTextEditor!==null&&t.state!==Zg){var l=t.jt;t.qa===Yg&&(t.qa=Yv),typeof l.select=="function"&&t.selectsTextOnActivate&&(l.select(),l.setSelectionRange(0,9999))}},!1),s.addEventListener("blur",function(){if(t.currentTextEditor!==null&&t.state!==Zg){var l=t.jt;typeof l.focus=="function"&&l.focus(),typeof l.select=="function"&&t.selectsTextOnActivate&&(l.select(),l.setSelectionRange(0,9999))}},!1),i.valueFunction=function(){return s.value},i.mainElement=s,i.show=function(l,u,c){if(l instanceof fe&&c instanceof ve)if(c.state===Ug)s.style.border="3px solid red",s.focus();else{var d=l.ga(oe),m=u.position,y=u.scale,O=l.Df()*y;O<c.minimumEditorScale&&(O=c.minimumEditorScale);var w=l.naturalBounds.width*O+6,k=l.naturalBounds.height*O+2,P=(d.x-m.x)*y;d=(d.y-m.y)*y,m=l.verticalAlignment,y=(l.lineHeight+l.spacingAbove+l.spacingBelow)*l.lineCount*O,k=m.y*k-m.y*y+m.offsetY-(.5*k-.5*y)-y/2,s.value=l.text,u.div.style.font=l.font,s.style.position="absolute",s.style.zIndex="100",s.style.font="inherit",s.style.fontSize=100*O+"%",s.style.lineHeight="normal",s.style.width=w+"px",s.style.left=(P-w/2|0)-1+"px",s.style.top=(d+k|0)-1+"px",s.style.textAlign=l.textAlign,s.style.margin="0",s.style.padding="1px",s.style.border="0",s.style.outline="none",s.style.whiteSpace="pre-wrap",s.style.overflow="hidden",s.rows=l.lineCount,s.wA=O,s.className="goTXarea",u.div.appendChild(s),s.focus(),c.selectsTextOnActivate&&(s.select(),s.setSelectionRange(0,9999))}},i.hide=function(l){l.div.removeChild(s)}}}ve.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t===null||t.isReadOnly||pf&&pf!==this&&(pf.acceptText(_v),pf&&pf!==this)||!t.lastInput.left||this.isBeyondDragSize())return!1;var i=t.jc(t.lastInput.documentPoint);return i!==null&&i instanceof fe&&i.editable&&i.part.canEdit()?(i=i.part,!(i===null||this.starting===Y2&&!i.isSelected||this.starting===nL&&2>t.lastInput.clickCount)):!1},ve.prototype.doStart=function(){pf=this,this.textBlock!==null&&this.doActivate()},ve.prototype.doActivate=function(){if(!this.isActive){var t=this.diagram;if(t!==null){var i=this.textBlock;if(i===null&&(i=t.jc(t.lastInput.documentPoint)),i!==null&&i instanceof fe&&(this.textBlock=i,i.part!==null)){t.animationManager.Cc(),this.isActive=!0,this.qa=Yg;var s=this.defaultTextEditor;i.textEditor!==null&&(s=i.textEditor),this.Zh=this.textBlock.copy();var l=new tt(this.textBlock.ga(Ji),this.textBlock.ga(Yo));t.tv(l),s.show(i,t,this),this.currentTextEditor=s}}}},ve.prototype.doCancel=function(){this.stopTool()},ve.prototype.doMouseUp=function(){this.canStart()&&this.doActivate()},ve.prototype.doMouseDown=function(){this.isActive&&this.acceptText(_v)},ve.prototype.acceptText=function(t){switch(t){case _v:this.qa===W2?this.currentTextEditor instanceof HTMLElement&&this.currentTextEditor.focus():(this.qa===Yg||this.qa===Ug||this.qa===Yv)&&(this.qa=U2,eL(this));break;case iL:case Zv:case Z2:(Zv!==t||this.textBlock.isMultiline!==!0)&&(this.qa===Yg||this.qa===Ug||this.qa===Yv)&&(this.qa=U2,eL(this))}};function eL(t){var i=t.textBlock,s=t.diagram,l=t.currentTextEditor;if(i!==null&&l!==null){var u=i.text,c="";l.valueFunction!==null&&(c=l.valueFunction()),t.isValidText(i,u,c)?(t.Ea(t.name),t.qa=W2,t.transactionResult=t.name,i.text=c,t.doSuccess(u,c),s!==null&&s.R("TextEdited",i,u),t.stopTransaction(),t.stopTool(),s!==null&&s.doFocus()):(t.qa=Ug,t.doError(u,c))}}ve.prototype.doError=function(t,i){var s=this.textBlock;s.errorFunction!==null&&s.errorFunction(this,t,i),(t=this.currentTextEditor)&&t.show(s,this.diagram,this)},ve.prototype.doSuccess=function(t,i){var s=this.textBlock;s.textEdited!==null&&s.textEdited(s,t,i)},ve.prototype.doDeactivate=function(){var t=this.diagram;t!==null&&(this.qa=Zg,this.currentTextEditor!==null&&this.currentTextEditor.hide(t,this),this.textBlock=null,this.isActive=!1)},ve.prototype.doStop=function(){pf=null},ve.prototype.isValidText=function(t,i,s){var l=this.textValidation;return l!==null&&!l(t,i,s)?!1:(l=t.textValidation,!!(l===null||l(t,i,s)))},ve.prototype.Lx=function(t){var i=this.Zh;return i.text=t,i.measure(this.textBlock.Ih,1/0),i},S.Object.defineProperties(ve.prototype,{textBlock:{get:function(){return this.ia},set:function(t){this.ia=t}},currentTextEditor:{get:function(){return this.o},set:function(t){this.o=t}},defaultTextEditor:{get:function(){return this.j},set:function(t){this.j=t}},starting:{get:function(){return this.V},set:function(t){this.V=t}},textValidation:{get:function(){return this.vj},set:function(t){this.vj=t}},minimumEditorScale:{get:function(){return this.u},set:function(t){this.u=t}},selectsTextOnActivate:{get:function(){return this.F},set:function(t){this.F=t}},state:{get:function(){return this.qa},set:function(t){this.qa!==t&&(this.qa=t)}}}),ve.prototype.measureTemporaryTextBlock=ve.prototype.Lx;var iL=new it(ve,"LostFocus",0),_v=new it(ve,"MouseDown",1),Z2=new it(ve,"Tab",2),Zv=new it(ve,"Enter",3),gG=new it(ve,"SingleClick",0),Y2=new it(ve,"SingleClickSelected",1),nL=new it(ve,"DoubleClick",2),Zg=new it(ve,"StateNone",0),Yg=new it(ve,"StateActive",1),Yv=new it(ve,"StateEditing",2),U2=new it(ve,"StateValidating",3),Ug=new it(ve,"StateInvalid",4),W2=new it(ve,"StateValidated",5),pf=null;ve.className="TextEditingTool",ve.LostFocus=iL,ve.MouseDown=_v,ve.Tab=Z2,ve.Enter=Zv,ve.SingleClick=gG,ve.SingleClickSelected=Y2,ve.DoubleClick=nL,ve.StateNone=Zg,ve.StateActive=Yg,ve.StateEditing=Yv,ve.StateValidating=U2,ve.StateInvalid=Ug,ve.StateValidated=W2,pt("textEditingTool",function(){return this.findTool("TextEditing")},function(t){this.gb("TextEditing",t,this.mouseUpTools)});function Cr(t){Gv||(lL(),Gv=!0),this.H=Jd,this.Nk=this.Ab=this.uq=this.cc=!1,this.Qw=!0,this.Ok=Hv,this.Cm=!1,this.Gh=this.Jd=!0,this.Dg=600,this.cw=this.Ow=!1,this.Zd=new at,this.ce=new tn,this.ce.Yd=this,this.Ei=new at,this.ou=new at,this.Rr=new at,this.nr=new at,t&&Object.assign(this,t)}Cr.prototype.Xe=function(t){this.H=t},Cr.prototype.canStart=function(){return!0};function ma(t,i){t.Jd&&t.canStart(i)&&(t.Zd.add(i),t.defaultAnimation.isAnimating&&t.Cc(),pn(t.H),t.Ab=!0)}function q2(t){if(t.Jd&&t.Ab){var i=t.ce,s=t.H,l=t.Zd.contains("Model");l&&(t.Nk=!0,t.Ok===Hv?(i.isViewportUnconstrained=!0,i.vc.clear(),i.add(s,"position",s.position.copy().offset(0,-200),s.position),i.add(s,"opacity",0,1)):t.Ok===uL&&i.vc.clear(),t.Qw=!!(t.Ok===aL&&s.cu.D(s.pa)),s.R("InitialAnimationStarting",t)),l&&!t.Gh||i.vc.count===0?(t.Zd.clear(),t.Ab=!1,i.vc.clear(),Kv(i,s),t.Nk=!1,s.N()):(t.Zd.clear(),s.kg=!1,l=i.vc.get(s),s.autoScale!==Mr&&l!==null&&(delete l.start.scale,delete l.end.scale),N.requestAnimationFrame(function(){t.Ab===!1||i.cc||(s.Gf("temporaryPixelRatio")&&qg(s),tb(s),t.Ab=!1,i.start(),i.cc&&(Gd(t),s.Ya(),cL(i,0),ga(s,!0),Hd(t),s.R("AnimationStarting",t)))}))}}function Uv(t){return t.Zd.contains("Trigger")&&t.Zd.count===1}function rL(t,i,s,l){t.isTicking||Uv(t)||i instanceof rt&&(i.fromNode!==null||i.toNode!==null)||t.ce.add(i,"position",s,l,!1)}n=Cr.prototype,n.fv=function(t){return this.ce.fv(t)},n.Xu=function(t){return this.ce.Xu(t)};function yG(t,i){function s(){if(0<u.Rr.count&&(l.addAll(u.Rr),u.Rr.clear(),u.cc=!0),u.cc!==!1&&l.count!==0){u.ou.addAll(l);for(var c=u.ou.iterator;c.next();){var d=c.value;if(d.cc!==!1){t:if(0<d.xl.count)var m=!0;else{for(m=d.vc.iterator;m.next();){var y=m.key;if(y instanceof xt&&y.diagram!==null||y instanceof H){m=!0;break t}}m=!1}m?hL(d,!1):d.Wk=!0}}u.ou.clear(),u.cc!==!1&&(Gd(u),ga(u.H),Hd(u)),N.requestAnimationFrame(s)}}var l=t.Ei,u=t;t.cc?t.Rr.add(i):(t.cc=!0,l.add(i),N.requestAnimationFrame(function(){s()}))}function OG(t){for(t=t.Ei.iterator;t.next();)t.value.Wk=!1}function Gd(t){if(!t.uq){var i=t.H;t.Ow=i.skipsUndoManager,t.cw=i.skipsModelSourceBindings,i.skipsUndoManager=!0,i.skipsModelSourceBindings=!0,t.uq=!0}}function Hd(t){var i=t.H;i.skipsUndoManager=t.Ow,i.skipsModelSourceBindings=t.cw,t.uq=!1}n.Cc=function(t){var i=this.ce;if(this.Ab===!0&&(this.Nk=this.Ab=!1,this.Zd.clear(),0<i.vc.count&&this.H.ac()),this.cc){if(i.Ll(!0),i.vc.clear(),Kv(i,null),t===!0)for(t=this.Ei.Fa(),i=0;i<t.length;i++)t[i].Ll(!0)}else i.vc.clear(),Kv(i,this.H)},n.Ll=function(t){t===this.defaultAnimation&&this.defaultAnimation.vc.clear(),this.Ei.remove(t),this.Ei.count===0&&(this.cc=!1,this.H.ac()),t===this.defaultAnimation&&(this.defaultAnimation.vc.clear(),this.H.R("AnimationFinished",this))},n.Cj=function(t,i){this.Ab&&(this.Zd.contains("Expand Tree")||this.Zd.contains("Expand SubGraph"))&&(this.ce.Cj(t,i),oL(this,t))},n.Aj=function(t,i){this.Ab&&(this.Zd.contains("Collapse Tree")||this.Zd.contains("Collapse SubGraph"))&&(this.ce.Aj(t,i),H2(this.ce,i,"position",i.position,i.position),oL(this,t))};function sL(t,i,s){!t.Ab||i.D(s)||Uv(t)||(t.H.pi||(i=s.copy()),H2(t.ce,t.H,"position",i,s))}function G2(t,i,s){i.fd&&(i.Tg=s,t.nr.add(i))}function oL(t,i){for(i=i.findLinksConnected();i.next();){var s=i.value;s.fd&&(s.Tg=s.points.copy(),t.nr.add(s))}}function Wv(t,i,s,l,u){t===null&&(t=[0,0,0,0]),i===null&&(i=[0,0,0,0]);var c=t[0],d=t[1],m=t[2];t=t[3];var y=i[0],O=i[1],w=i[2];return i=i[3],m===0||m===100?(c=y,d=O):(w===0||w===100)&&(y=c,O=d),180<Math.abs(y-c)&&(y>c?c+=360:y+=360),c=u(s,c,y-c,l)%360,d=u(s,d,O-d,l),m=u(s,m,w-m,l),s=u(s,t,i-t,l),"hsla("+c+", "+d+"%, "+m+"%, "+s+")"}function lL(){function t(s,l,u,c,d,m){s.position=new F(c(d,l.x,u.x-l.x,m),c(d,l.y,u.y-l.y,m))}var i=new jt;i.add("position:diagram",t),i.add("position",t),i.add("position:part",function(s,l,u,c,d,m){d<m?s.lm(c(d,l.x,u.x-l.x,m),c(d,l.y,u.y-l.y,m),!1):s.position=new F(c(d,l.x,u.x-l.x,m),c(d,l.y,u.y-l.y,m))}),i.add("location",function(s,l,u,c,d,m){d<m?s.lm(c(d,l.x,u.x-l.x,m),c(d,l.y,u.y-l.y,m),!0):s.location=new F(c(d,l.x,u.x-l.x,m),c(d,l.y,u.y-l.y,m))}),i.add("position:placeholder",function(s,l,u,c,d,m){d<m?s.lm(c(d,l.x,u.x-l.x,m),c(d,l.y,u.y-l.y,m),!1):s.position=new F(c(d,l.x,u.x-l.x,m),c(d,l.y,u.y-l.y,m))}),i.add("position:nodeCollapse",function(s,l,u,c,d,m){var y=s.actualBounds,O=u.actualBounds;u=O.x+O.width/2-y.width/2,y=O.y+O.height/2-y.height/2,d<m?s.lm(c(d,l.x,u-l.x,m),c(d,l.y,y-l.y,m),!1):s.position=new F(c(d,l.x,u-l.x,m),c(d,l.y,y-l.y,m))}),i.add("desiredSize",function(s,l,u,c,d,m){s.desiredSize=new tt(c(d,l.width,u.width-l.width,m),c(d,l.height,u.height-l.height,m))}),i.add("width",function(s,l,u,c,d,m){s.width=c(d,l,u-l,m)}),i.add("height",function(s,l,u,c,d,m){s.height=c(d,l,u-l,m)}),i.add("fill",function(s,l,u,c,d,m){s.fill=Wv(l,u,d,m,c)}),i.add("stroke",function(s,l,u,c,d,m){s.stroke=Wv(l,u,d,m,c)}),i.add("strokeWidth",function(s,l,u,c,d,m){s.strokeWidth=c(d,l,u-l,m)}),i.add("strokeDashOffset",function(s,l,u,c,d,m){s.strokeDashOffset=c(d,l,u-l,m)}),i.add("background",function(s,l,u,c,d,m){s.background=Wv(l,u,d,m,c)}),i.add("areaBackground",function(s,l,u,c,d,m){s.areaBackground=Wv(l,u,d,m,c)}),i.add("opacity",function(s,l,u,c,d,m){s.opacity=c(d,l,u-l,m)}),i.add("scale",function(s,l,u,c,d,m){s.scale=c(d,l,u-l,m)}),i.add("angle",function(s,l,u,c,d,m){s.angle=c(d,l,u-l,m)}),qv=i}S.Object.defineProperties(Cr.prototype,{animationReasons:{get:function(){return this.Zd}},isEnabled:{get:function(){return this.Jd},set:function(t){(this.Jd=t)&&this.Ei.each(function(i){i.isAnimating||i.runCount!==1/0||i.start()})}},duration:{get:function(){return this.Dg},set:function(t){1>t&&q(t,">= 1",Cr,"duration"),this.Dg=t}},isAnimating:{get:function(){return this.cc}},isTicking:{get:function(){return this.uq}},isInitial:{get:function(){return this.Gh},set:function(t){this.Gh=t}},defaultAnimation:{get:function(){return this.ce}},activeAnimations:{get:function(){return this.Ei}},initialAnimationStyle:{get:function(){return this.Ok},set:function(t){this.Ok=t}}}),Cr.prototype.stopAnimation=Cr.prototype.Cc;var qv=null,Gv=!1,Hv=new it(Cr,"Default",1),aL=new it(Cr,"AnimateLocations",2),uL=new it(Cr,"None",3);Cr.className="AnimationManager",Cr.defineAnimationEffect=function(t,i){Gv||(lL(),Gv=!0),qv.add(t,i)},Cr.Default=Hv,Cr.AnimateLocations=aL,Cr.None=uL;function tn(t){this.uu=this.Nw=this.Yd=this.H=null,this.Wk=this.cc=this.j=!1,this.bn=this.Qd=0,this.Kp=this.nt=fL,this.Vk=this.fo=!1,this.bu=1,this.$t=0,this.Gd=this.Dg=NaN,this.gw=0,this.cn=null,this.o=mo,this.vc=new jt,this.St=new jt,this.xl=new at,this.Tt=new at,this.dw=jh,t&&Object.assign(this,t)}tn.prototype.suspend=function(){this.Wk=!0},tn.prototype.advanceTo=function(t,i){i&&(this.Wk=!1),this.fo&&t>=this.Gd&&(this.Vk=!0,t-=this.Gd),this.gw=t,hL(this,!0),Gd(this.Yd),ga(this.H),Hd(this.Yd),this.H.redraw()};function Kv(t,i){if(t.St.clear(),t.Vk=!1,t.$t=0,t.Gd=NaN,0<t.xl.count&&t.xl.clear(),0<t.Tt.count&&t.Tt.clear(),i!==null)for(t=i.links;t.next();)t.value.Tg=null}n=tn.prototype,n.start=function(){if(this.vc.count===0||this.cc)return this;for(var t=this.H,i=this.vc.iterator;i.next();){var s=i.key;t===null&&(s instanceof H?t=s:s instanceof xt&&(t=s.diagram))}if(t!==null)this.H=t,this.Yd=t.animationManager;else return this;return i=this.Yd,i.isEnabled===!1?this:(this.Gd=isNaN(this.Dg)?i.duration:this.Dg,this.Kp=this.nt,i.Nk&&i.Ok===Hv&&this===i.defaultAnimation&&(this.Kp=dL,this.Gd=isNaN(this.Dg)?i.duration===600?900:i.duration:this.Dg),this.dw=t.scrollMode,this.isViewportUnconstrained&&(t.sj=wb),Gd(i),this.xl.each(function(l){l.data=null,t.add(l)}),Hd(i),this.cc=!0,this.Qd=+new Date,this.bn=this.Qd+this.Gd,yG(i,this),this)},n.Iy=function(t,i){return t.Zc()?(this.xl.add(t),this.H=i,this):this},n.add=function(t,i,s,l,u){if(i==="position"&&s.Xa(l))return this;if(this.H===null&&(t instanceof H?this.H=t:t instanceof xt&&t.diagram!==null&&(this.H=t.diagram)),t instanceof kt){if(!t.isAnimated)return this;i==="position"&&(i="position:part")}return H2(this,t,i,s,l,u),this};function H2(t,i,s,l,u,c){var d=t.vc;if(i instanceof H&&s==="position"&&(s="position:diagram"),(s==="fill"||s==="stroke"||s==="background"||s==="areaBackground")&&(Ll(l),Rb(),l=[pr.j,pr.u,pr.o,pr.F],Ll(u),Rb(),u=[pr.j,pr.u,pr.o,pr.F]),d.contains(i)){var m=d.I(i),y=m.start,O=m.end;y[s]===void 0&&(y[s]=Kd(l)),O[s]=Kd(u)}else y={},O={},y[s]=Kd(l),O[s]=Kd(u),m=y.position,i instanceof xt&&m instanceof F&&!m.w()&&i.diagram.animationManager.Zd.contains("Expand SubGraph")&&m.assign(O.position),m=new pL(y,O,c),d.add(i,m);d=y[s],d instanceof F&&!d.w()&&d.assign(t.o),c&&s.indexOf("position:")===0&&i instanceof kt?m.Ku.location=Kd(i.location):c&&(m.Ku[s]=Kd(l))}function Kd(t){return t instanceof F||t instanceof At?t.copy():t}n.fv=function(t){return this.cc?(t=this.vc.I(t),t!==null&&t.nv):!1},n.Xu=function(t){return this.cc?(t=this.vc.I(t),t!==null&&(t.start.position||t.start.location)):!1};function hL(t,i){if(!t.Wk||i){var s=t.Yd;if(t.cc!==!1){var l=+new Date,u=l>t.bn?t.Gd:l-t.Qd;i&&(u=t.gw,u<t.Gd?(t.Qd=+new Date-u,t.bn=t.Qd+t.Gd):u=t.Gd),Gd(s),cL(t,u),ga(t.H,!0),Hd(s),l>t.bn&&(t.fo&&!t.Vk?(t.Qd=+new Date,t.bn=t.Qd+t.Gd,t.Vk=!0):t.Ll(!1))}}}function cL(t,i){for(var s=t.Gd,l=t.vc.iterator,u=t.Vk;l.next();){var c=l.key;if(!(c instanceof xt&&c.diagram===null)){var d=l.value,m=u?d.end:d.start;d=u?d.start:d.end;var y=qv,O;for(O in d)O==="position"&&(d["position:placeholder"]||d["position:nodeCollapse"])||y.get(O)===null||y.get(O)(c,m[O],d[O],t.Kp,i,s,t)}}}n.stop=function(){return this.cc?(this.Ll(!0),this):this},n.Ll=function(t){if(this.uu!==null&&this.uu.io.remove(this.Nw),this.cc){var i=this.H,s=this.Yd;this.Wk=this.cc=s.Nk=!1,Gd(s);for(var l=this.vc,u=this.xl.iterator;u.next();)i.remove(u.value);for(u=this.Tt.iterator;u.next();)u.value.v();u=this.fo,l=l.iterator;for(var c=qv;l.next();){var d=l.key,m=l.value,y=u?m.end:m.start,O=u?m.start:m.end,w=m.Ku,k;for(k in O)if(c.get(k)!==null){var P=k;!m.Hu||P!=="position:nodeCollapse"&&P!=="position:placeholder"||(P="position"),c.get(P)(d,y[k],w[k]!==void 0?w[k]:m.Hu?y[k]:O[k],this.Kp,this.Gd,this.Gd,this)}m.Hu&&w.location!==void 0&&d instanceof kt&&(d.location=w.location),m.nv&&d instanceof kt&&d.$b(!1)}if(i.zs.clear(),tx(i,!1),i.Ya(),i.N(),ga(i,!0),s.defaultAnimation===this){for(k=s.nr.iterator;k.next();)u=k.value,u.Tg!==null&&(u.points=u.Tg,u.Tg=null);s.nr.clear()}ga(i,!0),this.isViewportUnconstrained&&(i.scrollMode=this.dw),Hd(s),this.$t++,!t&&this.bu>this.$t?(this.Vk=!1,this.start()):(this.cn&&this.cn(this),Kv(this,null),s.Ll(this),i.ac())}},n.Cj=function(t,i){var s=i.actualBounds,l=null;if(i instanceof Lt&&(l=i.placeholder),l!==null?(s=l.ga(Ji),l=l.padding,s.x+=l.left,s.y+=l.top,this.add(t,"position",s,t.position,!1)):this.add(t,"position",new F(s.x+s.width/2,s.y+s.height/2),t.position,!1),this.add(t,"scale",.01,t.scale,!1),t instanceof Lt)for(t=t.memberParts;t.next();)l=t.value,l instanceof ft&&this.Cj(l,i)},n.Aj=function(t,i){if(t.isVisible()){var s=null;if(i instanceof Lt&&(s=i.placeholder),s!==null){var l=s.ga(Ji);s=s.padding,l.x+=s.left,l.y+=s.top,this.add(t,"position:placeholder",t.position,l,!0)}else this.add(t,"position:nodeCollapse",t.position,i,!0);if(this.add(t,"scale",t.scale,.01,!0),l=this.vc,l.contains(t)&&(l.I(t).nv=!0),t instanceof Lt)for(t=t.memberParts;t.next();)l=t.value,l instanceof ft&&this.Aj(l,i)}},n.Ez=function(t){var i=this.St.get(t);return i===null&&(i={},this.St.add(t,i)),i},S.Object.defineProperties(tn.prototype,{duration:{get:function(){return this.Dg},set:function(t){1>t&&q(t,">= 1",tn,"duration"),this.Dg=t}},reversible:{get:function(){return this.fo},set:function(t){this.fo=t}},runCount:{get:function(){return this.bu},set:function(t){0<t?this.bu=t:D("Animation.runCount value must be a positive integer.")}},finished:{get:function(){return this.cn},set:function(t){this.cn!==t&&(this.cn=t)}},easing:{get:function(){return this.nt},set:function(t){this.nt=t}},isViewportUnconstrained:{get:function(){return this.j},set:function(t){this.j=t}},isAnimating:{get:function(){return this.cc}}}),tn.prototype.getTemporaryState=tn.prototype.Ez,tn.prototype.stop=tn.prototype.stop,tn.prototype.add=tn.prototype.add,tn.prototype.addTemporaryPart=tn.prototype.Iy;function fL(t,i,s,l){return t/=l/2,1>t?s/2*t*t+i:-s/2*(--t*(t-2)-1)+i}function dL(t,i,s,l){return t===l?i+s:s*(-Math.pow(2,-10*t/l)+1)+i}tn.className="Animation",tn.EaseLinear=function(t,i,s,l){return s*t/l+i},tn.EaseInOutQuad=fL,tn.EaseInQuad=function(t,i,s,l){return s*(t/=l)*t+i},tn.EaseOutQuad=function(t,i,s,l){return-s*(t/=l)*(t-2)+i},tn.EaseInExpo=function(t,i,s,l){return t===0?i:s*Math.pow(2,10*(t/l-1))+i},tn.EaseOutExpo=dL;function pL(t,i,s){this.start=t,this.end=i,this.Ku={},this.Hu=s,this.nv=!1}pL.className="AnimationState";function qo(t,i,s){this.xd=null,this.rf=t,this.ro=s||mL,this.tk=null,i!==void 0&&(this.tk=i,s===void 0&&(this.ro=K2))}qo.prototype.copy=function(){var t=new qo(this.rf);t.ro=this.ro;var i=this.tk;if(i!==null){var s={};i.duration!==void 0&&(s.duration=i.duration),i.finished!==void 0&&(s.finished=i.finished),i.easing!==void 0&&(s.easing=i.easing),t.tk=s}return t};function vG(t,i){t=t.tk,t!==null&&(t.duration&&(i.duration=t.duration),t.finished&&(i.finished=t.finished),t.easing&&(i.easing=t.easing))}S.Object.defineProperties(qo.prototype,{propertyName:{get:function(){return this.rf},set:function(t){this.rf=t}},animationSettings:{get:function(){return this.tk},set:function(t){this.tk=t}},startCondition:{get:function(){return this.ro},set:function(t){this.ro=t}}});var mL=new it(qo,"Default",1),K2=new it(qo,"Immediate",2),gL=new it(qo,"Bundled",3);qo.className="AnimationTrigger",qo.Default=mL,qo.Immediate=K2,qo.Bundled=gL;function en(t){Ue(this),this.H=null,this.Pa=new ct,this.xa="",this.pb=1,this.o=!1,this.j=this.Uh=this.u=this.Oi=this.Ni=this.Mi=this.Li=this.Ji=this.Ki=this.Ii=this.Qi=this.Hi=this.Pi=this.Gi=this.Fi=!0,this.Yq=[],t&&Object.assign(this,t)}n=en.prototype,n.clear=function(){for(var t=this.Pa,i=0;i<t.length;i++){var s=t.s[i];s.Ig=null,Mb(s)}t.clear(),this.Yq.length=0},n.Xe=function(t){this.H=t},n.toString=function(t){t===void 0&&(t=0);var i='Layer "'+this.name+'"';if(0>=t)return i;for(var s=0,l=0,u=0,c=0,d=0,m=this.Pa.iterator;m.next();){var y=m.value;y instanceof Lt?u++:y instanceof ft?l++:y instanceof rt?c++:y instanceof Wt?d++:s++}if(m="",0<s&&(m+=s+" Parts "),0<l&&(m+=l+" Nodes "),0<u&&(m+=u+" Groups "),0<c&&(m+=c+" Links "),0<d&&(m+=d+" Adornments "),1<t)for(t=this.Pa.iterator;t.next();)s=t.value,m+=`
    `+s.toString(),l=s.data,l!==null&&Ni(l)&&(m+=" #"+Ni(l)),s instanceof ft?m+=" "+Mt(l):s instanceof rt&&(m+=" "+Mt(s.fromNode)+" "+Mt(s.toNode));return i+" "+this.Pa.count+": "+m},n.jc=function(t,i,s){if(i===void 0&&(i=null),s===void 0&&(s=null),this.Uh===!1)return null;var l=!1;this.diagram!==null&&this.diagram.viewportBounds.ca(t)&&(l=!0);for(var u=F.alloc(),c=this.Pa.s,d=c.length;d--;){var m=c[d];if((l!==!0||Cu(m)!==!1)&&m.isVisible()&&(u.assign(t),Li(u,m.oe),m=m.jc(u,i,s),m!==null&&(i!==null&&(m=i(m)),m!==null&&(s===null||s(m)))))return F.free(u),m}return F.free(u),null},n.ji=function(t,i,s,l){if(i===void 0&&(i=null),s===void 0&&(s=null),l instanceof ct||l instanceof at||(l=new at),this.Uh===!1)return l;var u=!1;this.diagram!==null&&this.diagram.viewportBounds.ca(t)&&(u=!0);for(var c=F.alloc(),d=this.Pa.s,m=d.length;m--;){var y=d[m];if((u!==!0||Cu(y)!==!1)&&y.isVisible()){c.assign(t),Li(c,y.oe);var O=y;y.ji(c,i,s,l)&&(i!==null&&(O=i(O)),O===null||s!==null&&!s(O)||l.add(O))}}return F.free(c),l},n.Cf=function(t,i,s,l,u){if(i===void 0&&(i=null),s===void 0&&(s=null),l===void 0&&(l=!1),u instanceof ct||u instanceof at||(u=new at),this.Uh===!1)return u;var c=!1;this.diagram!==null&&this.diagram.viewportBounds.Re(t)&&(c=!0);for(var d=this.Pa.s,m=d.length;m--;){var y=d[m];if((c!==!0||Cu(y)!==!1)&&y.isVisible()){var O=y;y.Cf(t,i,s,l,u)&&(i!==null&&(O=i(O)),O===null||s!==null&&!s(O)||u.add(O))}}return u},n.Nu=function(t,i,s,l,u,c,d){if(this.Uh===!1)return u;for(var m=this.Pa.s,y=m.length;y--;){var O=m[y];if((d!==!0||Cu(O)!==!1)&&c(O)&&O.isVisible()){var w=O;O.Cf(t,i,s,l,u)&&(i!==null&&(w=i(w)),w===null||s!==null&&!s(w)||u.add(w))}}return u},n.og=function(t,i,s,l,u,c){if(s===void 0&&(s=null),l===void 0&&(l=null),u===void 0&&(u=!0),u!==!1&&u!==!0&&((u instanceof ct||u instanceof at)&&(c=u),u=!0),c instanceof ct||c instanceof at||(c=new at),this.Uh===!1)return c;var d=!1;this.diagram!==null&&this.diagram.viewportBounds.ca(t)&&(d=!0);for(var m=F.alloc(),y=F.alloc(),O=this.Pa.s,w=O.length;w--;){var k=O[w];if((d!==!0||Cu(k)!==!1)&&k.isVisible()){m.assign(t),Li(m,k.oe),y.h(t.x+i,t.y),Li(y,k.oe);var P=k;k.og(m,y,s,l,u,c)&&(s!==null&&(P=s(P)),P===null||l!==null&&!l(P)||c.add(P))}}return F.free(m),F.free(y),c},n.Fd=function(t,i){if(this.visible){var s=this.Pa.s,l=s.length;if(l!==0){t=St();for(var u=St(),c=0;c<l;c++){var d=s[c];if(d.vw=c,d instanceof rt){if(d.fd===!1)continue}else if(d instanceof Wt&&d.adornedPart!==null)continue;var m=d.actualBounds;d.isVisible()&&w5(m,i)?(d.Fd(!0),t.push(d)):(d.Fd(!1),d.adornments!==null&&0<d.adornments.count&&u.push(d))}for(i=0;i<t.length;i++)for(s=t[i],uT(s),s=s.adornments;s.next();)l=s.value,l.measure(1/0,1/0),l.arrange(),l.Fd(!0);for(i=0;i<u.length;i++)uT(u[i]);dt(t),dt(u)}}};function Wg(t,i){var s=1;return t.pb!==1&&(s=i.globalAlpha,i.globalAlpha=s*t.pb),s}n.hc=function(t,i,s){if(this.visible&&this.pb!==0&&(s===void 0&&(s=!0),s||!this.isTemporary)){s=this.Pa.s;var l=s.length;if(l!==0){if(t.isTemporary)for(var u=0;u<l;u++)s[u].Fj();u=Wg(this,t);var c=this.Yq;c.length=0;for(var d=i.scale,m=tt.alloc(),y=0;y<l;y++)this.Nj(t,s[y],i,c,d,m,!0);if(tt.free(m),t.isTemporary)for(i=0;i<l;i++)s[i].Fj();t.globalAlpha=u}}};function xG(t,i,s,l,u){if(t.visible&&t.pb!==0&&(u||!t.isTemporary)){u=t.Pa.s;var c=u.length;if(c!==0){var d=Wg(t,i),m=t.Yq;m.length=0;for(var y=s.scale,O=tt.alloc(),w=0;w<c;w++){var k=u[w];l.contains(k)&&t.Nj(i,k,s,m,y,O,!1)}tt.free(O),i.globalAlpha=d}}}n.Nj=function(t,i,s,l,u,c,d){if(d&&!Cu(i))t.Gs(i);else{if(l!==null&&i instanceof rt&&(i.isOrthogonal&&l.push(i),i.fd===!1)){t.Gs(i);return}for(d=!1,l=i.containingGroup;l!==null;)d?l.tb!==null&&c.Ex(l.tb):l.tb!==null&&(d=!0,c.assign(l.tb)),l=l.containingGroup;var m=i.actualBounds;if(l=!1,d&&i.isVisible()){if(!c.Yc(m)){t.Gs(i);return}l=!c.Re(m)}l&&(t.save(),t instanceof tr?t.ak=c.copy():(t.beginPath(),t.rect(c.x,c.y,c.width,c.height),t.clip())),m.width*u>s.Nq||m.height*u>s.Nq?i.hc(t,s):(u=i.actualBounds,c=i.naturalBounds,u.width===0||u.height===0||isNaN(u.x)||isNaN(u.y)||!i.isVisible()||(s=i.transform,i.areaBackground!==null&&(dr(i,t,i.areaBackground,!0,!0,c,u),t.fillRect(u.x,u.y,u.width,u.height)),i.areaBackground===null&&i.background===null&&(dr(i,t,"rgba(0,0,0,0.3)",!0,!1,c,u),t.fillRect(u.x,u.y,u.width,u.height)),i.background!==null&&(t.transform(s.m11,s.m12,s.m21,s.m22,s.dx,s.dy),dr(i,t,i.background,!0,!1,c,u),t.fillRect(0,0,c.width/2,c.height/2),s.vs()||(i=1/(s.m11*s.m22-s.m12*s.m21),t.transform(s.m22*i,-s.m12*i,-s.m21*i,s.m11*i,i*(s.m21*s.dy-s.m22*s.dx),i*(s.m12*s.dx-s.m11*s.dy)))))),l&&(t.restore(),t.Vc(!0))}},n.g=function(t,i,s,l,u){var c=this.diagram;c!==null&&c.cb(ke,t,this,i,s,l,u)},n.oi=function(t,i,s){var l=this.Pa;if(i.Ig=this,this===null&&Mb(i),t>=l.count)t=l.count;else if(l.M(t)===i)return-1;return l.Hb(t,i),i.Uo(s),l=this.diagram,l!==null&&(s?l.N():l.oi(i)),Jv(this,t,i),t},n.qc=function(t,i,s){if(!s&&i.layer!==this&&i.layer!==null)return i.layer.qc(t,i,s);var l=this.Pa;if(0>t||t>=l.length){if(t=l.indexOf(i),0>t)return-1}else if(l.M(t)!==i&&(t=l.indexOf(i),0>t))return-1;return i.Vo(s),l.mb(t),l=this.diagram,l!==null&&(s?l.N():l.qc(i)),i.Ig=null,Mb(i),t};function Jv(t,i,s){if(i=wG(t,i,s),s instanceof Lt&&s!==null&&isNaN(s.zOrder)){if(s.memberParts.count!==0){for(var l=-1,u=t.Pa.s,c=u.length,d=0;d<c;d++){var m=u[d];if(m===s&&(i=d,0<=l)||0>l&&m.containingGroup===s&&(l=d,0<=i))break}!(0>l)&&l<i&&(u=t.Pa,u.mb(i),u.Hb(l,s))}i=s.containingGroup,i!==null&&Jv(t,-1,i)}s.svg!==null&&s.svg.remove()}function wG(t,i,s){var l=s.zOrder;if(isNaN(l))return i;t=t.Pa;var u=t.count;if(1>=u)return i;if(0>i&&(i=t.indexOf(s)),0>i)return-1;for(var c=i-1,d=NaN;0<=c&&(d=t.M(c).zOrder,!!isNaN(d));)c--;for(var m=i+1,y=NaN;m<u&&(y=t.M(m).zOrder,!!isNaN(y));)m++;if(!isNaN(d)&&d>l)for(;;){if(c===-1||d<=l){if(c++,c===i)break;return t.mb(i),t.Hb(c,s),c}for(d=NaN;0<=--c&&(d=t.M(c).zOrder,isNaN(d)););}else if(!isNaN(y)&&y<l)for(;;){if(m===u||y>=l){if(m--,m===i)break;return t.mb(i),t.Hb(m,s),m}for(y=NaN;++m<u&&(y=t.M(m).zOrder,isNaN(y)););}return i}S.Object.defineProperties(en.prototype,{parts:{get:function(){return this.Pa.iterator}},partsBackwards:{get:function(){return this.Pa.iteratorBackwards}},diagram:{get:function(){return this.H}},name:{get:function(){return this.xa},set:function(t){var i=this.xa;if(i!==t){var s=this.diagram;if(s!==null)for(i===""&&D("Cannot rename default Layer to: "+t),s=s.layers;s.next();)s.value.name===t&&D("Layer.name is already present in this diagram: "+t);for(this.xa=t,this.g("name",i,t),t=this.Pa.iterator;t.next();)t.value.layerName=this.xa}}},opacity:{get:function(){return this.pb},set:function(t){var i=this.pb;i!==t&&((0>t||1<t)&&q(t,"0 <= value <= 1",en,"opacity"),this.pb=t,this.g("opacity",i,t),t=this.diagram,t!==null&&t.N())}},isTemporary:{get:function(){return this.o},set:function(t){var i=this.o;i!==t&&((this.o=t)&&(this.isInDocumentBounds=!1),this.g("isTemporary",i,t))}},visible:{get:function(){return this.u},set:function(t){var i=this.u;if(i!==t){for(this.u=t,this.g("visible",i,t),i=this.Pa.iterator;i.next();)i.value.$b(t);t=this.diagram,t!==null&&t.N()}}},pickable:{get:function(){return this.Uh},set:function(t){var i=this.Uh;i!==t&&(this.Uh=t,this.g("pickable",i,t))}},isInDocumentBounds:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t,this.diagram!==null&&this.diagram.Ya())}},allowCopy:{get:function(){return this.Fi},set:function(t){var i=this.Fi;i!==t&&(this.Fi=t,this.g("allowCopy",i,t))}},allowDelete:{get:function(){return this.Gi},set:function(t){var i=this.Gi;i!==t&&(this.Gi=t,this.g("allowDelete",i,t))}},allowTextEdit:{get:function(){return this.Pi},set:function(t){var i=this.Pi;i!==t&&(this.Pi=t,this.g("allowTextEdit",i,t))}},allowGroup:{get:function(){return this.Hi},set:function(t){var i=this.Hi;i!==t&&(this.Hi=t,this.g("allowGroup",i,t))}},allowUngroup:{get:function(){return this.Qi},set:function(t){var i=this.Qi;i!==t&&(this.Qi=t,this.g("allowUngroup",i,t))}},allowLink:{get:function(){return this.Ii},set:function(t){var i=this.Ii;i!==t&&(this.Ii=t,this.g("allowLink",i,t))}},allowRelink:{get:function(){return this.Ki},set:function(t){var i=this.Ki;i!==t&&(this.Ki=t,this.g("allowRelink",i,t))}},allowMove:{get:function(){return this.Ji},set:function(t){var i=this.Ji;i!==t&&(this.Ji=t,this.g("allowMove",i,t))}},allowReshape:{get:function(){return this.Li},set:function(t){var i=this.Li;i!==t&&(this.Li=t,this.g("allowReshape",i,t))}},allowResize:{get:function(){return this.Mi},set:function(t){var i=this.Mi;i!==t&&(this.Mi=t,this.g("allowResize",i,t))}},allowRotate:{get:function(){return this.Ni},set:function(t){var i=this.Ni;i!==t&&(this.Ni=t,this.g("allowRotate",i,t))}},allowSelect:{get:function(){return this.Oi},set:function(t){var i=this.Oi;i!==t&&(this.Oi=t,this.g("allowSelect",i,t))}}}),en.prototype.findObjectsNear=en.prototype.og,en.prototype.findObjectsIn=en.prototype.Cf,en.prototype.findObjectsAt=en.prototype.ji,en.prototype.findObjectAt=en.prototype.jc,en.className="Layer";function H(t,i){if(ZL||(EG(),ZL=!0),Ue(this),Jd=this,this.wb=!0,this.Ka=null,this.ya=this.Aa=0,this.ta=null,Os){var s=this,l=function(){s.removeEventListener(N.document,"DOMContentLoaded",l,!1),s.setRTL()};N.document.body!==null?this.setRTL():s.addEventListener(N.document,"DOMContentLoaded",l,!1)}this.nl=null,ox.add("Model",re);var u=this;return this.Ib=function(c){var d=u.partManager;if(c.model===d.diagram.model&&d.diagram.aa){d.diagram.aa=!1;try{var m=c.change;c.modelChange===""&&m===ke&&d.updateDataBindings(c.object,c.propertyName)}finally{d.diagram.aa=!0}}},this.Oc=function(c){u.partManager.doModelChanged(c)},this.gu=this.ju=null,OL(this),this.model=DT(),this.Wg=!0,wL(this),this.layout=new ye,this.Wg=!1,this.bk=this.dk=this.ek=this.ck=this.ui=this.aA=this.Zj=this.Ov=null,this.gk=function(){},this.preventDefault=null,this.qn=!1,this.Yf=new YL,t!==void 0&&(typeof t=="string"||N.Element&&t instanceof Element?J2(this,t):i=t),this.wb=!1,i&&this.mm(i),this}var yL,Jd;function OL(t){t.Yd=new Cr,t.Yd.Xe(t),t.Eb=17,t.Gw=!1,t.sn=!1,t.au="default",t.Wa=new ct,t.pj=new jt,t.ml="default",t.Tx(),t.Sx(),t.pb=1,t.pa=new F(NaN,NaN).freeze(),t.cu=new F(NaN,NaN),t.Ca=1,t.Op=1,t.yt=new F(NaN,NaN).freeze(),t.zt=NaN,t.Nt=1e-4,t.Lt=100,t.Bb=new Xt,t.yu=new F(NaN,NaN).freeze(),t.tt=new tt(NaN,NaN,NaN,NaN).freeze(),t.rj=new ne(0,0,0,0).freeze(),t.sj=jh,t.mu=!1,t.Yt=null,t.eu=null,t.yh=Mr,t.yk=Zi,t.Fg=Mr,t.oq=Zi,t.xt=Ji,t.At=Ji,t.Fc=!0,t.on=!1,t.De=new at,t.Eh=new jt,t.Wm=!0,t.tp=250,t.uk=-1,t.wp=new ne(16,16,16,16).freeze(),t.kg=!1,t.Ik=!1,t.en=!0,t.aq=new Tr,t.aq.diagram=t,t.Qg=new Tr,t.Qg.diagram=t,t.cj=new Tr,t.cj.diagram=t,t.zg=null,t.pf=null,t.pu=!1,AG(t),t.ai=new at,t.Gt=!0,t.tu=gf,t.pw=!1,t.vu=xb,t.ht="auto",t.Np="auto",t.zh=null,t.Fh=null,t.Bh=null,t.Qh=null,t.Oh=null,t.Nh=null,t.Pt=null,t.Lh=null,t.wt=!1,t.Mh=null,t.Ph=null,t.$h=null,t.Ch=null,t.Qt=!1,t.Xt={},t.oj=[null,null],t.Wg=!1,t.Iw=!1,t.nu=!1,t.kt=!1,t.rw=!0,t.ld=!1,t.$i=!1,t.Tw=!0,t.Ce=-2,t.Og=new jt,t.Wn=new ct,t.Gg=!1,t.Jd=!0,t.Ts=!0,t.Fi=!0,t.Gi=!0,t.Us=!1,t.Vs=!0,t.Pi=!0,t.Hi=!0,t.Qi=!0,t.Xs=!0,t.Ii=!0,t.Ki=!0,t.Ji=!0,t.Li=!0,t.Mi=!0,t.Ni=!0,t.Oi=!0,t.Ys=!0,t.$s=!0,t.qw=!1,t.Uk=!1,t.ln=!0,t.mn=!0,t.Ws=!0,t.Zs=!0,t.hu=16,t.lu=16,t.pr=!1,t.fu=!1,t.ku=0,t.iu=0,t.zb=new ne(5).freeze(),t.Hw=new at().freeze(),t.Mt=999999999,t.nw=new at().freeze(),t.Zi=!0,t.Ee=!0,t.vd=!0,t.Be=!1,t.gf=!1,t.xh=!0,t.hf=!1,t.sy=new at,t.ow=new at,t.Xh=null,t.aw=new At(8,8),t.bw=999,t.Bw=1,t.Jw=0,t.gc={scale:1,position:new F,bounds:new tt,Py:new At,bA:new At,Oz:!1},t.gc.canvasSize=t.gc.Py,t.gc.newCanvasSize=t.gc.bA,t.gc.isScroll=!1,t.Rw=new tt(NaN,NaN,NaN,NaN).freeze(),t.vo=new At(NaN,NaN).freeze(),t.Rp=new tt(NaN,NaN,NaN,NaN).freeze(),t.Ht=!1,t.Lg=new jt;var i=new ft,s=new fe;s.bind(new Be("text","",Mt)),i.add(s),t.ny=i,t.Lg.add("",i),i=new ft,s=new fe,s.stroke="brown",s.bind(new Be("text","",Mt)),i.add(s),t.Lg.add("Comment",i),i=new ft,i.selectable=!1,i.avoidable=!1,s=new It,s.figure="Ellipse",s.fill="black",s.stroke=null,s.desiredSize=new At(3,3).ja(),i.add(s),t.Lg.add("LinkLabel",i),t.Yi=new jt,i=new Lt,i.selectionObjectName="GROUPPANEL",i.type=nt.Vertical,s=new fe,s.font="bold 12pt sans-serif",s.bind(new Be("text","",Mt)),i.add(s),s=new nt(nt.Auto),s.name="GROUPPANEL";var l=new It;l.figure="Rectangle",l.fill="rgba(128,128,128,0.2)",l.stroke="black",s.add(l),l=new gn,l.padding=new ne(5,5,5,5).ja(),s.add(l),i.add(s),t.ly=i,t.Yi.add("",i),t.Kh=new jt,i=new rt,s=new It,s.isPanelMain=!0,i.add(s),s=new It,s.toArrow="Standard",s.fill="black",s.stroke=null,s.strokeWidth=0,i.add(s),t.my=i,t.Kh.add("",i),i=new rt,s=new It,s.isPanelMain=!0,s.stroke="brown",i.add(s),t.Kh.add("Comment",i),i=new Wt,i.type=nt.Auto,s=new It,s.fill=null,s.stroke="dodgerblue",s.strokeWidth=3,i.add(s),s=new gn,s.margin=new ne(1.5,1.5,1.5,1.5).ja(),i.add(s),t.Rt=i,t.vt=i,i=new Wt,i.type=nt.Link,s=new It,s.isPanelMain=!0,s.fill=null,s.stroke="dodgerblue",s.strokeWidth=3,i.add(s),t.Jt=i,t.fe=null,t.lq=!1,t.Bk=null,t.partManager=new re,t.toolManager=new Ce,t.toolManager.initializeStandardTools(),t.defaultTool=t.toolManager,t.currentTool=t.defaultTool,t.mt=null,t.Vm=new op,t.Ut=null,t.Vt=null,t.Lr=!1,t.commandHandler=xL(),t.cq=null,t.eq=of,t.Pw=!1,t.Nb=1,t.Yh=null,t.Nq=1,t.Rq=0,t.zw=[0,0,0,0,0],t.Sq=0,t.xq=1,t.tw=0,t.uw=new F,t.zy=500,t.vp=new F,t.vq=!1}H.prototype.clear=function(){this.animationManager.Cc(),this.model.clear(),ip=null,Jg="",vL(this,!1),this.Wn.clear(),xp(),this.Og.clear(),this.Xh=null,this.Ya(),this.Va(),this.N()};function vL(t,i){t.animationManager.Cc(!0),t.Hw=new at().freeze(),t.nw=new at().freeze();var s=t.skipsUndoManager,l=t.dc!==null&&t.dc!==void 0;l&&(t.skipsUndoManager=!0);var u=null;t.fe!==null&&(u=t.fe.part,u!==null&&t.remove(u));var c=[],d=t.Wa.length;if(i){for(i=0;i<d;i++)for(var m=t.Wa.s[i].parts;m.next();){var y=m.value;y!==u&&y.data===null&&c.push(y)}for(i=0;i<c.length;i++)t.remove(c[i])}for(i=0;i<d;i++)t.Wa.s[i].clear();return t.partManager.clear(),t.De.clear(),t.Eh.clear(),t.ai.clear(),t.Bk=null,t.Wn.clear(),xp(),t.Og.clear(),qt=[],u!==null&&(t.add(u),t.partManager.parts.remove(u)),l&&(t.skipsUndoManager=s),c}function xL(){return null}H.prototype.reset=function(){this.clear(),this.wb=!0,OL(this),va(this),this.Wg=!0,wL(this),this.layout=new ye,this.Wg=!1,this.model=DT(),this.model.undoManager=new je,this.wb=this.qn=!1,this.N()},H.prototype.setRTL=function(t){t=t===void 0?this.div:t,t===null&&(t=N.document.body);var i=V("div");i.dir="rtl",i.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",i.textContent="A",t.appendChild(i);var s="reverse";0<i.scrollLeft?s="default":(i.scrollLeft=1,i.scrollLeft===0&&(s="negative")),t.removeChild(i),this.au=s},H.prototype.setScrollWidth=function(t){t=t===void 0?this.div:t,t===null&&(t=N.document.body);var i=0;if(Os){var s=IL;i=yL,s===null&&(s=IL=V("p"),s.style.width="100%",s.style.height="200px",s.style.boxSizing="content-box",i=yL=V("div"),i.style.position="absolute",i.style.visibility="hidden",i.style.width="200px",i.style.height="150px",i.style.boxSizing="content-box",i.appendChild(s)),i.style.overflow="hidden",t.appendChild(i);var l=s.offsetWidth;i.style.overflow="scroll",s=s.offsetWidth,l===s&&(s=i.clientWidth),t.removeChild(i),i=l-s,i!==0||Dt||(i=11)}this.Eb=i,this.Gw=!0},H.prototype.qb=function(t){t.classType===H&&(this.autoScale=t)},H.prototype.toString=function(t){t===void 0&&(t=0);var i="";if(this.div&&this.div.id&&(i=this.div.id),i='Diagram "'+i+'"',0>=t)return i;for(var s=this.Wa.iterator;s.next();)i+=`
  `+s.value.toString(t-1);return i};function J2(t,i){if(Os){if(i!=null||D("Diagram setup requires an argument DIV."),t.Ka!==null&&D("Diagram has already completed setup."),typeof i=="string"?t.Ka=N.document.getElementById(i):i instanceof HTMLDivElement?t.Ka=i:D("No DIV or DIV id supplied: "+i),t.Ka===null&&D("Invalid DIV id; could not get element with id: "+i),t.Ka.H!==void 0&&D("Invalid div id; div already has a Diagram associated with it."),!t.nl&&N.ResizeObserver){var s=R(function(){t.ac()},250);t.nl=new N.ResizeObserver(function(){s()}),t.nl.observe(t.Ka)}N.getComputedStyle(t.Ka,null).position==="static"&&(t.Ka.style.position="relative"),i=5;var l="rgba(2"+i+"5, 255, 255, 0)";i--,t.Ka.style["-webkit-tap-highlight-color"]=l,t.Ka.innerHTML="",t.Ka.H=t,t.Ka.goDiagram=t,t.Ka.go=N.go;var u=new qr(t);if(u.style!==void 0&&(u.style.position="absolute",u.style.top="0px",u.style.left="0px",N.getComputedStyle(t.Ka,null).getPropertyValue("direction")==="rtl"&&(t.sn=!0),u.style.zIndex="2",u.style.userSelect="none",u.style.MozUserSelect="none",u.style.touchAction="none",u.style.letterSpacing="normal !important",u.style.wordSpacing="normal !important"),t.ta=u,t.ib=u.context,l=t.ib,t.Nb=t.computePixelRatio(),t.viewSize.w()||(t.Aa=t.Ka.clientWidth||1,t.ya=t.Ka.clientHeight||1),bL(t,t.Aa,t.ya),t.Ka.insertBefore(u.Oa,t.Ka.firstChild),u=new qr(null),u.width=1,u.height=1,t.jw=u,t.oy=u.context,Os){u=V("div");var c=V("div");u.style.position="absolute",u.style.overflow="auto",u.style.width=t.Aa+"px",u.style.height=t.ya+"px",u.style.zIndex="1",c.style.position="absolute",c.style.width="1px",c.style.height="1px",t.Ka.appendChild(u),u.appendChild(c),u.onscroll=kG,u.addEventListener("pointerdown",PG),u.H=t,u.uy=!0,u.vy=!0,t.ju=u,t.gu=c}t.gk=R(function(){t.Yh=null,t.N()},300),t.Ov=R(function(){tb(t)},250),t.preventDefault=function(d){return d.preventDefault(),!1},t.Zj=function(d){if(t.isEnabled){var m=mf(t,d,!0);m.bubbles=!0;var y=0,O=0;m.delta=0,d.deltaX!==void 0?(d.deltaX!==0&&(y=0<d.deltaX?1:-1),d.deltaY!==0&&(O=0<d.deltaY?1:-1),m.delta=Math.abs(d.deltaX)>Math.abs(d.deltaY)?-y:-O):d.wheelDeltaX!==void 0?(d.wheelDeltaX!==0&&(y=0<d.wheelDeltaX?-1:1),d.wheelDeltaY!==0&&(O=0<d.wheelDeltaY?-1:1),m.delta=Math.abs(d.wheelDeltaX)>Math.abs(d.wheelDeltaY)?-y:-O):d.wheelDelta!==void 0&&d.wheelDelta!==0&&(m.delta=0<d.wheelDelta?1:-1),t.doMouseWheel(),Ah(m,d)}},t.aA=function(d){t.isEnabled&&(t.Uk=!1,mf(t,d,!0),d=t.currentTool,d.cancelWaitAfter(),d.standardMouseOver())},t.ui=function(d){if(t.isEnabled){t.Uk=!0;var m=t.Xt;m[d.pointerId]===void 0&&(m[d.pointerId]=d),m=t.oj;var y=!1;if(m[0]===null||m[0].pointerId!==d.pointerId&&m[0].pointerType===d.pointerType)if(m[1]!==null&&m[1].pointerId===d.pointerId)m[1]=d,y=!0;else if(m[0]===null)m[0]=d;else if(m[1]===null)m[1]=d,y=!0;else{d.preventDefault();return}else m[0]=d;(m=d.pointerType==="touch"||d.pointerType==="pen")&&(t.pu=!1,t.vq=!0);var O=y;y=rb(t,d,!0,!1,!0,O),Gg(t,d,y),y.targetDiagram=nb(d,d.target),y.targetObject=null,O||y.clone(t.aq),O=t.uw,m=m?25:10,d.timeStamp-t.tw<t.zy&&!(Math.abs(O.x-d.screenX)>m||Math.abs(O.y-d.screenY)>m)?t.xq++:t.xq=1,y.clickCount=t.xq,t.tw=d.timeStamp,t.uw.sg(d.screenX,d.screenY),t.doMouseDown(),d.button===1?d.preventDefault():Ah(y,d)}},t.ck=function(d){if(t.isEnabled){t.Uk=!0;var m=t.oj;if(m[0]===null||m[0].pointerId!==d.pointerId&&m[0].pointerType===d.pointerType){if(m[1]!==null&&m[1].pointerId===d.pointerId){m[1]=d;return}if(m[0]===null)m[0]=d;else return}else m[0]=d;if(m[0].pointerId===d.pointerId){m=rb(t,d,!1,!1,!1,m[1]!==null);var y=N.document.elementFromPoint(d.clientX,d.clientY)||null;y!==null&&y.shadowRoot!==void 0&&y.shadowRoot!==null&&(y=y.shadowRoot.elementFromPoint(d.clientX,d.clientY));var O=t,w=d;y&&y.H&&(w=d,O=y.H),m.targetDiagram=O,Gg(t,w,m),m.targetObject=null,t.doMouseMove(),Ah(m,d)}}},t.ek=function(d){if(t.isEnabled){t.Uk=!0;var m=d.pointerType==="touch"||d.pointerType==="pen",y=t.Xt;if(m&&t.pu)delete y[d.pointerId],d.preventDefault();else if(y=t.oj,y[0]===null||y[0].pointerId!==d.pointerId&&y[0].pointerType===d.pointerType)y[1]!==null&&y[1].pointerId===d.pointerId&&(y[1]=null);else{y[0]=null,y=rb(t,d,!1,!0,!0,!1);var O=N.document.elementFromPoint(d.clientX,d.clientY)||null;O!==null&&O.shadowRoot!==void 0&&O.shadowRoot!==null&&(O=O.shadowRoot.elementFromPoint(d.clientX,d.clientY)),O!==null&&O.H instanceof H&&O.H!==t&&Gg(O.H,d,y),O===null&&(O=d.target),Gg(t,d,y),y.clickCount=t.xq,y.targetDiagram=nb(d,O),y.targetObject=null,t.doMouseUp(),Ah(y,d),m&&(t.vq=!1)}}},t.dk=function(d){if(t.isEnabled){t.Uk=!1;var m=t.Xt;m[d.pointerId]&&delete m[d.pointerId],m=t.oj,m[0]!==null&&m[0].pointerId===d.pointerId&&(m[0]=null),m[1]!==null&&m[1].pointerId===d.pointerId&&(m[1]=null),d.pointerType!=="touch"&&d.pointerType!=="pen"&&(d=t.currentTool,d.cancelWaitAfter(),d.standardMouseOver())}},t.bk=function(d){var m=t.oj;m[0]!==null&&m[0].pointerId===d.pointerId?(m[0]=null,t.vq=!1):m[1]!==null&&m[1].pointerId===d.pointerId&&(m[1]=null)},t.Up=l.Z["d"+UL[1]+UL[2]+"wI"+rp.slice(1,5)]["b"+HG.slice(1,i)](l.Z,_L,i,i),l.Vc(!0),SG(t),t.ml==="svg"&&(i=t.pj.get("svg"),t.Ka.appendChild(i.Oa),t.ib=i.context)}}H.prototype.addEventListener=function(t,i,s,l){t.addEventListener(i,s,{capture:l,passive:!1})},H.prototype.removeEventListener=function(t,i,s,l){t.removeEventListener(i,s,{capture:l})};function SG(t){var i=t.ta.Oa;i instanceof HTMLCanvasElement||(i=t.div),t.addEventListener(i,"pointerdown",t.ui,!1),t.addEventListener(i,"pointermove",t.ck,!1),t.addEventListener(i,"pointerup",t.ek,!1),t.addEventListener(i,"pointerout",t.dk,!1),t.addEventListener(i,"pointercancel",t.bk,!1),t.addEventListener(i,"pointerenter",t.bz,!1),t.addEventListener(i,"pointerleave",t.cz,!1),t.addEventListener(i,"wheel",t.Zj,!1),t.addEventListener(i,"keydown",t.Qz,!1),t.addEventListener(i,"keyup",t.Rz,!1),t.addEventListener(i,"blur",t.Ny,!1),t.addEventListener(i,"focus",t.Oy,!1),t.addEventListener(i,"selectstart",function(s){return s.preventDefault(),!1},!1),t.addEventListener(i,"contextmenu",function(s){return s.preventDefault(),!1},!1),t.addEventListener(N,"resize",t.Ov,!1)}function qg(t){30<t.Rq&&(t.Yh=1)}function tx(t,i){t.Yh!==null&&(t.Yh=null,i&&t.gk(),Qi&&Qi.nx||(t.Rq=0,t.zw=[0,0,0,0,0],t.Sq=0))}H.prototype.computePixelRatio=function(){return this.Yh!==null?this.Yh:N.devicePixelRatio||1},H.prototype.doMouseMove=function(){this.currentTool.doMouseMove()},H.prototype.doMouseDown=function(){this.currentTool.doMouseDown()},H.prototype.doMouseUp=function(){this.currentTool.doMouseUp()},H.prototype.doMouseWheel=function(){this.currentTool.doMouseWheel()},H.prototype.doKeyDown=function(){this.currentTool.doKeyDown()},H.prototype.doKeyUp=function(){this.currentTool.doKeyUp()},H.prototype.doFocus=function(){this.focus()},H.prototype.focus=function(){if(this.ta)if(this.scrollsPageOnFocus)this.ta.focus();else{var t=N.scrollX||N.pageXOffset,i=N.scrollY||N.pageYOffset;this.ta.focus(),N.scrollTo(t,i)}},H.prototype.Oy=function(){this.H.R("GainedFocus")},H.prototype.Ny=function(){this.H.R("LostFocus")};function tb(t){if(t.ta!==null){var i=t.Ka;if(i!==null&&i.clientWidth!==0&&i.clientHeight!==0){t.Gw||t.setScrollWidth();var s=t.gf?t.Eb:0,l=t.Be?t.Eb:0,u=t.Nb;t.Nb=t.computePixelRatio(),t.Nb!==u&&(t.on=!0,t.ac()),(i.clientWidth!==t.Aa+s||i.clientHeight!==t.ya+l)&&(t.Ee=!0,t.Fc=!0,i=t.layout,i!==null&&i.isViewportSized&&t.autoScale===Mr&&(t.Ik=!0,i.C()),t.ld||t.ac())}}}function wL(t){var i=new en;i.name="Background",t.zl(i),i=new en,i.name="",t.zl(i),i=new en,i.name="Foreground",t.zl(i),i=new en,i.name="Adornment",i.isTemporary=!0,i.isInDocumentBounds=!1,t.zl(i),i=new en,i.name="Tool",i.isTemporary=!0,i.isInDocumentBounds=!0,t.zl(i),i=new en,i.name="Grid",i.allowSelect=!1,i.pickable=!1,i.isTemporary=!0,i.isInDocumentBounds=!1,t.Ww(i,t.Pj("Background"))}function SL(t){var i=new nt(nt.Grid);i.name="GRID";var s=new It;return s.figure="LineH",s.stroke="lightgray",s.strokeWidth=.5,s.interval=1,i.add(s),s=new It,s.figure="LineH",s.stroke="gray",s.strokeWidth=.5,s.interval=5,i.add(s),s=new It,s.figure="LineH",s.stroke="gray",s.strokeWidth=1,s.interval=10,i.add(s),s=new It,s.figure="LineV",s.stroke="lightgray",s.strokeWidth=.5,s.interval=1,i.add(s),s=new It,s.figure="LineV",s.stroke="gray",s.strokeWidth=.5,s.interval=5,i.add(s),s=new It,s.figure="LineV",s.stroke="gray",s.strokeWidth=1,s.interval=10,i.add(s),s=new kt,s.add(i),s.layerName="Grid",s.zOrder=0,s.isInDocumentBounds=!1,s.isAnimated=!1,s.pickable=!1,s.locationObjectName="GRID",t.add(s),t.partManager.parts.remove(s),i.visible=!1,i}function kG(){this.H.fu?this.H.fu=!1:this.H.isEnabled?this.H.kx(this):ob(this.H)}function PG(t){this.H.isEnabled?(this.H.ku=t.target.scrollTop,this.H.iu=t.target.scrollLeft):ob(this.H)}H.prototype.kx=function(t){if(this.ta!==null){var i=this.ju,s=this.gu;this.pr=!0;var l=this.documentBounds,u=this.viewportBounds,c=this.rj,d=l.x-c.left,m=l.y-c.top,y=l.width+c.left+c.right,O=l.height+c.top+c.bottom,w=l.right+c.right;c=l.bottom+c.bottom;var k=u.x;l=u.y;var P=u.width,T=u.height,M=u.right,A=u.bottom;u=this.scale;var I=t.scrollLeft;if(this.sn)switch(this.au){case"negative":I=I+t.scrollWidth-t.clientWidth;break;case"reverse":I=t.scrollWidth-I-t.clientWidth}var L=I;P<y||T<O?(I=F.allocAt(this.position.x,this.position.y),this.allowHorizontalScroll&&this.iu!==L&&(I.x=L/u+d,this.iu=L),this.allowVerticalScroll&&this.ku!==t.scrollTop&&(I.y=t.scrollTop/u+m,this.ku=t.scrollTop),this.position=I,F.free(I),this.Ee=this.pr=!1):(I=F.alloc(),t.uy&&this.allowHorizontalScroll&&(d<k&&(this.position=I.h(L+d,this.position.y)),w>M&&(this.position=I.h(-(i.scrollWidth-this.Aa)+L-this.Aa/u+w,this.position.y))),t.vy&&this.allowVerticalScroll&&(m<l&&(this.position=I.h(this.position.x,t.scrollTop+m)),c>A&&(this.position=I.h(this.position.x,-(i.scrollHeight-this.ya)+t.scrollTop-this.ya/u+c))),F.free(I),this.vd=!0,this.Ee=this.pr=!1,l=this.documentBounds,u=this.viewportBounds,w=l.right,M=u.right,c=l.bottom,A=u.bottom,d=l.x,k=u.x,m=l.y,l=u.y,P>=y&&d>=k&&w<=M&&(s.style.width="1px"),T>=O&&m>=l&&c<=A&&(s.style.height="1px"))}},H.prototype.computeBounds=function(t){return t===void 0&&(t=new tt),pn(this),kL(this,t)};function kL(t,i){if(t.fixedBounds.w())return i.assign(t.fixedBounds),i.Bo(t.zb),i;for(var s=!0,l=t.Wa.s,u=l.length,c=0;c<u;c++){var d=l[c];if(d.visible&&d.isInDocumentBounds){d=d.Pa.s;for(var m=d.length,y=0;y<m;y++){var O=d[y];O.isInDocumentBounds&&O.isVisible()&&(O=O.actualBounds,O.w()&&(s?(s=!1,i.assign(O)):i.ed(O)))}}}return s&&i.h(0,0,0,0),i.Bo(t.zb),i}H.prototype.computePartsBounds=function(t,i){i===void 0&&(i=!1);var s=null;if(ot(t))for(var l=0;l<t.length;l++){var u=t[l];!i&&u instanceof rt||(u.Va(),s===null?s=u.actualBounds.copy():s.ed(u.actualBounds))}else for(t=t.iterator;t.next();)l=t.value,!i&&l instanceof rt||(l.Va(),s===null?s=l.actualBounds.copy():s.ed(l.actualBounds));return s===null?new tt(NaN,NaN,0,0):s};function Bs(t,i){if((i||t.hf)&&!t.wb&&t.ta!==null&&t.documentBounds.w()){if(t.wb=!0,i){var s=t.initialPosition;if(s.w()){t.wb=!1,t.position=s;return}s=F.alloc(),s.xi(t.documentBounds,t.initialDocumentSpot);var l=t.viewportBounds;l=tt.allocAt(0,0,l.width,l.height);var u=F.alloc();u.xi(l,t.initialViewportSpot),u.h(s.x-u.x,s.y-u.y),t.position=u,tt.free(l),F.free(u),F.free(s)}s=t.yh,i&&t.Fg!==Mr&&(s=t.Fg);var c=s!==Mr?tp(t,s):t.scale;s=t.pa.x,l=t.pa.y,u=t.Aa/c;var d=t.ya/c,m=t.yk,y=t.oq;i&&!m.sb()&&(y.sb()||y.Yb())&&(m=y.Yb()?oe:y),eb(t,t.documentBounds,u,d,m,i),i=t.scale,t.scale=c,t.wb=!1,c=t.viewportBounds,U.B(c.x,s)&&U.B(c.y,l)&&U.B(c.width,u)&&U.B(c.height,d)||t.onViewportBoundsChanged(new tt(s,l,u,d),c,i,!1)}}function tp(t,i){var s=t.Op;if(t.ta===null)return s;t.Va();var l=t.documentBounds;if(!l.w())return s;var u=l.width;l=l.height;var c=t.Aa+(t.gf?t.Eb:0),d=t.ya+(t.Be?t.Eb:0),m=c/u,y=d/l;return i===np?(i=Math.min(y,m),i>s&&(i=s),i<t.minScale&&(i=t.minScale),i>t.maxScale&&(i=t.maxScale),i):i===lx?(i=y>m?(d-t.Eb)/l:(c-t.Eb)/u,i>s&&(i=s),i<t.minScale&&(i=t.minScale),i>t.maxScale&&(i=t.maxScale),i):t.scale}H.prototype.zoomToFit=function(){var t=this.sj;this.sj=jh,this.scale=tp(this,np),t!==jh&&(Bs(this,!1),eb(this,this.documentBounds,this.Aa/this.Ca,this.ya/this.Ca,this.yk,!1)),this.sj=t},n=H.prototype,n.BA=function(t,i){i===void 0&&(i=np);var s=t.width,l=t.height;if(!(s===0||l===0||isNaN(s)&&isNaN(l))){var u=1;if(i===np||i===lx)if(isNaN(s))u=this.viewportBounds.height*this.scale/l;else if(isNaN(l))u=this.viewportBounds.width*this.scale/s;else{u=this.Aa;var c=this.ya;u=i===lx?c/l>u/s?(c-(this.Be?this.Eb:0))/l:(u-(this.gf?this.Eb:0))/s:Math.min(c/l,u/s)}this.scale=u,this.position=new F(t.x,t.y)}},n.Jy=function(t,i){this.Va();var s=this.documentBounds,l=this.viewportBounds;this.position=new F(s.x+(t.x*s.width+t.offsetX)-(i.x*l.width-i.offsetX),s.y+(t.y*s.height+t.offsetY)-(i.y*l.height-i.offsetY))},n.zz=function(t){if(t instanceof xt){this.cq=t;var i=F.alloc();this.eq=this.np(t.ga(Ji,i)),F.free(i)}else this.cq=null,this.eq=of};function eb(t,i,s,l,u,c){var d=F.allocAt(t.pa.x,t.pa.y),m=d.x,y=d.y;if(t.cq!==null){var O=F.alloc();O=t.cq.ga(Ji,O),m=O.x-t.eq.x/t.scale,y=O.y-t.eq.y/t.scale,u=_i,F.free(O)}(c||t.scrollMode===jh)&&(u.sb()&&(s>i.width&&(m=i.x+(u.x*i.width+u.offsetX)-(u.x*s-u.offsetX)),l>i.height&&(y=i.y+(u.y*i.height+u.offsetY)-(u.y*l-u.offsetY))),u=t.rj,c=s-i.width,s<i.width+u.left+u.right?(m=Math.min(m+s/2,i.right+Math.max(c,u.right)-s/2),m=Math.max(m,i.left-Math.max(c,u.left)+s/2),m-=s/2):m>i.left?m=i.left:m<i.right-s&&(m=i.right-s),s=l-i.height,l<i.height+u.top+u.bottom?(y=Math.min(y+l/2,i.bottom+Math.max(s,u.bottom)-l/2),y=Math.max(y,i.top-Math.max(s,u.top)+l/2),y-=l/2):y>i.top?y=i.top:y<i.bottom-l&&(y=i.bottom-l)),d.x=isFinite(m)?m:-t.zb.left,d.y=isFinite(y)?y:-t.zb.top,t.positionComputation!==null&&(i=t.positionComputation(t,d),d.x=i.x,d.y=i.y),sL(t.Yd,t.pa,d),t.pa.h(d.x,d.y),va(t),F.free(d)}n.Nl=function(t,i){if(i===void 0&&(i=!0),i){if(t=ib(this,t,function(s){return s.part},function(s){return s.canSelect()}),t instanceof kt)return t}else if(t=ib(this,t,function(s){return s.part}),t instanceof kt)return t;return null},n.jc=function(t,i,s){i===void 0&&(i=null),s===void 0&&(s=null),pn(this);for(var l=this.Wa.iteratorBackwards;l.next();){var u=l.value;if(u.visible&&(u=u.jc(t,i,s),u!==null))return u}return null};function ib(t,i,s,l){for(s===void 0&&(s=null),l===void 0&&(l=null),pn(t),t=t.Wa.iteratorBackwards;t.next();){var u=t.value;if(u.visible&&!u.isTemporary&&(u=u.jc(i,s,l),u!==null))return u}return null}n.lz=function(t,i,s){return i===void 0&&(i=!0),bG(this,t,function(l){return l.part},i?function(l){return l instanceof kt&&l.canSelect()}:null,s)};function bG(t,i,s,l,u){for(s===void 0&&(s=null),l===void 0&&(l=null),u instanceof ct||u instanceof at||(u=new at),pn(t),t=t.Wa.iteratorBackwards;t.next();){var c=t.value;c.visible&&!c.isTemporary&&c.ji(i,s,l,u)}return u}n.ji=function(t,i,s,l){i===void 0&&(i=null),s===void 0&&(s=null),l instanceof ct||l instanceof at||(l=new at),pn(this);for(var u=this.Wa.iteratorBackwards;u.next();){var c=u.value;c.visible&&c.ji(t,i,s,l)}return l},n.ux=function(t,i,s,l){return i===void 0&&(i=!1),s===void 0&&(s=!0),TG(this,t,function(u){return u instanceof kt&&(!s||u.canSelect())},i,l)},n.Cf=function(t,i,s,l,u){i===void 0&&(i=null),s===void 0&&(s=null),l===void 0&&(l=!1),u instanceof ct||u instanceof at||(u=new at),pn(this);for(var c=this.Wa.iteratorBackwards;c.next();){var d=c.value;d.visible&&d.Cf(t,i,s,l,u)}return u},n.Nu=function(t,i,s,l,u,c){var d=new at;pn(this);for(var m=this.Wa.iteratorBackwards;m.next();){var y=m.value;y.visible&&y.Nu(t,i,s,l,d,u,c)}return d};function TG(t,i,s,l,u){var c=null;for(s===void 0&&(s=null),l===void 0&&(l=!1),u instanceof ct||u instanceof at||(u=new at),pn(t),t=t.Wa.iteratorBackwards;t.next();){var d=t.value;d.visible&&!d.isTemporary&&d.Cf(i,c,s,l,u)}return u}n.mz=function(t,i,s,l,u){return s===void 0&&(s=!0),l===void 0&&(l=!0),CG(this,t,i,function(c){return c instanceof kt&&(!l||c.canSelect())},s,u)},n.og=function(t,i,s,l,u,c){s===void 0&&(s=null),l===void 0&&(l=null),u===void 0&&(u=!0),u!==!1&&u!==!0&&((u instanceof ct||u instanceof at)&&(c=u),u=!0),c instanceof ct||c instanceof at||(c=new at),pn(this);for(var d=this.Wa.iteratorBackwards;d.next();){var m=d.value;m.visible&&m.og(t,i,s,l,u,c)}return c};function CG(t,i,s,l,u,c){var d=null;for(l===void 0&&(l=null),u===void 0&&(u=!0),u!==!1&&u!==!0&&((u instanceof ct||u instanceof at)&&(c=u),u=!0),c instanceof ct||c instanceof at||(c=new at),pn(t),t=t.Wa.iteratorBackwards;t.next();){var m=t.value;m.visible&&!m.isTemporary&&m.og(i,s,d,l,u,c)}return c}H.prototype.acceptEvent=function(t){return mf(this,t,t instanceof MouseEvent)};function mf(t,i,s){var l=t.Qg;return t.Qg=t.cj,t.cj=l,l.diagram=t,l.event=i,s?Gg(t,i,l):(l.viewPoint=t.Qg.viewPoint,l.documentPoint=t.Qg.documentPoint),t=0,i.ctrlKey&&(t+=1),i.altKey&&(t+=2),i.shiftKey&&(t+=4),i.metaKey&&(t+=8),l.modifiers=t,l.button=i.button,i.buttons!==void 0&&(l.buttons=i.buttons),Dt&&i.button===0&&i.ctrlKey&&(l.button=2),l.down=!1,l.up=!1,l.clickCount=1,l.delta=0,l.handled=!1,l.bubbles=!1,l.timestamp=i.timeStamp,l.isMultiTouch=!1,l.targetDiagram=nb(i,i.target),l.targetObject=null,l}function nb(t,i){return i===null?null:(i=i.H)?i:((i=t.path)||typeof t.composedPath!="function"||(i=t.composedPath()),i&&i[0]&&i[0].H?i[0].H:null)}function rb(t,i,s,l,u,c){var d=t.Qg;return t.Qg=t.cj,t.cj=d,d.diagram=t,d.clickCount=1,t=d.delta=0,i.ctrlKey&&(t+=1),i.altKey&&(t+=2),i.shiftKey&&(t+=4),i.metaKey&&(t+=8),d.modifiers=t,d.event=i,d.timestamp=i.timeStamp,d.button=i.button,d.buttons=i.buttons,Dt&&i.button===0&&i.ctrlKey&&(d.button=2),d.down=s,d.up=l,d.handled=!1,d.bubbles=u,d.isMultiTouch=c,d}function Ah(t,i){return t.bubbles?!0:(i.stopPropagation!==void 0&&i.stopPropagation(),i.cancelable!==!1&&i.preventDefault(),i.cancelBubble=!0,!1)}H.prototype.Qz=function(t){var i=this.H;if(!this.H.isEnabled)return!1;var s=mf(i,t,!1);switch(s.key=String.fromCharCode(t.which),s.down=!0,t.which){case 8:s.key="Backspace";break;case 33:s.key="PageUp";break;case 34:s.key="PageDown";break;case 35:s.key="End";break;case 36:s.key="Home";break;case 37:s.key="Left";break;case 38:s.key="Up";break;case 39:s.key="Right";break;case 40:s.key="Down";break;case 45:s.key="Insert";break;case 46:s.key="Del";break;case 48:s.key="0";break;case 187:case 61:case 107:s.key="Add";break;case 189:case 173:case 109:s.key="Subtract";break;case 27:s.key="Esc"}return i.doKeyDown(),Ah(s,t)},H.prototype.Rz=function(t){var i=this.H;if(!i.isEnabled)return!1;var s=mf(i,t,!1);switch(s.key=String.fromCharCode(t.which),s.up=!0,t.which){case 8:s.key="Backspace";break;case 33:s.key="PageUp";break;case 34:s.key="PageDown";break;case 35:s.key="End";break;case 36:s.key="Home";break;case 37:s.key="Left";break;case 38:s.key="Up";break;case 39:s.key="Right";break;case 40:s.key="Down";break;case 45:s.key="Insert";break;case 46:s.key="Del"}return i.doKeyUp(),Ah(s,t)},H.prototype.bz=function(t){var i=this.H;if(!i.isEnabled)return!1;var s=mf(i,t,!0);return i.mouseEnter!==null&&i.mouseEnter(s),i.currentTool.standardMouseOver(),Ah(s,t)},H.prototype.cz=function(t){var i=this.H;if(!i.isEnabled)return!1;var s=mf(i,t,!0);return i.mouseLeave!==null&&i.mouseLeave(s),Ah(s,t)},H.prototype.getMouse=function(t){var i=this.ta;if(i===null)return new F(0,0);var s=i.getBoundingClientRect();return i=t.clientX-this.Aa/s.width*s.left,t=t.clientY-this.ya/s.height*s.top,this.Bb!==null?Li(new F(i,t),this.Bb):new F(i,t)};function Gg(t,i,s){var l=t.ta,u=t.Aa,c=t.ya,d=0,m=0;l!==null&&(l=l.getBoundingClientRect(),d=i.clientX-u/l.width*l.left,m=i.clientY-c/l.height*l.top),s.viewPoint.h(d,m),t.Bb!==null?(i=F.allocAt(d,m),t.Bb.Cd(i),s.documentPoint.assign(i),F.free(i)):s.documentPoint.h(d,m)}function PL(t,i,s){if(t.oj[0]!==null){i=t.oj[i];var l=t.ta;l!==null&&(l=l.getBoundingClientRect(),s.h(i.clientX-t.Aa/l.width*l.left,i.clientY-t.ya/l.height*l.top))}}H.prototype.Ya=function(){this.Zi||(this.Zi=!0,this.ac(!1))};function MG(t){t.ld||pn(t),t.Va()}H.prototype.redraw=function(){this.wb||this.ld||(this.N(),this.bd())},n=H.prototype,n.Pz=function(){return this.kg},n.Xy=function(t){t===void 0&&(t=null);var i=this.animationManager,s=i.isEnabled;i.Cc(),i.isEnabled=!1,ga(this),this.hf=!1,this.cu=new F(NaN,NaN),i.isEnabled=s,this.ld=!0;var l=this;t!==null&&$(function(){l.ld=!1,ma(i,"Model"),t(l)},1)},n.ac=function(t){if(t===void 0&&(t=!1),this.kg!==!0&&!(this.wb||t===!1&&this.ld)){this.kg=!0;var i=this;N.requestAnimationFrame(function(){i.kg&&i.bd()})}},n.bd=function(){(!this.en||this.kg)&&(this.en&&(this.en=!1),ga(this))};function ex(t,i,s){!t.Ee||t.wb||t.animationManager.defaultAnimation.isAnimating||ob(t)||(i&&pn(t),s&&Bs(t,!1))}function ga(t,i){if(!t.ld&&(t.kg=!1,t.Ka!==null||t.vo.w())){t.ld=!0;var s=t.animationManager,l=t.Wn;if(!s.isAnimating&&l.length!==0){for(var u=l.s,c=u.length,d=0;d<c;d++){var m=u[d];Qr(m,!1),m.v()}l.clear()}l=t.ow,0<l.count&&(l.each(function(y){y.Nv()}),l.clear()),u=l=!1,s.defaultAnimation.isAnimating&&(u=!0,l=t.skipsUndoManager,t.skipsUndoManager=!0),s.Ab||tb(t),ex(t,!1,!0),t.fe!==null&&(t.fe.visible&&!t.lq&&(Oa(t),t.lq=!0),!t.fe.visible&&t.lq&&(t.lq=!1)),pn(t),c=!1,(!t.hf||t.xh)&&(t.hf?mb(t,!t.Ik):(t.Ea("Initial Layout"),s.isEnabled===!1&&s.Cc(),mb(t,!1)),c=!0),t.Ik=!1,pn(t),t.nu||MG(t),ex(t,!0,!1),d=!1,c?(s=tt.alloc(),s.assign(t.viewportBounds),t.hf||(d=t.hf=!0,t.skipsUndoManager||(t.undoManager.isPendingClear=!0),t.undoManager.isPendingUnmodified=!0,QG(t)),t.R("LayoutCompleted"),ex(t,!0,!1),tt.free(s)):s.Nk&&s.Qw&&(t.Fg!==Mr?t.scale=tp(t,t.Fg):t.yh!==Mr?t.scale=tp(t,t.yh):(s=t.initialScale,isFinite(s)&&0<s&&(t.scale=s)),Bs(t,!0)),c&&d&&t.eb("Initial Layout"),pn(t),i||t.hc(t.ib),u&&(t.skipsUndoManager=l),t.ld=!1}}function QG(t){if(t.Fg!==Mr)t.scale=tp(t,t.Fg);else if(t.yh!==Mr)t.scale=tp(t,t.yh);else{var i=t.initialScale;isFinite(i)&&0<i&&(t.scale=i)}Bs(t,!0),i=t.Wa.s,t.Fd(i,i.length,t,t.viewportBounds),t.R("InitialLayoutCompleted"),t.cu.assign(t.pa),Oa(t)}function pn(t){if(t.De.count!==0&&(t.ld||!t.animationManager.isTicking)){for(var i=0;23>i;i++){var s=t.De.iterator;if(s===null||t.De.count===0)break;t.De=new at,t.Nv(s,t.De)}t.nodes.each(function(l){l instanceof Lt&&l.U&65536&&(l.U=l.U^65536)})}}n.Nv=function(t,i){for(t.reset();t.next();){var s=t.value;!s.Zc()||s instanceof Lt||(s.si()?(s.measure(1/0,1/0),s.arrange()):i.add(s))}for(t.reset();t.next();)s=t.value,s instanceof Lt&&s.isVisible()&&sb(this,s);for(t.reset();t.next();)s=t.value,s instanceof rt&&s.isVisible()&&(s.si()?(s.measure(1/0,1/0),s.arrange()):i.add(s));for(t.reset();t.next();)s=t.value,s instanceof Wt&&s.isVisible()&&(s.si()?(s.measure(1/0,1/0),s.arrange()):i.add(s))};function sb(t,i){for(var s=St(),l=St(),u=i.memberParts;u.next();){var c=u.value;c.isVisible()&&(c instanceof Lt?(xa(c)||xs(c)||Tu(c))&&sb(t,c):c instanceof rt?c.fromNode===i||c.toNode===i?l.push(c):s.push(c):(c.measure(1/0,1/0),c.arrange()))}for(t=s.length,u=0;u<t;u++)c=s[u],c.measure(1/0,1/0),c.arrange();for(dt(s),i.measure(1/0,1/0),i.arrange(),t=l.length,i=0;i<t;i++)s=l[i],s.measure(1/0,1/0),s.arrange();dt(l)}n.Fd=function(t,i,s,l){if(this.vd||this.animationManager.isAnimating)for(var u=0;u<i;u++)t[u].Fd(s,l)},n.hc=function(t){if(this.Ka!==null){if(this.ta===null&&D("No canvas specified"),this.ml==="svg"){if(this.Ka!==null){var i=this.animationManager;if(!i.Ab&&(!i.isAnimating||i.isTicking)){ep(this);var s=this.Aa,l=this.ya;if(t.Gv.resize(s,l,s,l),s=this.Wa.s,l=s.length,this.Fd(s,l,this,this.viewportBounds),this.Fc||i.isAnimating){i=this.pa;var u=this.Ca,c=Math.round(i.x*u)/u,d=Math.round(i.y*u)/u,m=this.Bb;for(m.reset(),u!==1&&m.scale(u),i.x===0&&i.y===0||m.translate(-c,-d),t.ti=null,i$(t,m.m11,m.m12,m.m21,m.m22,m.dx,m.dy),this.pb!==1&&(t.globalAlpha=this.pb),nx(this,t),i=this.Nb,this.ta.context.setTransform(i,0,0,i,0,0),this.ta.context.clearRect(0,0,this.Aa,this.ya),i=0;i<l;i++)s[i].hc(t,this);t=!1,this.Yf?sp(this.Yf,this)&&(t=this.Up()):t=!0,t&&(Xt.prototype.Cd=Xt.prototype.Eu),this.Fc=this.vd=!1}}}}else t:if(c=this.animationManager,!c.Ab&&(!c.isAnimating||c.isTicking)&&(s=new Date,ep(this),this.Ka.style.opacity!=="0")){if(l=t!==this.ib,i=this.Wa.s,u=i.length,this.Fd(i,u,this,this.viewportBounds),l)t.Vc(!0),this.vd=!0;else if(!this.Fc&&!c.isAnimating)break t;c=this.Bb,c.reset(),d=this.Nb,m=this.pa;var y=this.Ca,O=Math.round(m.x*y)/y,w=Math.round(m.y*y)/y;for(y!==1&&c.scale(y),m.x===0&&m.y===0||c.translate(-O,-w),t.setTransform(d,0,0,d,0,0),t.clearRect(0,0,this.Aa,this.ya),this.pb!==1&&(t.globalAlpha=this.pb),nx(this,t),m=0;m<u;m++)t.setTransform(d,0,0,d,0,0),t.transform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy),t.yc(),i[m].hc(t,this);if(i=!1,this.Yf?sp(this.Yf,this)&&(i=this.Up()):i=!0,i&&(Xt.prototype.Cd=Xt.prototype.Eu),l?(this.ib.Vc(!0),this.vd=!0):this.Fc=this.vd=!1,i=+new Date-+s,l=Qi&&Qi.nx,s=this.zw,l||this.Yh===null){for(s[this.Sq]=i,this.Sq=(this.Sq+1)%s.length,u=i=0;u<s.length;u++)i+=s[u];this.Rq=i/s.length}if(this.pb!==1&&(t.globalAlpha=1),l)for(t.setTransform(1,0,0,1,0,0),l=0;l<s.length;l++)t.fillText(s[l].toString(),20,150+ +(20*l))}}};function ix(t,i,s,l,u,c,d,m,y,O){if(t.Ka!==null){t.ta===null&&D("No canvas specified"),d===void 0&&(d=null),m===void 0&&(m=null),y===void 0&&(y=!1),O===void 0&&(O=!1),ep(t),t.ib.Vc(!0),t.vd=!0,t.$i=!0;var w=t.Ca;t.Ca=u;var k=t.Wa.s,P=k.length;try{var T=new tt(c.x,c.y,l.width/u,l.height/u),M=T.copy();M.Bo(s),Oa(t,M),pn(t),t.Fd(k,P,t,T),i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,l.width,l.height),m!==null&&m!==""&&(i.fillStyle=m,i.ox(0,0,l.width,l.height));var A=t.Nb;i.scale(A,A);var I=Xt.alloc();I.reset(),I.translate(s.left,s.top),I.scale(u),c.x===0&&c.y===0||I.translate(-c.x,-c.y),i.setTransform(I.m11,I.m12,I.m21,I.m22,I.dx,I.dy),i.yc(),i instanceof tr&&i$(i,I.m11,I.m12,I.m21,I.m22,I.dx,I.dy),Xt.free(I),nx(t,i),i.globalAlpha=t.pb;var L=t.Pj("Grid");if(d){var z=new at,X=d.iterator;for(X.reset();X.next();){var _=X.value;_ instanceof kt&&(O||_.layer!==L)&&(_.Fj(),z.add(_))}for(O=0;O<P;O++)xG(k[O],i,t,z,y);z.each(function(G){return G.Fj()})}else for(z=0;z<P;z++){var Y=k[z];Y===L?O&&Y.hc(i,t,!0):Y.hc(i,t,y)}t.$i=!1,t.Yf&&sp(t.Yf,t)&&t.Up()}finally{t.Ca=w,t.ib.Vc(!0),t.vd=!0,t.Fd(k,P,t,t.viewportBounds),Oa(t),t.ib instanceof tr&&(t.ib.Mj.PA(),t.redraw())}}}n.Gf=function(t){return this.Rg[t]},n.Xx=function(t,i){t==="minDrawingLength"&&(this.Nq=i),this.Rg[t]=i,this.redraw()},n.Tx=function(){this.Rg=new le,this.Rg.drawShadows=!0,this.Rg.textGreeking=!0,this.Rg.viewportOptimizations=!(Dt||vt),this.Rg.temporaryPixelRatio=!0,this.Rg.pictureRatioOptimization=!0,this.Nq=this.Rg.minDrawingLength=1};function nx(t,i){t=t.Rg,t!==null&&(t.imageSmoothingEnabled!==void 0&&i.Wx(!!t.imageSmoothingEnabled),t=t.defaultFont,t!=null&&(i.font=t))}n.Pl=function(t){return this.nn[t]},n.sA=function(t,i){this.nn[t]=i},n.Sx=function(){this.nn=new le,this.nn.extraTouchArea=10,this.nn.extraTouchThreshold=10,this.nn.hasGestureZoom=!0},n.set=function(t){return Object.assign(this,t),this},n.Du=function(t){return this.mm(t)},n.mm=function(t){return Hg(this,t),this};function Hg(t,i){var s=t instanceof nt,l=t instanceof H,u;for(u in i){u===""&&D("Setting properties requires non-empty property names");var c=t,d=u;if(s||l){var m=u.indexOf(".");if(0<m){var y=u.substring(0,m);s?c=t.fb(y):(c=t[y],c==null&&(c=t.toolManager[y])),J(c)?d=u.substr(m+1):D("Unable to find object named: "+y+" in "+t.toString()+" when trying to set property: "+u)}}if(d[0]!=="_"&&!Et(c,d))if(l&&d==="ModelChanged"){t.Yw(i[d]);continue}else if(l&&d==="Changed"){t.Pe(i[d]);continue}else if(l&&Et(t.toolManager,d))c=t.toolManager;else if(l&&jL(t,d)){t.Bj(d,i[d]);continue}else if(t instanceof yt&&d==="Changed"){t.Pe(i[d]);continue}else D('Trying to set undefined property "'+d+'" on object: '+c.toString());c[d]=i[u],d[0]==="_"&&c instanceof xt&&c.Vw(d)}}n.bx=function(){if(this.Eh.count!==0&&!(1<this.undoManager.transactionLevel)){for(;0<this.Eh.count;){var t=this.Eh;for(this.Eh=new jt,t=t.iterator;t.next();){var i=t.key;i.Wo(t.value),i.rc()}}this.N()}},n.N=function(t){if(t===void 0)this.Fc=!0,this.ac();else{var i=this.viewportBounds;t.w()&&i.Yc(t)&&(this.Fc=!0,this.ac())}this.R("InvalidateDraw")},H.prototype.invalidateViewport=function(t,i){if(this.Fc!==!0)if(this.Fc=!0,this.ml==="svg")this.bd();else{var s=this.Gf("temporaryPixelRatio")===!0;if(this.Gf("viewportOptimizations")===!0&&this.scrollMode!==wb&&this.rj.hi(0,0,0,0)&&i.width===t.width&&i.height===t.height){var l=this.scale,u=Math.max(t.y,i.y),c=Math.min(t.y+t.height,i.y+i.height);if(0<Math.max(0,Math.min(t.x+t.width,i.x+i.width)-Math.max(t.x,i.x))*l&&0<Math.max(0,c-u)*l){if(!(this.ld||(this.kg=!1,this.Ka===null||(this.ld=!0,this.documentBounds.w()||(l=tt.alloc(),pb(this,this.computeBounds(l)),tt.free(l)),l=this.ta,l===null||l instanceof vo)))){var d=this.Nb;u=this.Aa*d;var m=this.ya*d,y=this.scale*d;c=Math.round(Math.round(i.x*y)-Math.round(t.x*y)),i=Math.round(Math.round(i.y*y)-Math.round(t.y*y)),y=this.jw,t=this.oy,y.width!==u&&(y.width=u),y.height!==m&&(y.height=m),t.clearRect(0,0,u,m),y=190*d;var O=70*d,w=Math.max(c,0),k=Math.max(i,0),P=Math.floor(u-w),T=Math.floor(m-k);t.drawImage(l.Oa,w,k,P,T,0,0,P,T),sp(this.Yf,this)&&t.clearRect(0,0,y,O),l=St(),t=St(),T=Math.abs(c),P=Math.abs(i);var M=w===0?0:u-T;w=F.allocAt(M,0),T=F.allocAt(T+M,m),t.push(new tt(Math.min(w.x,T.x),Math.min(w.y,T.y),Math.abs(w.x-T.x),Math.abs(w.y-T.y)));var A=this.Bb;if(A.reset(),A.scale(d,d),this.Ca!==1&&A.scale(this.Ca),d=this.pa,(d.x!==0||d.y!==0)&&isFinite(d.x)&&isFinite(d.y)&&A.translate(-d.x,-d.y),Li(w,A),Li(T,A),l.push(new tt(Math.min(w.x,T.x),Math.min(w.y,T.y),Math.abs(w.x-T.x),Math.abs(w.y-T.y))),M=k===0?0:m-P,w.h(0,M),T.h(u,P+M),t.push(new tt(Math.min(w.x,T.x),Math.min(w.y,T.y),Math.abs(w.x-T.x),Math.abs(w.y-T.y))),Li(w,A),Li(T,A),l.push(new tt(Math.min(w.x,T.x),Math.min(w.y,T.y),Math.abs(w.x-T.x),Math.abs(w.y-T.y))),sp(this.Yf,this)&&(u=0<c?0:-c,m=0<i?0:-i,w.h(u,m),T.h(y+u,O+m),t.push(new tt(Math.min(w.x,T.x),Math.min(w.y,T.y),Math.abs(w.x-T.x),Math.abs(w.y-T.y))),Li(w,A),Li(T,A),l.push(new tt(Math.min(w.x,T.x),Math.min(w.y,T.y),Math.abs(w.x-T.x),Math.abs(w.y-T.y)))),F.free(w),F.free(T),ex(this,!1,!0),this.Ka===null&&D("No div specified"),this.ta===null&&D("No canvas specified"),!this.animationManager.Ab&&(u=this.ib,this.Fc)){for(ep(this),m=this.Nb,u.setTransform(1,0,0,1,0,0),u.clearRect(0,0,this.Aa*m,this.ya*m),u.drawImage(this.jw.Oa,0<c?0:Math.round(-c),0<i?0:Math.round(-i)),c=this.pa,d=this.Ca,y=Math.round(c.x*d)/d,O=Math.round(c.y*d)/d,i=this.Bb,i.reset(),d!==1&&i.scale(d),c.x===0&&c.y===0||i.translate(-y,-O),u.save(),u.beginPath(),c=t.length,d=0;d<c;d++)y=t[d],y.width!==0&&y.height!==0&&u.rect(Math.floor(y.x),Math.floor(y.y),Math.ceil(y.width),Math.ceil(y.height));for(u.clip(),u.setTransform(m,0,0,m,0,0),u.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),u.yc(),i=this.Wa.s,c=i.length,this.Fd(i,c,this,this.viewportBounds),nx(this,u),u.globalAlpha=this.pb,m=0;m<c;m++)if(d=i[m],y=l,d.visible&&d.pb!==0){O=Wg(d,u),k=d.Yq,k.length=0,w=this.scale,P=tt.alloc(),T=d.Pa.s,A=T.length,M=y.length;for(var I=0;I<A;I++){var L=T[I],z=zh(L,L.actualBounds);t:{for(var X=2/w,_=4/w,Y=0;Y<M;Y++){var G=y[Y];if(G.width!==0&&G.height!==0&&z.Vu(G.x-X,G.y-X,G.width+_,G.height+_)){z=!0;break t}}z=!1}z&&d.Nj(u,L,this,k,w,P,!0)}tt.free(P),u.globalAlpha=O}u.restore(),u.Vc(!0),this.Yf&&sp(this.Yf,this)&&this.Up(),this.Fc=this.vd=!1,this.gk()}dt(l),dt(t),this.ld=!1}}else this.bd();s&&(qg(this),this.bd(),tx(this,!0))}else s?(qg(this),this.bd(),tx(this,!0)):this.bd()}};function ep(t){t.on!==!1&&(t.on=!1,bL(t,t.Aa,t.ya))}function bL(t,i,s){va(t);var l=t.Nb;t.ta.resize(i*l,s*l,i,s)&&(t.Fc=!0,t.ib.Vc(!0))}function ob(t){var i=t.ta;if(i===null||t.vo.w())return!0;var s=t.Aa,l=t.ya,u=t.Ka,c=!1,d=t.gf?t.Eb:0,m=t.Be?t.Eb:0,y=u.clientWidth||s+d,O=u.clientHeight||l+m,w=t.viewportBounds;u=w.x;var k=w.y,P=w.width,T=w.height;if((y!==s+d||O!==l+m)&&(t.gf=!1,t.Be=!1,m=d=0,t.Aa=y,t.ya=O,c=t.on=!0,va(t)),!t.hf||!t.viewportBounds.w())return!0;var M=t.ju,A=t.gu;if(t.Ee=!1,!(c||t.gf||t.Be||t.ln||t.mn))return!0;var I=t.documentBounds,L=0,z=0,X=0,_=0,Y=w.width,G=w.height,ut=t.rj;t.contentAlignment.sb()?(I.width>Y&&(L=ut.left,z=ut.right),I.height>G&&(X=ut.top,_=ut.bottom)):(L=ut.left,z=ut.right,X=ut.top,_=ut.bottom);var gt=I.width+L+z,mt=I.height+X+_;ut=t.scale;var st=gt>y/ut,et=mt>O/ut;if(!(c||t.gf||t.Be||st||et))return!0;L=I.x-L,y=w.x,z=I.right+z,O=w.right+d,X=I.y-X;var Rt=w.y;I=I.bottom+_,w=w.bottom+m;var Qt="1px";if(_="1px",t.scrollMode===jh&&(st||et)&&(st&&t.hasHorizontalScrollbar&&t.allowHorizontalScroll&&(st=1,L+1<y&&(st=Math.max((y-L)*ut+t.Aa,st)),z>O+1&&(st=Math.max((z-O)*ut+t.Aa,st)),Y+d+1<gt&&(st=Math.max((gt-Y)*ut+t.Aa,st)),Qt=st.toString()+"px"),et&&t.hasVerticalScrollbar&&t.allowVerticalScroll&&(st=1,X+1<Rt&&(st=Math.max((Rt-X)*ut+t.ya,st)),I>w+1&&(st=Math.max((I-w)*ut+t.ya,st)),G+m+1<mt&&(st=Math.max((mt-G)*ut+t.ya,st)),_=st.toString()+"px")),st=Qt!=="1px",et=_!=="1px",st&&et||!st&&!et||(et&&(O-=t.Eb),st&&(w-=t.Eb),gt<Y+d||!t.hasHorizontalScrollbar||!t.allowHorizontalScroll||(d=1,L+1<y&&(d=Math.max((y-L)*ut+t.Aa,d)),z>O+1&&(d=Math.max((z-O)*ut+t.Aa,d)),Y+1<gt&&(d=Math.max((gt-Y)*ut+t.Aa,d)),Qt=d.toString()+"px"),st=Qt!=="1px",d=t.ya,st!==t.Be&&(d=st?t.ya-t.Eb:t.ya+t.Eb),mt<G+m||!t.hasVerticalScrollbar||!t.allowVerticalScroll||(m=1,X+1<Rt&&(m=Math.max((Rt-X)*ut+d,m)),I>w+1&&(m=Math.max((I-w)*ut+d,m)),G+1<mt&&(m=Math.max((mt-G)*ut+d,m)),_=m.toString()+"px"),et=_!=="1px"),t.pr&&st===t.Be&&et===t.gf)return s===t.Aa&&l===t.ya||t.bd(),!1;if(st!==t.Be&&(Qt==="1px"?t.ya=t.ya+t.Eb:t.ya=Math.max(t.ya-t.Eb,1),c=!0),t.Be=st,A.style.width=Qt,et!==t.gf&&(_==="1px"?t.Aa=t.Aa+t.Eb:t.Aa=Math.max(t.Aa-t.Eb,1),c=!0,t.sn&&(m=F.alloc(),et?(i.style.left=t.Eb+"px",t.position=m.h(t.pa.x+t.Eb/t.scale,t.pa.y)):(i.style.left="0px",t.position=m.h(t.pa.x-t.Eb/t.scale,t.pa.y)),F.free(m))),c&&va(t),t.gf=et,A.style.height=_,t.fu=!0,c&&(t.on=!0),i=M.scrollLeft,t.hasHorizontalScrollbar&&t.allowHorizontalScroll&&(Y+1<gt?i=(t.position.x-L)*ut:L+1<y?i=M.scrollWidth-M.clientWidth:z>O+1&&(i=t.position.x*ut)),t.sn)switch(t.au){case"negative":i=-(M.scrollWidth-i-M.clientWidth);break;case"reverse":i=M.scrollWidth-i-M.clientWidth}return M.scrollLeft=i,t.hasVerticalScrollbar&&t.allowVerticalScroll&&(G+1<mt?M.scrollTop=(t.position.y-X)*ut:X+1<Rt?M.scrollTop=M.scrollHeight-M.clientHeight:I>w+1&&(M.scrollTop=t.position.y*ut)),y=t.Aa,O=t.ya,M.style.width=y+(t.gf?t.Eb:0)+"px",M.style.height=O+(t.Be?t.Eb:0)+"px",s!==y||l!==O||t.animationManager.Ab?(s=tt.allocAt(u,k,P,T),t.onViewportBoundsChanged(s,t.viewportBounds,ut,c),tt.free(s),!1):!0}n=H.prototype,n.add=function(t){var i=t.diagram;if(i!==this&&(i!==null&&D("Cannot add part "+t.toString()+" to "+this.toString()+". It is already a part of "+i.toString()),i=this.Pj(t.layerName),i===null&&(i=this.Pj("")),i===null&&D('Cannot add a Part when unable find a Layer named "'+t.layerName+'" and there is no default Layer'),t.layer!==i)){var s=i.oi(99999999,t,t.diagram===this);0<=s&&this.cb(oi,"parts",i,null,t,null,s),i.isTemporary||this.Ya(),t.C(1),s=t.layerChanged,s!==null&&s(t,null,i)}},n.oi=function(t){this.partManager.oi(t);var i=this;Ih(t,function(s){QL(i,s)}),(t instanceof Wt||t instanceof Lt&&t.placeholder!==null)&&t.v(),t.data!==null&&Ih(t,function(s){RT(i.partManager,s)}),xs(t)!==!0&&Tu(t)!==!0||this.De.add(t),Z$(t,!0,this),U$(t)?(t.actualBounds.w()&&this.N(zh(t,t.actualBounds)),this.Ya()):t.isVisible()&&t.actualBounds.w()&&this.N(zh(t,t.actualBounds)),this.ac()},n.qc=function(t){t.Dj(),this.partManager.qc(t);var i=this;t.data!==null&&Ih(t,function(s){LT(i.partManager,s,i)}),this.De.remove(t),U$(t)?(t.actualBounds.w()&&this.N(zh(t,t.actualBounds)),this.Ya()):t.isVisible()&&t.actualBounds.w()&&this.N(zh(t,t.actualBounds)),this.ac()},n.remove=function(t){lb(this,t,!0)};function lb(t,i,s){var l=i.layer;l!==null&&l.diagram===t&&(i.isSelected=!1,i.isHighlighted=!1,i.C(2),s&&i.Kj(),s=l.qc(-1,i,!1),0<=s&&t.cb(ci,"parts",l,i,null,s,null),t=i.layerChanged,t!==null&&t(i,l,null))}n.Hs=function(t,i){if(i===void 0&&(i=!1),ot(t))for(var s=t.length,l=0;l<s;l++){var u=t[l];i&&!u.canDelete()||this.remove(u)}else for(s=new at,s.addAll(t),t=s.iterator;t.next();)s=t.value,i&&!s.canDelete()||this.remove(s)},n.Jj=function(t,i,s){return s===void 0&&(s=!1),this.partManager.Jj(t,i,s)},H.prototype.moveParts=function(t,i,s,l){if(s===void 0&&(s=!1),l===void 0&&(l=ub(this)),this.toolManager!==null){var u=new jt;if(t!==null)if(ot(t))for(var c=0;c<t.length;c++)ya(this,u,t[c],s,l);else for(t=t.iterator;t.next();)ya(this,u,t.value,s,l);else{for(t=this.parts;t.next();)ya(this,u,t.value,s,l);for(t=this.nodes;t.next();)ya(this,u,t.value,s,l);for(t=this.links;t.next();)ya(this,u,t.value,s,l)}ab(this,u,i,l,s)}};function ya(t,i,s,l,u,c){if(!i.contains(s)&&(c===void 0&&(c=!1),!l||c||s.canMove()||s.canCopy()))if(u===void 0&&(u=ub(t)),s instanceof ft){if(i.add(s,t.Pd(u,s,s.location)),s instanceof Lt&&(s.placeholder!==null||u.dragsMembers))for(c=s.memberParts;c.next();)ya(t,i,c.value,l,u,u.groupsAlwaysMove);for(c=s.linksConnected;c.next();){var d=c.value;if(!i.contains(d)){var m=d.fromNode,y=d.toNode;m!==null&&i.contains(m)&&y!==null&&i.contains(y)&&ya(t,i,d,l,u)}}if(u.dragsTree)for(s=s.Ou();s.next();)ya(t,i,s.value,l,u)}else if(s instanceof rt)for(i.add(s,t.Pd(u,s)),s=s.labelNodes;s.next();)ya(t,i,s.value,l,u);else s instanceof Wt||i.add(s,t.Pd(u,s,s.location))}function ab(t,i,s,l,u){if(i!==null&&i.count!==0){var c=F.alloc(),d=F.alloc();d.assign(s),isNaN(d.x)&&(d.x=0),isNaN(d.y)&&(d.y=0),(s=t.Lr)||rx(t,i);for(var m=St(),y=St(),O=i.iterator,w=F.alloc();O.next();){var k=O.key,P=O.value;if(k.Zc()){var T=TL(t,k,i);T!==null?m.push(new WL(k,P,T)):(!u||k.canMove())&&(T=P.point,c.assign(T),t.computeMove(k,c.add(d),l,w),k.location=w,P.shifted===void 0&&(P.shifted=new F),P.shifted.assign(w.re(T)))}else O.key instanceof rt&&y.push(O.sa)}for(F.free(w),u=m.length,O=0;O<u;O++)k=m[O],c.assign(k.info.point),k.Su.shifted===void 0&&(k.Su.shifted=new F),k.node.location=c.add(k.Su.shifted);for(u=F.alloc(),O=F.alloc(),k=y.length,P=0;P<k;P++){var M=y[P];if(T=M.key,T instanceof rt)if(T.suspendsRouting){T.Tg=null,w=T.fromNode;var A=T.toNode;if(t.draggedLink!==null&&l.dragsLink)if(A=M.value.point,T.dragComputation===null)i.add(T,t.Pd(l,T,d)),Ca(T,d.x-A.x,d.y-A.y);else{M=F.allocAt(0,0),(w=T.i(0))&&w.w()&&M.assign(w);var I=w=F.alloc().assign(M).add(d);l.isGridSnapEnabled&&(l.isGridSnapRealtime||t.lastInput.up)&&(I=F.alloc(),hb(t,T,w,I,l)),w.assign(T.dragComputation(T,w,I)).re(M),i.add(T,t.Pd(l,T,w)),Ca(T,w.x-A.x,w.y-A.y),F.free(M),F.free(w),I!==w&&F.free(I)}else w!==null&&(u.assign(w.location),I=i.I(w),I!==null&&u.re(I.point)),A!==null&&(O.assign(A.location),I=i.I(A),I!==null&&O.re(I.point)),w!==null&&A!==null?u.Xa(O)?(w=M.value.point,A=c,A.assign(u),A.re(w),i.add(T,t.Pd(l,T,u)),Ca(T,A.x,A.y)):(T.suspendsRouting=!1,T.bb()):(M=M.value.point,w=w!==null?u:A!==null?O:d,i.add(T,t.Pd(l,T,w)),Ca(T,w.x-M.x,w.y-M.y))}else(T.fromNode===null||T.toNode===null)&&(w=M.value.point,i.add(T,t.Pd(l,T,d)),Ca(T,d.x-w.x,d.y-w.y))}F.free(c),F.free(d),F.free(u),F.free(O),dt(m),dt(y),s||(pn(t),Kg(t,i))}}H.prototype.computeMove=function(t,i,s,l){if(l===void 0&&(l=new F),l.assign(i),t===null)return l;var u=i,c=s.isGridSnapEnabled;c&&(s.isGridSnapRealtime||this.lastInput.up)&&(u=F.alloc(),hb(this,t,i,u,s)),s=t.dragComputation!==null?t.dragComputation(t,i,u):u;var d=t.minLocation,m=d.x;isNaN(m)&&(m=c?Math.round(1e3*t.location.x)/1e3:t.location.x),d=d.y,isNaN(d)&&(d=c?Math.round(1e3*t.location.y)/1e3:t.location.y);var y=t.maxLocation,O=y.x;return isNaN(O)&&(O=c?Math.round(1e3*t.location.x)/1e3:t.location.x),y=y.y,isNaN(y)&&(y=c?Math.round(1e3*t.location.y)/1e3:t.location.y),l.h(Math.max(m,Math.min(s.x,O)),Math.max(d,Math.min(s.y,y))),u!==i&&F.free(u),l};function ub(t){var i=t.toolManager.findTool("Dragging");return i!==null?i.dragOptions:t.Vm}function hb(t,i,s,l,u){if(u===void 0&&(u=ub(t)),l.assign(s),i!==null){var c=t.grid;i=u.gridSnapCellSize,t=i.width,i=i.height;var d=u.gridSnapOrigin,m=d.x;if(d=d.y,u=u.gridSnapCellSpot,c!==null){var y=c.gridCellSize;isNaN(t)&&(t=y.width),isNaN(i)&&(i=y.height),c=c.gridOrigin,isNaN(m)&&(m=c.x),isNaN(d)&&(d=c.y)}c=F.allocAt(0,0),c.yi(0,0,t,i,u),U.Mo(s.x,s.y,m+c.x,d+c.y,t,i,l),F.free(c)}}function rx(t,i){if(i!==null)for(t.Lr=!0,t=i.iterator;t.next();)i=t.key,i instanceof rt&&(i.suspendsRouting=!0)}function Kg(t,i){if(i!==null){for(i=i.iterator;i.next();){var s=i.key;s instanceof rt&&(s.suspendsRouting=!1,aD(s)&&s.bb())}t.Lr=!1}}function TL(t,i,s){return i=i.containingGroup,i!==null&&(t=TL(t,i,s),t!==null||(t=s.I(i),t!==null))?t:null}n=H.prototype,n.Pd=function(t,i,s){if(s===void 0)return new ku(mo);var l=t.isGridSnapEnabled;return t.groupsSnapMembers||i.containingGroup===null||(l=!1),l?new ku(new F(Math.round(1e3*s.x)/1e3,Math.round(1e3*s.y)/1e3)):new ku(s.copy())};function cb(t,i,s){if(i.diagram!==null&&i.diagram!==t&&D("Cannot share a Layer with another Diagram: "+i+" of "+i.diagram),s===null?i.diagram!==null&&D("Cannot add an existing Layer to this Diagram again: "+i):(s.diagram!==t&&D("Existing Layer must be in this Diagram: "+s+" not in "+s.diagram),i===s&&D("Cannot move a Layer before or after itself: "+i)),i.diagram!==t){i=i.name,t=t.Wa,s=t.count;for(var l=0;l<s;l++)t.M(l).name===i&&D("Cannot add Layer with the name '"+i+"'; a Layer with the same name is already present in this Diagram.")}}n.zl=function(t){cb(this,t,null),t.Xe(this);var i=this.Wa,s=i.count-1;if(!t.isTemporary)for(;0<=s&&i.M(s).isTemporary;)s--;return i.Hb(s+1,t),this.dc!==null&&this.cb(oi,"layers",this,null,t,null,s+1),this.N(),this.Ya(),this},n.Ww=function(t,i){cb(this,t,i),t.Xe(this);var s=this.Wa,l=s.indexOf(t);0<=l&&(s.remove(t),this.dc!==null&&this.cb(ci,"layers",this,t,null,l,null));var u=s.count,c;for(c=0;c<u;c++)if(s.M(c)===i){s.Hb(c,t);break}return this.dc!==null&&this.cb(oi,"layers",this,null,t,null,c),this.N(),0>l&&this.Ya(),this},n.Cy=function(t,i){cb(this,t,i),t.Xe(this);var s=this.Wa,l=s.indexOf(t);0<=l&&(s.remove(t),this.dc!==null&&this.cb(ci,"layers",this,t,null,l,null));var u=s.count,c;for(c=0;c<u;c++)if(s.M(c)===i){s.Hb(c+1,t);break}return this.dc!==null&&this.cb(oi,"layers",this,null,t,null,c+1),this.N(),0>l&&this.Ya(),this},n.kA=function(t){if(t.diagram!==this&&D("Cannot remove a Layer from another Diagram: "+t+" of "+t.diagram),t.name!==""){var i=this.Wa,s=i.indexOf(t);if(i.remove(t)){for(i=t.Pa.copy().iterator;i.next();){var l=i.value,u=l.layerName;u!==t.name?l.layerName=u:l.layerName=""}this.dc!==null&&this.cb(ci,"layers",this,t,null,s,null),this.N(),this.Ya()}}},n.Pj=function(t){for(var i=this.layers;i.next();){var s=i.value;if(s.name===t)return s}return null},n.Yw=function(t){return this.pf===null&&(this.pf=new ct),this.pf.add(t),this.model.Pe(t),this},n.mA=function(t){this.pf!==null&&(this.pf.remove(t),this.pf.count===0&&(this.pf=null)),this.model.hk(t)},n.Pe=function(t){return this.zg===null&&(this.zg=new ct),this.zg.add(t),this},n.hk=function(t){this.zg!==null&&(this.zg.remove(t),this.zg.count===0&&(this.zg=null))},n.cs=function(t){if(this.skipsUndoManager||this.model.skipsUndoManager||this.model.undoManager.Tu(t),t.change!==zs&&(this.isModified=!0),this.zg!==null)for(var i=this.zg,s=i.length,l=0;l<s;l++)i.M(l)(t)},n.cb=function(t,i,s,l,u,c,d){c===void 0&&(c=null),d===void 0&&(d=null);var m=new Te;m.diagram=this,m.change=t,m.propertyName=i,m.object=s,m.oldValue=l,m.oldParam=c,m.newValue=u,m.newParam=d,this.cs(m)},n.g=function(t,i,s,l,u){this.cb(ke,t,this,i,s,l,u)},H.prototype.changeState=function(t,i){if(t!==null&&t.diagram===this){var s=this.skipsModelSourceBindings;try{this.skipsModelSourceBindings=!0;var l=t.change;if(l===ke){var u=t.object;if(me(u,t.propertyName,t.I(i)),u instanceof xt){var c=u.part;c!==null&&c.Xb()}this.isModified=!0}else if(l===oi){var d=t.object,m=t.newParam,y=t.newValue;if(d instanceof nt)if(typeof m=="number"&&y instanceof xt){i?d.qc(m):d.Hb(m,y);var O=d.part;O!==null&&O.Xb()}else typeof m=="number"&&y instanceof We&&(y.isRow?O$(d,m,i?void 0:y):v$(d,m,i?void 0:y));else if(d instanceof en){var w=t.oldParam===!0;typeof m=="number"&&y instanceof kt&&(i?(y.isSelected=!1,y.isHighlighted=!1,y.Xb(),d.qc(w?m:-1,y,w)):d.oi(m,y,w))}else d instanceof H?typeof m=="number"&&y instanceof en&&(i?this.Wa.mb(m):(y.Xe(this),this.Wa.Hb(m,y))):D("unknown ChangedEvent.Insert object: "+t.toString());this.isModified=!0}else if(l===ci){var k=t.object,P=t.oldParam,T=t.oldValue;if(k instanceof nt)typeof P=="number"&&T instanceof xt?i?k.Hb(P,T):k.qc(P):typeof P=="number"&&T instanceof We&&(T.isRow?O$(k,P,i?T:void 0):v$(k,P,i?T:void 0));else if(k instanceof en){var M=t.newParam===!0;typeof P=="number"&&T instanceof kt&&(i?0>k.Pa.indexOf(T)&&k.oi(P,T,M):(T.isSelected=!1,T.isHighlighted=!1,T.Xb(),k.qc(M?P:-1,T,M)))}else k instanceof H?typeof P=="number"&&T instanceof en&&(i?(T.Xe(this),this.Wa.Hb(P,T)):this.Wa.mb(P)):D("unknown ChangedEvent.Remove object: "+t.toString());this.isModified=!0}else l!==zs&&D("unknown ChangedEvent: "+t.toString())}finally{this.skipsModelSourceBindings=s}}},H.prototype.Ea=function(t){return this.undoManager.Ea(t)},H.prototype.eb=function(t){return this.undoManager.eb(t)},H.prototype.Kf=function(){return this.undoManager.Kf()},H.prototype.commit=function(t,i){i===void 0&&(i="");var s=this.skipsUndoManager;i===null&&(this.skipsUndoManager=!0,i=""),this.undoManager.Ea(i);var l=!1;try{t(this),l=!0}finally{l?this.undoManager.eb(i):this.undoManager.Kf(),this.skipsUndoManager=s}},H.prototype.updateAllTargetBindings=function(t){this.partManager.updateAllTargetBindings(t)},H.prototype.qp=function(){this.partManager.qp()};function CL(t,i,s){var l=t.animationManager;if(t.wb||t.ld)t.Ca=s,va(t),t.N(),t.Ee=!0,l.Ab&&(Uv(l)||l.ce.add(l.H,"scale",i,t.Ca));else if(t.ta===null)t.Ca=s,va(t);else{t.wb=!0;var u=t.viewportBounds.copy(),c=t.Aa,d=t.ya,m=t.zoomPoint.x,y=t.zoomPoint.y,O=t.contentAlignment;isNaN(m)&&(O.$c()?O.Hf(zd)?m=0:O.Hf(Xd)&&(m=c-1):m=O.sb()?O.x*(c-1):c/2),isNaN(y)&&(O.$c()?O.Hf(Vd)?y=0:O.Hf(Bd)&&(y=d-1):y=O.sb()?O.y*(d-1):d/2),t.scaleComputation===null||t.animationManager.defaultAnimation.isAnimating||(s=t.scaleComputation(t,s)),s<t.minScale&&(s=t.minScale),s>t.maxScale&&(s=t.maxScale),c=F.allocAt(t.pa.x+m/i-m/s,t.pa.y+y/i-y/s),t.position=c,F.free(c),t.Ca=s,va(t),t.wb=!1,t.onViewportBoundsChanged(u,t.viewportBounds,i,!1),Bs(t,!1),l.Ab&&(Uv(l)||l.ce.add(l.H,"scale",i,t.Ca))}}H.prototype.onViewportBoundsChanged=function(t,i,s,l){if(!t.D(i)){l===void 0&&(l=!1),l||(this.Ee=!0),this.vd=!0;var u=this.layout;u===null||!u.isViewportSized||this.autoScale!==Mr||t.width===i.width&&t.height===i.height||u.C(),u=this.currentTool,this.Uk===!0&&u instanceof Ce&&(this.lastInput.documentPoint=this.Os(this.lastInput.viewPoint),I5(u,this)),this.wb||this.invalidateViewport(t,i),Oa(this),this.gc.scale=s,this.gc.position.x=t.x,this.gc.position.y=t.y,this.gc.bounds.assign(t),this.gc.canvasSize.width=Math.round(t.width*s),this.gc.canvasSize.height=Math.round(t.height*s),this.gc.newCanvasSize.width=this.Aa,this.gc.newCanvasSize.height=this.ya,this.gc.isScroll=l,this.R("ViewportBoundsChanged",this.gc,t),this.isVirtualized&&this.links.each(function(c){c.isAvoiding&&c.actualBounds.Yc(i)&&c.bb()})}};function Oa(t,i){var s=t.fe;if(s!==null&&s.visible){for(var l=At.alloc(),u=1,c=1,d=s.O.s,m=d.length,y=0;y<m;y++){var O=d[y],w=Math.abs(O.interval);2>w||(Bb(O.figure)?c=c*w/U.vx(c,w):u=u*w/U.vx(u,w))}if(d=s.gridCellSize,l.h(c*d.width,u*d.height),i!==void 0)u=i.width,c=i.height,t=i.x,d=i.y;else{if(i=tt.alloc(),t=t.viewportBounds,i.h(t.x,t.y,t.width,t.height),!i.w()){tt.free(i);return}u=i.width,c=i.height,t=i.x,d=i.y,tt.free(i)}s.width=u+2*l.width,s.height=c+2*l.height,i=F.alloc(),U.Mo(t,d,0,0,l.width,l.height,i),i.offset(-l.width,-l.height),At.free(l),s.part.location=i,F.free(i)}}H.prototype.clearSelection=function(t){t===void 0&&(t=!1);var i=this.selection;if(i.count!==0){t||this.R("ChangingSelection",i);for(var s=i.Fa(),l=s.length,u=0;u<l;u++)s[u].isSelected=!1;i.ka(),i.clear(),i.freeze(),t||this.R("ChangedSelection",i)}},H.prototype.select=function(t){t!==null&&t.diagram===this&&(!t.isSelected||1<this.selection.count)&&(this.R("ChangingSelection",this.selection),this.clearSelection(!0),t.isSelected=!0,this.R("ChangedSelection",this.selection))},H.prototype.rA=function(t){if(this.R("ChangingSelection",this.selection),this.clearSelection(!0),ot(t))for(var i=t.length,s=0;s<i;s++){var l=t[s];l instanceof kt||D("Diagram.selectCollection given something that is not a Part: "+l),l.isSelected=!0}else for(t=t.iterator;t.next();)i=t.value,i instanceof kt||D("Diagram.selectCollection given something that is not a Part: "+i),i.isSelected=!0;this.R("ChangedSelection",this.selection)},H.prototype.clearHighlighteds=function(){var t=this.highlighteds;if(0<t.count){for(var i=t.Fa(),s=i.length,l=0;l<s;l++)i[l].isHighlighted=!1;t.ka(),t.clear(),t.freeze()}},n=H.prototype,n.Iz=function(t){t!==null&&t.diagram===this&&(!t.isHighlighted||1<this.highlighteds.count)&&(this.clearHighlighteds(),t.isHighlighted=!0)},n.Jz=function(t){t=new at().addAll(t);for(var i=this.highlighteds.copy().gp(t).iterator;i.next();)i.value.isHighlighted=!1;for(t=t.iterator;t.next();)i=t.value,i instanceof kt||D("Diagram.highlightCollection given something that is not a Part: "+i),i.isHighlighted=!0},n.scroll=function(t,i,s){s===void 0&&(s=1);var l=i==="up"||i==="down",u=0,c=F.alloc();if(t==="pixel")u=s;else if(t==="line")u=s*(l?this.scrollVerticalLineChange:this.scrollHorizontalLineChange);else if(t==="page")t=l?this.viewportBounds.height:this.viewportBounds.width,t*=this.scale,t!==0&&(u=s*Math.max(t-(l?this.scrollVerticalLineChange:this.scrollHorizontalLineChange),0));else{if(t==="document"){u=this.documentBounds,s=this.viewportBounds,i==="up"?this.position=c.h(s.x,u.y):i==="left"?this.position=c.h(u.x,s.y):i==="down"?this.position=c.h(s.x,u.bottom-s.height):i==="right"&&(this.position=c.h(u.right-s.width,s.y)),F.free(c);return}D("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+t)}u/=this.scale,s=this.position,i==="up"?this.position=c.h(s.x,s.y-u):i==="down"?this.position=c.h(s.x,s.y+u):i==="left"?this.position=c.h(s.x-u,s.y):i==="right"?this.position=c.h(s.x+u,s.y):D("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+i),F.free(c)},n.tv=function(t){var i=this.viewportBounds;i.Re(t)||(t=t.center,t.x-=i.width/2,t.y-=i.height/2,this.position=t)},n.ds=function(t){var i=this.viewportBounds;t=t.center,t.x-=i.width/2,t.y-=i.height/2,this.position=t},n.np=function(t){var i=this.Bb;i.reset(),this.Ca!==1&&i.scale(this.Ca);var s=this.pa;return(s.x!==0||s.y!==0)&&isFinite(s.x)&&isFinite(s.y)&&i.translate(-s.x,-s.y),t.copy().transform(this.Bb)},n.zA=function(t){var i=this.Bb,s=t.x,l=t.y,u=s+t.width,c=l+t.height,d=i.m11,m=i.m12,y=i.m21,O=i.m22,w=i.dx,k=i.dy,P=s*d+l*y+w;i=s*m+l*O+k;var T=u*d+l*y+w;return t=u*m+l*O+k,l=s*d+c*y+w,s=s*m+c*O+k,d=u*d+c*y+w,u=u*m+c*O+k,c=Math.min(P,T),P=Math.max(P,T),T=Math.min(i,t),i=Math.max(i,t),c=Math.min(c,l),P=Math.max(P,l),T=Math.min(T,s),i=Math.max(i,s),c=Math.min(c,d),P=Math.max(P,d),T=Math.min(T,u),i=Math.max(i,u),new tt(c,T,P-c,i-T)},n.Os=function(t){var i=this.Bb;i.reset(),this.Ca!==1&&i.scale(this.Ca);var s=this.pa;return(s.x!==0||s.y!==0)&&isFinite(s.x)&&isFinite(s.y)&&i.translate(-s.x,-s.y),Li(t.copy(),this.Bb)};function ML(t){var i=t.isModified;t.Tw!==i&&(t.Tw=i,t.R("Modified"))}function NG(t){return t=ox.get(t),t!==null?new t:new re}H.prototype.doModelChanged=function(t){var i=this;if(t.model===this.model){var s=t.change,l=t.propertyName;if(s===zs&&l[0]==="S")if(l==="StartingFirstTransaction"){var u=this;t=this.toolManager,t.mouseDownTools.each(function(y){return y.diagram=u}),t.mouseMoveTools.each(function(y){return y.diagram=u}),t.mouseUpTools.each(function(y){return y.diagram=u}),this.ld||this.hf||(this.Ik=!0,this.en&&(this.kg=!0))}else l==="StartingUndo"||l==="StartingRedo"?(t=this.animationManager,t.defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.Cc(),this.R("ChangingSelection",this.selection)):l==="StartedTransaction"&&(t=this.animationManager,t.defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.Cc());else if(this.aa){this.aa=!1;try{if(t.modelChange===""&&s===zs){(l==="FinishedUndo"||l==="FinishedRedo")&&(this.R("ChangedSelection",this.selection),pn(this));var c=this.animationManager;l==="RolledBackTransaction"&&c.Cc(),this.bx(),this.Ik=!0,this.bd(),this.undoManager.transactionLevel!==0&&this.undoManager.transactionLevel!==1||q2(c),l==="CommittedTransaction"&&this.undoManager.isJustDiscarded&&(this.Ce=Math.min(this.Ce,this.undoManager.historyIndex-1)),l!=="CommittedTransaction"&&l!=="RolledBackTransaction"||!this.undoManager.isPendingUnmodified||setTimeout(function(){i.isModified=!1},1);var d=t.isTransactionFinished;if(d&&(ML(this),this.zs.clear(),OG(this.animationManager)),!this.Qt&&d&&this.lastInput.targetDiagram){this.Qt=!0;var m=this;$(function(){m.currentTool.standardMouseOver(),m.Qt=!1},10)}}}finally{this.aa=!0}}}};function QL(t,i){i=i.O.s;for(var s=i.length,l=0;l<s;l++)fb(t,i[l])}function fb(t,i){if(i instanceof Nn){var s=i.element;if(s!==null&&s instanceof HTMLImageElement){s.Bg instanceof at&&s.Bg.add(t);var l=i.Eg;if(l!==null&&l.rq===!0&&i.diagram!==null&&i.diagram.Wn.add(i),s.gn)if(s=s.getAttribute("src")||"",l=t.Og.I(s),l===null)l=[],l.push(i),t.Og.add(s,l);else{for(t=0;t<l.length;t++)if(l[t]===i)return;l.push(i)}}}}function db(t,i){if(i instanceof Nn){var s=i.element;if(s!==null&&s instanceof HTMLImageElement&&s.gn){var l=s.getAttribute("src")||"",u=t.Og.I(l);if(u!==null){for(var c=0;c<u.length;c++)if(u[c]===i){u.splice(c,1),u.length===0&&(t.Og.remove(l),s.Eq&&s.removeEventListener("load",s.Eq),s.Xp&&s.removeEventListener("error",s.Xp),delete s.Eq,delete s.Xp,s.Bg instanceof at&&s.Bg.remove(t),xp(l));break}}}}}H.prototype.Wd=function(){this.partManager.Wd()},H.prototype.Aj=function(t,i){this.Yd.Aj(t,i)},H.prototype.Cj=function(t,i){this.Yd.Cj(t,i)},H.prototype.findPartForKey=function(t){return this.partManager.findPartForKey(t)},H.prototype.Wb=function(t){return this.partManager.Wb(t)},H.prototype.findLinkForKey=function(t){return this.partManager.findLinkForKey(t)},n=H.prototype,n.Lc=function(t){return this.partManager.Lc(t)},n.ii=function(t){return this.partManager.ii(t)},n.Kc=function(t){return this.partManager.Kc(t)},n.ls=function(t){for(var i=[],s=0;s<arguments.length;++s)i[s]=arguments[s];return this.partManager.ls.apply(this.partManager,i instanceof Array?i:o(r(i)))},n.ks=function(t){for(var i=[],s=0;s<arguments.length;++s)i[s]=arguments[s];return this.partManager.ks.apply(this.partManager,i instanceof Array?i:o(r(i)))};function va(t){var i=t.pa,s=t.Ca;t.Rw.h(i.x,i.y,Math.max(t.Aa,0)/s,Math.max(t.ya,0)/s),t.vd=!0}function pb(t,i){t.Zi=!1;var s=t.Rp;s.D(i)||(s=s.copy(),t.Rp.assign(i),Bs(t,!1),t.R("DocumentBoundsChanged",void 0,s),t.Ee=!0,t.N())}n.Va=function(){if(this.Zi){var t=tt.alloc();pb(this,this.computeBounds(t)),tt.free(t)}},n.rz=function(){for(var t=new at,i=this.nodes;i.next();){var s=i.value;s.isTopLevel&&t.add(s)}for(i=this.links;i.next();)s=i.value,s.isTopLevel&&t.add(s);return t.iterator},n.qz=function(){return this.ai.iterator},n.Uz=function(t){pn(this),t&&sx(this,!0),this.ld?mb(this,!1):(this.Ik=!0,ga(this))};function sx(t,i){for(var s=t.ai.iterator;s.next();)NL(t,s.value,i);t.layout&&(i?t.layout.isValidLayout=!1:t.layout.C())}function NL(t,i,s){if(i!==null){for(var l=i.fl.iterator;l.next();)NL(t,l.value,s);i.layout!==null&&(s?i.layout.isValidLayout=!1:i.layout.C())}}function mb(t,i){if(t.xh&&!t.kt){var s=t.aa;t.aa=!0;var l=t.undoManager.transactionLevel,u=t.layout,c=t.animationManager;try{l===0&&(t.undoManager.isInternalTransaction=!0,t.Ea("Layout")),1>=l&&!c.defaultAnimation.isAnimating&&!c.Ab&&(i||ma(c,"Layout")),t.xh=!1;for(var d=t.ai.iterator;d.next();)AL(t,d.value,i,l);u.isValidLayout||(!i||u.isRealtime||u.isRealtime===null||l===0?(u.doLayout(t),pn(t),u.isValidLayout=!0):t.xh=!0)}finally{i=t.undoManager.isInternalTransaction,l===0&&(t.eb("Layout"),t.undoManager.isInternalTransaction=!1),!i||l!==0&&l!==1||q2(c),t.aa=s}}}function AL(t,i,s,l){if(i!==null){for(var u=i.fl.iterator;u.next();)AL(t,u.value,s,l);u=i.layout,u===null||u.isValidLayout||(!s||u.isRealtime||l===0?(i.rh=!i.location.w(),u.doLayout(i),i.C(32),sb(t,i),u.isValidLayout=!0):t.xh=!0)}}n.yz=function(){for(var t=new ct,i=this.nodes;i.next();){var s=i.value;s.isTopLevel&&s.kh()===null&&t.add(s)}return t.iterator};function AG(t){function i(u){var c=u.toLowerCase(),d=new ct;s.add(u,d),s.add(c,d),l.add(u,u),l.add(c,u)}var s=new jt,l=new jt;i("InitialAnimationStarting"),i("AnimationStarting"),i("AnimationFinished"),i("BackgroundSingleClicked"),i("BackgroundDoubleClicked"),i("BackgroundContextClicked"),i("ClipboardChanged"),i("ClipboardPasted"),i("DocumentBoundsChanged"),i("ExternalObjectsDropped"),i("GainedFocus"),i("InitialLayoutCompleted"),i("LayoutCompleted"),i("LinkDrawn"),i("LinkRelinked"),i("LinkReshaped"),i("LostFocus"),i("Modified"),i("ObjectSingleClicked"),i("ObjectDoubleClicked"),i("ObjectContextClicked"),i("PartCreated"),i("PartResized"),i("PartRotated"),i("SelectionMoved"),i("SelectionCopied"),i("SelectionDeleting"),i("SelectionDeleted"),i("SelectionGrouped"),i("SelectionUngrouped"),i("ChangingSelection"),i("ChangedSelection"),i("SubGraphCollapsed"),i("SubGraphExpanded"),i("TextEdited"),i("TreeCollapsed"),i("TreeExpanded"),i("ViewportBoundsChanged"),i("InvalidateDraw"),t.iw=s,t.hw=l}function jL(t,i){var s=t.hw.I(i);return s!==null?s:t.hw.I(i.toLowerCase())}function gb(t,i){var s=t.iw.I(i);if(s!==null||(s=t.iw.I(i.toLowerCase()),s!==null))return s;D("Unknown DiagramEvent name: "+i)}n.Bj=function(t,i){return t=gb(this,t),t!==null&&t.add(i),this},n.$l=function(t,i){t=gb(this,t),t!==null&&t.remove(i)},n.R=function(t,i,s){var l=gb(this,t),u=new cf;if(u.diagram=this,t=jL(this,t),t!==null&&(u.name=t),i!==void 0&&(u.subject=i),s!==void 0&&(u.parameter=s),i=l.length,i===1)l.M(0)(u);else if(i!==0)for(l=l.Fa(),s=0;s<i;s++)(0,l[s])(u)};function EL(t){if(t.animationManager.isTicking)return!1;var i=t.currentTool;return i===t.toolManager.findTool("Dragging")?!t.Lr||i.isComplexRoutingRealtime:!0}n.Xj=function(t,i){return yb(this,!1,null,i||null).Xj(t.x,t.y,t.width,t.height)},H.prototype.computeOccupiedArea=function(t){return this.isVirtualized?this.viewportBounds.copy():this.Zi?kL(this,t):t.assign(this.documentBounds)};function yb(t,i,s,l){var u=t.Xh;if(u===null&&(t.Xh=u=new C0(t.avoidanceCellSize)),u.us||u.group!==s||u.Yx!==l){if(u.Hx=Math.max(u.Ns+1,Math.floor(t.avoidanceLimit/t.avoidanceCellSize.width)),u.Ix=Math.max(u.Ns+1,Math.floor(t.avoidanceLimit/t.avoidanceCellSize.height)),s!==null&&(s=RL(t,s)),s===null){i=tt.alloc(),t.computeOccupiedArea(i),i.Bc(100,100),u.initialize(i);for(var c=t.nodes;c.next();){var d=c.value,m=d.layer;m!==null&&m.visible&&!m.isTemporary&&Ob(t,d,l,i)}tt.free(i)}else{for(0<s.memberParts.count&&(i=t.computePartsBounds(s.memberParts,!1),i.Bc(20,20),u.initialize(i)),i=tt.alloc(),c=s.memberParts;c.next();)d=c.value,d instanceof ft&&Ob(t,d,l,i);tt.free(i)}u.group=s,u.Yx=l,u.us=!1}else i&&dD(u);return u}function RL(t,i){return i.avoidable&&!i.isLinkLabel?i:i.containingGroup!==null?RL(t,i.containingGroup):null}function Ob(t,i,s,l){if(i!==s&&i.isVisible()){if(i.avoidable&&!i.isLinkLabel){i=i.getAvoidableRect(l),t=t.Xh;var u=i.x,c=i.y;if(Tp(t,u,c))for(s=(c-t.Od)/t.tc|0,l=Math.min((u+i.width-t.Nd)/t.sc|0,t.di),i=Math.min((c+i.height-t.Od)/t.tc|0,t.ei),u=(u-t.Nd)/t.sc|0;u<=l;u++)if(c=t.bc[u],c.fill)c.fill(Qa,s,i+1);else for(var d=s;d<=i;d++)c[d]=Qa}else if(i instanceof Lt)for(i=i.memberParts;i.next();)u=i.value,u instanceof ft&&Ob(t,u,s,l)}}function vb(t,i){t.Xh===null||t.Xh.us||i!==void 0&&(!i.avoidable||i.isLinkLabel)||(t.Xh.us=!0)}H.prototype.fs=function(t){this.vp.assign(t),this.computeAutoScrollPosition(this.vp).Xa(this.position)?this.ug():LL(this)};function LL(t){t.uk===-1&&(t.uk=$(function(){if(t.uk!==-1&&(t.ug(),t.lastInput.event!==null)){var i=t.computeAutoScrollPosition(t.vp);i.Xa(t.position)||(t.position=i,t.lastInput.documentPoint=t.Os(t.vp),t.doMouseMove(),t.Zi=!0,i=tt.alloc(),t.computeBounds(i),i.ed(t.documentBounds),pb(t,i),tt.free(i),t.Fc=!0,t.bd(),LL(t))}},t.tp))}H.prototype.ug=function(){this.uk!==-1&&(N.clearTimeout(this.uk),this.uk=-1)},H.prototype.computeAutoScrollPosition=function(t){var i=this.position,s=this.wp;if(0>=s.top&&0>=s.left&&0>=s.right&&0>=s.bottom)return i;var l=this.viewportBounds,u=this.scale;l=tt.allocAt(0,0,l.width*u,l.height*u);var c=F.allocAt(0,0);if(t.x>=l.x&&t.x<l.x+s.left&&this.allowHorizontalScroll){var d=Math.max(this.scrollHorizontalLineChange,1);d|=0,c.x-=d,t.x<l.x+s.left/2&&(c.x-=d),t.x<l.x+s.left/4&&(c.x-=4*d)}else t.x<=l.x+l.width&&t.x>l.x+l.width-s.right&&this.allowHorizontalScroll&&(d=Math.max(this.scrollHorizontalLineChange,1),d|=0,c.x+=d,t.x>l.x+l.width-s.right/2&&(c.x+=d),t.x>l.x+l.width-s.right/4&&(c.x+=4*d));return t.y>=l.y&&t.y<l.y+s.top&&this.allowVerticalScroll?(d=Math.max(this.scrollVerticalLineChange,1),d|=0,c.y-=d,t.y<l.y+s.top/2&&(c.y-=d),t.y<l.y+s.top/4&&(c.y-=4*d)):t.y<=l.y+l.height&&t.y>l.y+l.height-s.bottom&&this.allowVerticalScroll&&(d=Math.max(this.scrollVerticalLineChange,1),d|=0,c.y+=d,t.y>l.y+l.height-s.bottom/2&&(c.y+=d),t.y>l.y+l.height-s.bottom/4&&(c.y+=4*d)),c.Xa(mo)||(i=new F(i.x+c.x/u,i.y+c.y/u)),tt.free(l),F.free(c),i},n=H.prototype,n.Bs=function(){return null},n.av=function(){return null},n.$r=function(t,i){this.pj.add(t,i)},n.Fu=function(t){(this.Pw=t)||this.nodes.each(function(i){i instanceof Lt&&(i.Zp=null)})};function $L(t,i,s){function l(){var w=+new Date;for(c=!0,d.reset();d.next();)if(!d.value[0].$k){c=!1;break}c||w-O>y?i(s,u,m):N.requestAnimationFrame(l)}for(var u=s.callback,c=!0,d=t.Og.iterator;d.next();)if(!d.value[0].$k){c=!1;break}if(typeof u!="function"||c)return i(s,u,t);var m=t,y=s.callbackTimeout||300,O=+new Date;return N.requestAnimationFrame(function(){l()}),null}n.Wz=function(t){return Os?(t===void 0&&(t={}),t.returnType="Image",this.Jx(t)):null},n.Jx=function(t){return t===void 0&&(t={}),$L(this,this.Xz,t)},n.Xz=function(t,i,s){var l=DL(s,t,"canvas",null);if(l===null)return null;s=l.Z.canvas;var u=null;if(s!==null)switch(u=t.returnType,u===void 0?u="string":u=u.toLowerCase(),u){case rp+"data":u=l.getImageData(0,0,s.width,s.height);break;case rp:l=(t.document||document).createElement("img"),l.src=s.toDataURL(t.type,t.details),u=l;break;case"blob":return typeof i!="function"&&D('Error: Diagram.makeImageData called with "returnType: toBlob", but no required "callback" function property defined.'),typeof s.toBlob=="function"?(s.toBlob(i,t.type,t.details),"toBlob"):(i(null),null);default:u=s.toDataURL(t.type,t.details)}return typeof i=="function"?(i(u),null):u};function DL(t,i,s,l){if(t.animationManager.Cc(),t.bd(),t.ta===null)return null;typeof i!="object"&&D("properties argument must be an Object.");var u=i.size||null,c=i.scale||null;i.scale!==void 0&&isNaN(i.scale)&&(c="NaN");var d=i.maxSize;i.maxSize===void 0&&(d=s==="SVG"?new At(1/0,1/0):new At(2e3,2e3));var m=i.position||null,y=i.parts||null,O=i.padding===void 0?1:i.padding,w=i.background||null,k=i.omitTemporary;k===void 0&&(k=!0);var P=i.document||document,T=i.elementFinished||null,M=i.showTemporary;M===void 0&&(M=!k),i=i.showGrid,i===void 0&&(i=M),u!==null&&isNaN(u.width)&&isNaN(u.height)&&(u=null),typeof O=="number"?O=new ne(O):O instanceof ne||D("MakeImage padding must be a Margin or a number."),O.left=Math.max(O.left,0),O.right=Math.max(O.right,0),O.top=Math.max(O.top,0),O.bottom=Math.max(O.bottom,0),t.ib.Vc(!0),k=new qr(null,P,void 0,!0);var A=k.context;if(!(u||c||y||m))return k.width=t.Aa+Math.ceil(O.left+O.right),k.height=t.ya+Math.ceil(O.top+O.bottom),s==="SVG"?l===null?null:(l.resize(k.width,k.height,k.width,k.height),l.ownerDocument=P,l.gs=T,ix(t,l.context,O,new At(k.width,k.height),t.Ca,t.pa,y,w,M,i),l.context):(t.Wm=!1,ix(t,A,O,new At(k.width,k.height),t.Ca,t.pa,y,w,M,i),t.Wm=!0,k.context);var I=t.Op,L=t.documentBounds.copy();if(L.Fv(t.zb),M)for(var z=t.Wa.s,X=z.length,_=0;_<X;_++){var Y=z[_];if(Y.visible&&Y.isTemporary){Y=Y.Pa.s;for(var G=Y.length,ut=0;ut<G;ut++){var gt=Y[ut];gt.isInDocumentBounds&&gt.isVisible()&&(gt=gt.actualBounds,gt.w()&&L.ed(gt))}}}if(z=new F(L.x,L.y),y!==null){for(X=new tt(0,0,0,0),_=!0,Y=y.iterator,Y.reset();Y.next();)G=Y.value,G instanceof kt&&(ut=G.layer,ut!==null&&!ut.visible||ut!==null&&!M&&ut.isTemporary||!G.isVisible()||(G=G.actualBounds,G.w()&&(_?(_=!1,X.assign(G)):X.ed(G))));L.width=X.width,L.height=X.height,z.x=X.x,z.y=X.y}return m!==null&&m.w()&&(z=m,c||(c=I)),X=m=0,O!==null&&(m=O.left+O.right,X=O.top+O.bottom),_=Y=0,u!==null&&(Y=u.width,_=u.height,isFinite(Y)&&(Y=Math.max(0,Y-m)),isFinite(_)&&(_=Math.max(0,_-X))),u!==null&&c!==null?(c==="NaN"&&(c=I),u.w()?(u=Y,L=_):isNaN(_)?(u=Y,L=L.height*c):(u=L.width*c,L=_)):u!==null?u.w()?(c=Math.min(Y/L.width,_/L.height),u=Y,L=_):isNaN(_)?(c=Y/L.width,u=Y,L=L.height*c):(c=_/L.height,u=L.width*c,L=_):c!==null?c==="NaN"&&d.w()?(c=Math.min((d.width-m)/L.width,(d.height-X)/L.height),c>I?(c=I,u=L.width,L=L.height):(u=d.width,L=d.height)):(u=L.width*c,L=L.height*c):(c=I,u=L.width,L=L.height),O!==null?(u+=m,L+=X):O=new ne(0),d!==null&&(I=d.width,d=d.height,isNaN(I)&&(I=2e3),isNaN(d)&&(d=2e3),isFinite(I)&&(u=Math.min(u,I)),isFinite(d)&&(L=Math.min(L,d))),k.width=Math.ceil(u),k.height=Math.ceil(L),s==="SVG"?l===null?null:(l.resize(k.width,k.height,k.width,k.height),l.ownerDocument=P,l.gs=T,ix(t,l.context,O,new At(Math.ceil(u),Math.ceil(L)),c,z,y,w,M,i),l.context):(t.Wm=!1,ix(t,A,O,new At(Math.ceil(u),Math.ceil(L)),c,z,y,w,M,i),t.Wm=!0,k.context)}S.Object.defineProperties(H.prototype,{renderer:{get:function(){return this.ml},set:function(t){this instanceof Go||(t===""&&(t="default"),t=t.toLowerCase(),t!==this.ml&&(this.ml=t,t==="default"||t==="canvas"?(t=this.pj.get("svg"),t!==null&&t.Oa.remove(),this.ta&&(this.ib=this.ta.context)):t==="svg"?(this.pj.contains("svg")?t=this.pj.get("svg"):(t=new vo(this,N.document),this.$r("svg",t)),this.div!==null&&this.div.appendChild(t.Oa),this.ib=t.context,this.ta&&(this.ta.context.setTransform(this.Nb,0,0,this.Nb,0,0),this.ta.context.clearRect(0,0,this.Aa,this.ya))):t!=="debug"||this.pj.contains("SVG")||(t=new vo(this,N.document),this.$r("SVG",t),t.Oa.style.backgroundColor="whitesmoke",this.div!==null&&this.div.after(t.Oa)),this.gk()))}},div:{get:function(){return this.Ka},set:function(t){if(this.Ka!==t){var i=this.Ka;i!==null?(i.H=void 0,i.goDiagram=void 0,i.go=void 0,i.innerHTML="",this.ta!==null&&(i=this.ta.Oa,this.removeEventListener(i,"pointermove",this.ck,!1),this.removeEventListener(i,"pointerdown",this.ui,!1),this.removeEventListener(i,"pointerup",this.ek,!1),this.removeEventListener(i,"pointerout",this.dk,!1),this.removeEventListener(i,"pointercancel",this.bk,!1),this.ta.mx()),this.nl&&(this.nl.disconnect(),this.nl=null),i=this.toolManager,i!==null&&(i.mouseDownTools.each(function(s){s.cancelWaitAfter()}),i.mouseMoveTools.each(function(s){s.cancelWaitAfter()}),i.mouseUpTools.each(function(s){s.cancelWaitAfter()})),i.cancelWaitAfter(),this.currentTool.doCancel(),this.ta=null,this.removeEventListener(N,"resize",this.Ov,!1),this.removeEventListener(N,"wheel",this.Zj,!0),Jd===this&&(Jd=null)):this.ui===null&&(this.hf=!1),this.Ka=null,t!==null&&((i=t.H)&&(i.div=null),J2(this,t),this.gk())}}},$w:{get:function(){return this.Rq}},pi:{get:function(){return this.hf}},draggedLink:{get:function(){return this.mt},set:function(t){this.mt!==t&&(this.mt=t,t!==null&&(this.Ut=t.fromPort,this.Vt=t.toPort))}},Mx:{get:function(){return this.Ut},set:function(t){this.Ut=t}},Nx:{get:function(){return this.Vt},set:function(t){this.Vt=t}},animationManager:{get:function(){return this.Yd}},undoManager:{get:function(){return this.dc.undoManager}},skipsUndoManager:{get:function(){return this.Wg},set:function(t){this.Wg=t,this.dc.skipsUndoManager=t}},delaysLayout:{get:function(){return this.kt},set:function(t){this.kt=t}},opacity:{get:function(){return this.pb},set:function(t){var i=this.pb;i!==t&&((0>t||1<t)&&q(t,"0 <= value <= 1",H,"opacity"),this.pb=t,this.g("opacity",i,t),this.N())}},validCycle:{get:function(){return this.vu},set:function(t){var i=this.vu;i!==t&&(this.vu=t,this.g("validCycle",i,t))}},layers:{get:function(){return this.Wa.iterator}},isModelReadOnly:{get:function(){var t=this.dc;return t===null?!1:t.isReadOnly},set:function(t){var i=this.dc;i!==null&&(i.isReadOnly=t)}},isReadOnly:{get:function(){return this.Gg},set:function(t){var i=this.Gg;i!==t&&(this.Gg=t,this.g("isReadOnly",i,t))}},isEnabled:{get:function(){return this.Jd},set:function(t){var i=this.Jd;i!==t&&(this.Jd=t,this.g("isEnabled",i,t))}},allowClipboard:{get:function(){return this.Ts},set:function(t){var i=this.Ts;i!==t&&(this.Ts=t,this.g("allowClipboard",i,t))}},allowCopy:{get:function(){return this.Fi},set:function(t){var i=this.Fi;i!==t&&(this.Fi=t,this.g("allowCopy",i,t))}},allowDelete:{get:function(){return this.Gi},set:function(t){var i=this.Gi;i!==t&&(this.Gi=t,this.g("allowDelete",i,t))}},allowDragOut:{get:function(){return this.Us},set:function(t){var i=this.Us;i!==t&&(this.Us=t,this.g("allowDragOut",i,t))}},allowDrop:{get:function(){return this.Vs},set:function(t){var i=this.Vs;i!==t&&(this.Vs=t,this.g("allowDrop",i,t))}},allowTextEdit:{get:function(){return this.Pi},set:function(t){var i=this.Pi;i!==t&&(this.Pi=t,this.g("allowTextEdit",i,t))}},allowGroup:{get:function(){return this.Hi},set:function(t){var i=this.Hi;i!==t&&(this.Hi=t,this.g("allowGroup",i,t))}},allowUngroup:{get:function(){return this.Qi},set:function(t){var i=this.Qi;i!==t&&(this.Qi=t,this.g("allowUngroup",i,t))}},allowInsert:{get:function(){return this.Xs},set:function(t){var i=this.Xs;i!==t&&(this.Xs=t,this.g("allowInsert",i,t))}},allowLink:{get:function(){return this.Ii},set:function(t){var i=this.Ii;i!==t&&(this.Ii=t,this.g("allowLink",i,t))}},allowRelink:{get:function(){return this.Ki},set:function(t){var i=this.Ki;i!==t&&(this.Ki=t,this.g("allowRelink",i,t))}},allowMove:{get:function(){return this.Ji},set:function(t){var i=this.Ji;i!==t&&(this.Ji=t,this.g("allowMove",i,t))}},allowReshape:{get:function(){return this.Li},set:function(t){var i=this.Li;i!==t&&(this.Li=t,this.g("allowReshape",i,t))}},allowResize:{get:function(){return this.Mi},set:function(t){var i=this.Mi;i!==t&&(this.Mi=t,this.g("allowResize",i,t))}},allowRotate:{get:function(){return this.Ni},set:function(t){var i=this.Ni;i!==t&&(this.Ni=t,this.g("allowRotate",i,t))}},allowSelect:{get:function(){return this.Oi},set:function(t){var i=this.Oi;i!==t&&(this.Oi=t,this.g("allowSelect",i,t))}},allowUndo:{get:function(){return this.Ys},set:function(t){var i=this.Ys;i!==t&&(this.Ys=t,this.g("allowUndo",i,t))}},allowZoom:{get:function(){return this.$s},set:function(t){var i=this.$s;i!==t&&(this.$s=t,this.g("allowZoom",i,t))}},hasVerticalScrollbar:{get:function(){return this.mn},set:function(t){var i=this.mn;i!==t&&(this.mn=t,this.Ee=!0,this.N(),this.g("hasVerticalScrollbar",i,t),Bs(this,!1))}},hasHorizontalScrollbar:{get:function(){return this.ln},set:function(t){var i=this.ln;i!==t&&(this.ln=t,this.Ee=!0,this.N(),this.g("hasHorizontalScrollbar",i,t),Bs(this,!1))}},allowHorizontalScroll:{get:function(){return this.Ws},set:function(t){var i=this.Ws;i!==t&&(this.Ws=t,this.g("allowHorizontalScroll",i,t),Bs(this,!1))}},allowVerticalScroll:{get:function(){return this.Zs},set:function(t){var i=this.Zs;i!==t&&(this.Zs=t,this.g("allowVerticalScroll",i,t),Bs(this,!1))}},scrollHorizontalLineChange:{get:function(){return this.hu},set:function(t){var i=this.hu;i!==t&&(0>t&&q(t,">= 0",H,"scrollHorizontalLineChange"),this.hu=t,this.g("scrollHorizontalLineChange",i,t))}},scrollVerticalLineChange:{get:function(){return this.lu},set:function(t){var i=this.lu;i!==t&&(0>t&&q(t,">= 0",H,"scrollVerticalLineChange"),this.lu=t,this.g("scrollVerticalLineChange",i,t))}},lastInput:{get:function(){return this.cj},set:function(t){this.cj=t}},previousInput:{get:function(){return this.Qg},set:function(t){this.Qg=t}},firstInput:{get:function(){return this.aq},set:function(t){this.aq=t}},currentCursor:{get:function(){return this.ht},set:function(t){if(t===""&&(t=this.Np),this.ht!==t){var i=this.ta,s=this.Ka;if(i!==null&&s!==null){this.ht=t;var l=i.style.cursor;i.style.cursor=t,s.style.cursor=t,i.style.cursor===l&&(i.style.cursor="-webkit-"+t,s.style.cursor="-webkit-"+t,i.style.cursor===l&&(i.style.cursor="-moz-"+t,s.style.cursor="-moz-"+t,i.style.cursor===l&&(i.style.cursor=t,s.style.cursor=t)))}}}},defaultCursor:{get:function(){return this.Np},set:function(t){t===""&&(t="auto");var i=this.Np;i!==t&&(this.Np=t,this.g("defaultCursor",i,t))}},click:{get:function(){return this.zh},set:function(t){var i=this.zh;i!==t&&(this.zh=t,this.g("click",i,t))}},doubleClick:{get:function(){return this.Fh},set:function(t){var i=this.Fh;i!==t&&(this.Fh=t,this.g("doubleClick",i,t))}},contextClick:{get:function(){return this.Bh},set:function(t){var i=this.Bh;i!==t&&(this.Bh=t,this.g("contextClick",i,t))}},mouseOver:{get:function(){return this.Qh},set:function(t){var i=this.Qh;i!==t&&(this.Qh=t,this.g("mouseOver",i,t))}},mouseHover:{get:function(){return this.Oh},set:function(t){var i=this.Oh;i!==t&&(this.Oh=t,this.g("mouseHover",i,t))}},mouseHold:{get:function(){return this.Nh},set:function(t){var i=this.Nh;i!==t&&(this.Nh=t,this.g("mouseHold",i,t))}},mouseDragOver:{get:function(){return this.Pt},set:function(t){var i=this.Pt;i!==t&&(this.Pt=t,this.g("mouseDragOver",i,t))}},mouseDrop:{get:function(){return this.Lh},set:function(t){var i=this.Lh;i!==t&&(this.Lh=t,this.g("mouseDrop",i,t))}},handlesDragDropForTopLevelParts:{get:function(){return this.wt},set:function(t){var i=this.wt;i!==t&&(this.wt=t,this.g("handlesDragDropForTopLevelParts",i,t))}},mouseEnter:{get:function(){return this.Mh},set:function(t){var i=this.Mh;i!==t&&(this.Mh=t,this.g("mouseEnter",i,t))}},mouseLeave:{get:function(){return this.Ph},set:function(t){var i=this.Ph;i!==t&&(this.Ph=t,this.g("mouseLeave",i,t))}},toolTip:{get:function(){return this.$h},set:function(t){var i=this.$h;i!==t&&(this.$h=t,this.g("toolTip",i,t))}},contextMenu:{get:function(){return this.Ch},set:function(t){var i=this.Ch;i!==t&&(this.Ch=t,this.g("contextMenu",i,t))}},commandHandler:{get:function(){return this.nb},set:function(t){this.nb!==t&&(this.nb=t,t.Xe(this))}},toolManager:{get:function(){return this.te},set:function(t){this.te!==t&&(this.te=t,t.diagram=this)}},defaultTool:{get:function(){return this.ob},set:function(t){var i=this.ob;i!==t&&(this.ob=t,t.diagram=this,this.currentTool===i&&(this.currentTool=t))}},currentTool:{get:function(){return this.hb},set:function(t){var i=this.hb;i&&(i.isActive&&i.doDeactivate(),i.cancelWaitAfter(),i.doStop()),t===null&&(t=this.defaultTool),t!==null&&(this.hb=t,t.diagram=this,t.doStart())}},selection:{get:function(){return this.Hw}},maxSelectionCount:{get:function(){return this.Mt},set:function(t){var i=this.Mt;if(i!==t)if(0<=t&&!isNaN(t)){if(this.Mt=t,this.g("maxSelectionCount",i,t),!this.undoManager.isUndoingRedoing&&(t=this.selection.count-t,0<t)){this.R("ChangingSelection",this.selection),i=this.selection.Fa();for(var s=0;s<t;s++)i[s].isSelected=!1;this.R("ChangedSelection",this.selection)}}else q(t,">= 0",H,"maxSelectionCount")}},nodeSelectionAdornmentTemplate:{get:function(){return this.Rt},set:function(t){var i=this.Rt;i!==t&&(this.Rt=t,this.g("nodeSelectionAdornmentTemplate",i,t))}},groupSelectionAdornmentTemplate:{get:function(){return this.vt},set:function(t){var i=this.vt;i!==t&&(this.vt=t,this.g("groupSelectionAdornmentTemplate",i,t))}},linkSelectionAdornmentTemplate:{get:function(){return this.Jt},set:function(t){var i=this.Jt;i!==t&&(this.Jt=t,this.g("linkSelectionAdornmentTemplate",i,t))}},highlighteds:{get:function(){return this.nw}},isModified:{get:function(){var t=this.undoManager;return t.isEnabled?t.currentTransaction!==null?!0:this.qn&&this.Ce!==t.historyIndex:this.qn},set:function(t){if(this.qn!==t){this.qn=t;var i=this.undoManager;!t&&i.isEnabled&&(this.Ce=i.historyIndex),t||ML(this)}}},model:{get:function(){return this.dc},set:function(t){var i=this.dc;if(i!==t){this.currentTool.doCancel(),i&&i.undoManager!==t.undoManager&&i.undoManager.isInTransaction&&D("Do not replace a Diagram.model while a transaction is in progress."),this.animationManager.Cc(!0);var s=vL(this,!0);this.hf=!1,this.en=!0,this.Ce=-2,this.kg=!1;var l=this.wb;this.wb=!0,ma(this.animationManager,"Model"),i&&(this.pf!==null&&this.pf.each(function(c){return i.hk(c)}),i.hk(this.Oc)),this.dc=t,this.partManager=NG(this.dc.type);for(var u=0;u<s.length;u++)this.add(s[u]);t.Pe(this.Ib),this.partManager.addAllModeledParts(),t.hk(this.Ib),t.Pe(this.Oc),this.pf!==null&&this.pf.each(function(c){return t.Pe(c)}),this.wb=l,this.Ya(),this.wb||this.N(),i&&t.undoManager.copyProperties(i.undoManager)}}},aa:{get:function(){return this.rw},set:function(t){this.rw=t}},zs:{get:function(){return this.sy}},skipsModelSourceBindings:{get:function(){return this.Iw},set:function(t){this.Iw=t}},Ms:{get:function(){return this.nu},set:function(t){this.nu=t}},nodeTemplate:{get:function(){return this.Lg.I("")},set:function(t){var i=this.Lg.I("");i!==t&&(this.Lg.add("",t),this.g("nodeTemplate",i,t),this.undoManager.isUndoingRedoing||this.Wd())}},nodeTemplateMap:{get:function(){return this.Lg},set:function(t){var i=this.Lg;i!==t&&(this.Lg=t,this.g("nodeTemplateMap",i,t),this.undoManager.isUndoingRedoing||this.Wd())}},groupTemplate:{get:function(){return this.Yi.I("")},set:function(t){var i=this.Yi.I("");i!==t&&(this.Yi.add("",t),this.g("groupTemplate",i,t),this.undoManager.isUndoingRedoing||this.Wd())}},groupTemplateMap:{get:function(){return this.Yi},set:function(t){var i=this.Yi;i!==t&&(this.Yi=t,this.g("groupTemplateMap",i,t),this.undoManager.isUndoingRedoing||this.Wd())}},linkTemplate:{get:function(){return this.Kh.I("")},set:function(t){var i=this.Kh.I("");i!==t&&(this.Kh.add("",t),this.g("linkTemplate",i,t),this.undoManager.isUndoingRedoing||this.Wd())}},linkTemplateMap:{get:function(){return this.Kh},set:function(t){var i=this.Kh;i!==t&&(this.Kh=t,this.g("linkTemplateMap",i,t),this.undoManager.isUndoingRedoing||this.Wd())}},isMouseCaptured:{get:function(){return this.qw},set:function(t){var i=this.ta;i!==null&&(i=i.Oa,i instanceof SVGElement||(t?(this.lastInput.bubbles=!1,this.removeEventListener(i,"pointermove",this.ck,!1),this.removeEventListener(i,"pointerdown",this.ui,!1),this.removeEventListener(i,"pointerup",this.ek,!1),this.removeEventListener(i,"pointerout",this.dk,!1),this.removeEventListener(i,"pointercancel",this.bk,!1),this.addEventListener(N,"pointermove",this.ck,!0),this.addEventListener(N,"pointerdown",this.ui,!0),this.addEventListener(N,"pointerup",this.ek,!0),this.addEventListener(N,"pointerout",this.dk,!0),this.addEventListener(N,"pointercancel",this.bk,!0),this.removeEventListener(i,"wheel",this.Zj,!1),this.addEventListener(N,"wheel",this.Zj,!0),this.addEventListener(N,"selectstart",this.preventDefault,!1)):(this.removeEventListener(N,"pointermove",this.ck,!0),this.removeEventListener(N,"pointerdown",this.ui,!0),this.removeEventListener(N,"pointerup",this.ek,!0),this.removeEventListener(N,"pointerout",this.dk,!0),this.removeEventListener(N,"pointercancel",this.bk,!0),this.addEventListener(i,"pointermove",this.ck,!1),this.addEventListener(i,"pointerdown",this.ui,!1),this.addEventListener(i,"pointerup",this.ek,!1),this.addEventListener(i,"pointerout",this.dk,!1),this.addEventListener(i,"pointercancel",this.bk,!1),this.removeEventListener(N,"wheel",this.Zj,!0),this.removeEventListener(N,"selectstart",this.preventDefault,!1),this.addEventListener(i,"wheel",this.Zj,!1)),this.qw=t))}},position:{get:function(){return this.pa},set:function(t){var i=F.alloc().assign(this.pa);if(!i.D(t)){var s=this.viewportBounds.copy();this.pa.assign(t),sL(this.animationManager,i,this.pa),this.wb||this.ta===null&&!this.vo.w()?va(this):(this.wb=!0,t=this.scale,eb(this,this.Rp,this.Aa/t,this.ya/t,this.yk,!1),this.wb=!1),this.wb||this.onViewportBoundsChanged(s,this.viewportBounds,this.Ca,!1)}F.free(i)}},initialPosition:{get:function(){return this.yt},set:function(t){this.yt.D(t)||(this.yt=t.J())}},initialScale:{get:function(){return this.zt},set:function(t){this.zt!==t&&(this.zt=t)}},grid:{get:function(){return this.fe===null&&(this.fe=SL(this)),this.fe},set:function(t){var i=this.fe;if(i!==t){i===null&&(i=this.fe=SL(this)),t.type!==nt.Grid&&D("Diagram.grid must be a Panel of type Panel.Grid");var s=i.panel;s!==null&&s.remove(i),this.fe=t,t.name="GRID",s!==null&&s.add(t),Oa(this),this.N(),this.g("grid",i,t)}}},viewportBounds:{get:function(){return this.Rw}},viewSize:{get:function(){return this.vo},set:function(t){var i=this.viewSize;i.D(t)||(this.vo=t=t.J(),this.ya=this.Aa=0,t.w()?(this.Aa=t.width,this.ya=t.height):this.Ka!==null&&(this.Aa=this.Ka.clientWidth||1,this.ya=this.Ka.clientHeight||1),va(this),this.Ya(),this.g("viewSize",i,t),this.redraw())}},fixedBounds:{get:function(){return this.tt},set:function(t){var i=this.tt;i.D(t)||(t.width!==-1/0&&t.height!==1/0&&t.height!==-1/0||D("fixedBounds width/height must not be Infinity"),this.tt=t=t.J(),this.Ya(),this.g("fixedBounds",i,t))}},scrollMargin:{get:function(){return this.rj},set:function(t){typeof t=="number"&&(t=new ne(t));var i=this.rj;i.D(t)||(this.rj=t=t.J(),this.g("scrollMargin",i,t),this.gk())}},scrollMode:{get:function(){return this.sj},set:function(t){var i=this.sj;i!==t&&(this.sj=t,t===jh&&Bs(this,!1),this.g("scrollMode",i,t),this.Ee=!0,this.N())}},scrollsPageOnFocus:{get:function(){return this.mu},set:function(t){var i=this.mu;i!==t&&(this.mu=t,this.g("scrollsPageOnFocus",i,t))}},positionComputation:{get:function(){return this.Yt},set:function(t){var i=this.Yt;i!==t&&(this.Yt=t,Bs(this,!1),this.g("positionComputation",i,t))}},scaleComputation:{get:function(){return this.eu},set:function(t){var i=this.eu;i!==t&&(this.eu=t,CL(this,this.scale,this.scale),this.g("scaleComputation",i,t))}},documentBounds:{get:function(){return this.Rp}},isVirtualized:{get:function(){return this.Ht},set:function(t){var i=this.Ht;i!==t&&(this.Ht=t,this.g("isVirtualized",i,t))}},scale:{get:function(){return this.Ca},set:function(t){var i=this.Ca;i!==t&&CL(this,i,t)}},defaultScale:{get:function(){return this.Op},set:function(t){this.Op=t}},autoScale:{get:function(){return this.yh},set:function(t){var i=this.yh;i!==t&&(this.yh=t,this.g("autoScale",i,t),t!==Mr&&Bs(this,!1))}},initialAutoScale:{get:function(){return this.Fg},set:function(t){var i=this.Fg;i!==t&&(this.Fg=t,this.g("initialAutoScale",i,t))}},initialViewportSpot:{get:function(){return this.At},set:function(t){var i=this.At;i!==t&&(t.sb()||D("initialViewportSpot must be a specific Spot: "+t),this.At=t,this.g("initialViewportSpot",i,t))}},initialDocumentSpot:{get:function(){return this.xt},set:function(t){var i=this.xt;i!==t&&(t.sb()||D("initialViewportSpot must be a specific Spot: "+t),this.xt=t,this.g("initialDocumentSpot",i,t))}},minScale:{get:function(){return this.Nt},set:function(t){var i=this.Nt;i!==t&&(0<t?(this.Nt=t,this.g("minScale",i,t),t>this.scale&&(this.scale=t)):q(t,"> 0",H,"minScale"))}},maxScale:{get:function(){return this.Lt},set:function(t){var i=this.Lt;i!==t&&(0<t?(this.Lt=t,this.g("maxScale",i,t),t<this.scale&&(this.scale=t)):q(t,"> 0",H,"maxScale"))}},zoomPoint:{get:function(){return this.yu},set:function(t){this.yu.D(t)||(this.yu=t=t.J())}},contentAlignment:{get:function(){return this.yk},set:function(t){var i=this.yk;i.D(t)||(this.yk=t=t.J(),this.g("contentAlignment",i,t),Bs(this,!1))}},initialContentAlignment:{get:function(){return this.oq},set:function(t){var i=this.oq;i.D(t)||(this.oq=t=t.J(),this.g("initialContentAlignment",i,t))}},padding:{get:function(){return this.zb},set:function(t){typeof t=="number"&&(t=new ne(t));var i=this.zb;i.D(t)||(this.zb=t=t.J(),this.Ya(),this.g("padding",i,t))}},partManager:{get:function(){return this.Pc},set:function(t){var i=this.Pc;i!==t&&(t.diagram!==null&&D("Cannot share PartManagers between Diagrams: "+t.toString()),i&&i.Xe(null),this.Pc=t,t.Xe(this))}},nodes:{get:function(){return this.partManager.nodes.iterator}},links:{get:function(){return this.partManager.links.iterator}},parts:{get:function(){return this.partManager.parts.iterator}},layout:{get:function(){return this.Sc},set:function(t){var i=this.Sc;i!==t&&(this.Sc=t,t.diagram=this,t.group=null,this.xh=!0,this.g("layout",i,t),this.ac())}},isTreePathToChildren:{get:function(){return this.Gt},set:function(t){var i=this.Gt;if(i!==t&&(this.Gt=t,this.g("isTreePathToChildren",i,t),!this.undoManager.isUndoingRedoing))for(t=this.nodes;t.next();)y0(t.value)}},treeCollapsePolicy:{get:function(){return this.tu},set:function(t){var i=this.tu;i!==t&&(t!==gf&&t!==Sb&&t!==kb&&D("Unknown Diagram.treeCollapsePolicy: "+t),this.tu=t,this.g("treeCollapsePolicy",i,t))}},Ue:{get:function(){return this.pw},set:function(t){this.pw=t}},avoidanceCellSize:{get:function(){return this.aw},set:function(t){this.Xh=null,this.aw=new At(Math.max(1,t.width),Math.max(1,t.height))}},avoidanceLimit:{get:function(){return this.bw},set:function(t){this.bw=Math.max(1,t)}},autoScrollInterval:{get:function(){return this.tp},set:function(t){var i=this.tp;i!==t&&(this.tp=t,this.g("autoScrollInterval",i,t))}},autoScrollRegion:{get:function(){return this.wp},set:function(t){typeof t=="number"&&(t=new ne(t));var i=this.wp;i.D(t)||(this.wp=t=t.J(),this.Ya(),this.g("autoScrollRegion",i,t))}}}),S.Object.defineProperties(H,{licenseKey:{get:function(){return Pb.kc()},set:function(t){Pb.add(t.replace(/\s/g,""))}},version:{get:function(){return jG}}}),H.prototype.makeImageData=H.prototype.Jx,H.prototype.makeImage=H.prototype.Wz,H.prototype.cacheGroupExternalLinks=H.prototype.Fu,H.prototype.addRenderer=H.prototype.$r,H.prototype.makeSVG=H.prototype.av,H.prototype.makeSvg=H.prototype.Bs,H.prototype.stopAutoScroll=H.prototype.ug,H.prototype.doAutoScroll=H.prototype.fs,H.prototype.isUnoccupied=H.prototype.Xj,H.prototype.raiseDiagramEvent=H.prototype.R,H.prototype.removeDiagramListener=H.prototype.$l,H.prototype.addDiagramListener=H.prototype.Bj,H.prototype.findTreeRoots=H.prototype.yz,H.prototype.layoutDiagram=H.prototype.Uz,H.prototype.findTopLevelGroups=H.prototype.qz,H.prototype.findTopLevelNodesAndLinks=H.prototype.rz,H.prototype.ensureBounds=H.prototype.Va,H.prototype.findLinksByExample=H.prototype.ks,H.prototype.findNodesByExample=H.prototype.ls,H.prototype.findLinkForData=H.prototype.Kc,H.prototype.findNodeForData=H.prototype.ii,H.prototype.findPartForData=H.prototype.Lc,H.prototype.findLinkForKey=H.prototype.findLinkForKey,H.prototype.findNodeForKey=H.prototype.Wb,H.prototype.findPartForKey=H.prototype.findPartForKey,H.prototype.rebuildParts=H.prototype.Wd,H.prototype.transformViewToDoc=H.prototype.Os,H.prototype.transformRectDocToView=H.prototype.zA,H.prototype.transformDocToView=H.prototype.np,H.prototype.centerRect=H.prototype.ds,H.prototype.scrollToRect=H.prototype.tv,H.prototype.scroll=H.prototype.scroll,H.prototype.highlightCollection=H.prototype.Jz,H.prototype.highlight=H.prototype.Iz,H.prototype.selectCollection=H.prototype.rA,H.prototype.select=H.prototype.select,H.prototype.updateAllRelationshipsFromData=H.prototype.qp,H.prototype.updateAllTargetBindings=H.prototype.updateAllTargetBindings,H.prototype.commit=H.prototype.commit,H.prototype.rollbackTransaction=H.prototype.Kf,H.prototype.commitTransaction=H.prototype.eb,H.prototype.startTransaction=H.prototype.Ea,H.prototype.raiseChanged=H.prototype.g,H.prototype.raiseChangedEvent=H.prototype.cb,H.prototype.removeChangedListener=H.prototype.hk,H.prototype.addChangedListener=H.prototype.Pe,H.prototype.removeModelChangedListener=H.prototype.mA,H.prototype.addModelChangedListener=H.prototype.Yw,H.prototype.findLayer=H.prototype.Pj,H.prototype.removeLayer=H.prototype.kA,H.prototype.addLayerAfter=H.prototype.Cy,H.prototype.addLayerBefore=H.prototype.Ww,H.prototype.addLayer=H.prototype.zl,H.prototype.moveParts=H.prototype.moveParts,H.prototype.copyParts=H.prototype.Jj,H.prototype.removeParts=H.prototype.Hs,H.prototype.remove=H.prototype.remove,H.prototype.add=H.prototype.add,H.prototype.clearDelayedGeometries=H.prototype.bx,H.prototype.setProperties=H.prototype.mm,H.prototype.attach=H.prototype.Du,H.prototype.set=H.prototype.set,H.prototype.resetInputOptions=H.prototype.Sx,H.prototype.setInputOption=H.prototype.sA,H.prototype.getInputOption=H.prototype.Pl,H.prototype.resetRenderingHints=H.prototype.Tx,H.prototype.setRenderingHint=H.prototype.Xx,H.prototype.getRenderingHint=H.prototype.Gf,H.prototype.maybeUpdate=H.prototype.bd,H.prototype.requestUpdate=H.prototype.ac,H.prototype.delayInitialization=H.prototype.Xy,H.prototype.isUpdateRequested=H.prototype.Pz,H.prototype.invalidateDocumentBounds=H.prototype.Ya,H.prototype.findObjectsNear=H.prototype.og,H.prototype.findPartsNear=H.prototype.mz,H.prototype.findObjectsIn=H.prototype.Cf,H.prototype.findPartsIn=H.prototype.ux,H.prototype.findObjectsAt=H.prototype.ji,H.prototype.findPartsAt=H.prototype.lz,H.prototype.findObjectAt=H.prototype.jc,H.prototype.findPartAt=H.prototype.Nl,H.prototype.focusObject=H.prototype.zz,H.prototype.alignDocument=H.prototype.Jy,H.prototype.zoomToRect=H.prototype.BA,H.prototype.zoomToFit=H.prototype.zoomToFit,H.prototype.diagramScroll=H.prototype.kx,H.prototype.focus=H.prototype.focus;var ox=new jt,IL=null,Os=N.document!==void 0,ip=null,Jg="",Mr=new it(H,"None",0),np=new it(H,"Uniform",1),lx=new it(H,"UniformToFill",2),xb=new it(H,"CycleAll",10),FL=new it(H,"CycleNotDirected",11),VL=new it(H,"CycleNotDirectedFast",12),zL=new it(H,"CycleNotUndirected",13),XL=new it(H,"CycleDestinationTree",14),BL=new it(H,"CycleSourceTree",15),jh=new it(H,"DocumentScroll",1),wb=new it(H,"InfiniteScroll",2),gf=new it(H,"TreeParentCollapsed",21),Sb=new it(H,"AllParentsCollapsed",22),kb=new it(H,"AnyParentsCollapsed",23),Pb=new ct,jG="2.3.11",rp="image",_L=null,ZL=!1;function EG(){if(Os){var t=N.document.createElement("canvas"),i=t.getContext("2d"),s=ht("7ca11abfd022028846");i[s]=ht("398c3597c01238");for(var l=["5da73c80a36455d7038e4972187c3cae51fd22",E.Dx+"4ae6247590da4bb21c324ba3a84e385776",Xt.xF+"fb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387",U.za],u=1;5>u;u++)i[ht("7ca11abfd7330390")](ht(l[u-1]),10,15*u);for(i[s]=ht("39f046ebb36e4b"),s=1;5>s;s++)i[ht("7ca11abfd7330390")](ht(l[s-1]),10,15*s);(l.length!==4||l[0][0]!=="5"||l[3][0]!=="7")&&(Xt.prototype.Cd=Xt.prototype.Eu),_L=t}}H.className="Diagram",H.fromDiv=function(t){var i=t;return typeof t=="string"&&(i=N.document.getElementById(t)),i instanceof HTMLDivElement&&i.H instanceof H?i.H:null},H.inherit=function(t,i){function s(){}if(Object.getPrototypeOf(t).prototype)throw Error(`Used go.Diagram.inherit defining already defined class 
`+t);s.prototype=i.prototype,t.prototype=new s,t.prototype.constructor=t},H.useDOM=function(t){Os=t?N.document!==void 0:!1},H.isUsingDOM=function(){return Os},H.None=Mr,H.Uniform=np,H.UniformToFill=lx,H.CycleAll=xb,H.CycleNotDirected=FL,H.CycleNotDirectedFast=VL,H.CycleNotUndirected=zL,H.CycleDestinationTree=XL,H.CycleSourceTree=BL,H.DocumentScroll=jh,H.InfiniteScroll=wb,H.TreeParentCollapsed=gf,H.AllParentsCollapsed=Sb,H.AnyParentsCollapsed=kb;function YL(){this.wy=null,this.j="zz@orderNum",this._tk==="63ad05bbe23a1786468a4c741b6d2"?this.Rc=this.j=!0:this.Rc=null}function sp(t,i){if(i.ib.setTransform(i.Nb,0,0,i.Nb,0,0),i.ib.yc(),t.Rc===null)t:{i="f";var s=N[ht("76a715b2f73f148a")][ht("72ba13b5")]||"";if(t.Rc=!0,Os){var l=H[ht("76a115b6ed251eaf4692")];if(l)for(var u=Pb.iterator;u.next()&&(l=u.value,l=ht(l).split(ht("39e9")),!(6>l.length));){var c=ht(l[1]).split(".");if(l[4]!=="7da71ca0")break;var d=ht(E[ht("6cae19")]).split(".");if(c[0]>d[0]||c[0]===d[0]&&c[1]>=d[1]){var m=N[ht("74a900bae4370f8b51")][ht("6fbb13a1c2311e8a57")].toLowerCase();if(d=m[ht("73a612b6fb191d")](ht("3aad1ab6e022098b4dc4")),c=ht(l[2]),-1<d&&(m=m[ht("73a612b6fb191d")](c.toLowerCase()+"/"),t.Rc=!(-1<m&&m<d),!t.Rc))break;for(d=s[ht("76ad18b4f73e")],m=s[ht("73a612b6fb191d")](ht("35e7"))+2;m<d;m++)i+=s[m];if(d=i[ht("73a612b6fb191d")](c),0>d&&c!==ht("7da71ca0ad381e90")&&(d=i[ht("73a612b6fb191d")](ht("76a715b2ef3e149757"))),0>d&&(d=i[ht("73a612b6fb191d")](ht("76a715b2ef3e149757"))),0>d&&(d=i[ht("73a612b6fb191d")](ht("2bfa41fdb3784bca12"))),0>d&&(d=s[ht("73a612b6fb191d")](ht("7baa19a6f76c1988428554"))),t.Rc=!(0<=d&&d<i[ht("73a612b6fb191d")](ht("35"))||i[ht("73a612b6fb191d")](ht("35"))===-1),!t.Rc||s[ht("73a612b6fb191d")](ht("7fb002b6ed25128b4da25b2e"))&&(t.Rc=!(-1<s[ht("73a612b6fb191d")](c)),!t.Rc)||(d=N[ht("76a715b2f73f148a")][ht("69ad17a1e03e")],m=d[ht("73a612b6fb191d")](ht("7fb002b6ed25128b4da25b2e")),-1<m&&(t.Rc=!(d[ht("73a612b6fb191d")](c)>m),!t.Rc)))break;if(c[0]==="#"){d=N.document.createElement("div");for(var y=l[0].replace(/[A-Za-z]/g,"");4>y.length;)y+="9";if(m=y,y=y.substr(y.length-4),l="",l+=["gsh","gsf"][parseInt(y.substr(0,1),10)%2],l+=["Header","Background","Display","Feedback"][parseInt(y.substr(0,1),10)%4],d[ht("79a417a0f0181a8946")]=l,N.document[ht("78a712aa")]){N.document[ht("78a712aa")][ht("7bb806b6ed32388c4a875b")](d),y=N.getComputedStyle(d).getPropertyValue(ht("78a704b7e62456904c9b12701b6532a8"));var O=N.getComputedStyle(d).getPropertyValue(ht("75b817b0ea2202"));if(N.document[ht("78a712aa")][ht("68ad1bbcf533388c4a875b")](d),y){if(d=N[ht("77a902b0eb1b1e804a8a")],O==="0."+parseInt(m,10)%100||y.indexOf(parseInt(c[1]+c[2],16))!==-1&&y.indexOf(parseInt(c[3]+c[4],16))!==-1){t.Rc=!1;break}else if(d&&d(ht("32ae19a1e0331fc94084537c067a67fa59f1386b89d006")).matches)for(l="."+l,c=0;c<document.styleSheets.length;c++){d=document.styleSheets[c].rules||document.styleSheets[c].cssRules;for(var w in d)if(l===d[w].selectorText){t.Rc=!1;break t}}}}else t.Rc=null,t.Rc=!1}}}else{for(w=s[ht("76ad18b4f73e")],u=s[ht("73a612b6fb191d")](ht("35e7"))+2;u<w;u++)i+=s[u];s=i[ht("73a612b6fb191d")](ht("7da71ca0ad381e90")),t.Rc=!(0<=s&&s<i[ht("73a612b6fb191d")](ht("35")))}}}return 0<t.Rc&&t!==t.wy}YL.className="DiagramHelper";function ku(t){this.j=t===void 0?new F:t,this.o=new F}S.Object.defineProperties(ku.prototype,{point:{get:function(){return this.j},set:function(t){this.j=t}},shifted:{get:function(){return this.o},set:function(t){this.o=t}}});var UL="DraggingInfo";ku.className="DraggingInfo";function WL(t,i,s){this.node=t,this.info=i,this.Su=s}WL.className="DraggingNodeInfoPair";function op(){this.reset()}op.prototype.reset=function(){this.isGridSnapEnabled=!1,this.isGridSnapRealtime=!0,this.gridSnapCellSize=new At(NaN,NaN).freeze(),this.gridSnapCellSpot=Ji,this.gridSnapOrigin=new F(NaN,NaN).freeze(),this.groupsSnapMembers=this.dragsTree=this.dragsLink=!1,this.dragsMembers=this.groupsAlwaysMove=!0},op.className="DraggingOptions";function ax(t,i){if(typeof t=="string"||N.Element&&t instanceof Element)var s=H.call(this,t)||this;else s=H.call(this)||this,i=t;return qL(s),i&&s.mm(i),s}x(ax,H);function qL(t){t.allowDragOut=!0,t.allowMove=!1,t.isReadOnly=!0,t.contentAlignment=Al,t.layout=new xi}ax.prototype.reset=function(){H.prototype.reset.call(this),qL(this)},ax.className="Palette";function Go(t,i){if(typeof t=="string"||N.Element&&t instanceof Element)var s=H.call(this,t)||this;else s=H.call(this)||this,i=t;var l=s;s.animationManager.isEnabled=!1,s.wb=!0,s.V=null,s.ln=!1,s.mn=!1,s.F=!0,s.u=!0,s.ia=0,s.o=!1,s.pl=null,s.Xx("drawShadows",!1),t=new kt;var u=new It;return u.stroke="magenta",u.strokeWidth=2,u.fill="transparent",u.name="BOXSHAPE",t.selectable=!0,t.selectionAdorned=!1,t.selectionObjectName="BOXSHAPE",t.locationObjectName="BOXSHAPE",t.resizeObjectName="BOXSHAPE",t.cursor="move",t.add(u),s.j=t,s.allowCopy=!1,s.allowDelete=!1,s.allowSelect=!0,s.autoScrollRegion=new ne(0,0,0,0),s.pa.h(0,0),s.toolManager.gb("Dragging",new yf,s.toolManager.mouseMoveTools),s.click=function(){var c=l.observed;if(c!==null){var d=c.viewportBounds,m=l.lastInput.documentPoint;c.position=new F(m.x-d.width/2,m.y-d.height/2)}},s.Pf=function(){l.Ya(),t0(l)},s.Xd=function(){l.observed!==null&&(l.Ya(),l.N())},s.Ha=function(){1>l.updateDelay?l.N():l.o||(l.o=!0,setTimeout(function(){return l.redraw()},l.updateDelay))},s.Of=function(){l.observed!==null&&t0(l)},s.autoScale=np,s.wb=!1,i&&Object.assign(s,i),s}x(Go,H),Go.prototype.computePixelRatio=function(){return 1},Go.prototype.redraw=function(){if(this.o&&1<=this.updateDelay){this.o=!1;var t=this.ta,i=this.ib;if(t!==null&&i!==null){if(ep(this),this.pl===null){var s=new qr(null);s.width=t.width,s.height=t.height,this.pl=s}try{this.ta=this.pl,this.ib=this.ta.context,this.ib.Vc(!0),this.ib.setTransform(1,0,0,1,0,0),this.ib.clearRect(0,0,this.ta.width,this.ta.height),GL(this)}finally{this.ta=t,this.ib=i}}}H.prototype.redraw.call(this)},Go.prototype.hc=function(){if(this.Ka===null&&D("No div specified"),this.ta===null&&D("No canvas specified"),!(this.ta instanceof vo)&&(uT(this.box),this.Fc)){var t=this.observed;if(t!==null&&!t.animationManager.defaultAnimation.isAnimating&&t.pi){ep(this);var i=this.ta;t=this.ib,t.Vc(!0),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,i.width,i.height),1>this.updateDelay?GL(this):this.pl!==null&&(t.drawImage(this.pl.Oa,0,0),i=this.Bb,i.reset(),this.scale!==1&&i.scale(this.scale),this.position.x===0&&this.position.y===0||i.translate(-this.position.x,-this.position.y),t.scale(this.Nb,this.Nb),t.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),t.yc()),i=this.Wa.s;for(var s=i.length,l=0;l<s;l++)i[l].hc(t,this);this.Fc=this.vd=!1}}};function GL(t){var i=t.observed;if(i!==null){var s=t.drawsTemporaryLayers,l=t.drawsGrid&&s,u=i.grid;l&&u!==null&&u.visible&&!isNaN(u.width)&&!isNaN(u.height)&&(u=tt.alloc().assign(t.viewportBounds).ed(i.viewportBounds),Oa(i,u),tt.free(u),pn(i));var c=t.Bb;c.reset(),t.scale!==1&&c.scale(t.scale),t.position.x===0&&t.position.y===0||c.translate(-t.position.x,-t.position.y),u=t.ib,u.scale(t.Nb,t.Nb),u.transform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy),u.yc(),i=i.Wa.s,c=i.length;for(var d=0;d<c;d++){var m=i[d],y=t;if(m.visible&&m.opacity!==0){var O=m.diagram.grid.part;if(!s&&m.isTemporary)l&&O.layer===m&&(m=Wg(m,u),O.hc(u,y),u.globalAlpha=m);else{for(var w=Wg(m,u),k=y.scale,P=tt.alloc(),T=m.Pa.s,M=T.length,A=0;A<M;A++){var I=T[A];(l||I!==O)&&m.Nj(u,I,y,null,k,P,!1)}tt.free(P),u.globalAlpha=w}}}}}function t0(t){var i=t.box;if(i!==null){var s=t.observed;if(s!==null){t.Fc=!0,s=s.viewportBounds;var l=i.selectionObject,u=At.alloc();u.h(s.width,s.height),l.desiredSize=u,At.free(u),t=2/t.scale,l instanceof It&&(l.strokeWidth=t),i.location=new F(s.x-t/2,s.y-t/2),i.isSelected=!0}}}Go.prototype.computeBounds=function(){var t=this.observed;if(t===null)return Fv;var i=t.documentBounds.copy();return i.ed(t.viewportBounds),i},Go.prototype.invalidateViewport=function(){this.Fc!==!0&&(this.Fc=!0,this.ac())},Go.prototype.onViewportBoundsChanged=function(t,i,s,l){this.wb||(this.vd=!0,this.N(),this.Ee=!0,this.Ya(),t0(this),this.gc.scale=s,this.gc.position.x=t.x,this.gc.position.y=t.y,this.gc.bounds.assign(t),this.gc.Oz=l,this.R("ViewportBoundsChanged",this.gc,t))},S.Object.defineProperties(Go.prototype,{observed:{get:function(){return this.V},set:function(t){var i=this.V;if(t instanceof Go&&D("Overview.observed Diagram may not be an Overview itself: "+t),i!==t){if(i!==null&&(this.remove(this.box),i.$l("ViewportBoundsChanged",this.Pf),i.$l("DocumentBoundsChanged",this.Xd),i.$l("InvalidateDraw",this.Ha),i.$l("AnimationFinished",this.Of)),this.V=t,t!==null&&(t.Bj("ViewportBoundsChanged",this.Pf),t.Bj("DocumentBoundsChanged",this.Xd),t.Bj("InvalidateDraw",this.Ha),t.Bj("AnimationFinished",this.Of),this.add(this.box)),this.Ya(),t===null){this.pl=null;var s=this.ta,l=this.ib;s&&l&&(l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,s.width,s.height))}else this.Ha(null),t0(this),this.N();this.g("observed",i,t)}}},box:{get:function(){return this.j},set:function(t){var i=this.j;i!==t&&(this.j=t,this.remove(i),this.add(this.j),t0(this),this.g("box",i,t))}},drawsTemporaryLayers:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t,this.redraw())}},drawsGrid:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t,this.redraw())}},updateDelay:{get:function(){return this.ia},set:function(t){0>t&&(t=0),this.ia!==t&&(this.ia=t)}}}),Go.className="Overview";function yf(){Me.call(this),this.j=null}x(yf,Me),yf.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t===null||!t.allowMove||!t.allowSelect)return!1;var i=t.observed;if(i===null)return!1;var s=t.lastInput;return!s.left||t.currentTool!==this&&(!this.isBeyondDragSize()||s.isTouchEvent&&s.timestamp-t.firstInput.timestamp<this.delay)?!1:(this.findDraggablePart()===null&&(s=i.viewportBounds,this.j=new F(s.width/2,s.height/2),t=t.firstInput.documentPoint,i.position=new F(t.x-this.j.x,t.y-this.j.y)),!0)},yf.prototype.doActivate=function(){this.j=null,Me.prototype.doActivate.call(this)},yf.prototype.doUpdateCursor=function(){var t=this.diagram,i=t.box;i!==null&&i.cursor&&(t.currentCursor=i.cursor)},yf.prototype.moveParts=function(){var t=this.diagram,i=t.observed;if(i!==null){var s=t.box;if(s!==null){if(this.j===null){var l=t.firstInput.documentPoint;s=s.location,this.j=new F(l.x-s.x,l.y-s.y)}t=t.lastInput.documentPoint,i.position=new F(t.x-this.j.x,t.y-this.j.y)}}},yf.className="OverviewDraggingTool";function he(){Ue(this),this.H=Jd,this.Ha=this.u=this.o=!0,this.F=this.V=this.nb=this.ia=!1,this.ij=this.j=null,this.Ib=1.05,this.It=NaN,this.sw=null,this.zu=NaN,this.xu=Fv,this.hb=!0,this.cg=null,this.ob=200}he.prototype.toString=function(){return"CommandHandler"},he.prototype.Xe=function(t){this.H=t},he.prototype.doKeyDown=function(){var t=this.diagram,i=t.lastInput,s=Dt?i.meta:i.control,l=i.shift,u=i.alt,c=i.key;!s||c!=="C"&&c!=="Insert"?s&&c==="X"||l&&c==="Del"?this.canCutSelection()&&this.cutSelection():s&&c==="V"||l&&c==="Insert"?this.canPasteSelection()&&this.pasteSelection():s&&c==="Y"||u&&l&&c==="Backspace"?this.canRedo()&&this.redo():s&&c==="Z"||u&&c==="Backspace"?this.canUndo()&&this.undo():c==="Del"||c==="Backspace"?this.canDeleteSelection()&&this.deleteSelection():s&&c==="A"?this.canSelectAll()&&this.selectAll():c==="Esc"?this.canStopCommand()&&this.stopCommand():c==="Up"?t.allowVerticalScroll&&(s?t.scroll("pixel","up"):t.scroll("line","up")):c==="Down"?t.allowVerticalScroll&&(s?t.scroll("pixel","down"):t.scroll("line","down")):c==="Left"?t.allowHorizontalScroll&&(s?t.scroll("pixel","left"):t.scroll("line","left")):c==="Right"?t.allowHorizontalScroll&&(s?t.scroll("pixel","right"):t.scroll("line","right")):c==="PageUp"?l&&t.allowHorizontalScroll?t.scroll("page","left"):t.allowVerticalScroll&&t.scroll("page","up"):c==="PageDown"?l&&t.allowHorizontalScroll?t.scroll("page","right"):t.allowVerticalScroll&&t.scroll("page","down"):c==="Home"?s&&t.allowVerticalScroll?t.scroll("document","up"):!s&&t.allowHorizontalScroll&&t.scroll("document","left"):c==="End"?s&&t.allowVerticalScroll?t.scroll("document","down"):!s&&t.allowHorizontalScroll&&t.scroll("document","right"):c===" "?this.canScrollToPart()&&this.scrollToPart():c==="Subtract"?this.canDecreaseZoom()&&this.decreaseZoom():c==="Add"?this.canIncreaseZoom()&&this.increaseZoom():s&&c==="0"?this.canResetZoom()&&this.resetZoom():l&&c==="Z"?this.canZoomToFit()&&this.zoomToFit():s&&!l&&c==="G"?this.canGroupSelection()&&this.groupSelection():s&&l&&c==="G"?this.canUngroupSelection()&&this.ungroupSelection():c==="F2"||i.event&&i.event.key==="F2"?this.canEditTextBlock()&&this.editTextBlock():c==="ContextMenu"||i.event&&i.event.key==="ContextMenu"?this.canShowContextMenu()&&this.showContextMenu():i.bubbles=!0:this.canCopySelection()&&this.copySelection()},he.prototype.doKeyUp=function(){this.diagram.lastInput.bubbles=!0},he.prototype.stopCommand=function(){var t=this.diagram,i=t.currentTool;i instanceof Ce&&t.allowSelect&&t.clearSelection(),i!==null&&i.doCancel()},he.prototype.canStopCommand=function(){return!0},he.prototype.selectAll=function(){var t=this.diagram;t.N();try{t.currentCursor="wait",t.R("ChangingSelection",t.selection);for(var i=t.parts;i.next();)i.value.isSelected=!0;for(var s=t.nodes;s.next();)s.value.isSelected=!0;for(var l=t.links;l.next();)l.value.isSelected=!0}finally{t.R("ChangedSelection",t.selection),t.currentCursor=""}},he.prototype.canSelectAll=function(){return this.diagram.allowSelect},he.prototype.deleteSelection=function(){var t=this.diagram;try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),t.Ea("Delete"),t.R("SelectionDeleting",t.selection);for(var i=new at,s=t.selection.iterator;s.next();)Mu(i,s.value,!0,this.deletesTree?1/0:0,this.deletesConnectedLinks?null:!1,function(l){return l.canDelete()});t.Hs(i,!0),t.R("SelectionDeleted",i)}finally{t.eb("Delete"),t.R("ChangedSelection",t.selection),t.currentCursor=""}},he.prototype.canDeleteSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowDelete||t.selection.count===0)},he.prototype.copySelection=function(){var t=this.diagram,i=new at;for(t=t.selection.iterator;t.next();)Mu(i,t.value,!0,this.copiesTree?1/0:0,this.copiesConnectedLinks,function(s){return s.canCopy()});this.copyToClipboard(i)},he.prototype.canCopySelection=function(){var t=this.diagram;return!!(t.allowCopy&&t.allowClipboard&&t.selection.count!==0)},he.prototype.cutSelection=function(){this.copySelection(),this.deleteSelection()},he.prototype.canCutSelection=function(){var t=this.diagram;return!!(!t.isReadOnly&&!t.isModelReadOnly&&t.allowCopy&&t.allowDelete&&t.allowClipboard&&t.selection.count!==0)},he.prototype.copyToClipboard=function(t){var i=this.diagram,s=null;if(t===null)ip=null,Jg="";else{s=i.model;var l=!1,u=!1,c=null;try{s.Sl()&&(l=s.Ij,s.Ij=this.copiesParentKey),s.Vj()&&(u=s.Hj,s.Hj=this.copiesGroupKey),c=i.Jj(t,null,!0)}finally{s.Sl()&&(s.Ij=l),s.Vj()&&(s.Hj=u),s=new ct,s.addAll(c),ip=s,Jg=i.model.dataFormat}}i.R("ClipboardChanged",s)},he.prototype.pasteFromClipboard=function(){var t=new at,i=ip;if(i===null)return t;var s=this.diagram;if(Jg!==s.model.dataFormat)return t;var l=s.model,u=!1,c=!1,d=null;try{l.Sl()&&(u=l.Ij,l.Ij=this.copiesParentKey),l.Vj()&&(c=l.Hj,l.Hj=this.copiesGroupKey),d=s.Jj(i,s,!1)}finally{for(l.Sl()&&(l.Ij=u),l.Vj()&&(l.Hj=c),i=d.iterator;i.next();)s=i.value,l=i.key,s.location.w()||(l.location.w()?s.location=l.location:!s.position.w()&&l.position.w()&&(s.position=l.position)),t.add(s)}return t},he.prototype.pasteSelection=function(t){t===void 0&&(t=null);var i=this.diagram;try{i.currentCursor="wait",i.R("ChangingSelection",i.selection),i.Ea("Paste");var s=this.pasteFromClipboard();0<s.count&&i.clearSelection(!0);for(var l=s.iterator;l.next();)l.value.isSelected=!0;if(t!==null){var u=i.computePartsBounds(i.selection);if(u.w()){var c=this.computeEffectiveCollection(i.selection,i.Vm);ab(i,c,new F(t.x-u.centerX,t.y-u.centerY),i.Vm,!1)}}i.R("ClipboardPasted",s)}finally{i.eb("Paste"),i.R("ChangedSelection",i.selection),i.currentCursor=""}},he.prototype.canPasteSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowClipboard||ip===null||ip.count===0||Jg!==t.model.dataFormat)},he.prototype.undo=function(){this.diagram.undoManager.undo()},he.prototype.canUndo=function(){var t=this.diagram;return t.isReadOnly||t.isModelReadOnly?!1:t.allowUndo&&t.undoManager.canUndo()},he.prototype.redo=function(){this.diagram.undoManager.redo()},he.prototype.canRedo=function(){var t=this.diagram;return t.isReadOnly||t.isModelReadOnly?!1:t.allowUndo&&t.undoManager.canRedo()},he.prototype.decreaseZoom=function(t){t===void 0&&(t=1/this.zoomFactor);var i=this.diagram;i.autoScale===Mr&&(t=i.scale*t,t<i.minScale||t>i.maxScale||(i.scale=t))},he.prototype.canDecreaseZoom=function(t){t===void 0&&(t=1/this.zoomFactor);var i=this.diagram;return i.autoScale!==Mr?!1:(t=i.scale*t,t<i.minScale||t>i.maxScale?!1:i.allowZoom)},he.prototype.increaseZoom=function(t){t===void 0&&(t=this.zoomFactor);var i=this.diagram;i.autoScale===Mr&&(t=i.scale*t,t<i.minScale||t>i.maxScale||(i.scale=t))},he.prototype.canIncreaseZoom=function(t){t===void 0&&(t=this.zoomFactor);var i=this.diagram;return i.autoScale!==Mr?!1:(t=i.scale*t,t<i.minScale||t>i.maxScale?!1:i.allowZoom)},he.prototype.resetZoom=function(t){t===void 0&&(t=this.defaultScale);var i=this.diagram;t<i.minScale||t>i.maxScale||(i.scale=t)},he.prototype.canResetZoom=function(t){t===void 0&&(t=this.defaultScale);var i=this.diagram;return t<i.minScale||t>i.maxScale?!1:i.allowZoom},he.prototype.zoomToFit=function(){var t=this.diagram,i=t.animationManager;i.Cc(),t.redraw();var s=t.position,l=t.scale;ma(i,"Zoom To Fit"),this.isZoomToFitRestoreEnabled&&l===this.zu&&!isNaN(this.It)&&t.documentBounds.D(this.xu)?(t.scale=this.It,t.position=this.sw,this.zu=NaN,this.xu=Fv):(this.It=l,this.sw=s.copy(),t.zoomToFit(),this.zu=t.scale,this.xu=t.documentBounds.copy()),q2(i)},he.prototype.canZoomToFit=function(){return this.diagram.allowZoom},he.prototype.scrollToPart=function(t){t===void 0&&(t=null);var i=this.diagram;if(i.Va(),t===null){try{this.cg!==null&&(this.cg.next()?t=this.cg.value:this.cg=null)}catch{this.cg=null}t===null&&(0<i.highlighteds.count?this.cg=i.highlighteds.iterator:0<i.selection.count&&(this.cg=i.selection.iterator),this.cg!==null&&this.cg.next()&&(t=this.cg.value))}if(t!==null){var s=i.animationManager;ma(s,"Scroll To Part");var l=this.scrollToPartPause;if(0<l){var u=Of(this,t,[t]);if(u.length===1)i.Ea(),i.ds(t.actualBounds),i.eb("Scroll To Part");else{var c=function(){i.Ea();for(var y=u.pop();0<u.length&&y instanceof ft&&y.isTreeExpanded&&(!(y instanceof Lt)||y.isSubGraphExpanded);)y=u.pop();0<u.length?(y instanceof kt&&i.tv(y.actualBounds),y instanceof ft&&!y.isTreeExpanded&&(y.isTreeExpanded=!0),y instanceof Lt&&!y.isSubGraphExpanded&&(y.isSubGraphExpanded=!0)):(y instanceof kt&&i.ds(y.actualBounds),i.$l("LayoutCompleted",d)),i.eb("Scroll To Part")},d=function(){$(c,(s.isEnabled?s.duration:0)+l)};i.Bj("LayoutCompleted",d),c()}}else{var m=i.position.copy();i.ds(t.actualBounds),m.Xa(i.position)&&s.Cc()}}};function Of(t,i,s){if(i.isVisible())return s;if(i instanceof Wt)Of(t,i.adornedPart,s);else if(i instanceof rt){var l=i.fromNode;l!==null&&Of(t,l,s),i=i.toNode,i!==null&&Of(t,i,s)}else i instanceof ft&&(l=i.labeledLink,l!==null&&Of(t,l,s),l=i.pg(),l!==null&&(l.isTreeExpanded||l.wasTreeExpanded||s.push(l),Of(t,l,s))),i=i.containingGroup,i!==null&&(i.isSubGraphExpanded||i.wasSubGraphExpanded||s.push(i),Of(t,i,s));return s}he.prototype.canScrollToPart=function(t){return t===void 0&&(t=null),t!==null&&!(t instanceof kt)?!1:(t=this.diagram,t.selection.count===0&&t.highlighteds.count===0?!1:t.allowHorizontalScroll&&t.allowVerticalScroll)},he.prototype.collapseTree=function(t){t===void 0&&(t=null);var i=this.diagram;try{i.Ea("Collapse Tree"),ma(i.animationManager,"Collapse Tree");var s=new ct;if(t!==null&&t.isTreeExpanded)t.collapseTree(),s.add(t);else if(t===null)for(var l=i.selection.iterator;l.next();){var u=l.value;u instanceof ft&&u.isTreeExpanded&&(u.collapseTree(),s.add(u))}i.R("TreeCollapsed",s)}finally{i.eb("Collapse Tree")}},he.prototype.canCollapseTree=function(t){t===void 0&&(t=null);var i=this.diagram;if(i.isReadOnly)return!1;if(t!==null){if(!(t instanceof ft&&t.isTreeExpanded))return!1;if(0<t.Po().count)return!0}else for(t=i.selection.iterator;t.next();)if(i=t.value,i instanceof ft&&i.isTreeExpanded&&0<i.Po().count)return!0;return!1},he.prototype.expandTree=function(t){t===void 0&&(t=null);var i=this.diagram;try{i.Ea("Expand Tree"),ma(i.animationManager,"Expand Tree");var s=new ct;if(t!==null&&!t.isTreeExpanded)t.expandTree(),s.add(t);else if(t===null)for(var l=i.selection.iterator;l.next();){var u=l.value;u instanceof ft&&!u.isTreeExpanded&&(u.expandTree(),s.add(u))}i.R("TreeExpanded",s)}finally{i.eb("Expand Tree")}},he.prototype.canExpandTree=function(t){t===void 0&&(t=null);var i=this.diagram;if(i.isReadOnly)return!1;if(t!==null){if(!(t instanceof ft)||t.isTreeExpanded)return!1;if(0<t.Po().count)return!0}else for(t=i.selection.iterator;t.next();)if(i=t.value,i instanceof ft&&!i.isTreeExpanded&&0<i.Po().count)return!0;return!1},he.prototype.groupSelection=function(){var t=this.diagram,i=t.model;if(i.Wj()){var s=this.archetypeGroupData;if(s!==null){var l=null;try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),t.Ea("Group");for(var u=new ct,c=t.selection.iterator;c.next();){var d=c.value;d.Zc()&&d.canGroup()&&u.add(d)}for(var m=new ct,y=u.iterator;y.next();){var O=y.value;c=!1;for(var w=u.iterator;w.next();)if(O.Td(w.value)){c=!0;break}c||m.add(O)}if(0<m.count){var k=m.first().containingGroup;if(k!==null)for(;k!==null;){u=!1;for(var P=m.iterator;P.next();)if(!P.value.Td(k)){u=!0;break}if(u)k=k.containingGroup;else break}if(s instanceof Lt)Gr(s),l=s.copy(),l!==null&&t.add(l);else if(i.Yu(s)){var T=i.copyNodeData(s);J(T)&&(i.xf(T),l=t.ii(T))}if(l!==null){k!==null&&this.isValidMember(k,l)&&(l.containingGroup=k);for(var M=m.iterator;M.next();){var A=M.value;this.isValidMember(l,A)&&(A.containingGroup=l)}t.clearSelection(!0),l.isSelected=!0}}t.R("SelectionGrouped",l)}finally{t.eb("Group"),t.R("ChangedSelection",t.selection),t.currentCursor=""}}}},he.prototype.canGroupSelection=function(){var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowGroup||!t.model.Wj()||this.archetypeGroupData===null)return!1;for(t=t.selection.iterator;t.next();){var i=t.value;if(i.Zc()&&i.canGroup())return!0}return!1};function bb(t){var i=St();for(t=t.iterator;t.next();){var s=t.value;s instanceof rt||i.push(s)}t=new at,s=i.length;for(var l=0;l<s;l++){for(var u=i[l],c=!0,d=0;d<s;d++)if(u.Td(i[d])){c=!1;break}c&&t.add(u)}return dt(i),t}he.prototype.isValidMember=function(t,i){if(i===null||t===i||i instanceof rt)return!1;if(t!==null){if(t===i||t.Td(i))return!1;var s=t.memberValidation;if(s!==null&&!s(t,i)||t.data===null&&i.data!==null||t.data!==null&&i.data===null)return!1}return s=this.memberValidation,s!==null?s(t,i):!0},he.prototype.ungroupSelection=function(t){t===void 0&&(t=null);var i=this.diagram,s=i.model;if(s.Wj())try{i.currentCursor="wait",i.R("ChangingSelection",i.selection),i.Ea("Ungroup");var l=new ct;if(t!==null)l.add(t);else for(var u=i.selection.iterator;u.next();){var c=u.value;c instanceof Lt&&c.canUngroup()&&l.add(c)}var d=new ct;if(0<l.count){i.clearSelection(!0);for(var m=l.iterator;m.next();){var y=m.value;y.expandSubGraph();var O=y.containingGroup,w=O!==null&&O.data!==null?s.wa(O.data):void 0;d.addAll(y.memberParts);for(var k=d.iterator;k.next();){var P=k.value;if(P.isSelected=!0,!(P instanceof rt)){var T=P.data;T!==null?s.lp(T,w):P.containingGroup=O}}i.remove(y)}}i.R("SelectionUngrouped",l,d)}finally{i.eb("Ungroup"),i.R("ChangedSelection",i.selection),i.currentCursor=""}},he.prototype.canUngroupSelection=function(t){t===void 0&&(t=null);var i=this.diagram;if(i.isReadOnly||i.isModelReadOnly||!i.allowDelete||!i.allowUngroup||!i.model.Wj())return!1;if(t!==null){if(!(t instanceof Lt))return!1;if(t.canUngroup())return!0}else for(t=i.selection.iterator;t.next();)if(i=t.value,i instanceof Lt&&i.canUngroup())return!0;return!1},he.prototype.addTopLevelParts=function(t,i){var s=!0;for(t=bb(t).iterator;t.next();){var l=t.value;l.containingGroup!==null&&(!i||this.isValidMember(null,l)?l.containingGroup=null:s=!1)}return s},he.prototype.collapseSubGraph=function(t){t===void 0&&(t=null);var i=this.diagram;try{i.Ea("Collapse SubGraph"),ma(i.animationManager,"Collapse SubGraph");var s=new ct;if(t!==null&&t.isSubGraphExpanded)t.collapseSubGraph(),s.add(t);else if(t===null)for(var l=i.selection.iterator;l.next();){var u=l.value;u instanceof Lt&&u.isSubGraphExpanded&&(u.collapseSubGraph(),s.add(u))}i.R("SubGraphCollapsed",s)}finally{i.eb("Collapse SubGraph")}},he.prototype.canCollapseSubGraph=function(t){t===void 0&&(t=null);var i=this.diagram;if(i.isReadOnly)return!1;if(t!==null)return!!(t instanceof Lt&&t.isSubGraphExpanded);for(t=i.selection.iterator;t.next();)if(i=t.value,i instanceof Lt&&i.isSubGraphExpanded)return!0;return!1},he.prototype.expandSubGraph=function(t){t===void 0&&(t=null);var i=this.diagram;try{i.Ea("Expand SubGraph"),ma(i.animationManager,"Expand SubGraph");var s=new ct;if(t!==null&&!t.isSubGraphExpanded)t.expandSubGraph(),s.add(t);else if(t===null)for(var l=i.selection.iterator;l.next();){var u=l.value;u instanceof Lt&&!u.isSubGraphExpanded&&(u.expandSubGraph(),s.add(u))}i.R("SubGraphExpanded",s)}finally{i.eb("Expand SubGraph")}},he.prototype.canExpandSubGraph=function(t){t===void 0&&(t=null);var i=this.diagram;if(i.isReadOnly)return!1;if(t!==null)return t instanceof Lt&&!t.isSubGraphExpanded;for(t=i.selection.iterator;t.next();)if(i=t.value,i instanceof Lt&&!i.isSubGraphExpanded)return!0;return!1},he.prototype.editTextBlock=function(t){t===void 0&&(t=null);var i=this.diagram,s=i.toolManager.findTool("TextEditing");if(s!==null){if(t===null){t=null;for(var l=i.selection.iterator;l.next();){var u=l.value;if(u.canEdit()){t=u;break}}if(t===null)return;t=t.Ml(function(c){return c instanceof fe&&c.editable})}t!==null&&(i.currentTool=null,s.textBlock=t,i.currentTool=s)}},he.prototype.canEditTextBlock=function(t){t===void 0&&(t=null);var i=this.diagram;if(i.isReadOnly||i.isModelReadOnly||!i.allowTextEdit||i.toolManager.findTool("TextEditing")===null)return!1;if(t!==null){if(!(t instanceof fe))return!1;if(t=t.part,t!==null&&t.canEdit())return!0}else for(i=i.selection.iterator;i.next();)if(t=i.value,t.canEdit()&&(t=t.Ml(function(s){return s instanceof fe&&s.editable}),t!==null))return!0;return!1},he.prototype.showContextMenu=function(t){var i=this.diagram,s=i.toolManager.findTool("ContextMenu");if(s!==null&&(t===void 0&&(t=0<i.selection.count?i.selection.first():i),t=s.findObjectWithContextMenu(t),t!==null)){var l=i.lastInput,u=null;t instanceof xt?u=t.ga(oe):i.viewportBounds.ca(l.documentPoint)||(u=i.viewportBounds,u=new F(u.x+u.width/2,u.y+u.height/2)),u!==null&&(l.viewPoint=i.np(u),l.documentPoint=u,l.left=!1,l.right=!0,l.up=!0),i.currentTool=s,tL(s,!1,t)}},he.prototype.canShowContextMenu=function(t){var i=this.diagram,s=i.toolManager.findTool("ContextMenu");return s===null?!1:(t===void 0&&(t=0<i.selection.count?i.selection.first():i),s.findObjectWithContextMenu(t)!==null)},he.prototype.computeEffectiveCollection=function(t,i){var s=this.diagram,l=s.toolManager.findTool("Dragging"),u=s.currentTool===l;if(i===void 0&&(i=u?l.dragOptions:s.Vm),l=new jt,t===null)return l;for(var c=t.iterator;c.next();)ya(s,l,c.value,u,i);if(s.draggedLink!==null&&i.dragsLink)return l;for(c=t.iterator;c.next();)t=c.value,t instanceof rt&&(i=t.fromNode,i===null||l.contains(i)?(i=t.toNode,i===null||l.contains(i)||l.remove(t)):l.remove(t));return l},S.Object.defineProperties(he.prototype,{diagram:{get:function(){return this.H}},copiesClipboardData:{get:function(){return this.o},set:function(t){this.o=t}},copiesConnectedLinks:{get:function(){return this.u},set:function(t){this.u=t}},deletesConnectedLinks:{get:function(){return this.Ha},set:function(t){this.Ha=t}},copiesTree:{get:function(){return this.ia},set:function(t){this.ia=t}},deletesTree:{get:function(){return this.nb},set:function(t){this.nb=t}},copiesParentKey:{get:function(){return this.V},set:function(t){this.V=t}},copiesGroupKey:{get:function(){return this.F},set:function(t){this.F=t}},archetypeGroupData:{get:function(){return this.j},set:function(t){this.j=t}},memberValidation:{get:function(){return this.ij},set:function(t){this.ij=t}},defaultScale:{get:function(){return this.diagram.defaultScale},set:function(t){this.diagram.defaultScale=t}},zoomFactor:{get:function(){return this.Ib},set:function(t){1<t||D("zoomFactor must be larger than 1.0, not: "+t),this.Ib=t}},isZoomToFitRestoreEnabled:{get:function(){return this.hb},set:function(t){this.hb=t}},scrollToPartPause:{get:function(){return this.ob},set:function(t){this.ob=t}}}),he.className="CommandHandler",xL=function(){return new he};function xt(){Ue(this),this.l=30723,this.pb=1,this.an="",this.Ma=this.Me=null,this.pa=new F(NaN,NaN).freeze(),this.jd=cr,this.Bb=new Xt,this.wh=new Xt,this.Mb=null,this.Ca=this.Jk=1,this.Lb=0,this.Kg=Dd,this.uc=new tt(NaN,NaN,NaN,NaN).freeze(),this.Jb=new tt(NaN,NaN,NaN,NaN).freeze(),this.ec=new tt(0,0,NaN,NaN).freeze(),this.ba=this.Xn=this.Yn=null,this.rk=this.Kb=Zi,this.Ag=this.ho=0,this.V=this.tb=this.Dh=this.A=this.Ua=null,this.Uc=!1,this.io=this.Ng=null}var Xe,$e,Oo,Di,Ui,vs,e0,i0,n0,r0;xt.prototype.cloneProtected=function(t){t.l=this.l|6144,t.pb=this.pb,t.an=this.an,t.Ma=this.Ma,t.pa.assign(this.pa),t.jd=this.jd.J(),this.Mb!==null?t.Mb=this.Mb.copy():t.Mb=null,t.Ca=this.Ca,t.Lb=this.Lb,t.Kg=this.Kg.J(),t.uc.assign(this.uc),t.Jb.assign(this.Jb),t.ec.assign(this.ec),t.Xn=this.Xn,this.ba!==null&&(t.ba=this.ba.copy()),t.Kb=this.Kb.J(),t.rk=this.rk.J(),t.ho=this.ho,t.Ag=this.Ag,this.Ua!==null&&(t.Ua=this.Ua.copy()),this.A!==null&&(t.A=this.A.oc?this.A:this.A.copy()),this.Dh!==null&&(t.Dh=Ot(this.Dh)),this.tb!==null&&(t.tb=this.tb.copy())},xt.prototype.Vw=function(t){var i=this.Dh;if(ot(i)){for(var s=0;s<i.length;s++)if(i[s]===t)return}else this.Dh=i=[];i.push(t)},xt.prototype.Af=function(t){t.Yn=null,t.Ng=null,t.v()},xt.prototype.clone=function(){var t=new this.constructor;if(this.cloneProtected(t),this.Dh!==null)for(var i=0;i<this.Dh.length;i++){var s=this.Dh[i];t[s]=this[s]}return t},xt.prototype.copy=function(){return this.clone()},n=xt.prototype,n.qb=function(t){t.classType===rt?t.name.indexOf("Orient")===0?this.segmentOrientation=t:D("Unknown Link enum value for GraphObject.segmentOrientation property: "+t):t.classType===xt&&(this.stretch=t)},n.toString=function(){return Vt(this.constructor)+"#"+Ni(this)},n.th=function(){this.A!==null&&(this.A.oc=!0)};function li(t){t.A===null?t.A=new xf:t.A.oc&&(t.A=t.A.copy())}n.Xc=function(){if(this.ba===null){var t=new o0;t.Xi=_i,t.yj=_i,t.Vi=10,t.wj=10,t.Wi=0,t.xj=0,this.ba=t}},n.cb=function(t,i,s,l,u,c,d){var m=this.part;if(m!==null&&(m.fk(t,i,s,l,u,c,d),s===this&&t===ke&&vf(this)&&Eh(this,m,i),c=this.diagram,this.animationTriggers===null||c===null||!c.pi||c.undoManager.isUndoingRedoing||c.animationManager.Cm||(t=this.animationTriggers.get(i),t!==null&&c.animationManager.isEnabled&&!c.animationManager.isTicking&&(this.io===null&&(this.io=new jt),d=c.undoManager.transactionLevel===0,t.startCondition===K2?d=!0:t.startCondition===gL&&(d=!1),d?(c=new tn,vG(t,c),d=this.io.get(t),d!==null&&d.stop(),this.io.add(t,c),c.uu=this,c.Nw=t,c.add(this,i,l,u),c.start()):(ma(c.animationManager,"Trigger"),c.animationManager.defaultAnimation.add(this,i,l,u)))),this instanceof nt&&s===m&&(m.l&16777216)!==0&&m.data!==null))for(s=this.O.s,l=s.length,u=0;u<l;u++)m=s[u],m instanceof nt&&Ih(m,function(y){y.data!==null&&y.l&16777216&&y.La(i)})};function Eh(t,i,s){var l=t.ih();if(l!==null)for(var u=t.localBindings.iterator;u.next();){var c=u.value,d=null;if(c.sourceName!==null){if(d=LD(c,l,t),d===null)continue;c.rp(t,d,s,null)}else if(c.isToModel){var m=i.diagram;m===null||m.skipsModelSourceBindings||c.rp(t,m.model.modelData,s,l)}else{if(m=l.data,m===null)continue;var y=i.diagram;y===null||y.skipsModelSourceBindings||c.rp(t,m,s,l)}d===t&&(m=l.js(c.Ai),m!==null&&c.Mv(m,d,s))}}n.js=function(t){return this.bindingId===t?this:null},n.g=function(t,i,s){this.cb(ke,t,this,i,s)},n.Ge=function(t,i,s,l){var u=this.uc;if(u.h(t,i,s,l),this.Ca!==1||this.Lb!==0){this.Mb===null&&(this.Mb=new Xt);var c=this.Mb;c.reset(),this.mo(c,t,i,s,l),c.op(u)}};function HL(t,i,s,l){return t.pickable===!1?!1:(l.multiply(t.transform),s?t.Yc(i,l):t.fh(i,l))}n.tx=function(t,i,s){if(this.pickable===!1)return!1;var l=this.naturalBounds;return i=t.Bf(i),s?$i(t.x,t.y,0,0,0,l.height)<=i||$i(t.x,t.y,0,l.height,l.width,l.height)<=i||$i(t.x,t.y,l.width,l.height,l.width,0)<=i||$i(t.x,t.y,l.width,0,0,0)<=i:t.zd(0,0)<=i&&t.zd(0,l.height)<=i&&t.zd(l.width,0)<=i&&t.zd(l.width,l.height)<=i},n.se=function(){return!0},n.ca=function(t){var i=F.alloc();i.assign(t),this.transform.Ga(i);var s=this.actualBounds;if(!s.w())return F.free(i),!1;var l=this.diagram;if(l!==null&&l.vq){var u=l.Pl("extraTouchThreshold"),c=l.Pl("extraTouchArea"),d=c/2,m=this.naturalBounds;l=this.Df()*l.scale;var y=1/l;if(m.width*l<u&&m.height*l<u)return t=Fs(s.x-d*y,s.y-d*y,s.width+c*y,s.height+c*y,i.x,i.y),F.free(i),t}return u=!1,(this instanceof Wt||this instanceof It?Fs(s.x-5,s.y-5,s.width+10,s.height+10,i.x,i.y):s.ca(i))&&(this.tb&&!this.tb.ca(i)?u=!1:this.areaBackground!==null&&s.ca(i)||this.Ma!==null&&this.ec.ca(t)?u=!0:u=this.gh(t)),F.free(i),u},n.gh=function(t){var i=this.naturalBounds;return Fs(0,0,i.width,i.height,t.x,t.y)},n.Re=function(t){if(this.angle===0)return this.actualBounds.Re(t);var i=this.naturalBounds;i=tt.allocAt(0,0,i.width,i.height);var s=this.transform,l=!1,u=F.allocAt(t.x,t.y);return i.ca(s.Cd(u))&&(u.h(t.x,t.bottom),i.ca(s.Cd(u))&&(u.h(t.right,t.bottom),i.ca(s.Cd(u))&&(u.h(t.right,t.y),i.ca(s.Cd(u))&&(l=!0)))),F.free(u),tt.free(i),l},n.fh=function(t,i){if(i===void 0)return t.Re(this.actualBounds);var s=this.naturalBounds,l=!1,u=F.allocAt(0,0);return t.ca(i.Ga(u))&&(u.h(0,s.height),t.ca(i.Ga(u))&&(u.h(s.width,s.height),t.ca(i.Ga(u))&&(u.h(s.width,0),t.ca(i.Ga(u))&&(l=!0)))),F.free(u),l},n.Yc=function(t,i){if(i===void 0&&(i=this.transform,this.angle===0))return t.Yc(this.actualBounds);var s=this.naturalBounds,l=F.allocAt(0,0),u=F.allocAt(0,s.height),c=F.allocAt(s.width,s.height),d=F.allocAt(s.width,0),m=!1;if(t.ca(i.Ga(l))||t.ca(i.Ga(u))||t.ca(i.Ga(c))||t.ca(i.Ga(d)))m=!0;else{s=tt.allocAt(0,0,s.width,s.height);var y=F.allocAt(t.x,t.y);s.ca(i.Cd(y))?m=!0:(y.h(t.x,t.bottom),s.ca(i.Cd(y))?m=!0:(y.h(t.right,t.bottom),s.ca(i.Cd(y))?m=!0:(y.h(t.right,t.y),s.ca(i.Cd(y))&&(m=!0)))),F.free(y),tt.free(s),!m&&(U.ts(t,l,u)||U.ts(t,u,c)||U.ts(t,c,d)||U.ts(t,d,l))&&(m=!0)}return F.free(l),F.free(u),F.free(c),F.free(d),m},n.ga=function(t,i){if(i===void 0&&(i=new F),t instanceof Tt){var s=this.naturalBounds;i.h(t.x*s.width+t.offsetX,t.y*s.height+t.offsetY)}else i.set(t);return this.oe.Ga(i),i},n.mi=function(t){t===void 0&&(t=new tt);var i=this.naturalBounds,s=this.oe,l=F.allocAt(0,0).transform(s);return t.h(l.x,l.y,0,0),l.h(i.width,0).transform(s),Si(t,l.x,l.y,0,0),l.h(i.width,i.height).transform(s),Si(t,l.x,l.y,0,0),l.h(0,i.height).transform(s),Si(t,l.x,l.y,0,0),F.free(l),t},n.li=function(){var t=this.oe;return t.m11===1&&t.m12===0?t=0:(t=180*Math.atan2(t.m12,t.m11)/Math.PI,0>t&&(t+=360)),t},n.Df=function(){if(!(this.l&4096))return this.Jk;var t=this.Ca;return this.panel!==null?t*this.panel.Df():t},n.ps=function(t,i){return i===void 0&&(i=new F),i.assign(t),this.oe.Cd(i),i},n.qs=function(t,i,s){return this.Rj(t.x,t.y,i.x,i.y,s)},n.Rj=function(t,i,s,l,u){var c=this.transform,d=1/(c.m11*c.m22-c.m12*c.m21),m=c.m22*d,y=-c.m12*d,O=-c.m21*d,w=c.m11*d,k=d*(c.m21*c.dy-c.m22*c.dx),P=d*(c.m12*c.dx-c.m11*c.dy);return this.areaBackground!==null?(c=this.actualBounds,U.Ff(c.left,c.top,c.right,c.bottom,t,i,s,l,u)):(d=t*m+i*O+k,t=t*y+i*w+P,i=s*m+l*O+k,s=s*y+l*w+P,u.h(0,0),l=this.naturalBounds,s=U.Ff(0,0,l.width,l.height,d,t,i,s,u),u.transform(c),s)},xt.prototype.measure=function(t,i,s,l){if(xa(this)!==!1){var u=this.Kg,c=u.right+u.left;u=u.top+u.bottom,t=Math.max(t-c,0),i=Math.max(i-u,0),s=Math.max((s||0)-c,0),l=Math.max((l||0)-u,0),c=this.angle,u=this.desiredSize;var d=this.jq();c===90||c===270?(t=isFinite(u.height)?u.height+d:t,i=isFinite(u.width)?u.width+d:i):(t=isFinite(u.width)?u.width+d:t,i=isFinite(u.height)?u.height+d:i),u=s||0,d=l||0;var m=this instanceof nt;switch(_s(this,!0)){case $e:d=u=0,m&&(i=t=1/0);break;case Xe:isFinite(t)&&t>s&&(u=t),isFinite(i)&&i>l&&(d=i);break;case Di:isFinite(t)&&t>s&&(u=t),d=0,m&&(i=1/0);break;case Ui:isFinite(i)&&i>l&&(d=i),u=0,m&&(t=1/0)}m=this.maxSize;var y=this.minSize;u>m.width&&y.width<m.width&&(u=m.width),d>m.height&&y.height<m.height&&(d=m.height),s=Math.max(u,y.width),l=Math.max(d,y.height),m.width<s&&(s=Math.min(y.width,s)),m.height<l&&(l=Math.min(y.height,l)),t=Math.min(m.width,t),i=Math.min(m.height,i),t=Math.max(s,t),i=Math.max(l,i),(c===90||c===270)&&(c=t,t=i,i=c,c=s,s=l,l=c),this.uc.ka(),this.Vl(t,i,s,l),this.uc.freeze(),this.uc.w()||D("Non-real measuredBounds has been set. Object "+this+", measuredBounds: "+this.uc.toString()),Qr(this,!1)}},xt.prototype.Vl=function(){},xt.prototype.Dd=function(){return!1},xt.prototype.arrange=function(t,i,s,l,u){this.Tk();var c=tt.alloc();c.assign(this.Jb),this.Jb.ka(),xs(this)===!1?this.Jb.h(t,i,s,l):this.eh(t,i,s,l),this.Jb.freeze(),u===void 0?this.tb=null:this.tb=u,s=!1,u!==void 0?s=!0:(u=this.panel,u!==null&&ka(u)&&(u=u.panel),u!==null&&(u=u.ec,l=this.measuredBounds,this.areaBackground!==null&&(l=this.Jb),s=i+l.height,l=t+l.width,s=!(0<=t+.05&&l<=u.width+.05&&0<=i+.05&&s<=u.height+.05),this instanceof fe&&(t=this.naturalBounds,this.Kq>t.height||this.Db>t.width))&&(s=!0)),this.l=s?this.l|256:this.l&-257,this.Jb.w()||D("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.Jb.toString()),this.Wl(c,this.Jb),Rh(this,!1),tt.free(c)},n=xt.prototype,n.eh=function(){};function Tb(t,i,s,l,u){if(t.Jb.h(i,s,l,u),!t.desiredSize.w()){var c=t.uc;s=t.Kg,i=s.right+s.left;var d=s.top+s.bottom;switch(s=c.width+i,c=c.height+d,l+=i,u+=d,i=_s(t,!0),s===l&&c===u&&(i=$e),i){case $e:(s>l||c>u)&&(Qr(t,!0),t.measure(s>l?l:s,c>u?u:c,0,0));break;case Xe:Qr(t,!0),t.measure(l,u,0,0);break;case Di:Qr(t,!0),t.measure(l,c,0,0);break;case Ui:Qr(t,!0),t.measure(s,u,0,0)}}}n.Wl=function(t,i){var s=this.part;s!==null&&s.diagram!==null&&(s.selectionObject!==this&&s.resizeObject!==this&&s.rotateObject!==this||fT(s,!0),this.N(),Nl(t,i)||(s.oh(),this.On(s)))},n.On=function(t){this.portId!==null&&(fT(t,!0),t instanceof ft&&H$(t,this))},n.hc=function(t,i){if(!RG(this,t,i)&&this.visible){var s=this.opacity;if(s!==0){var l=1;s!==1&&(l=t.globalAlpha,t.globalAlpha=l*s);var u="";this.filter!==""&&(u=t.filter,t.filter=this.filter);var c=this instanceof nt&&ka(this),d=this.Jb;if(c){var m=this.Jb,y=this.ec,O=this.areaBackground,w=this.Ma;O===null&&w===null||t.yc(),O!==null&&(dr(this,t,O,!0,!0,y,m),O instanceof ie&&O.type===Ar?(t.beginPath(),t.rect(m.x,m.y,m.width,m.height),t.ng(O)):t.fillRect(m.x,m.y,m.width,m.height)),w!==null&&(dr(this,t,w,!0,!1,y,m),w instanceof ie&&w.type===Ar?(t.beginPath(),t.rect(m.x,m.y,m.width,m.height),t.ng(w)):t.fillRect(m.x,m.y,m.width,m.height)),this.hh(t,i)}if(!c&&(c||d.width!==0&&d.height!==0&&!isNaN(d.x)&&!isNaN(d.y))){c=this.transform,m=this.panel,this.l&4096&&cx(this),O=this.part,y=!1;var k=0;O&&i.Gf("drawShadows")&&(y=O.isShadowed)&&(w=O.shadowOffset,k=Math.max(w.y,w.x)*i.scale*i.Nb),w=this.Dd();var P;if(!(P=i.$i||!w)){var T=this.naturalBounds;P=this.wh;var M=P.m11,A=P.m21,I=P.dx,L=P.m12,z=P.m22,X=P.dy,_,Y=_=0;P=_*M+Y*A+I;var G=_*L+Y*z+X;_=T.width+k,Y=0;var ut=_*M+Y*A+I;_=_*L+Y*z+X,Y=Math.min(P,ut);var gt=Math.min(G,_),mt=Math.max(P+0,ut)-Y,st=Math.max(G+0,_)-gt;P=Y,G=gt,_=T.width+k,Y=T.height+k,ut=_*M+Y*A+I,_=_*L+Y*z+X,Y=Math.min(P,ut),gt=Math.min(G,_),mt=Math.max(P+mt,ut)-Y,st=Math.max(G+st,_)-gt,P=Y,G=gt,_=0,Y=T.height+k,ut=_*M+Y*A+I,_=_*L+Y*z+X,Y=Math.min(P,ut),gt=Math.min(G,_),mt=Math.max(P+mt,ut)-Y,st=Math.max(G+st,_)-gt,P=Y,G=gt,k=i.viewportBounds,T=k.x,M=k.y,P=!(P>k.width+T||T>mt+P||G>k.height+M||M>st+G)}if(P){if(P=(this.l&256)!==0,t.clipInsteadOfFill&&(P=!1),this instanceof fe&&(t.font=this.font),P){if(G=m.se()?m.naturalBounds:m.actualBounds,mt=Math.max(d.x,G.x),st=Math.max(d.y,G.y),k=Math.min(d.right,G.right)-mt,T=Math.min(d.bottom,G.bottom)-st,M=this.tb,M!==null&&(mt=M.x,st=M.y,k=M.width,T=M.height),mt>d.width+d.x||d.x>G.width+G.x){s!==1&&(t.globalAlpha=l),this.filter!==""&&(t.filter=u);return}t.save(),t.beginPath(),t.rect(mt,st,k,T),t.clip()}if(w){if(!O.isVisible()){s!==1&&(t.globalAlpha=l),this.filter!==""&&(t.filter=u);return}y&&(G=O.shadowOffset,t.Ev(G.x*i.scale*this.scale*i.Nb,G.y*i.scale*this.scale*i.Nb,O.shadowBlur),Rl(t),t.shadowColor=O.shadowColor)}y&&this.shadowVisible===!0?Rl(t):y&&this.shadowVisible===!1&&Ho(t),O=this.naturalBounds,this.areaBackground!==null&&(t.yc(),Cb(this,t,O,d)),t.transform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy),y&&ux(this,m)&&this.shadowVisible===null&&Ho(t),this.Ma!==null&&(t.yc(),hx(this,t,O,d)),y&&(this.Ma!==null||this.areaBackground!==null||ux(this,m))?(fx(this,!0),this.shadowVisible===null&&Ho(t)):fx(this,!1),this.hh(t,i),y&&this.l&512&&Rl(t),w&&y&&Ho(t),P&&(t.restore(),t.Vc(this instanceof nt)),c.vs()||(i=1/(c.m11*c.m22-c.m12*c.m21),t.transform(c.m22*i,-c.m12*i,-c.m21*i,c.m11*i,i*(c.m21*c.dy-c.m22*c.dx),i*(c.m12*c.dx-c.m11*c.dy)))}}s!==1&&(t.globalAlpha=l),this.filter!==""&&(t.filter=u)}}};function ux(t,i){return i===null?!1:(ka(i)&&(i=i.panel),(i.l&512)!==0||(i.type===nt.Auto||i.type===nt.Spot)&&i.Qb()!==t)}n.Dv=function(){};function Cb(t,i,s,l){dr(t,i,t.areaBackground,!0,!0,s,l),t.areaBackground instanceof ie&&t.areaBackground.type===Ar?(i.beginPath(),i.rect(l.x,l.y,l.width,l.height),i.ng(t.areaBackground)):i.fillRect(l.x,l.y,l.width,l.height)}function hx(t,i,s,l){var u=t.jq(),c=s.x,d=s.y,m=s.width+u,y=s.height+u;dr(t,i,t.Ma,!0,!1,s,l),t.Ma instanceof ie&&t.Ma.type===Ar?(i.beginPath(),i.rect(c-u/2,d-u/2,m,y),i.ng(t.Ma)):i.fillRect(c-u/2,d-u/2,m,y)}function KL(t,i,s){for(var l=i.O.s,u=l.length,c=-1,d=0;d<u;d++)if(l[d]===t){c=d;break}if(t=c,t!==-1)if(t===0)i.svg.gd?i.svg.gd.after(s):i.svg.Ma?i.svg.Ma.after(s):i.type===nt.Table?(i=i.svg.getElementsByClassName("gojs-ts"),i=i.length!==0?i[0]:null,i!==null&&i.after(s)):i.svg.prepend(s);else{for(;t!==0&&!i.M(t-1).Ed();)t--;t===0?i.svg.prepend(s):(t=i.M(t-1).svg,t!==null?t.after(s):i.svg.appendChild(s))}}function RG(t,i,s){if(!(i instanceof tr))return!1;if(!t.visible||t.opacity===0||t.Dd()&&!t.isVisible())return t.svg!==null&&t.svg.parentNode!==null&&t.svg.remove(),!0;var l=t.panel,u=t.mk(i);if(t.jk(i,s,u))return JL(t,t.svg),t.svg.parentElement!==null?(t.Dd()&&(i.ti=t.svg),!0):(t.Dd()?(i.ti!==null?i.ti.after(t.svg):i.Mj.prepend(t.svg),i.ti=t.svg):l&&KL(t,l,t.svg),!0);if(t.Dd()&&t.isShadowed){var c=t.shadowOffset;i.Ev(c.x*s.scale*t.scale*s.Nb,c.y*s.scale*t.scale*s.Nb,t.shadowBlur),Rl(i),i.shadowColor=t.shadowColor}t instanceof fe&&(i.font=t.font),i.yd=null;var d=t.transform;c=t instanceof nt;var m=t instanceof nt?ka(t):!1;t.l&4096&&cx(t);var y=t.Jb;if(i.rb.ha=[1,0,0,1,0,0],i.o=!1,u&&(i.o=!0,c&&m?(l0(i,1,0,0,1,0,0),t.svg=i.ad):c?(l0(i,d.m11,d.m12,d.m21,d.m22,d.dx,d.dy),t.svg=i.ad):l0(i,1,0,0,1,0,0)),u=t.naturalBounds,t.areaBackground!==null){var O=d.copy().Uj();i.rb.ha=[O.m11,O.m12,O.m21,O.m22,O.dx,O.dy],Cb(t,i,u,y),i.rb.ha=[1,0,0,1,0,0],i.yd.gd=i.ad,i.yd.prepend(i.ad)}return c||(i.rb.ha=[d.m11,d.m12,d.m21,d.m22,d.dx,d.dy]),t.background!==null&&(c?(m&&(i.rb.ha=[d.m11,d.m12,d.m21,d.m22,d.dx,d.dy]),hx(t,i,u,y),m&&(i.rb.ha=[1,0,0,1,0,0])):(i.rb.ha=[d.m11,d.m12,d.m21,d.m22,d.dx,d.dy],hx(t,i,u,y)),i.yd.Ma=i.ad,i.yd.prepend(i.ad)),d=i.yd,u=t.part,m=!1,u&&s.Gf("drawShadows")&&(m=u.isShadowed),i.clipInsteadOfFill&&(m=!1),t.Dd()&&m&&Rl(i),m&&t.shadowVisible===!0?Rl(i):m&&t.shadowVisible===!1&&Ho(i),u=t.panel,m&&ux(t,u)&&t.shadowVisible===null&&Ho(i),i.Hl&&(O=s.computePixelRatio(),O="drop-shadow("+i.shadowOffsetX/O+"px "+i.shadowOffsetY/O+"px "+i.shadowBlur/O/2+"px "+i.shadowColor+")",t.background!==null&&d.Ma.setAttributeNS(null,"filter",O),t.areaBackground!==null&&d.gd.setAttributeNS(null,"filter",O)),m&&(t.Ma!==null||t.areaBackground!==null||ux(t,u))?(fx(t,!0),t.shadowVisible===null&&Ho(i)):fx(t,!1),u=m,t.hh(i,s),c&&i.nh.pop(),i.o&&i.nh.pop(),d=i.Gv.gs,m=c?t.svg:i.yd,O=t.svg,!c&&O!==null&&m!==O&&O.parentNode===t.panel.svg?(t.svg.replaceWith(m),t.svg=m,m!==null&&t.Zo(i,l,y,m),t$(i,O),!0):(t.svg=m,d!==null&&m===null&&(px(i),i.nh.pop()),m===null||(t.Zo(i,l,y,m),i.Hl&&(s=s.computePixelRatio(),t.Dv(m,"drop-shadow("+i.shadowOffsetX/s+"px "+i.shadowOffsetY/s+"px "+i.shadowBlur/s/2+"px "+i.shadowColor+")")),u&&t.l&512&&Rl(i),t.Dd()&&Ho(i),s=t.Dd()?t.opacity*i.globalAlpha:t.opacity,s!==1&&m.setAttributeNS(null,"opacity",s.toString()),t.filter!==""&&m.setAttributeNS(null,"filter",t.filter),t.Dd()?(i.ti?i.ti.after(m):i.Mj.prepend(m),i.ti=m):l!==null&&KL(t,l,m),d!==null&&d(t,m),JL(t,m)),!0)}function JL(t,i){i=i.dataset,t instanceof xt&&(t.portId!==null&&(i.portId=t.portId),t instanceof nt&&(isNaN(t.itemIndex)||(i.itemIndex=t.itemIndex.toString()),t instanceof kt&&(i.className=Vt(t),t.key!==void 0&&(i.key=t.key.toString()),t instanceof rt&&(t.fromNode!==null&&(i.fromKey=t.fromNode.key.toString()),t.fromPortId!==""&&(i.fromPortId=t.fromPortId),t.toNode!==null&&(i.toKey=t.toNode.key.toString()),t.toPortId!==""&&(i.toPortId=t.toPortId)))))}n.Zo=function(t,i,s,l){var u=(this.l&256)!==0;if(t.clipInsteadOfFill&&(u=!1),u){var c=i.se()?i.naturalBounds:i.actualBounds;i=Math.max(s.x,c.x),u=Math.max(s.y,c.y);var d=Math.min(s.right,c.right)-i;s=Math.min(s.bottom,c.bottom)-u,c=this.tb,c!==null&&(i=c.x,u=c.y,d=c.width,s=c.height),c=l.getAttribute("clip-path");var m=null;c!==null&&(m=t.svg.getElementById(c.split("#")[1].slice(0,-1))),m===null?(c="CLIP"+fn++,m=t.Ud("clipPath",{id:c}),i=t.Ud("rect",{x:i,y:u,width:d,height:s}),this instanceof nt&&(u=this.transform.copy().Uj(),i.setAttribute("transform","matrix("+u.m11+", "+u.m12+", "+u.m21+", "+u.m22+", "+u.dx+", "+u.dy+")")),m.appendChild(i),t.svg.appendChild(m),l.setAttributeNS(null,"clip-path","url(#"+c+")")):(t=m.firstElementChild,t.setAttribute("x",i.toString()),t.setAttribute("y",u.toString()),t.setAttribute("width",d.toString()),t.setAttribute("height",s.toString()))}else l.removeAttributeNS(null,"clip-path"),t$(t,l)};function t$(t,i){i=i.getAttribute("clip-path"),i!==null&&(t=t.svg.getElementById(i.split("#")[1].slice(0,-1)),t!==null&&t.remove())}function Mb(t){if(t.svg!==null){var i=t.svg.innerHTML.match(/url\(#((CLIP|GRAD).+?)\)/g),s=t.svg.ownerDocument;if(i!==null){i=r(i);for(var l=i.next();!l.done;l=i.next())l=s.getElementById(l.value.split("#")[1].slice(0,-1)),l!==null&&l.remove()}t.svg.remove()}}n.hh=function(){},n.lv=function(){this.Uc=!0},n.jk=function(t,i,s){if(this.Uc)return this.lv(),this.Uc=!1;if(i=this.svg,i===null)return!1;if(!this.visible)return i.remove(),!1;if(i.nodeName!=="g"&&s||i.nodeName==="g"&&!s)return!1;var l=this.transform,u=this instanceof nt?ka(this):!1;if(!(this instanceof nt&&u))if(this instanceof Nn){var c=this.at;t.rb.ha=[l.m11,l.m12,l.m21,l.m22,l.dx,l.dy],c!==null&&n$(t,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7]),s?i.lastElementChild.setAttributeNS(null,"transform",r$(t)):i.setAttributeNS(null,"transform",r$(t))}else if(!s||this instanceof nt)i.setAttributeNS(null,"transform","matrix("+l.m11+", "+l.m12+", "+l.m21+", "+l.m22+", "+l.dx+", "+l.dy+")");else if(this instanceof It){c=i.getElementsByTagName("path");for(var d=0;d<c.length;d++)c[d].setAttributeNS(null,"transform","matrix("+l.m11+", "+l.m12+", "+l.m21+", "+l.m22+", "+l.dx+", "+l.dy+")")}else(i.lastElementChild||i).setAttributeNS(null,"transform","matrix("+l.m11+", "+l.m12+", "+l.m21+", "+l.m22+", "+l.dx+", "+l.dy+")");return c=this.Dd()?this.opacity*t.globalAlpha:this.opacity,c===1?i.removeAttribute("opacity"):i.setAttributeNS(null,"opacity",c.toString()),t.rb.ha=[1,0,0,1,0,0],(this.areaBackground!==null||i.gd!==void 0)&&(c=i.gd,this.areaBackground===null?(i.gd.remove(),i.gd=void 0):(d=l.copy().Uj(),t.rb.ha=[d.m11,d.m12,d.m21,d.m22,d.dx,d.dy],Cb(this,t,this.naturalBounds,this.actualBounds),t.rb.ha=[1,0,0,1,0,0],i.gd?(d=i.gd.getAttribute("filter"),d!==null&&t.ad.setAttribute("filter",d),i.gd.replaceWith(t.ad)):i.prepend(t.ad),i.gd=t.ad),c&&mx(t,c)),(this.background!==null||i.Ma!==void 0)&&(c=i.Ma,this.background===null?(mx(t,i.Ma),i.Ma.remove(),i.Ma=void 0):((u||s&&!(this instanceof nt))&&(t.rb.ha=[l.m11,l.m12,l.m21,l.m22,l.dx,l.dy]),hx(this,t,this.naturalBounds,this.actualBounds),i.Ma?(mx(t,i.Ma),s=i.Ma.getAttribute("filter"),s!==null&&t.ad.setAttribute("filter",s),i.Ma.replaceWith(t.ad)):i.prepend(t.ad),i.Ma=t.ad),c&&mx(t,c)),this.Zo(t,this.panel,this.actualBounds,i),!0},n.mk=function(t){if(this.background!==null||this.areaBackground!==null)return!0;var i=(this.l&256)!==0;return t.clipInsteadOfFill&&(i=!1),!!i};function dr(t,i,s,l,u,c,d){if(s!==null){var m=1,y=1;if(typeof s=="string")l?i.fillStyle=s:i.strokeStyle=s;else if(s.type===Sa)l?i.fillStyle=s.color:i.strokeStyle=s.color;else{var O=t.jq();if(m=c.width,y=c.height,u?(m=d.width,y=d.height):l||(m+=O,y+=O),(c=i instanceof Dh)&&s.xe&&(s.type===mp||s.xk===m&&s.et===y))var w=s.xe;else{var k=0,P=0,T=0,M=0,A=0,I=0;if(I=A=0,u?(A=d.x,I=d.y):l||(A-=O/2,I-=O/2),k=s.start.x*m+s.start.offsetX,P=s.start.y*y+s.start.offsetY,T=s.end.x*m+s.end.offsetX,M=s.end.y*y+s.end.offsetY,k+=A,T+=A,P+=I,M+=I,s.type===$l)w=i.createLinearGradient(k,P,T,M);else if(s.type===Ar)I=isNaN(s.endRadius)?Math.max(m,y)/2:s.endRadius,isNaN(s.startRadius)?(A=0,I=Math.max(m,y)/2):A=s.startRadius,w=i.createRadialGradient(k,P,A,T,M,I);else if(s.type===mp)try{w=i.createPattern(s.pattern,"repeat")}catch{w=null}if(s.type!==mp&&(u=s.colorStops,u!==null))for(u=u.iterator;u.next();)w.addColorStop(u.key,u.value);if(c&&(s.xe=w,w!==null&&(s.xk=m,s.et=y),w===null&&s.type===mp&&s.xk!==-1)){s.xk=-1;var L=t.diagram;L!==null&&s.xk===-1&&$(function(){L.redraw()},600)}}l?i.fillStyle=w:i.strokeStyle=w}}}n.rg=function(t){if(t instanceof nt)t:{if(this!==t&&t!==null)for(var i=this.panel;i!==null;){if(i===t){t=!0;break t}i=i.panel}t=!1}else t=!1;return t},n.Ed=function(){if(!this.visible)return!1;var t=this.panel;return t!==null?t.Ed():!0},n.If=function(){for(var t=this instanceof nt?this:this.panel;t!==null&&t.isEnabled;)t=t.panel;return t===null};function cx(t){if(t.l&2048){var i=t.Bb;if(i.reset(),!t.Jb.w()||!t.uc.w()){ap(t,!1);return}if(i.translate(t.Jb.x-t.uc.x,t.Jb.y-t.uc.y),t.scale!==1||t.angle!==0){var s=t.naturalBounds;t.mo(i,s.x,s.y,s.width,s.height)}ap(t,!1),Pu(t,!0)}t.l&4096&&(i=t.panel,i===null?(t.wh.set(t.Bb),t.Jk=t.scale,Pu(t,!1)):i.oe!==null&&(s=t.wh,s.reset(),i.se()?s.multiply(i.wh):i.panel!==null&&s.multiply(i.panel.wh),s.multiply(t.Bb),t.Jk=t.scale*i.Jk,Pu(t,!1)))}n.mo=function(t,i,s,l,u){if(this.Ca!==1&&t.scale(this.Ca),this.Lb!==0){var c=F.alloc();c.yi(i,s,l,u,oe),t.rotate(this.Lb,c.x,c.y),F.free(c)}},n.v=function(t){if(!xa(this)){t===void 0&&(t=!1),Qr(this,!0),Rh(this,!0);var i=this.panel;i===null||t||i.v()}},n.Tj=function(){xa(this)||(Qr(this,!0),Rh(this,!0))};function lp(t){if(!xs(t)){var i=t.panel;i!==null?i.v():t.Dd()&&(i=t.diagram,i!==null&&(i.De.add(t),t instanceof ft&&t.Bd(),i.ac())),Rh(t,!0)}}n.Tk=function(){!(this.l&2048)&&(ap(this,!0),Pu(this,!0))},n.Wu=function(){Pu(this,!0)},n.N=function(){var t=this.part;t!==null&&t.N()};function _s(t,i){var s=t.stretch,l=t.panel;return l!==null&&l.type===nt.Table?s0(t,l.Gb(t.row),l.Fb(t.column),i):l!==null&&l.type===nt.Auto&&l.Qb()===t?El(t,Xe,i):s===vs?l!==null?l.type===nt.Spot&&l.Qb()===t?El(t,Xe,i):(s=l.defaultStretch,s===vs?El(t,$e,i):El(t,s,i)):El(t,$e,i):El(t,s,i)}function s0(t,i,s,l){var u=t.stretch;if(u!==vs)return El(t,u,l);var c=u=null;switch(i.stretch){case Ui:c=!0;break;case Xe:c=!0}switch(s.stretch){case Di:u=!0;break;case Xe:u=!0}return i=t.panel.defaultStretch,u===null&&(u=i===Di||i===Xe),c===null&&(c=i===Ui||i===Xe),u===!0&&c===!0?El(t,Xe,l):u===!0?El(t,Di,l):c===!0?El(t,Ui,l):El(t,$e,l)}function El(t,i,s){if(s)return i;if(i===$e||(s=t.desiredSize,s.w()))return $e;if(t=t.angle,!isNaN(s.width))if(t!==90&&t!==270){if(i===Di)return $e;if(i===Xe)return Ui}else{if(i===Ui)return $e;if(i===Xe)return Di}if(!isNaN(s.height))if(t!==90&&t!==270){if(i===Ui)return $e;if(i===Xe)return Di}else{if(i===Di)return $e;if(i===Xe)return Ui}return i}function fx(t,i){t.l=i?t.l|512:t.l&-513}function vf(t){return(t.l&1024)!==0}function Qb(t,i){t.l=i?t.l|1024:t.l&-1025}function ap(t,i){t.l=i?t.l|2048:t.l&-2049}function Pu(t,i){t.l=i?t.l|4096:t.l&-4097}function xa(t){return(t.l&8192)!==0}function Qr(t,i){t.l=i?t.l|8192:t.l&-8193}function xs(t){return(t.l&16384)!==0}function Rh(t,i){t.l=i?t.l|16384:t.l&-16385}n.Fj=function(){this.svg=null},n.wi=function(t){this.Me=t,this.svg!==null&&this.svg.remove()},n.Av=function(){},n.zv=function(t){return this.pa=t,lp(this),!0},n.lm=function(t,i){(this.pa.x!==t||this.pa.y!==i)&&(this.pa.h(t,i),this.Tk())},n.jq=function(){return 0};function Lh(t){var i=t.part;if(i instanceof ft&&(t.portId!==null||t===i.port)){var s=i.diagram;s===null||s.undoManager.isUndoingRedoing||H$(i,t)}}function e$(t){var i=t.diagram;i===null||i.undoManager.isUndoingRedoing||(t instanceof nt?t instanceof ft?t.Bd():t.pm(t,function(s){Lh(s)}):Lh(t))}n.bind=function(t,i,s,l){var u=null;return typeof t=="string"?u=new Be(t,i,s,l):u=t,u.xd=this,t=this.ih(),t!==null&&x$(t)&&D("Cannot add a Binding to a template that has already been copied: "+u),this.localBindings===null&&(this.localBindings=new ct),this.localBindings.add(u),this},n.set=function(t){return Object.assign(this,t),this},n.Du=function(t){return Nb(this,t),this},n.apply=function(t){return t(this),this},n.mm=function(t){return Hg(this,t),this},n.pz=function(){return this.ih()},n.ih=function(){for(var t=this instanceof nt?this:this.panel;t!==null;){if(t.allBindings!==null)return t;t=t.panel}return null},n.Jv=function(t){return t.xd=this,this.animationTriggers===null&&(this.animationTriggers=new jt),this.animationTriggers.add(t.propertyName,t),this};function Nr(t,i){for(var s=1;s<arguments.length;++s);s=arguments;var l=null,u=null;if(typeof t=="function")u=t;else if(typeof t=="string"){var c=up.I(t);typeof c=="function"?(s=Ot(arguments),l=c(s),J(l)||D('GraphObject.make invoked object builder "'+t+'", but it did not return an Object')):u=N.go[t]}if(l===null&&(u!=null&&u.constructor||D("GraphObject.make requires a class function or GoJS class name or name of an object builder, not: "+t),l=new u),u=1,l instanceof H&&1<s.length){c=l;var d=s[1];(typeof d=="string"||d instanceof HTMLDivElement)&&(J2(c,d),u++)}for(;u<s.length;u++)c=s[u],c===void 0?D("Undefined value at argument "+u+" for object being constructed by GraphObject.make: "+l):Nb(l,c);return l}function Nb(t,i){if(typeof i=="string")if(t instanceof fe)t.text=i;else if(t instanceof It)t.figure=i;else if(t instanceof Nn)t.source=i;else if(t instanceof nt)i=ws.I(i),i!==null&&(t.type=i);else if(t instanceof ie){var s=xe(ie,i);s!==null?t.type=s:D("Unknown Brush type as an argument to GraphObject.make: "+i)}else t instanceof lt?(i=xe(lt,i),i!==null&&(t.type=i)):t instanceof Jt&&(i=xe(Jt,i),i!==null&&(t.type=i));else if(i instanceof xt)t instanceof nt||D("A GraphObject can only be added to a Panel, not to: "+t),t.add(i);else if(i instanceof We){var l;i.isRow&&typeof t.getRowDefinition=="function"?l=t.getRowDefinition(i.index):i.isRow||typeof t.getColumnDefinition!="function"||(l=t.getColumnDefinition(i.index)),l instanceof We?Ax(l,i):D("A RowColumnDefinition can only be added to an object that implements getRowDefinition/getColumnDefinition, not to: "+t)}else if(i instanceof it)typeof t.qb=="function"&&t.qb(i);else if(i instanceof ii)t.type=i;else if(i instanceof Be)t instanceof xt||t instanceof We?t.bind(i):D("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+t);else if(i instanceof qo)t instanceof xt?t.Jv(i):D("An AnimationTrigger can only be applied to a GraphObject, not to: "+t);else if(i instanceof vi)t instanceof lt&&t.type===lt.o?t.figures.add(i):D("A PathFigure can only be added to a Path Geometry, not to: "+t);else if(i instanceof Jt)t instanceof vi?t.segments.add(i):D("A PathSegment can only be added to a PathFigure, not to: "+t);else if(i instanceof ye)t instanceof H||t instanceof Lt?t.layout=i:D("A Layout can only be assigned to a Diagram or a Group, not to: "+t);else if(Array.isArray(i))for(s=0;s<i.length;s++)Nb(t,i[s]);else if(typeof i=="object"&&i!==null)if(t instanceof ie){s=new le;for(var u in i)l=parseFloat(u),isNaN(l)?s[u]=i[u]:t.addColorStop(l,i[u]);Hg(t,s)}else if(t instanceof We){i.row!==void 0?(u=i.row,(u==null||u===1/0||isNaN(u)||0>u)&&D("Must specify non-negative integer row for RowColumnDefinition "+i+", not: "+u),t.isRow=!0,t.index=u):i.column!==void 0&&(u=i.column,(u==null||u===1/0||isNaN(u)||0>u)&&D("Must specify non-negative integer column for RowColumnDefinition "+i+", not: "+u),t.isRow=!1,t.index=u),u=new le;for(s in i)s!=="row"&&s!=="column"&&(u[s]=i[s]);Hg(t,u)}else Hg(t,i);else D('Unknown initializer "'+i+'" for object being constructed by GraphObject.make: '+t)}function wa(t,i){up.add(t,i)}function dx(t,i,s){s===void 0&&(s=null);var l=t[1];if(typeof s=="function"?s(l):typeof l=="string")return t.splice(1,1),l;if(i===void 0)throw Error("no "+(typeof s=="function"?"satisfactory":"string")+" argument for GraphObject builder "+t[0]);return i}S.Object.defineProperties(xt.prototype,{bindingId:{get:function(){return this.A!==null?this.A.yp:-1},set:function(t){this.bindingId!==t&&(this.A===null&&(this.A=new xf),this.A.yp=t)}},localBindings:{get:function(){return this.A!==null?this.A.te:null},set:function(t){this.localBindings!==t&&(this.A===null&&(this.A=new xf),this.A.te=t)}},srcBindings:{get:function(){return this.A!==null?this.A.vm:null},set:function(t){this.srcBindings!==t&&(this.A===null&&(this.A=new xf),this.A.vm=t)}},shadowVisible:{get:function(){return this.A!==null?this.A.Ci:null},set:function(t){var i=this.shadowVisible;i!==t&&(li(this),this.A.Ci=t,this.Uc=!0,this.N(),this.g("shadowVisible",i,t))}},enabledChanged:{get:function(){return this.A!==null?this.A.Ib:null},set:function(t){var i=this.enabledChanged;i!==t&&(li(this),this.A.Ib=t,this.g("enabledChanged",i,t))}},segmentOrientation:{get:function(){return this.Ua!==null?this.Ua.qr:yn},set:function(t){var i=this.segmentOrientation;i!==t&&(this.Ua===null&&(this.Ua=new bu),this.Ua.qr=t,this.v(),this.g("segmentOrientation",i,t),t===yn&&(this.angle=0))}},segmentIndex:{get:function(){return this.Ua!==null?this.Ua.u:-1/0},set:function(t){t=Math.round(t);var i=this.segmentIndex;i!==t&&(this.Ua===null&&(this.Ua=new bu),this.Ua.u=t,this.v(),this.g("segmentIndex",i,t))}},segmentFraction:{get:function(){return this.Ua!==null?this.Ua.o:0},set:function(t){isNaN(t)||0>t?t=0:1<t&&(t=1);var i=this.segmentFraction;i!==t&&(this.Ua===null&&(this.Ua=new bu),this.Ua.o=t,this.v(),this.g("segmentFraction",i,t))}},segmentOffset:{get:function(){return this.Ua!==null?this.Ua.F:mo},set:function(t){var i=this.segmentOffset;i.D(t)||(t=t.J(),this.Ua===null&&(this.Ua=new bu),this.Ua.F=t,this.v(),this.g("segmentOffset",i,t))}},stretch:{get:function(){return this.A!==null?this.A.hg:vs},set:function(t){var i=this.stretch;i!==t&&(li(this),this.A.hg=t,this.v(),this.g("stretch",i,t))}},name:{get:function(){return this.A!==null?this.A.xa:""},set:function(t){var i=this.name;i!==t&&(li(this),this.A.xa=t,this.part!==null&&(this.part.Rh=null),this.g("name",i,t))}},opacity:{get:function(){return this.pb},set:function(t){var i=this.pb;i!==t&&((0>t||1<t)&&q(t,"0 <= value <= 1",xt,"opacity"),this.pb=t,this.g("opacity",i,t),t=this.diagram,i=this.part,t!==null&&i!==null&&t.N(zh(i,i.actualBounds)))}},filter:{get:function(){return this.an},set:function(t){var i=this.an;i!==t&&(this.an=t,this.Uc=!0,this.g("filter",i,t),t=this.diagram,i=this.part,t!==null&&i!==null&&t.N(zh(i,i.actualBounds)))}},visible:{get:function(){return(this.l&1)!==0},set:function(t){var i=(this.l&1)!==0;i!==t&&(this.l^=1,this.g("visible",i,t),i=this.panel,i!==null?i.v():this.Dd()&&this.$b(t),this.N(),e$(this))}},pickable:{get:function(){return(this.l&2)!==0},set:function(t){var i=(this.l&2)!==0;i!==t&&(this.l^=2,this.g("pickable",i,t))}},fromLinkableDuplicates:{get:function(){return(this.l&4)!==0},set:function(t){var i=(this.l&4)!==0;i!==t&&(this.l^=4,this.g("fromLinkableDuplicates",i,t))}},fromLinkableSelfNode:{get:function(){return(this.l&8)!==0},set:function(t){var i=(this.l&8)!==0;i!==t&&(this.l^=8,this.g("fromLinkableSelfNode",i,t))}},toLinkableDuplicates:{get:function(){return(this.l&16)!==0},set:function(t){var i=(this.l&16)!==0;i!==t&&(this.l^=16,this.g("toLinkableDuplicates",i,t))}},toLinkableSelfNode:{get:function(){return(this.l&32)!==0},set:function(t){var i=(this.l&32)!==0;i!==t&&(this.l^=32,this.g("toLinkableSelfNode",i,t))}},isPanelMain:{get:function(){return(this.l&64)!==0},set:function(t){var i=(this.l&64)!==0;i!==t&&(this.l^=64,this.v(),this.g("isPanelMain",i,t))}},isActionable:{get:function(){return(this.l&128)!==0},set:function(t){var i=(this.l&128)!==0;i!==t&&(this.l^=128,this.g("isActionable",i,t))}},areaBackground:{get:function(){return this.A!==null?this.A.gd:null},set:function(t){var i=this.areaBackground;i!==t&&(t!==null&&Sf(t,"GraphObject.areaBackground"),t instanceof ie&&t.freeze(),li(this),this.A.gd=t,this.N(),this.g("areaBackground",i,t))}},background:{get:function(){return this.Ma},set:function(t){var i=this.Ma;i!==t&&(t!==null&&Sf(t,"GraphObject.background"),t instanceof ie&&t.freeze(),this.Ma=t,this.N(),this.g("background",i,t))}},part:{get:function(){if(this.Dd())return this;if(this.Ng!==null)return this.Ng;var t;for(t=this.panel;t;){if(t instanceof kt)return this.Ng=t;t=t.panel}return null}},svg:{get:function(){return this.V},set:function(t){this.V=t}},panel:{get:function(){return this.Me}},layer:{get:function(){var t=this.part;return t!==null?t.layer:null}},diagram:{get:function(){var t=this.part;return t!==null?t.diagram:null}},position:{get:function(){return this.pa},set:function(t){var i=t.x,s=t.y,l=this.pa,u=l.x;l=l.y,(u===i||isNaN(u)&&isNaN(i))&&(l===s||isNaN(l)&&isNaN(s))?this.Av():(t=t.copy(),this.zv(t,u,l)&&this.g("position",new F(u,l),t))}},actualBounds:{get:function(){return this.Jb}},scale:{get:function(){return this.Ca},set:function(t){var i=this.Ca;i!==t&&(0>=t&&D("GraphObject.scale for "+this+" must be greater than zero, not: "+t),this.Ca=t,this.v(),this.g("scale",i,t))}},angle:{get:function(){return this.Lb},set:function(t){var i=this.Lb;i!==t&&(t%=360,0>t&&(t+=360),i!==t&&(this.Lb=t,e$(this),this.v(),this.g("angle",i,t)))}},desiredSize:{get:function(){return this.jd},set:function(t){var i=t.width,s=t.height,l=this.jd,u=l.width,c=l.height;(u===i||isNaN(u)&&isNaN(i))&&(c===s||isNaN(c)&&isNaN(s))||(this.jd=t=t.J(),this.v(),this instanceof It&&this.rc(),this.g("desiredSize",l,t),vf(this)&&(t=this.part,t!==null&&(Eh(this,t,"width"),Eh(this,t,"height"))))}},width:{get:function(){return this.jd.width},set:function(t){var i=this.jd.width;i===t||isNaN(i)&&isNaN(t)||(i=this.jd,this.jd=t=new At(t,this.jd.height).freeze(),this.v(),this instanceof It&&this.rc(),this.g("desiredSize",i,t),vf(this)&&(t=this.part,t!==null&&Eh(this,t,"width")))}},height:{get:function(){return this.jd.height},set:function(t){var i=this.jd.height;i===t||isNaN(i)&&isNaN(t)||(i=this.jd,this.jd=t=new At(this.jd.width,t).freeze(),this.v(),this instanceof It&&this.rc(),this.g("desiredSize",i,t),vf(this)&&(t=this.part,t!==null&&Eh(this,t,"height")))}},minSize:{get:function(){return this.A!==null?this.A.u:wu},set:function(t){var i=this.minSize;i.D(t)||(t=t.copy(),isNaN(t.width)&&(t.width=0),isNaN(t.height)&&(t.height=0),t.freeze(),li(this),this.A.u=t,this.v(),this.g("minSize",i,t))}},maxSize:{get:function(){return this.A!==null?this.A.o:Vn},set:function(t){var i=this.maxSize;i.D(t)||(t=t.copy(),isNaN(t.width)&&(t.width=1/0),isNaN(t.height)&&(t.height=1/0),t.freeze(),li(this),this.A.o=t,this.v(),this.g("maxSize",i,t))}},measuredBounds:{get:function(){return this.uc}},naturalBounds:{get:function(){return this.ec}},margin:{get:function(){return this.Kg},set:function(t){typeof t=="number"&&(t=new ne(t));var i=this.Kg;i.D(t)||(this.Kg=t=t.J(),this.v(),this.g("margin",i,t))}},transform:{get:function(){return this.l&2048&&cx(this),this.Bb}},oe:{get:function(){return this.l&4096&&cx(this),this.wh}},animationTriggers:{get:function(){return this.A!==null?this.A.hb:null},set:function(t){this.animationTriggers!==t&&(li(this),this.A.hb=t)}},reshapingBehavior:{get:function(){return this.A!==null?this.A.Pf:$e},set:function(t){this.reshapingBehavior!==t&&(li(this),this.A.Pf=t)}},alignment:{get:function(){return this.Kb},set:function(t){var i=this.Kb;i.D(t)||(t.Mc()&&!t.Yb()&&D("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+t),this.Kb=t=t.J(),lp(this),this.g("alignment",i,t))}},column:{get:function(){return this.Ag},set:function(t){t=Math.round(t);var i=this.Ag;i!==t&&(0>t&&q(t,">= 0",xt,"column"),this.Ag=t,this.v(),this.g("column",i,t),this.svg!==null&&this.svg.remove())}},columnSpan:{get:function(){return this.A!==null?this.A.ob:1},set:function(t){t=Math.round(t);var i=this.columnSpan;i!==t&&(1>t&&q(t,">= 1",xt,"columnSpan"),li(this),this.A.ob=t,this.v(),this.g("columnSpan",i,t))}},row:{get:function(){return this.ho},set:function(t){t=Math.round(t);var i=this.ho;i!==t&&(0>t&&q(t,">= 0",xt,"row"),this.ho=t,this.v(),this.g("row",i,t),this.svg!==null&&this.svg.remove())}},rowSpan:{get:function(){return this.A!==null?this.A.Bi:1},set:function(t){t=Math.round(t);var i=this.rowSpan;i!==t&&(1>t&&q(t,">= 1",xt,"rowSpan"),li(this),this.A.Bi=t,this.v(),this.g("rowSpan",i,t))}},spanAllocation:{get:function(){return this.A!==null?this.A.Di:null},set:function(t){var i=this.spanAllocation;i!==t&&(li(this),this.A.Di=t,this.v(),this.g("spanAllocation",i,t))}},alignmentFocus:{get:function(){return this.rk},set:function(t){var i=this.rk;i.D(t)||(this.rk=t=t.J(),this.v(),this.g("alignmentFocus",i,t))}},portId:{get:function(){return this.Xn},set:function(t){var i=this.Xn;if(i!==t){var s=this.part;s===null||s instanceof ft||D("Cannot set portID on a Link: "+t),i!==null&&s!==null&&gT(s,this),this.Xn=t,t!==null&&s!==null&&(s.Te=!0,tD(s,this)),this.g("portId",i,t)}}},toSpot:{get:function(){return this.ba!==null?this.ba.yj:_i},set:function(t){var i=this.toSpot;i.D(t)||(t=t.J(),this.Xc(),this.ba.yj=t,this.g("toSpot",i,t),Lh(this))}},toEndSegmentLength:{get:function(){return this.ba!==null?this.ba.wj:10},set:function(t){var i=this.toEndSegmentLength;i!==t&&(0>t&&q(t,">= 0",xt,"toEndSegmentLength"),this.Xc(),this.ba.wj=t,this.g("toEndSegmentLength",i,t),Lh(this))}},toShortLength:{get:function(){return this.ba!==null?this.ba.xj:0},set:function(t){var i=this.toShortLength;i!==t&&(this.Xc(),this.ba.xj=t,this.g("toShortLength",i,t),Lh(this))}},toLinkable:{get:function(){return this.ba!==null?this.ba.Sr:null},set:function(t){var i=this.toLinkable;i!==t&&(this.Xc(),this.ba.Sr=t,this.g("toLinkable",i,t))}},toMaxLinks:{get:function(){return this.ba!==null?this.ba.Tr:1/0},set:function(t){var i=this.toMaxLinks;i!==t&&(0>t&&q(t,">= 0",xt,"toMaxLinks"),this.Xc(),this.ba.Tr=t,this.g("toMaxLinks",i,t))}},fromSpot:{get:function(){return this.ba!==null?this.ba.Xi:_i},set:function(t){var i=this.fromSpot;i.D(t)||(t=t.J(),this.Xc(),this.ba.Xi=t,this.g("fromSpot",i,t),Lh(this))}},fromEndSegmentLength:{get:function(){return this.ba!==null?this.ba.Vi:10},set:function(t){var i=this.fromEndSegmentLength;i!==t&&(0>t&&q(t,">= 0",xt,"fromEndSegmentLength"),this.Xc(),this.ba.Vi=t,this.g("fromEndSegmentLength",i,t),Lh(this))}},fromShortLength:{get:function(){return this.ba!==null?this.ba.Wi:0},set:function(t){var i=this.fromShortLength;i!==t&&(this.Xc(),this.ba.Wi=t,this.g("fromShortLength",i,t),Lh(this))}},fromLinkable:{get:function(){return this.ba!==null?this.ba.gq:null},set:function(t){var i=this.fromLinkable;i!==t&&(this.Xc(),this.ba.gq=t,this.g("fromLinkable",i,t))}},fromMaxLinks:{get:function(){return this.ba!==null?this.ba.hq:1/0},set:function(t){var i=this.fromMaxLinks;i!==t&&(0>t&&q(t,">= 0",xt,"fromMaxLinks"),this.Xc(),this.ba.hq=t,this.g("fromMaxLinks",i,t))}},cursor:{get:function(){return this.A!==null?this.A.j:""},set:function(t){var i=this.cursor;i!==t&&(li(this),this.A.j=t,this.g("cursor",i,t))}},click:{get:function(){return this.A!==null?this.A.zh:null},set:function(t){var i=this.click;i!==t&&(li(this),this.A.zh=t,this.g("click",i,t))}},doubleClick:{get:function(){return this.A!==null?this.A.Fh:null},set:function(t){var i=this.doubleClick;i!==t&&(li(this),this.A.Fh=t,this.g("doubleClick",i,t))}},contextClick:{get:function(){return this.A!==null?this.A.Bh:null},set:function(t){var i=this.contextClick;i!==t&&(li(this),this.A.Bh=t,this.g("contextClick",i,t))}},mouseEnter:{get:function(){return this.A!==null?this.A.Mh:null},set:function(t){var i=this.mouseEnter;i!==t&&(li(this),this.A.Mh=t,this.g("mouseEnter",i,t))}},mouseLeave:{get:function(){return this.A!==null?this.A.Ph:null},set:function(t){var i=this.mouseLeave;i!==t&&(li(this),this.A.Ph=t,this.g("mouseLeave",i,t))}},mouseOver:{get:function(){return this.A!==null?this.A.Qh:null},set:function(t){var i=this.mouseOver;i!==t&&(li(this),this.A.Qh=t,this.g("mouseOver",i,t))}},mouseHover:{get:function(){return this.A!==null?this.A.Oh:null},set:function(t){var i=this.mouseHover;i!==t&&(li(this),this.A.Oh=t,this.g("mouseHover",i,t))}},mouseHold:{get:function(){return this.A!==null?this.A.Nh:null},set:function(t){var i=this.mouseHold;i!==t&&(li(this),this.A.Nh=t,this.g("mouseHold",i,t))}},mouseDragEnter:{get:function(){return this.A!==null?this.A.Of:null},set:function(t){var i=this.mouseDragEnter;i!==t&&(li(this),this.A.Of=t,this.g("mouseDragEnter",i,t))}},mouseDragLeave:{get:function(){return this.A!==null?this.A.Xd:null},set:function(t){var i=this.mouseDragLeave;i!==t&&(li(this),this.A.Xd=t,this.g("mouseDragLeave",i,t))}},mouseDrop:{get:function(){return this.A!==null?this.A.Lh:null},set:function(t){var i=this.mouseDrop;i!==t&&(li(this),this.A.Lh=t,this.g("mouseDrop",i,t))}},actionDown:{get:function(){return this.A!==null?this.A.V:null},set:function(t){var i=this.actionDown;i!==t&&(li(this),this.A.V=t,this.g("actionDown",i,t))}},actionMove:{get:function(){return this.A!==null?this.A.ia:null},set:function(t){var i=this.actionMove;i!==t&&(li(this),this.A.ia=t,this.g("actionMove",i,t))}},actionUp:{get:function(){return this.A!==null?this.A.Ha:null},set:function(t){var i=this.actionUp;i!==t&&(li(this),this.A.Ha=t,this.g("actionUp",i,t))}},actionCancel:{get:function(){return this.A!==null?this.A.F:null},set:function(t){var i=this.actionCancel;i!==t&&(li(this),this.A.F=t,this.g("actionCancel",i,t))}},toolTip:{get:function(){return this.A!==null?this.A.$h:null},set:function(t){var i=this.toolTip;i!==t&&(li(this),this.A.$h=t,this.g("toolTip",i,t))}},contextMenu:{get:function(){return this.A!==null?this.A.Ch:null},set:function(t){var i=this.contextMenu;i!==t&&(li(this),this.A.Ch=t,this.g("contextMenu",i,t))}}}),xt.prototype.trigger=xt.prototype.Jv,xt.prototype.findBindingPanel=xt.prototype.ih,xt.prototype.findTemplateBinder=xt.prototype.pz,xt.prototype.setProperties=xt.prototype.mm,xt.prototype.apply=xt.prototype.apply,xt.prototype.attach=xt.prototype.Du,xt.prototype.set=xt.prototype.set,xt.prototype.isEnabledObject=xt.prototype.If,xt.prototype.isVisibleObject=xt.prototype.Ed,xt.prototype.isContainedBy=xt.prototype.rg,xt.prototype.getNearestIntersectionPoint=xt.prototype.qs,xt.prototype.getLocalPoint=xt.prototype.ps,xt.prototype.getDocumentScale=xt.prototype.Df,xt.prototype.getDocumentAngle=xt.prototype.li,xt.prototype.getDocumentBounds=xt.prototype.mi,xt.prototype.getDocumentPoint=xt.prototype.ga,xt.prototype.intersectsRect=xt.prototype.Yc,xt.prototype.containedInRect=xt.prototype.fh,xt.prototype.containsRect=xt.prototype.Re,xt.prototype.containsPoint=xt.prototype.ca,xt.prototype.raiseChanged=xt.prototype.g,xt.prototype.raiseChangedEvent=xt.prototype.cb,xt.prototype.addCopyProperty=xt.prototype.Vw;var up=null;xt.className="GraphObject",up=new jt,wa("Button",function(){function t(s,l){return s.diagram.jc(s.documentPoint,function(u){for(;u.panel!==null&&!u.isActionable;)u=u.panel;return u},function(u){return u===l})!==null}var i=Nr(nt,nt.Auto,{isActionable:!0,enabledChanged:function(s,l){if(s instanceof nt){var u=s.fb("ButtonBorder");u!==null&&(u.fill=l?s._buttonFillNormal:s._buttonFillDisabled)}},cursor:"pointer",_buttonFillNormal:"#F5F5F5",_buttonStrokeNormal:"#BDBDBD",_buttonFillOver:"#E0E0E0",_buttonStrokeOver:"#9E9E9E",_buttonFillPressed:"#BDBDBD",_buttonStrokePressed:"#9E9E9E",_buttonFillDisabled:"#E5E5E5"},Nr(It,{name:"ButtonBorder",figure:"RoundedRectangle",spot1:new Tt(0,0,2.76142374915397,2.761423749153969),spot2:new Tt(1,1,-2.76142374915397,-2.761423749153969),parameter1:2,parameter2:2,fill:"#F5F5F5",stroke:"#BDBDBD"}));return i.mouseEnter=function(s,l){if(l.If()&&l instanceof nt&&(s=l.fb("ButtonBorder"),s instanceof It)){var u=l._buttonFillOver;l._buttonFillNormal=s.fill,s.fill=u,u=l._buttonStrokeOver,l._buttonStrokeNormal=s.stroke,s.stroke=u}},i.mouseLeave=function(s,l){l.If()&&l instanceof nt&&(s=l.fb("ButtonBorder"),s instanceof It&&(s.fill=l._buttonFillNormal,s.stroke=l._buttonStrokeNormal))},i.actionDown=function(s,l){if(l.If()&&l instanceof nt&&l._buttonFillPressed!==null&&s.button===0){var u=l.fb("ButtonBorder");if(u instanceof It){s=s.diagram;var c=s.skipsUndoManager;s.skipsUndoManager=!0;var d=l._buttonFillPressed;l._buttonFillOver=u.fill,u.fill=d,d=l._buttonStrokePressed,l._buttonStrokeOver=u.stroke,u.stroke=d,s.skipsUndoManager=c}}},i.actionUp=function(s,l){if(l.If()&&l instanceof nt&&l._buttonFillPressed!==null&&s.button===0){var u=l.fb("ButtonBorder");if(u instanceof It){var c=s.diagram,d=c.skipsUndoManager;c.skipsUndoManager=!0,t(s,l)?(u.fill=l._buttonFillOver,u.stroke=l._buttonStrokeOver):(u.fill=l._buttonFillNormal,u.stroke=l._buttonStrokeNormal),c.skipsUndoManager=d}}},i.actionCancel=function(s,l){if(l.If()&&l instanceof nt&&l._buttonFillPressed!==null){var u=l.fb("ButtonBorder");if(u instanceof It){var c=s.diagram,d=c.skipsUndoManager;c.skipsUndoManager=!0,t(s,l)?(u.fill=l._buttonFillOver,u.stroke=l._buttonStrokeOver):(u.fill=l._buttonFillNormal,u.stroke=l._buttonStrokeNormal),c.skipsUndoManager=d}}},i.actionMove=function(s,l){if(l.If()&&l instanceof nt&&l._buttonFillPressed!==null){var u=s.diagram;if(u.firstInput.button===0&&(u.currentTool.standardMouseOver(),t(s,l)&&(s=l.fb("ButtonBorder"),s instanceof It))){var c=u.skipsUndoManager;u.skipsUndoManager=!0;var d=l._buttonFillPressed;s.fill!==d&&(s.fill=d),d=l._buttonStrokePressed,s.stroke!==d&&(s.stroke=d),u.skipsUndoManager=c}}},i}),wa("TreeExpanderButton",function(){var t=Nr("Button",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},Nr(It,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:ge},new Be("figure","isTreeExpanded",function(i,s){return s=s.panel,i?s._treeExpandedFigure:s._treeCollapsedFigure}).bp()),{visible:!1},new Be("visible","isTreeLeaf",function(i){return!i}).bp());return t.click=function(i,s){if(s=s.part,s instanceof Wt&&(s=s.adornedPart),s instanceof ft){var l=s.diagram;if(l!==null){if(l=l.commandHandler,s.isTreeExpanded){if(!l.canCollapseTree(s))return}else if(!l.canExpandTree(s))return;i.handled=!0,s.isTreeExpanded?l.collapseTree(s):l.expandTree(s)}}},t}),wa("SubGraphExpanderButton",function(){var t=Nr("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},Nr(It,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:ge},new Be("figure","isSubGraphExpanded",function(i,s){return s=s.panel,i?s._subGraphExpandedFigure:s._subGraphCollapsedFigure}).bp()));return t.click=function(i,s){if(s=s.part,s instanceof Wt&&(s=s.adornedPart),s instanceof Lt){var l=s.diagram;if(l!==null){if(l=l.commandHandler,s.isSubGraphExpanded){if(!l.canCollapseSubGraph(s))return}else if(!l.canExpandSubGraph(s))return;i.handled=!0,s.isSubGraphExpanded?l.collapseSubGraph(s):l.expandSubGraph(s)}}},t}),wa("ToolTip",function(){return Nr(Wt,nt.Auto,{isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new F(0,3),shadowBlur:5},Nr(It,{name:"Border",figure:"RoundedRectangle",parameter1:1,parameter2:1,fill:"#F5F5F5",stroke:"#F0F0F0",spot1:new Tt(0,0,4,6),spot2:new Tt(1,1,-4,-4)}))}),wa("ContextMenu",function(){return Nr(Wt,nt.Vertical,{background:"#F5F5F5",isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new F(0,3),shadowBlur:5},new Be("background","",function(t){return t.adornedPart!==null&&t.placeholder!==null?null:"#F5F5F5"}))}),wa("ContextMenuButton",function(){var t=Nr("Button");t.stretch=Di;var i=t.fb("ButtonBorder");return i instanceof It&&(i.figure="Rectangle",i.strokeWidth=0,i.spot1=new Tt(0,0,2,3),i.spot2=new Tt(1,1,-2,-2)),t}),wa("PanelExpanderButton",function(t){var i=dx(t,"COLLAPSIBLE"),s=Nr("Button",{_buttonExpandedFigure:"M0 0 M0 6 L4 2 8 6 M8 8",_buttonCollapsedFigure:"M0 0 M0 2 L4 6 8 2 M8 8",_buttonFillNormal:"rgba(0, 0, 0, 0)",_buttonStrokeNormal:null,_buttonFillOver:"rgba(0, 0, 0, .2)",_buttonStrokeOver:null,_buttonFillPressed:"rgba(0, 0, 0, .4)",_buttonStrokePressed:null},Nr(It,{name:"ButtonIcon",strokeWidth:2},new Be("geometryString","visible",function(l){return l?s._buttonExpandedFigure:s._buttonCollapsedFigure}).bp(i)));return t=s.fb("ButtonBorder"),t instanceof It&&(t.stroke=null,t.fill="rgba(0, 0, 0, 0)"),s.click=function(l,u){var c=u.diagram;if(c!==null&&!c.isReadOnly){var d=u.ih();d===null&&(d=u.part),d!==null&&(u=d.fb(i),u!==null&&(l.handled=!0,c.Ea("Collapse/Expand Panel"),u.visible=!u.visible,c.eb("Collapse/Expand Panel")))}},s}),wa("CheckBoxButton",function(t){var i=dx(t);return t=Nr("Button",{desiredSize:new At(14,14)},Nr(It,{name:"ButtonIcon",geometryString:"M0 0 M0 8.85 L4.9 13.75 16.2 2.45 M16.2 16.2",strokeWidth:2,stretch:Xe,geometryStretch:Oo,visible:!1},i!==""?new Be("visible",i).Kx():[])),t.click=function(s,l){if(l instanceof nt){var u=s.diagram;if(!(u===null||u.isReadOnly||i!==""&&u.model.isReadOnly)){s.handled=!0;var c=l.fb("ButtonIcon");u.Ea("checkbox"),c.visible=!c.visible,typeof l._doClick=="function"&&l._doClick(s,l),u.eb("checkbox")}}},t}),wa("CheckBox",function(t){t=dx(t),t=Nr("CheckBoxButton",t,{name:"Button",isActionable:!1,margin:new ne(0,1,0,0)});var i=Nr(nt,"Horizontal",t,{isActionable:!0,cursor:t.cursor,margin:new ne(1),_buttonFillNormal:t._buttonFillNormal,_buttonStrokeNormal:t._buttonStrokeNormal,_buttonFillOver:t._buttonFillOver,_buttonStrokeOver:t._buttonStrokeOver,_buttonFillPressed:t._buttonFillPressed,_buttonStrokePressed:t._buttonStrokePressed,_buttonFillDisabled:t._buttonFillDisabled,mouseEnter:t.mouseEnter,mouseLeave:t.mouseLeave,actionDown:t.actionDown,actionUp:t.actionUp,actionCancel:t.actionCancel,actionMove:t.actionMove,click:t.click,_buttonClick:t.click});return t.mouseEnter=null,t.mouseLeave=null,t.actionDown=null,t.actionUp=null,t.actionCancel=null,t.actionMove=null,t.click=null,i}),xt.None=$e=new it(xt,"None",0),xt.Default=vs=new it(xt,"Default",0),xt.Vertical=Ui=new it(xt,"Vertical",4),xt.Horizontal=Di=new it(xt,"Horizontal",5),xt.Fill=Xe=new it(xt,"Fill",3),xt.Uniform=Oo=new it(xt,"Uniform",1),xt.UniformToFill=e0=new it(xt,"UniformToFill",2),xt.FlipVertical=i0=new it(xt,"FlipVertical",1),xt.FlipHorizontal=n0=new it(xt,"FlipHorizontal",2),xt.FlipBoth=r0=new it(xt,"FlipBoth",3),xt.make=Nr,xt.getBuilders=function(){var t=new jt,i;for(i in up)if(i!==i.toLowerCase()){var s=up.I(i);typeof s=="function"&&t.add(i,s)}return t.freeze(),t},xt.defineBuilder=wa,xt.build=function(t,i,s){for(var l=[],u=2;u<arguments.length;++u)l[u-2]=arguments[u];if(u=up.I(t),typeof u=="function"&&(l=u([t].concat(l)),l instanceof xt))return i&&l.set(i),l;D('GraphObject.build invoked object builder "'+t+'", but it did not return an Object')},xt.takeBuilderArgument=dx;function xf(){this.oc=!1,this.xa="",this.yp=-1,this.nb=this.vm=this.te=null,this.j="",this.hb=this.Di=this.Ib=this.Ch=this.$h=this.F=this.Ha=this.ia=this.V=this.Lh=this.Xd=this.Of=this.Nh=this.Oh=this.Qh=this.Ph=this.Mh=this.Bh=this.Fh=this.zh=null,this.u=wu,this.o=Vn,this.hg=vs,this.ob=this.Bi=1,this.Pf=$e,this.Pc=this.Ci=this.gd=null,this.Oc="category"}xf.prototype.copy=function(){var t=new xf;return t.xa=this.xa,t.yp=this.yp,t.te=this.te,t.nb=this.nb,t.j=this.j,t.zh=this.zh,t.Fh=this.Fh,t.Bh=this.Bh,t.Mh=this.Mh,t.Ph=this.Ph,t.Qh=this.Qh,t.Oh=this.Oh,t.Nh=this.Nh,t.Of=this.Of,t.Xd=this.Xd,t.Lh=this.Lh,t.V=this.V,t.ia=this.ia,t.Ha=this.Ha,t.F=this.F,t.$h=this.$h,t.Ch=this.Ch,t.Ib=this.Ib,t.Di=this.Di,t.hb=this.hb,t.u=this.u.J(),t.o=this.o.J(),t.hg=this.hg,t.Bi=this.Bi,t.ob=this.ob,t.Pf=this.Pf,t.gd=this.gd,t.Ci=this.Ci,t.Pc=this.Pc,t.Oc=this.Oc,t};function bu(){this.u=-1/0,this.o=0,this.F=mo,this.qr=yn,this.j=this.V="None"}bu.prototype.copy=function(){var t=new bu;return t.u=this.u,t.o=this.o,t.F=this.F.J(),t.qr=this.qr,t.V=this.V,t.j=this.j,t},bu.className="LinkElementSettings";function o0(){this.yj=this.Xi=Zi,this.xj=this.Wi=this.wj=this.Vi=NaN,this.Sr=this.gq=null,this.Tr=this.hq=1/0}o0.prototype.copy=function(){var t=new o0;return t.Xi=this.Xi.J(),t.yj=this.yj.J(),t.Vi=this.Vi,t.wj=this.wj,t.Wi=this.Wi,t.xj=this.xj,t.gq=this.gq,t.Sr=this.Sr,t.hq=this.hq,t.Tr=this.Tr,t},o0.className="LinkSettings";function $h(){this.ha=[1,0,0,1,0,0]}$h.prototype.copy=function(){var t=new $h;return t.ha[0]=this.ha[0],t.ha[1]=this.ha[1],t.ha[2]=this.ha[2],t.ha[3]=this.ha[3],t.ha[4]=this.ha[4],t.ha[5]=this.ha[5],t},$h.prototype.translate=function(t,i){this.ha[4]+=this.ha[0]*t+this.ha[2]*i,this.ha[5]+=this.ha[1]*t+this.ha[3]*i},$h.prototype.scale=function(t,i){this.ha[0]*=t,this.ha[1]*=t,this.ha[2]*=i,this.ha[3]*=i},$h.prototype.rotate=function(t,i,s){if(360<=t?t-=360:0>t&&(t+=360),t!==0){if(this.translate(i,s),t===90){t=0;var l=1}else t===180?(t=-1,l=0):t===270?(t=0,l=-1):(l=t*Math.PI/180,t=Math.cos(l),l=Math.sin(l));var u=this.ha[1]*t+this.ha[3]*l,c=this.ha[0]*-l+this.ha[2]*t,d=this.ha[1]*-l+this.ha[3]*t;this.ha[0]=this.ha[0]*t+this.ha[2]*l,this.ha[1]=u,this.ha[2]=c,this.ha[3]=d,this.translate(-i,-s)}},$h.className="STransform";function wf(t){this.type=t,this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0,this.gx=[],this.pattern=null}wf.prototype.addColorStop=function(t,i){this.gx.push({offset:t,color:i})},wf.className="SGradient";function vo(t,i,s){this.ownerDocument=t=i===void 0?N.document:i,this.cA="http://www.w3.org/2000/svg",t!==void 0&&(this.Oa=this.Ud("svg",{width:"1px",height:"1px",viewBox:"0 0 1 1"}),this.style.display="block",this.style.letterSpacing="normal",this.style.wordSpacing="normal",this.Oa.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),this.Oa.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink")),this.gs=null,this.context=new tr(this,s)}vo.prototype.resize=function(t,i,s,l){return this.width!==t||this.height!==i?(this.width=t,this.height=i,this.style.width=s+"px",this.style.height=l+"px",this.Oa.setAttributeNS(null,"width",s+"px"),this.Oa.setAttributeNS(null,"height",l+"px"),this.Oa.setAttributeNS(null,"viewBox","0 0 "+s+" "+l),this.context.ww.firstElementChild.setAttributeNS(null,"width",s+"px"),this.context.ww.firstElementChild.setAttributeNS(null,"height",l+"px"),!0):!1},vo.prototype.Ud=function(t,i,s){if(t=this.ownerDocument.createElementNS(this.cA,t),J(i))for(var l in i)t.setAttributeNS(l==="href"?"http://www.w3.org/1999/xlink":"",l,i[l]);return s!==void 0&&(t.textContent=s),t},vo.prototype.getBoundingClientRect=function(){return this.Oa.getBoundingClientRect()},vo.prototype.focus=function(){this.Oa.focus()},vo.prototype.mx=function(){this.ownerDocument=null},S.Object.defineProperties(vo.prototype,{width:{get:function(){return this.Oa.width.baseVal.value},set:function(t){this.Oa.setAttribute("width",t+"px")}},height:{get:function(){return this.Oa.height.baseVal.value},set:function(t){this.Oa.setAttribute("height",t+"px")}},style:{get:function(){return this.Oa.style}}}),vo.className="SVGSurface";function tr(t,i){this.Gv=t,this.svg=t.Oa,this.stack=[],this.nh=[],this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.lineDashOffset=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.Hl=!1,this.strokeStyle="#000000",this.textAlign="start",this.clipInsteadOfFill=!1,this.Vg=this.Ar=this.zr=0,this.yd=this.ad=null,this.path=[],this.Xl={},this.Bt=!1,this.Yg=null,this.uj=0,this.rb=new $h,this.j=px(this),this.Mj=px(this,"gojs-diagram"),this.Gl=this.ti=null;var s=fn++,l=this.Ud("clipPath",{id:"mainClip"+s});l.appendChild(this.Ud("rect",{x:0,y:0,width:t.width,height:t.height})),this.ww=l,this.svg.appendChild(this.j),this.j.appendChild(this.Mj),this.svg.appendChild(l),this.j.setAttributeNS(null,"clip-path","url(#mainClip"+s+")"),this.eA={},this.isTemporary=!!i,this.filter="",this.ak=null}function i$(t,i,s,l,u,c,d){t.Mj===void 0?l0(t,i,s,l,u,c,d):t.Mj.setAttribute("transform","matrix("+i+", "+s+", "+l+", "+u+", "+c+", "+d+")")}n=tr.prototype,n.arc=function(t,i,s,l,u,c,d,m){var y=2*Math.PI,O=y-1e-6,w=s*Math.cos(l),k=s*Math.sin(l),P=t+w,T=i+k,M=c?0:1;l=c?l-u:u-l,(1e-6<Math.abs(d-P)||1e-6<Math.abs(m-T))&&this.path.push(["L",P,+T]),0>l&&(l=l%y+y),l>O?(this.path.push(["A",s,s,0,1,M,t-w,i-k]),this.path.push(["A",s,s,0,1,M,P,T])):1e-6<l&&this.path.push(["A",s,s,0,+(l>=Math.PI),M,t+s*Math.cos(u),i+s*Math.sin(u)])},n.beginPath=function(){this.path=[],this.Xl={stroke:"none",fill:"none"}},n.Se=function(t){this.addPath(this.path,this.rb,t||0)},n.bezierCurveTo=function(t,i,s,l,u,c){this.path.push(["C",t,i,s,l,u,c])},n.clearRect=function(){},n.clip=function(){this.Xl.clipPath=!0},n.closePath=function(){this.path.push(["z"])},n.createLinearGradient=function(t,i,s,l){var u=new wf("linear");return u.x1=t,u.y1=i,u.x2=s,u.y2=l,u},n.createPattern=function(t){var i="";t instanceof HTMLCanvasElement&&(i=t.toDataURL()),t instanceof HTMLImageElement&&(i=t.getAttribute("src"));var s=this.eA;if(s[i])return"url(#"+s[i]+")";var l="PATTERN"+fn++,u={x:0,y:0,width:t.width,height:t.height,href:i};return t=this.Ud("pattern",{width:t.width,height:t.height,id:l,patternUnits:"userSpaceOnUse"}),t.appendChild(this.Ud(rp,u)),this.svg.appendChild(t),s[i]=l,"url(#"+l+")"},n.createRadialGradient=function(t,i,s,l,u,c){var d=new wf("radial");return d.x1=t,d.y1=i,d.r1=s,d.x2=l,d.y2=u,d.r2=c,d};function n$(t,i,s,l,u,c,d,m,y){l=m/l,u=y/u,c===0&&d===0||t.rb.translate(c,d),l===1&&u===1||t.rb.scale(l,u),i===0&&s===0||t.rb.translate(-i,-s)}n.drawImage=function(t,i,s,l,u,c,d,m,y){var O="";t instanceof HTMLCanvasElement&&(O=t.toDataURL()),t instanceof HTMLImageElement&&(O=t.getAttribute("src"));var w=t instanceof HTMLImageElement?t.naturalWidth:t.width;t=t instanceof HTMLImageElement?t.naturalHeight:t.height,l===void 0&&(c=i,d=s,m=l=w,y=u=t),l=l||0,u=u||0,m=m||0,y=y||0,n$(this,i,s,l,u,c||0,d||0,m,y),c={x:0,y:0,width:w||l,height:t||u,href:O},U.$(l,m)&&U.$(u,y)?O.toLowerCase().indexOf(".svg")===-1&&O.toLowerCase().indexOf("data:image/svg")===-1&&(c.preserveAspectRatio="xMidYMid slice"):c.preserveAspectRatio="none",(i!==0||s!==0||l!==w||u!==t)&&(l+=i,u+=s,c["clip-path"]="path('M "+i+","+s+" L "+l+" "+s+" L "+l+" "+u+" L "+i+" "+u+" z')"),hp(this,rp,c,this.rb),this.addElement(rp,c)},n.fill=function(t){t&&(this.Xl["fill-rule"]="evenodd"),Ab(this,this.Xl)},n.ng=function(t,i){this.clipInsteadOfFill?this.clip():this.fill(i)},n.fillRect=function(t,i,s,l){t=[t,i,s,l],t={x:t[0],y:t[1],width:t[2],height:t[3]},hp(this,"fill",t,this.rb),this.addElement("rect",t)},n.ox=function(t,i,s,l){t={x:t,y:i,width:s,height:l},hp(this,"fill",t,this.rb),Ab(this,t),this.svg.prepend(this.Ud("rect",t))},n.fillText=function(t,i,s){t=[t,i,s],i=this.textAlign,i==="left"?i="start":i==="right"?i="end":i==="center"&&(i="middle"),i={x:t[1],y:t[2],style:"font: "+this.font,"text-anchor":i},hp(this,"fill",i,this.rb),this.addElement("text",i,t[0])},n.lineTo=function(t,i){this.path.push(["L",t,i])},n.moveTo=function(t,i){this.path.push(["M",t,i])},n.quadraticCurveTo=function(t,i,s,l){this.path.push(["Q",t,i,s,l])},n.rect=function(t,i,s,l){this.path.push(["M",t,i],["L",t+s,i],["L",t+s,i+l],["L",t,i+l],["z"])},n.restore=function(){this.rb=this.stack.pop(),this.path=this.stack.pop();var t=this.stack.pop();this.fillStyle=t.fillStyle,this.font=t.font,this.globalAlpha=t.globalAlpha,this.lineCap=t.lineCap,this.lineDashOffset=t.lineDashOffset,this.lineJoin=t.lineJoin,this.lineWidth=t.lineWidth,this.miterLimit=t.miterLimit,this.shadowBlur=t.shadowBlur,this.shadowColor=t.shadowColor,this.shadowOffsetX=t.shadowOffsetX,this.shadowOffsetY=t.shadowOffsetY,this.strokeStyle=t.strokeStyle,this.textAlign=t.textAlign,this.ak=t.ak},n.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,lineDashOffset:this.lineDashOffset,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign,ak:this.ak});for(var t=[],i=0;i<this.path.length;i++)t.push(this.path[i]);this.stack.push(t),this.stack.push(this.rb.copy())},n.setTransform=function(t,i,s,l,u,c){t===1&&i===0&&s===0&&l===1&&u===0&&c===0||l0(this,t,i,s,l,u,c)};function r$(t){return t=t.rb.ha,"matrix("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}n.scale=function(t,i){this.rb.scale(t,i)},n.translate=function(t,i){this.rb.translate(t,i)},n.transform=function(){},n.yc=function(){},n.stroke=function(){o$(this,this.Xl)},n.ik=function(){this.clipInsteadOfFill||this.stroke()},n.Ud=function(t,i,s){return this.Gv.Ud(t,i,s)},n.addElement=function(t,i,s){return t=this.Ud(t,i,s),this.yd!==null?this.yd.appendChild(t):this.yd=t,this.ad=t};function hp(t,i,s,l){i==="fill"?Ab(t,s):i==="stroke"&&o$(t,s),l!==null&&(t=l.ha,s.transform="matrix("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")")}function Ab(t,i){t.fillStyle instanceof wf?i.fill=jb(t,t.fillStyle,!0):/^rgba\(/.test(t.fillStyle)?(t=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.fillStyle),i.fill="rgb("+t[1]+","+t[2]+","+t[3]+")",i["fill-opacity"]=t[4]):i.fill=t.fillStyle}function s$(t,i,s){s=s?"fill":"stroke",t.fillStyle instanceof wf?i.setAttributeNS(null,"fill",jb(t,t.fillStyle,!0)):/^rgba\(/.test(t.fillStyle)?(t=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.fillStyle),i.setAttributeNS(null,s,"rgb("+t[1]+","+t[2]+","+t[3]+")"),i.setAttributeNS(null,s+"-opacity",t[4])):i.setAttributeNS(null,s,t.fillStyle)}function o$(t,i){if(t.strokeStyle instanceof wf)i.stroke=jb(t,t.strokeStyle,!1);else if(/^rgba\(/.test(t.strokeStyle)){var s=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.strokeStyle);i.stroke="rgb("+s[1]+","+s[2]+","+s[3]+")",i["stroke-opacity"]=s[4]}else i.stroke=t.strokeStyle;i["stroke-width"]=t.lineWidth,i["stroke-linecap"]=t.lineCap,i["stroke-linejoin"]=t.lineJoin,i["stroke-miterlimit"]=t.miterLimit,t.Bt&&(i["stroke-dasharray"]=t.Yg.toString(),i["stroke-dashoffset"]=t.uj)}function jb(t,i,s){var l="";if(l=t.Gl!==null?t.Gl.getAttribute(s?"fill":"stroke"):null,l!==null&&l.indexOf("GRAD")!==-1?(l=l.split("#")[1].slice(0,-1),s=t.svg.getElementById(l),s!==null&&s.remove()):l="GRAD"+fn++,i.type==="linear")s=t.Ud("linearGradient",{x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2,id:l,gradientUnits:"userSpaceOnUse"});else if(i.type==="radial")s=t.Ud("radialGradient",{x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2,r1:i.r1,r2:i.r2,id:l});else throw Error("invalid gradient");var u=i.gx;i=u.length;for(var c=[],d=0;d<i;d++){var m=u[d],y=m.color;m={offset:m.offset,"stop-color":y},/^rgba\(/.test(y)&&(y=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(y),m["stop-color"]="rgb("+y[1]+","+y[2]+","+y[3]+")",m["stop-opacity"]=y[4]),c.push(m)}for(c.sort(function(O,w){return O.offset>w.offset?1:-1}),u=0;u<i;u++)s.appendChild(t.Ud("stop",c[u]));return t.svg.appendChild(s),"url(#"+l+")"}n.addPath=function(t,i,s){for(var l=[],u=0;u<t.length;u++){var c=Ot(t[u]),d=[c.shift()];if(d[0]==="A")d.push(c.shift()+","+c.shift(),c.shift(),c.shift()+","+c.shift(),c.shift()+","+c.shift());else for(;c.length;)d.push(c.shift()+","+c.shift());l.push(d.join(" "))}if(l=l.join(" "),t=this.Xl,t.clipPath)0<this.nh.length&&this.nh[this.nh.length-1].setAttributeNS(null,"clip-path",'path("'+l+'")');else if(t.d=l,hp(this,"",t,i),this.Gl!==null)if(i=this.Gl,i.nodeName!=="g")for(var m in t)m!=="transform"&&i.setAttributeNS(null,m,t[m]);else{m=i.getElementsByTagName("path");for(var y in t)y!=="transform"&&m[s].setAttributeNS(null,y,t[y])}else this.addElement("path",t)};function l0(t,i,s,l,u,c,d){var m=new $h;m.ha=[i,s,l,u,c,d],i={},hp(t,"g",i,m),m=t.addElement("g",i),t.nh.push(m)}function px(t,i){var s={};return i&&(s.class=i),i=t.addElement("g",s),t.nh.push(i),i}n.Ev=function(t,i,s){this.zr=t,this.Ar=i,this.Vg=s};function Ho(t){t.Hl=!1,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0}function Rl(t){t.Hl=!0,t.shadowOffsetX=t.zr,t.shadowOffsetY=t.Ar,t.shadowBlur=t.Vg}n.hs=function(t,i){this.Bt=!0,this.Yg=t,this.uj=i},n.es=function(){this.Bt=!1},n.Vc=function(){},n.Wx=function(){},tr.prototype.rotate=function(t){this.rb.rotate(57.2958*t,0,0)},tr.prototype.getImageData=function(){return null},tr.prototype.measureText=function(){return null};function mx(t,i){i=i.getAttribute("fill"),i!==null&&(i=i.split("#"),i.length!==1&&(i=t.svg.getElementById(i[1].slice(0,-1)),i!==null&&t.svg.innerHTML.match(new RegExp(i.id,"g")).length===1&&i.remove()))}tr.prototype.Gs=function(t){t.svg!==null&&t.svg.parentNode===this.Mj&&t.svg.remove()},tr.className="SVGContext",H.prototype.Bs=function(t){this.pj.contains("SVG")||this.$r("SVG",new vo(this,N.document));var i=new vo(this,N.document,!0);t===void 0&&(t=new le);var s=this;return $L(this,function(l,u){return l=DL(s,l,"SVG",i),l=l!==null?l.svg:null,typeof u=="function"?(u(l),null):l},t)},H.prototype.makeSvg=H.prototype.Bs,H.prototype.av=function(t){return this.Bs(t)},H.prototype.makeSVG=H.prototype.av;function qr(t,i,s,l){this.ownerDocument=i=i===void 0?N.document:i,this.gs=null,i=i.createElement("canvas"),i.tabIndex=0,this.Oa=i,this.context=new Dh(i,s,l),i.H=t}qr.prototype.resize=function(t,i,s,l){return this.width!==t||this.height!==i?(this.width=t,this.height=i,this.style.width=s+"px",this.style.height=l+"px",!0):!1},qr.prototype.toDataURL=function(t,i){return this.Oa.toDataURL(t,i)},qr.prototype.getBoundingClientRect=function(){return this.Oa.getBoundingClientRect()},qr.prototype.focus=function(){this.Oa.focus()},qr.prototype.mx=function(){this.ownerDocument=this.Oa.H=null},S.Object.defineProperties(qr.prototype,{width:{get:function(){return this.Oa.width},set:function(t){this.Oa.width=t}},height:{get:function(){return this.Oa.height},set:function(t){this.Oa.height=t}},style:{get:function(){return this.Oa.style}}}),qr.className="CanvasSurface";function Dh(t,i,s){this.Z=t.getContext?t.getContext("2d",i):null,this.Z===null&&D("Browser does not support HTML Canvas Element"),this.bt=this.dt=this.ct="",this.Gm=!1,this.Vg=this.Ar=this.zr=0,this.Hl=!1,this.Dl=new Xt,this.isTemporary=!!s}n=Dh.prototype,n.Wx=function(t){this.Z.imageSmoothingEnabled=t},n.arc=function(t,i,s,l,u,c){this.Z.arc(t,i,s,l,u,c)},n.beginPath=function(){this.Z.beginPath()},n.Se=function(){},n.bezierCurveTo=function(t,i,s,l,u,c){this.Z.bezierCurveTo(t,i,s,l,u,c)},n.clearRect=function(t,i,s,l){this.yc(),this.Z.clearRect(t,i,s,l)},n.clip=function(){this.Z.clip()},n.closePath=function(){this.Z.closePath()},n.createLinearGradient=function(t,i,s,l){return this.Z.createLinearGradient(t,i,s,l)},n.createPattern=function(t,i){return this.Z.createPattern(t,i)},n.createRadialGradient=function(t,i,s,l,u,c){return this.Z.createRadialGradient(t,i,s,l,u,c)},n.drawImage=function(t,i,s,l,u,c,d,m,y){l===void 0?this.Z.drawImage(t,i,s):this.Z.drawImage(t,i,s,l,u,c,d,m,y)},n.fill=function(t){this.Z.fill(t?"evenodd":"nonzero")},n.fillRect=function(t,i,s,l){this.Z.fillRect(t,i,s,l)},n.ox=function(t,i,s,l){this.Z.fillRect(t,i,s,l)},n.fillText=function(t,i,s){this.Z.fillText(t,i,s)},n.getImageData=function(t,i,s,l){return this.Z.getImageData(t,i,s,l)},n.lineTo=function(t,i){this.Z.lineTo(t,i)},n.measureText=function(t){return this.Z.measureText(t)},n.moveTo=function(t,i){this.Z.moveTo(t,i)},n.quadraticCurveTo=function(t,i,s,l){this.Z.quadraticCurveTo(t,i,s,l)},n.rect=function(t,i,s,l){this.Z.rect(t,i,s,l)},n.restore=function(){this.Z.restore()},n.save=function(){this.yc(),this.Z.save()},Dh.prototype.rotate=function(t){this.Dl.rotate(57.2958*t,0,0)},n=Dh.prototype,n.setTransform=function(t,i,s,l,u,c){this.Dl.setTransform(t,i,s,l,u,c)},n.scale=function(t,i){this.Dl.scale(t,i)},n.translate=function(t,i){this.Dl.translate(t,i)},n.stroke=function(){this.Z.stroke()},n.transform=function(t,i,s,l,u,c){if(t!==1||i!==0||s!==0||l!==1||u!==0||c!==0){var d=this.Dl,m=d.m11*t+d.m21*i;t=d.m12*t+d.m22*i,i=d.m11*s+d.m21*l,s=d.m12*s+d.m22*l,d.dx=d.m11*u+d.m21*c+d.dx,d.dy=d.m12*u+d.m22*c+d.dy,d.m11=m,d.m12=t,d.m21=i,d.m22=s}},n.yc=function(){var t=this.Dl;this.Z.setTransform(t.m11,t.m12,t.m21,t.m22,t.dx,t.dy)},n.ng=function(t,i){if(t instanceof ie&&t.type===Ar){var s=t.xk;t=t.et,t>s?(this.scale(s/t,1),this.translate((t-s)/2,0)):s>t&&(this.scale(1,t/s),this.translate(0,(s-t)/2)),this.Gm?this.clip():this.fill(i),t>s?(this.translate(-(t-s)/2,0),this.scale(1/(s/t),1)):s>t&&(this.translate(0,-(s-t)/2),this.scale(1,1/(t/s)))}else this.Gm?this.clip():this.fill(i)},n.ik=function(){this.Gm||this.stroke()},n.Ev=function(t,i,s){this.zr=t,this.Ar=i,this.Vg=s},n.hs=function(t,i){var s=this.Z;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=i)},n.es=function(){var t=this.Z;t.setLineDash!==void 0&&(t.setLineDash(LG),t.lineDashOffset=0)},n.Vc=function(t){t&&(this.ct=""),this.bt=this.dt=""},n.Gs=function(){},S.Object.defineProperties(Dh.prototype,{fillStyle:{get:function(){return this.Z.fillStyle},set:function(t){this.bt!==t&&(this.bt=this.Z.fillStyle=t)}},font:{get:function(){return this.Z.font},set:function(t){this.ct!==t&&(this.ct=this.Z.font=t)}},globalAlpha:{get:function(){return this.Z.globalAlpha},set:function(t){this.Z.globalAlpha=t}},lineCap:{get:function(){return this.Z.lineCap},set:function(t){this.Z.lineCap=t}},lineDashOffset:{get:function(){return this.Z.lineDashOffset},set:function(t){this.Z.lineDashOffset=t}},lineJoin:{get:function(){return this.Z.lineJoin},set:function(t){this.Z.lineJoin=t}},lineWidth:{get:function(){return this.Z.lineWidth},set:function(t){this.Z.lineWidth=t}},miterLimit:{get:function(){return this.Z.miterLimit},set:function(t){this.Z.miterLimit=t}},shadowBlur:{get:function(){return this.Z.shadowBlur},set:function(t){this.Z.shadowBlur=t}},shadowColor:{get:function(){return this.Z.shadowColor},set:function(t){this.Z.shadowColor=t}},shadowOffsetX:{get:function(){return this.Z.shadowOffsetX},set:function(t){this.Z.shadowOffsetX=t}},shadowOffsetY:{get:function(){return this.Z.shadowOffsetY},set:function(t){this.Z.shadowOffsetY=t}},strokeStyle:{get:function(){return this.Z.strokeStyle},set:function(t){this.dt!==t&&(this.dt=this.Z.strokeStyle=t)}},textAlign:{get:function(){return this.Z.textAlign},set:function(t){this.Z.textAlign=t}},imageSmoothingEnabled:{get:function(){return this.Z.imageSmoothingEnabled},set:function(t){this.Z.imageSmoothingEnabled=t}},filter:{get:function(){return this.Z.filter},set:function(t){this.Z.filter=t===""?"none":t}},clipInsteadOfFill:{get:function(){return this.Gm},set:function(t){this.Gm=t}}});var LG=Object.freeze([]);Dh.className="CanvasSurfaceContext";function a0(){this.F=this.o=this.u=this.j=0}a0.className="ColorNumbers";function ie(t,i){pp||(Ib(),pp=!0),Ue(this),this._isFrozen=!1,t===void 0?(this.na=Sa,this.wk="black"):typeof t=="string"?(this.na=Sa,this.wk=t):(this.na=t,this.wk="black"),t=this.na,t===$l?(this.Qd=Al,this.Kk=hf):this.Kk=t===Ar?this.Qd=oe:this.Qd=_i,this.Fr=0,this.Wp=NaN,this.xe=this.br=this.we=null,this.et=this.xk=0,i&&Object.assign(this,i)}ie.prototype.copy=function(){var t=new ie;return t.na=this.na,t.wk=this.wk,t.Qd=this.Qd.J(),t.Kk=this.Kk.J(),t.Fr=this.Fr,t.Wp=this.Wp,this.we!==null&&(t.we=this.we.copy()),t.br=this.br,t},n=ie.prototype,n.freeze=function(){return this._isFrozen=!0,this.we!==null&&this.we.freeze(),this},n.ka=function(){return Object.isFrozen(this)&&D("cannot thaw constant: "+this),this._isFrozen=!1,this.we!==null&&this.we.ka(),this},n.qb=function(t){t.classType===ie&&(this.type=t)},n.toString=function(){var t="Brush(";if(this.type===Sa)t+=this.color;else if(t=this.type===$l?t+"Linear ":this.type===Ar?t+"Radial ":this.type===mp?t+"Pattern ":t+"(unknown) ",t+=this.start+" "+this.end,this.colorStops!==null)for(var i=this.colorStops.iterator;i.next();)t+=" "+i.key+":"+i.value;return t+")"},n.addColorStop=function(t,i){return this._isFrozen&&B(this),(typeof t!="number"||!isFinite(t)||1<t||0>t)&&q(t,"0 <= loc <= 1",ie,"addColorStop:loc"),this.we===null&&(this.we=new jt),this.we.add(t,i),this.na===Sa&&(this.type=$l),this.xe=null,this},n.Vz=function(t,i){if(this._isFrozen&&B(this),t=t===void 0||typeof t!="number"?.2:t,i=i===void 0?gp:i,this.type===Sa)Ll(this.color),this.color=fp(t,i);else if((this.type===$l||this.type===Ar)&&this.colorStops!==null)for(var s=this.colorStops.iterator;s.next();)Ll(s.value),this.addColorStop(s.key,fp(t,i));return this};function l$(t,i,s){return i=i===void 0||typeof i!="number"?.2:i,s=s===void 0?gp:s,Ll(t),fp(i,s)}n.Wy=function(t,i){if(this._isFrozen&&B(this),t=t===void 0||typeof t!="number"?.2:t,i=i===void 0?gp:i,this.type===Sa)Ll(this.color),this.color=fp(-t,i);else if((this.type===$l||this.type===Ar)&&this.colorStops!==null)for(var s=this.colorStops.iterator;s.next();)Ll(s.value),this.addColorStop(s.key,fp(-t,i));return this};function a$(t,i,s){return i=i===void 0||typeof i!="number"?.2:i,s=s===void 0?gp:s,Ll(t),fp(-i,s)}function Eb(t,i,s){Ll(t),t=pe.j;var l=pe.u,u=pe.o,c=pe.F;return Ll(i),s===void 0&&(s=.5),"rgba("+Math.round((pe.j-t)*s+t)+", "+Math.round((pe.u-l)*s+l)+", "+Math.round((pe.o-u)*s+u)+", "+Math.round((pe.F-c)*s+c)+")"}n.Gx=function(){if(this.type===Sa)return cp(this.color);if((this.type===$l||this.type===Ar)&&this.colorStops!==null){var t=this.colorStops;if(this.type===Ar)return cp(t.first().value);if(t.get(.5)!==null)return cp(t.get(.5));if(t.count===2)return t=t.Fa(),cp(Eb(t[0].value,t[1].value));for(var i=t.iterator,s=-1,l=-1,u=1,c=1;i.next();){var d=i.key,m=Math.abs(.5-i.key);u>c&&m<u?(s=d,u=m):c>=u&&m<c&&(l=d,c=m)}return s>l&&(c=s,s=l,l=c,c=u),u=l-s,cp(Eb(t.get(s),t.get(l),1-c/u))}return!1};function cp(t){return t?t instanceof ie?t.Gx():(Ll(t),128>(299*pe.j+587*pe.u+114*pe.o)/1e3):!1}function fp(t,i){switch(i){case gp:i=100*Lb(pe.j);var s=100*Lb(pe.u),l=100*Lb(pe.o);return mn.j=.4124564*i+.3575761*s+.1804375*l,mn.u=.2126729*i+.7151522*s+.072175*l,mn.o=.0193339*i+.119192*s+.9503041*l,mn.F=pe.F,i=Db(mn.j/dp[0]),s=Db(mn.u/dp[1]),l=Db(mn.o/dp[2]),Ko.j=116*s-16,Ko.u=500*(i-s),Ko.o=200*(s-l),Ko.F=mn.F,Ko.j=Math.min(100,Math.max(0,Ko.j+100*t)),t=(Ko.j+16)/116,i=t-Ko.o/200,mn.j=dp[0]*u$(Ko.u/500+t),mn.u=dp[1]*(Ko.j>gx*Fb?Math.pow(t,3):Ko.j/gx),mn.o=dp[2]*u$(i),mn.F=Ko.F,t=-.969266*mn.j+1.8760108*mn.u+.041556*mn.o,i=.0556434*mn.j+-.2040259*mn.u+1.0572252*mn.o,pe.j=255*$b((3.2404542*mn.j+-1.5371385*mn.u+-.4985314*mn.o)/100),pe.u=255*$b(t/100),pe.o=255*$b(i/100),pe.F=mn.F,pe.j=Math.round(pe.j),255<pe.j?pe.j=255:0>pe.j&&(pe.j=0),pe.u=Math.round(pe.u),255<pe.u?pe.u=255:0>pe.u&&(pe.u=0),pe.o=Math.round(pe.o),255<pe.o?pe.o=255:0>pe.o&&(pe.o=0),"rgba("+pe.j+", "+pe.u+", "+pe.o+", "+pe.F+")";case h$:return Rb(),pr.o=Math.min(100,Math.max(0,pr.o+100*t)),"hsla("+pr.j+", "+pr.u+"%, "+pr.o+"%, "+pr.F+")";default:D("Unknown color space: "+i)}}function Ll(t){pp||(Ib(),pp=!0);var i=Vb;if(i!==null){i.clearRect(0,0,1,1),i.fillStyle="#000000";var s=i.fillStyle;i.fillStyle=t,i.fillStyle!==s?(i.fillRect(0,0,1,1),t=i.getImageData(0,0,1,1).data,pe.j=t[0],pe.u=t[1],pe.o=t[2],pe.F=t[3]/255):(i.fillStyle="#FFFFFF",i.fillStyle=t,pe.j=0,pe.u=0,pe.o=0,pe.F=1)}}function Rb(){var t=pe.j/255,i=pe.u/255,s=pe.o/255,l=Math.max(t,i,s),u=Math.min(t,i,s),c=l-u;if(u=(l+u)/2,c===0)var d=t=0;else{switch(l){case t:d=(i-s)/c%6;break;case i:d=(s-t)/c+2;break;case s:d=(t-i)/c+4}d*=60,0>d&&(d+=360),t=c/(1-Math.abs(2*u-1))}pr.j=Math.round(d),pr.u=Math.round(100*t),pr.o=Math.round(100*u),pr.F=pe.F}function Lb(t){return t/=255,.04045>=t?t/12.92:Math.pow((t+.055)/1.055,2.4)}function $b(t){return .0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055}function Db(t){return t>Fb?Math.pow(t,1/3):(gx*t+16)/116}function u$(t){var i=t*t*t;return i>Fb?i:(116*t-16)/gx}function Sf(t,i){typeof t!="string"&&(t instanceof ie||D("Value for "+i+" must be a color string or a Brush, not "+t))}function Ib(){Vb=Os?new qr(null,void 0,{willReadFrequently:!0}).context:null}S.Object.defineProperties(ie.prototype,{type:{get:function(){return this.na},set:function(t){this._isFrozen&&B(this,t),this.na=t,this.start.Mc()&&(t===$l?this.start=Al:t===Ar&&(this.start=oe)),this.end.Mc()&&(t===$l?this.end=hf:t===Ar&&(this.end=oe)),this.xe=null}},color:{get:function(){return this.wk},set:function(t){this._isFrozen&&B(this,t),this.wk=t,this.xe=null}},start:{get:function(){return this.Qd},set:function(t){this._isFrozen&&B(this,t),this.Qd=t.J(),this.xe=null}},end:{get:function(){return this.Kk},set:function(t){this._isFrozen&&B(this,t),this.Kk=t.J(),this.xe=null}},startRadius:{get:function(){return this.Fr},set:function(t){this._isFrozen&&B(this,t),0>t&&q(t,">= zero",ie,"startRadius"),this.Fr=t,this.xe=null}},endRadius:{get:function(){return this.Wp},set:function(t){this._isFrozen&&B(this,t),0>t&&q(t,">= zero",ie,"endRadius"),this.Wp=t,this.xe=null}},colorStops:{get:function(){return this.we},set:function(t){this._isFrozen&&B(this,t),this.we=t,this.xe=null}},pattern:{get:function(){return this.br},set:function(t){this._isFrozen&&B(this,t),this.br=t,this.xe=null}}}),ie.prototype.isDark=ie.prototype.Gx,ie.prototype.darkenBy=ie.prototype.Wy,ie.prototype.lightenBy=ie.prototype.Vz,ie.prototype.addColorStop=ie.prototype.addColorStop;var Fb=216/24389,gx=24389/27,dp=[95.047,100,108.883],Vb=null,pe=new a0,pr=new a0,mn=new a0,Ko=new a0,pp=!1;ie.className="Brush";var Sa;ie.Solid=Sa=new it(ie,"Solid",0);var $l;ie.Linear=$l=new it(ie,"Linear",1);var Ar;ie.Radial=Ar=new it(ie,"Radial",2);var mp;ie.Pattern=mp=new it(ie,"Pattern",4);var gp;ie.Lab=gp=new it(ie,"Lab",5);var h$;ie.HSL=h$=new it(ie,"HSL",6),ie.randomColor=function(t,i){t===void 0&&(t=128),i===void 0&&(i=Math.max(t,255));var s=Math.abs(i-t);i=Math.floor(t+Math.random()*s).toString(16);var l=Math.floor(t+Math.random()*s).toString(16);return t=Math.floor(t+Math.random()*s).toString(16),2>i.length&&(i="0"+i),2>l.length&&(l="0"+l),2>t.length&&(t="0"+t),"#"+i+l+t},ie.isValidColor=function(t){if(t==="black")return!0;if(t==="")return!1;pp||(Ib(),pp=!0);var i=Vb;if(i===null)return!0;i.fillStyle="#000000";var s=i.fillStyle;return i.fillStyle=t,i.fillStyle!==s?!0:(i.fillStyle="#FFFFFF",s=i.fillStyle,i.fillStyle=t,i.fillStyle!==s)},ie.lighten=function(t){return l$(t)},ie.lightenBy=l$,ie.darken=function(t){return a$(t)},ie.darkenBy=a$,ie.mix=Eb,ie.isDark=cp;function ii(){this.xa="Base"}ii.prototype.measure=function(){},ii.prototype.Yz=function(t,i,s,l,u){t.measure(i,s,l,u)},ii.prototype.arrange=function(){},ii.prototype.Ly=function(t,i,s,l,u,c){t.arrange(i,s,l,u,c)},ii.prototype.iA=function(t){t.Tj()},ii.prototype.hc=function(){},S.Object.defineProperties(ii.prototype,{name:{get:function(){return this.xa},set:function(t){this.xa=t}},classType:{get:function(){return nt}}}),ii.prototype.remeasureObject=ii.prototype.iA,ii.prototype.arrangeElement=ii.prototype.Ly,ii.prototype.measureElement=ii.prototype.Yz,ii.className="PanelLayout";function yx(){this.xa="Base"}x(yx,ii),yx.prototype.measure=function(t,i,s,l,u,c,d){var m=l.length;t=Dl(t);for(var y=0;y<m;y++){var O=l[y];if(O.visible||O===t){var w=O.margin,k=w.right+w.left;w=w.top+w.bottom,O.measure(i,s,c,d);var P=O.measuredBounds;k=Math.max(P.width+k,0),w=Math.max(P.height+w,0),P=O.position.x;var T=O.position.y;isFinite(P)||(P=0),isFinite(T)||(T=0),O instanceof It&&O.isGeometryPositioned&&(O=O.strokeWidth/2,P-=O,T-=O),Si(u,P,T,k,w)}}},yx.prototype.arrange=function(t,i,s){var l=i.length,u=t.padding;for(t=s.x-u.left,s=s.y-u.top,u=0;u<l;u++){var c=i[u],d=c.measuredBounds,m=c.margin,y=c.position.x,O=c.position.y;if(y=isNaN(y)?-t:y-t,O=isNaN(O)?-s:O-s,c instanceof It&&c.isGeometryPositioned){var w=c.strokeWidth/2;y-=w,O-=w}c.visible&&c.arrange(y+m.left,O+m.top,d.width,d.height)}};function Ox(){this.xa="Base"}x(Ox,ii),Ox.prototype.measure=function(t,i,s,l,u,c,d){var m=l.length;i=St(),c=Dl(t);for(var y=0;y<m;y++){var O=l[y];if(O.visible||O===c){var w=_s(O,!1);if(w!==$e&&w!==Di)i.push(O);else{O.measure(1/0,s,0,d),w=O.margin,O=O.measuredBounds;var k=Math.max(O.height+w.top+w.bottom,0);u.width+=Math.max(O.width+w.right+w.left,0),u.height=Math.max(u.height,k)}}}for(l=i.length,t.desiredSize.height?s=Math.min(t.desiredSize.height,t.maxSize.height):u.height!==0&&(s=Math.min(u.height,t.maxSize.height)),t=0;t<l;t++)y=i[t],(y.visible||y===c)&&(w=y.margin,m=w.right+w.left,w=w.top+w.bottom,y.measure(1/0,s,0,d),y=y.measuredBounds,w=Math.max(y.height+w,0),u.width+=Math.max(y.width+m,0),u.height=Math.max(u.height,w));dt(i)},Ox.prototype.arrange=function(t,i,s){for(var l=i.length,u=t.padding,c=u.top,d=t.isOpposite,m=d?s.width:u.left,y=0;y<l;y++){var O=c,w=i[y];if(w.visible){var k=w.measuredBounds,P=w.margin,T=P.top+P.bottom,M=c+u.bottom,A=k.height,I=_s(w,!1);(isNaN(w.desiredSize.height)&&I===Xe||I===Ui)&&(A=Math.max(s.height-T-M,0)),T=A+T+M,M=w.alignment,M.Yb()&&(M=t.defaultAlignment),M.sb()||(M=oe),d&&(m-=k.width+P.left+P.right),w.arrange(m+M.offsetX+P.left,O+M.offsetY+P.top+(s.height*M.y-T*M.y),k.width,A),d||(m+=k.width+P.left+P.right)}}};function vx(){this.xa="Base"}x(vx,ii),vx.prototype.measure=function(t,i,s,l,u,c){var d=l.length;s=St();for(var m=Dl(t),y=0;y<d;y++){var O=l[y];if(O.visible||O===m){var w=_s(O,!1);if(w!==$e&&w!==Ui)s.push(O);else{var k=O.margin;w=k.right+k.left,k=k.top+k.bottom,O.measure(i,1/0,c,0),O=O.measuredBounds,Ki(u,Math.max(u.width,Math.max(O.width+w,0)),u.height+Math.max(O.height+k,0))}}}if(l=s.length,l!==0){for(t.desiredSize.width?i=Math.min(t.desiredSize.width,t.maxSize.width):u.width!==0&&(i=Math.min(u.width,t.maxSize.width)),t=0;t<l;t++)y=s[t],(y.visible||y===m)&&(O=y.margin,d=O.right+O.left,O=O.top+O.bottom,y.measure(i,1/0,c,0),y=y.measuredBounds,O=Math.max(y.height+O,0),u.width=Math.max(u.width,Math.max(y.width+d,0)),u.height+=O);dt(s)}},vx.prototype.arrange=function(t,i,s){for(var l=i.length,u=t.padding,c=u.left,d=t.isOpposite,m=d?s.height:u.top,y=0;y<l;y++){var O=c,w=i[y];if(w.visible){var k=w.measuredBounds,P=w.margin,T=P.left+P.right,M=c+u.right,A=k.width,I=_s(w,!1);(isNaN(w.desiredSize.width)&&I===Xe||I===Di)&&(A=Math.max(s.width-T-M,0)),T=A+T+M,M=w.alignment,M.Yb()&&(M=t.defaultAlignment),M.sb()||(M=oe),d&&(m-=k.height+P.bottom+P.top),w.arrange(O+M.offsetX+P.left+(s.width*M.x-T*M.x),m+M.offsetY+P.top,A,k.height),d||(m+=k.height+P.bottom+P.top)}}};function xx(){this.xa="Base"}x(xx,ii),xx.prototype.measure=function(t,i,s,l,u,c,d){var m=l.length,y=t.Qb(),O=y.margin,w=O.right+O.left,k=O.top+O.bottom;y.measure(i,s,c,d);var P=y.measuredBounds;c=P.width,d=P.height;var T=Math.max(c+w,0),M=Math.max(d+k,0),A=t.isClipping,I=tt.allocAt(-O.left,-O.top,T,M),L=tt.allocAt(0,0,c,d);zb(y,L,!0),c=L.width,d=L.height;for(var z=!0,X=Dl(t),_=0;_<m;_++){var Y=l[_];P=i;var G=s;if(Y!==y&&(Y.visible||Y===X)){O=Y.margin;var ut=O.left,gt=O.top;switch(T=O.right+O.left,M=O.top+O.bottom,O=_s(Y,!1),O){case Xe:P=c,G=d,gt=ut=M=T=0;break;case Di:P=c,ut=T=0;break;case Ui:G=d,gt=M=0}Y.measure(P,G,0,0),P=Y.measuredBounds,T=Math.max(P.width+T,0),M=Math.max(P.height+M,0),O=Y.alignment,O.Yb()&&(O=t.defaultAlignment),O.sb()||(O=oe);var mt=Y.alignmentFocus;if(mt.Yb()&&(mt=oe),G=null,Y instanceof nt&&Y.$e!==""&&(G=Y.fb(Y.$e),G===Y&&(G=null)),ut=L.x-ut,gt=L.y-gt,G!==null){for(Y.arrange(0,0,P.width,P.height),P=G.actualBounds,P=F.allocAt(P.x+(mt.x*P.width-mt.offsetX),P.y+(mt.y*P.height-mt.offsetY)),G=G.panel;G!==Y;)G.transform.Ga(P),G=G.panel;ut+=O.x*c+O.offsetX-P.x,gt+=O.y*d+O.offsetY-P.y,F.free(P)}else ut+=O.x*c+O.offsetX-(mt.x*P.width+mt.offsetX),gt+=O.y*d+O.offsetY-(mt.y*P.height+mt.offsetY);z?(z=!1,u.h(ut,gt,T,M)):Si(u,ut,gt,T,M)}}switch(z?u.assign(I):A?u.Uu(L.x,L.y,L.width,L.height):Si(u,I.x,I.y,I.width,I.height),tt.free(I),tt.free(L),O=y.stretch,O===vs&&(O=_s(y,!1)),O){case $e:return;case Xe:if(!isFinite(i)&&!isFinite(s))return;break;case Di:if(!isFinite(i))return;break;case Ui:if(!isFinite(s))return}for(P=y.measuredBounds,c=P.width,d=P.height,T=Math.max(c+w,0),M=Math.max(d+k,0),O=y.margin,L=tt.allocAt(-O.left,-O.top,T,M),zb(y,L,!0),c=L.width,d=L.height,i=0;i<m;i++)s=l[i],s===y||!s.visible&&s!==X||(O=s.margin,T=O.right+O.left,M=O.top+O.bottom,P=s.measuredBounds,T=Math.max(P.width+T,0),M=Math.max(P.height+M,0),w=s.alignment,w.Yb()&&(w=t.defaultAlignment),w.sb()||(w=oe),s=s.alignmentFocus,s.Yb()&&(s=oe),z?(z=!1,u.h(w.x*c+w.offsetX-(s.x*P.width+s.offsetX)-O.left,w.y*d+w.offsetY-(s.y*P.height+s.offsetY)-O.top,T,M)):Si(u,w.x*c+w.offsetX-(s.x*P.width+s.offsetX)-O.left,w.y*d+w.offsetY-(s.y*P.height+s.offsetY)-O.top,T,M));z?u.assign(I):A?u.Uu(L.x,L.y,L.width,L.height):Si(u,I.x,I.y,I.width,I.height),tt.free(L)},xx.prototype.arrange=function(t,i,s){var l=i.length,u=t.Qb(),c=u.measuredBounds,d=c.width,m=c.height,y=t.padding;c=y.left,y=y.top;var O=c-s.x,w=y-s.y;for(u.arrange(O,w,d,m),d=tt.allocAt(0,0,d,m),zb(u,d,!1),m=0;m<l;m++){var k=i[m];if(k!==u){O=k.measuredBounds;var P=O.width,T=O.height;w=k.alignment,w.Yb()&&(w=t.defaultAlignment),w.sb()||(w=oe);var M=k.alignmentFocus;if(M.Yb()&&(M=oe),O=null,k instanceof nt&&k.$e!==""&&(O=k.fb(k.$e),O===k&&(O=null)),O!==null){var A=O.actualBounds;for(M=F.allocAt(A.x+(M.x*A.width-M.offsetX),A.y+(M.y*A.height-M.offsetY)),O=O.panel;O!==k;)O.transform.Ga(M),O=O.panel;O=w.x*d.width+w.offsetX-M.x,w=w.y*d.height+w.offsetY-M.y,F.free(M)}else O=w.x*d.width+w.offsetX-(M.x*P+M.offsetX),w=w.y*d.height+w.offsetY-(M.y*T+M.offsetY);O+=d.x-s.x,w+=d.y-s.y,k.visible&&k.arrange(c+O,y+w,P,T)}}tt.free(d)};function zb(t,i,s){var l=null;if(t instanceof nt&&t.$e!==""&&(l=t.fb(t.$e),l===t&&(l=null)),l!==null)for(s&&t.arrange(0,0,i.width,i.height),i.assign(l.actualBounds),l=l.panel;l!==t;)l.transform.op(i),l=l.panel}function wx(){this.xa="Base"}x(wx,ii),wx.prototype.measure=function(t,i,s,l,u,c,d){var m=l.length,y=t.Qb(),O=y.margin,w=i,k=s,P=O.right+O.left,T=O.top+O.bottom;y.measure(i,s,c,d),O=y.measuredBounds;var M=0,A=null;y instanceof It&&(A=y,M=A.strokeWidth*A.scale);var I=Math.max(O.width+P,0);O=Math.max(O.height+T,0);var L=Zb(y),z=L.x*I+L.offsetX;L=L.y*O+L.offsetY;var X=Yb(y),_=X.x*I+X.offsetX;for(X=X.y*O+X.offsetY,isFinite(i)&&(w=Math.max(Math.abs(z-_)-M,0)),isFinite(s)&&(k=Math.max(Math.abs(L-X)-M,0)),M=At.alloc(),M.h(0,0),t=Dl(t),X=0;X<m;X++)L=l[X],L===y||!L.visible&&L!==t||(O=L.margin,I=O.right+O.left,z=O.top+O.bottom,L.measure(w,k,0,0),O=L.measuredBounds,I=Math.max(O.width+I,0),O=Math.max(O.height+z,0),M.h(Math.max(I,M.width),Math.max(O,M.height)));if(m===1)u.width=I,u.height=O,At.free(M);else{switch(L=Zb(y),X=Yb(y),m=l=0,X.x!==L.x&&X.y!==L.y&&(l=M.width/Math.abs(X.x-L.x),m=M.height/Math.abs(X.y-L.y)),At.free(M),M=0,A!==null&&(M=A.strokeWidth*A.scale,Kb(A)===Oo&&(l=m=Math.max(l,m))),l+=Math.abs(L.offsetX)+Math.abs(X.offsetX)+M,m+=Math.abs(L.offsetY)+Math.abs(X.offsetY)+M,A=y.stretch,A===vs&&(A=_s(y,!1)),A){case $e:d=c=0;break;case Xe:isFinite(i)&&(l=i),isFinite(s)&&(m=s);break;case Di:isFinite(i)&&(l=i),d=0;break;case Ui:c=0,isFinite(s)&&(m=s)}y.Tj(),y.measure(l,m,c,d),u.width=y.measuredBounds.width+P,u.height=y.measuredBounds.height+T}},wx.prototype.arrange=function(t,i){var s=i.length,l=t.Qb(),u=l.measuredBounds,c=tt.alloc();c.h(0,0,1,1);var d=l.margin,m=d.left;d=d.top;var y=t.padding,O=y.left;y=y.top,l.arrange(O+m,y+d,u.width,u.height);var w=Zb(l),k=Yb(l),P=w.y*u.height+w.offsetY,T=k.x*u.width+k.offsetX;for(k=k.y*u.height+k.offsetY,c.x=w.x*u.width+w.offsetX,c.y=P,Si(c,T,k,0,0),c.x+=m+O,c.y+=d+y,u=0;u<s;u++)m=i[u],m!==l&&(O=m.measuredBounds,d=m.margin,y=Math.max(O.width+d.right+d.left,0),w=Math.max(O.height+d.top+d.bottom,0),P=m.alignment,P.Yb()&&(P=t.defaultAlignment),P.sb()||(P=oe),y=c.width*P.x+P.offsetX-y*P.x+d.left+c.x,d=c.height*P.y+P.offsetY-w*P.y+d.top+c.y,m.visible&&(Fs(c.x,c.y,c.width,c.height,y,d,O.width,O.height)?m.arrange(y,d,O.width,O.height):m.arrange(y,d,O.width,O.height,new tt(c.x,c.y,c.width,c.height))));tt.free(c)};function Sx(){this.xa="Base",this.name="Table"}x(Sx,ii),Sx.prototype.measure=function(t,i,s,l,u){for(var c=l.length,d=St(),m=St(),y=0;y<c;y++){var O=l[y],w=O instanceof nt?O:null;if(w!==null&&ka(w)&&O.visible){m.push(w);for(var k=w.O.s,P=k.length,T=0;T<P;T++){var M=k[T];w.type===nt.TableRow?M.row=O.row:w.type===nt.TableColumn&&(M.column=O.column),d.push(M)}}else d.push(O)}c=d.length,c===0&&(t.Gb(0),t.Fb(0));for(var A=[],I=0;I<c;I++){var L=d[I];L.visible&&(Qr(L,!0),Rh(L,!0),A[L.row]||(A[L.row]=[]),A[L.row][L.column]||(A[L.row][L.column]=[]),A[L.row][L.column].push(L))}dt(d);var z=St(),X=St(),_=St(),Y={count:0},G={count:0},ut=i,gt=s,mt=t.rowDefs,st=t.colDefs,et=null;c=mt.length;for(var Rt=0;Rt<c;Rt++)et=mt[Rt],et!==void 0&&(et.actual=0);c=st.length;for(var Qt=0;Qt<c;Qt++)et=st[Qt],et!==void 0&&(et.actual=0);for(var Gt=A.length,ce=0,ai=0;ai<Gt;ai++)A[ai]&&(ce=Math.max(ce,A[ai].length));var di=Math.min(t.topIndex,Gt-1),nn=Math.min(t.leftIndex,ce-1),ui=0;Gt=A.length;for(var Ea=Dl(t),_e=0;_e<Gt;_e++)if(A[_e]){ce=A[_e].length;var qs=t.Gb(_e);qs.actual=0;for(var rn=qs.pc=0;rn<ce;rn++)if(A[_e][rn]){var Ra=t.Fb(rn);z[rn]===void 0&&(Ra.actual=0,Ra.pc=0,z[rn]=!0);for(var yr=A[_e][rn],Jr=yr.length,nr=0;nr<Jr;nr++){var _n=yr[nr];if(_n.visible||_n===Ea){var Fu=1<_n.rowSpan||1<_n.columnSpan;Fu&&(_e<di||rn<nn||X.push(_n));var Gs=_n.margin,Fp=Gs.right+Gs.left,rr=Gs.top+Gs.bottom,sn=s0(_n,qs,Ra,!1),q0=_n.desiredSize,Rf=!isNaN(q0.height),So=!isNaN(q0.width)&&Rf;if(Fu||sn===$e||So||_e<di||rn<nn||(Y[rn]!==void 0||sn!==Xe&&sn!==Di||(Y[rn]=-1,Y.count++),G[_e]!==void 0||sn!==Xe&&sn!==Ui||(G[_e]=-1,G.count++),_.push(_n)),_n.measure(1/0,1/0,0,0),!(_e<di||rn<nn)){var Zn=_n.measuredBounds,Yh=Math.max(Zn.width+Fp,0),sr=Math.max(Zn.height+rr,0);if(_n.rowSpan===1&&(sn===$e||sn===Di)){et=t.Gb(_e);var Vu=et.Wc();ui=Math.max(sr-et.actual,0),ui+Vu>gt&&(ui=Math.max(gt-Vu,0));var Z1=et.oa===0;et.pc=et.pc+ui,et.actual=et.oa+ui,gt=Math.max(gt-(ui+(Z1?Vu:0)),0)}if(_n.columnSpan===1&&(sn===$e||sn===Ui)){et=t.Fb(rn);var G0=et.Wc();ui=Math.max(Yh-et.actual,0),ui+G0>ut&&(ui=Math.max(ut-G0,0));var dC=et.oa===0;et.pc=et.pc+ui,et.actual=et.oa+ui,ut=Math.max(ut-(ui+(dC?G0:0)),0)}Fu&&_n.Tj()}}}}}dt(z);var ll=0,Vl=0;c=t.columnCount;for(var Lf=0;Lf<c;Lf++){var zu=st[Lf];zu!==void 0&&(ll+=isNaN(zu.Hc)?zu.pc:zu.Hc,zu.pc!==0&&(ll+=zu.Wc()))}c=t.rowCount;for(var Vp=0;Vp<c;Vp++){var Xu=mt[Vp];Xu!==void 0&&(Vl+=isNaN(Xu.Hc)?Xu.pc:Xu.Hc,Xu.pc!==0&&(Vl+=Xu.Wc()))}ut=Math.max(i-ll,0);var al=gt=Math.max(s-Vl,0),La=ut;c=_.length;for(var Yn=0;Yn<c;Yn++){var ko=_[Yn],Y1=t.Gb(ko.row),zl=t.Fb(ko.column),zp=ko.measuredBounds,Hs=ko.margin,Uh=Hs.right+Hs.left,Po=Hs.top+Hs.bottom;Y[ko.column]=zl.pc===0&&Y[ko.column]!==void 0?Math.max(zp.width+Uh,Y[ko.column]):null,G[ko.row]=Y1.pc===0&&G[ko.row]!==void 0?Math.max(zp.height+Po,G[ko.row]):null}var $f=0,Xp=0,Cs;for(Cs in G)Cs!=="count"&&($f+=G[Cs]);for(Cs in Y)Cs!=="count"&&(Xp+=Y[Cs]);for(var wi=At.alloc(),H0=0;H0<c;H0++){var Sn=_[H0];if(Sn.visible||Sn===Ea){var Ze=t.Gb(Sn.row),kn=t.Fb(Sn.column),Xl=0;isFinite(kn.width)?Xl=kn.width:(isFinite(ut)&&Y[Sn.column]!==null?Xp===0?Xl=kn.actual+ut:Xl=Y[Sn.column]/Xp*La:Y[Sn.column]!==null?Xl=ut:Xl=kn.actual||ut,Xl=Math.max(0,Xl-kn.Wc()));var $a=0;switch(isFinite(Ze.height)?$a=Ze.height:(isFinite(gt)&&G[Sn.row]!==null?$f===0?$a=Ze.actual+gt:$a=G[Sn.row]/$f*al:G[Sn.row]!==null?$a=gt:$a=Ze.actual||gt,$a=Math.max(0,$a-Ze.Wc())),wi.h(Math.max(kn.minimum,Math.min(Xl,kn.maximum)),Math.max(Ze.minimum,Math.min($a,Ze.maximum))),sn=s0(Sn,Ze,kn,!1),sn){case Di:wi.height=Math.max(wi.height,Ze.actual+gt);break;case Ui:wi.width=Math.max(wi.width,kn.actual+ut)}var Wh=Sn.margin,pC=Wh.right+Wh.left,U1=Wh.top+Wh.bottom;Sn.Tj(),Sn.measure(wi.width,wi.height,kn.minimum,Ze.minimum);var Bp=Sn.measuredBounds,qh=Math.max(Bp.width+pC,0),Df=Math.max(Bp.height+U1,0);isFinite(ut)&&(qh=Math.min(qh,wi.width)),isFinite(gt)&&(Df=Math.min(Df,wi.height));var Un=0;Un=Ze.actual,Ze.actual=Math.max(Ze.actual,Df),Ze.pc=Math.max(Ze.pc,Df),ui=Ze.actual-Un,gt=Math.max(gt-ui,0),G[Sn.row]===null&&(al=Math.max(al-ui,0)),Un=kn.actual,kn.actual=Math.max(kn.actual,qh),kn.pc=Math.max(kn.pc,qh),ui=kn.actual-Un,ut=Math.max(ut-ui,0),Y[Sn.column]===null&&(La=Math.max(La-ui,0))}}dt(_);var Bl=At.alloc(),Ks=St(),$r=St();if(c=X.length,c!==0){for(var Bu=0;Bu<Gt;Bu++)if(A[Bu]){ce=A[Bu].length;var _p=t.Gb(Bu);Ks[Bu]=_p.actual;for(var _u=0;_u<ce;_u++)if(A[Bu][_u]){var W1=t.Fb(_u);$r[_u]=W1.actual}}}for(var Zp=0;Zp<c;Zp++){var Re=X[Zp];if(Re.visible||Re===Ea){var Ms=t.Gb(Re.row),ts=t.Fb(Re.column);switch(wi.h(Math.max(ts.minimum,Math.min(i,ts.maximum)),Math.max(Ms.minimum,Math.min(s,Ms.maximum))),sn=s0(Re,Ms,ts,!1),sn){case Xe:$r[ts.index]!==0&&(wi.width=Math.min(wi.width,$r[ts.index])),Ks[Ms.index]!==0&&(wi.height=Math.min(wi.height,Ks[Ms.index]));break;case Di:$r[ts.index]!==0&&(wi.width=Math.min(wi.width,$r[ts.index]));break;case Ui:Ks[Ms.index]!==0&&(wi.height=Math.min(wi.height,Ks[Ms.index]))}isFinite(ts.width)&&(wi.width=ts.width),isFinite(Ms.height)&&(wi.height=Ms.height),Bl.h(0,0);for(var q1=ts.minimum,or=Ms.minimum,Da=1;Da<Re.rowSpan&&!(Re.row+Da>=t.rowCount);Da++)et=t.Gb(Re.row+Da),ui=0,ui=sn===Xe||sn===Ui?Math.max(et.minimum,Ks[Re.row+Da]===0?et.maximum:Math.min(Ks[Re.row+Da],et.maximum)):Math.max(et.minimum,isNaN(et.Hc)?et.maximum:Math.min(et.Hc,et.maximum)),Bl.height+=ui,or+=et.minimum;for(var es=1;es<Re.columnSpan&&!(Re.column+es>=t.columnCount);es++)et=t.Fb(Re.column+es),ui=0,ui=sn===Xe||sn===Di?Math.max(et.minimum,$r[Re.column+es]===0?et.maximum:Math.min($r[Re.column+es],et.maximum)):Math.max(et.minimum,isNaN(et.Hc)?et.maximum:Math.min(et.Hc,et.maximum)),Bl.width+=ui,q1+=et.minimum;wi.width+=Bl.width,wi.height+=Bl.height;var Yp=Re.margin,Zu=Yp.right+Yp.left,K0=Yp.top+Yp.bottom;Re.measure(wi.width,wi.height,q1,or);for(var Up=Re.measuredBounds,bo=Math.max(Up.width+Zu,0),Gh=Math.max(Up.height+K0,0),Yu=0,Wp=0;Wp<Re.rowSpan&&!(Re.row+Wp>=t.rowCount);Wp++)et=t.Gb(Re.row+Wp),Yu+=et.total||0;if(Yu<Gh){var Ia=Gh-Yu,ul=Gh-Yu;if(Re.spanAllocation!==null)for(var Fa=Re.spanAllocation,_l=0;_l<Re.rowSpan&&!(0>=Ia)&&!(Re.row+_l>=t.rowCount);_l++){et=t.Gb(Re.row+_l);var Va=et.oa||0,Hh=Fa(Re,et,ul);et.actual=Math.min(et.maximum,Va+Hh),et.oa!==Va&&(Ia-=et.oa-Va)}for(;0<Ia;){var Js=et.oa||0;if(isNaN(et.height)&&et.maximum>Js&&(et.actual=Math.min(et.maximum,Js+Ia),et.oa!==Js&&(Ia-=et.oa-Js)),et.index===0)break;et=t.Gb(et.index-1)}}for(var If=0,za=0;za<Re.columnSpan&&!(Re.column+za>=t.columnCount);za++)et=t.Fb(Re.column+za),If+=et.total||0;if(If<bo){var Ff=bo-If,mC=bo-If;if(Re.spanAllocation!==null)for(var Zl=Re.spanAllocation,Kh=0;Kh<Re.columnSpan&&!(0>=Ff)&&!(Re.column+Kh>=t.columnCount);Kh++){et=t.Fb(Re.column+Kh);var J0=et.oa||0,gC=Zl(Re,et,mC);et.actual=Math.min(et.maximum,J0+gC),et.oa!==J0&&(Ff-=et.oa-J0)}for(;0<Ff;){var G1=et.oa||0;if(isNaN(et.width)&&et.maximum>G1&&(et.actual=Math.min(et.maximum,G1+Ff),et.oa!==G1&&(Ff-=et.oa-G1)),et.index===0)break;et=t.Fb(et.index-1)}}}}dt(X),At.free(Bl),At.free(wi),Ks!==void 0&&dt(Ks),$r!==void 0&&dt($r);var Vf=0,zf=0,H1=t.desiredSize,PI=t.maxSize;sn=_s(t,!0);var ty=Vl=ll=0,ey=0;c=t.columnCount;for(var K1=0;K1<c;K1++)st[K1]!==void 0&&(et=t.Fb(K1),isFinite(et.width)?(ty+=et.width,ty+=et.Wc()):jx(et)===f0?(ty+=et.oa,ty+=et.Wc()):et.oa!==0&&(ll+=et.oa,ll+=et.Wc()));isFinite(H1.width)?Vf=Math.min(H1.width,PI.width):Vf=sn!==$e&&isFinite(i)?i:ll,Vf=Math.max(Vf,t.minSize.width),Vf=Math.max(Vf-ty,0);for(var yH=ll===0?1:Math.max(Vf/ll,1),J1=0;J1<c;J1++)st[J1]!==void 0&&(et=t.Fb(J1),isFinite(et.width)||jx(et)===f0||(et.actual=et.oa*yH),et.position=u.width,et.oa!==0&&(u.width+=et.oa,u.width+=et.Wc()));c=t.rowCount;for(var tw=0;tw<c;tw++)mt[tw]!==void 0&&(et=t.Gb(tw),isFinite(et.height)?(ey+=et.height,ey+=et.Wc()):jx(et)===f0?(ey+=et.oa,ey+=et.Wc()):et.oa!==0&&(Vl+=et.oa,Vl+=et.Wc()));isFinite(H1.height)?zf=Math.min(H1.height,PI.height):zf=sn!==$e&&isFinite(s)?s:Vl,zf=Math.max(zf,t.minSize.height),zf=Math.max(zf-ey,0);for(var OH=Vl===0?1:Math.max(zf/Vl,1),ew=0;ew<c;ew++)mt[ew]!==void 0&&(et=t.Gb(ew),isFinite(et.height)||jx(et)===f0||(et.actual=et.oa*OH),et.position=u.height,et.oa!==0&&(u.height+=et.oa,u.height+=et.Wc()));c=m.length;for(var yC=0;yC<c;yC++){var iy=m[yC],OC=0,vC=0;iy.type===nt.TableRow?(OC=u.width,et=t.Gb(iy.row),vC=et.actual):(et=t.Fb(iy.column),OC=et.actual,vC=u.height),iy.measuredBounds.h(0,0,OC,vC),Qr(iy,!1)}dt(m),t.inRowsCols=A},Sx.prototype.arrange=function(t,i,s){var l=i.length,u=t.padding,c=u.left;u=u.top;var d=t.inRowsCols;if(d!==null){for(var m,y,O=d.length,w=0,k=0;k<O;k++)d[k]&&(w=Math.max(w,d[k].length));y=t.rowDefs,m=t.colDefs;var P=k=0,T=Math.min(t.topIndex,O-1);if(0<y.length){for(;T!==O&&(y[T]===void 0||y[T].oa===0);)T++;T=Math.max(Math.min(T,O-1),0),k=-y[T].position}var M=Math.min(t.leftIndex,w-1);if(0<m.length){for(;M!==w&&(m[M]===void 0||m[M].oa===0);)M++;M=Math.max(Math.min(M,w-1),0),P=-m[M].position}for(var A=0,I=0;A!==O&&y[A]===void 0;)A++;for(;I!==O&&m[I]===void 0;)I++;w=t.part,t.Gb(A),t.Fb(I);for(var L=0;L<i.length;L++){var z=i[L];if(z instanceof nt&&z.visible&&ka(z)){if(z.type===nt.TableRow){m=t.Gb(z.row);var X=t.Fb(I)}else m=t.Gb(A),X=t.Fb(z.column);y=m.position+k+u,m.oa!==0&&(y+=m.Ho(Math.max(A,T))),m=X.position+P+c,X.oa!==0&&(m+=X.Ho(Math.max(I,M))),X=z.measuredBounds,z.Tk(),z.actualBounds.ka();var _=z.actualBounds,Y=tt.allocAt(_.x,_.y,_.width,_.height);_.x=z.type===nt.TableRow?c:m,_.y=z.type===nt.TableColumn?u:y,_.width=X.width,_.height=X.height,z.actualBounds.freeze(),Rh(z,!1),Nl(Y,_)||w===null||(w.oh(),z.On(w)),tt.free(Y)}}for(L=At.alloc(),z=0;z<O;z++)if(d[z]){for(w=d[z].length,X=t.Gb(z),y=X.position+k+u,X.oa!==0&&(y+=X.Ho(Math.max(A,T))),_=0;_<w;_++)if(d[z][_]){Y=t.Fb(_),m=Y.position+P+c,Y.oa!==0&&(m+=Y.Ho(Math.max(I,M)));for(var G=d[z][_],ut=G.length,gt=0;gt<ut;gt++){var mt=G[gt],st=mt.measuredBounds;L.h(0,0);for(var et=1;et<mt.rowSpan&&!(z+et>=t.rowCount);et++){var Rt=t.Gb(z+et);Rt.oa!==0&&(L.height+=Rt.total)}for(et=1;et<mt.columnSpan&&!(_+et>=t.columnCount);et++)Rt=t.Fb(_+et),Rt.oa!==0&&(L.width+=Rt.total);var Qt=Y.oa+L.width,Gt=X.oa+L.height;et=m,Rt=y;var ce=Qt,ai=Gt,di=m,nn=y,ui=Qt,Ea=Gt;m+Qt>s.width&&(ui=Math.max(s.width-m,0)),y+Gt>s.height&&(Ea=Math.max(s.height-y,0));var _e=mt.alignment;if(_e.Yb()){_e=t.defaultAlignment,_e.sb()||(_e=oe);var qs=_e.x,rn=_e.y,Ra=_e.offsetX;_e=_e.offsetY;var yr=Y.alignment,Jr=X.alignment;yr.sb()&&(qs=yr.x,Ra=yr.offsetX),Jr.sb()&&(rn=Jr.y,_e=Jr.offsetY)}else qs=_e.x,rn=_e.y,Ra=_e.offsetX,_e=_e.offsetY;(isNaN(qs)||isNaN(rn))&&(rn=qs=.5,_e=Ra=0),yr=st.width,Jr=st.height;var nr=mt.margin,_n=nr.left+nr.right,Fu=nr.top+nr.bottom,Gs=s0(mt,X,Y,!1);!isNaN(mt.desiredSize.width)||Gs!==Xe&&Gs!==Di||(yr=Math.max(Qt-_n,0)),!isNaN(mt.desiredSize.height)||Gs!==Xe&&Gs!==Ui||(Jr=Math.max(Gt-Fu,0)),Qt=mt.maxSize,Gt=mt.minSize,yr=Math.min(Qt.width,yr),Jr=Math.min(Qt.height,Jr),yr=Math.max(Gt.width,yr),Jr=Math.max(Gt.height,Jr),Qt=Jr+Fu,et+=ce*qs-(yr+_n)*qs+Ra+nr.left,Rt+=ai*rn-Qt*rn+_e+nr.top,mt.visible&&(Fs(di,nn,ui,Ea,et,Rt,st.width,st.height)?mt.arrange(et,Rt,yr,Jr):mt.arrange(et,Rt,yr,Jr,new tt(di,nn,ui,Ea)))}}}for(At.free(L),t=0;t<l;t++)s=i[t],c=s instanceof nt?s:null,c!==null&&ka(c)&&(c=s.actualBounds,s.naturalBounds.ka(),s.naturalBounds.h(0,0,c.width,c.height),s.naturalBounds.freeze())}};function kx(){this.xa="Base"}x(kx,ii),kx.prototype.measure=function(){},kx.prototype.arrange=function(){};function Px(){this.xa="Base"}x(Px,ii),Px.prototype.measure=function(){},Px.prototype.arrange=function(){};function bx(){this.xa="Base"}x(bx,ii),bx.prototype.measure=function(t,i,s,l,u,c,d){1<l.length&&D("Viewbox Panel cannot contain more than one GraphObject."),l=l[0],l.Ca=1,l.Tj(),l.measure(1/0,1/0,c,d);var m=l.measuredBounds,y=l.margin,O=y.right+y.left;if(y=y.top+y.bottom,isFinite(i)||isFinite(s)){var w=l.scale,k=m.width;m=m.height;var P=Math.max(i-O,0),T=Math.max(s-y,0),M=1;t.viewboxStretch===Oo?k!==0&&m!==0&&(M=Math.min(P/k,T/m)):k!==0&&m!==0&&(M=Math.max(P/k,T/m)),M===0&&(M=1e-4),l.Ca*=M,w!==l.scale&&(Qr(l,!0),l.measure(1/0,1/0,c,d))}m=l.measuredBounds,u.width=isFinite(i)?i:Math.max(m.width+O,0),u.height=isFinite(s)?s:Math.max(m.height+y,0)},bx.prototype.arrange=function(t,i,s){i=i[0];var l=i.measuredBounds,u=i.margin,c=Math.max(l.width+(u.right+u.left),0);u=Math.max(l.height+(u.top+u.bottom),0);var d=i.alignment;d.Yb()&&(d=t.defaultAlignment),d.sb()||(d=oe),i.arrange(s.width*d.x-c*d.x+d.offsetX,s.height*d.y-u*d.y+d.offsetY,l.width,l.height)};function u0(){this.xa="Base"}x(u0,ii),u0.prototype.measure=function(){},u0.prototype.arrange=function(){},u0.prototype.hc=function(t,i,s){s=t.Df()*s.scale,0>=s&&(s=1);var l=t.gridCellSize,u=l.width;l=l.height;var c=t.naturalBounds,d=t.actualBounds,m=c.width,y=c.height,O=Math.ceil(m/u),w=Math.ceil(y/l),k=t.gridOrigin,P=k.x;k=k.y,i.save(),i.beginPath(),i.rect(0,0,m,y),i.clip(),i.Se();for(var T=[],M=t.O.s,A=M.length,I=0;I<A;I++){var L=M[I],z=[];if(T.push(z),L.visible){var X=L.interval;if(!(0>X)){L=Bb(L.figure);for(var _=0;_<A;_++)if(_!==I){var Y=M[_];Y.visible&&Bb(Y.figure)===L&&(Y=Y.interval,Y>X&&z.push(Y))}}}}for(M=t.O.s,A=M.length,I=0;I<A;I++){var G=M[I];if(G.visible&&(z=G.interval||1,L=Math.abs(z),!(2>u*L*s))){if(X=G.segmentIndex,(!isFinite(X)||isNaN(X))&&(X=0),0>X&&(X=L-Math.min(-X,L)),X=Math.round(X%L),L=G.opacity,_=1,L!==1){if(L===0)continue;_=i.globalAlpha,i.globalAlpha=_*L}Y=T[I];var ut=!1,gt=G.strokeDashArray;if(gt!==null&&(ut=!0,i.hs(gt,G.strokeDashOffset)),G.figure==="LineV"&&G.stroke!==null&&0<G.strokeWidth){for(i.lineWidth=G.strokeWidth,dr(t,i,G.stroke,!1,!1,c,d),i.beginPath(),gt=G=Math.floor((P-u)/u);gt<=G+O;gt++){var mt=gt*u+P;0<=mt&&mt<=m&&Tx(gt,z,X,Y)&&(i.moveTo(mt,0),i.lineTo(mt,y))}i.stroke(),i.Se()}else if(G.figure==="LineH"&&G.stroke!==null&&0<G.strokeWidth){for(i.lineWidth=G.strokeWidth,dr(t,i,G.stroke,!1,!1,c,d),i.beginPath(),gt=G=Math.floor((k-l)/l);gt<=G+w;gt++)mt=gt*l+k,0<=mt&&mt<=y&&Tx(gt,z,X,Y)&&(i.moveTo(0,mt),i.lineTo(m,mt));i.stroke(),i.Se()}else if(G.figure==="BarV"&&G.fill!==null)for(dr(t,i,G.fill,!0,!1,c,d),G=G.width,isNaN(G)&&(G=u),mt=gt=Math.floor((P-u)/u);mt<=gt+O;mt++){var st=mt*u+P;0<=st+G&&st<=m&&Tx(mt,z,X,Y)&&i.fillRect(st,0,G,y)}else if(G.figure==="BarH"&&G.fill!==null)for(dr(t,i,G.fill,!0,!1,c,d),G=G.height,isNaN(G)&&(G=l),mt=gt=Math.floor((k-l)/l);mt<=gt+w;mt++)st=mt*l+k,0<=st+G&&st<=y&&Tx(mt,z,X,Y)&&i.fillRect(0,st,m,G);ut&&i.es(),L!==1&&(i.globalAlpha=_)}}i.restore(),i.Vc(!1)};function Tx(t,i,s,l){if(0>i)return t%i===s;if(t%i!==s)return!1;i=l.length;for(var u=0;u<i;u++)if(t%l[u]===s)return!1;return!0}function Cx(){this.xa="Base"}x(Cx,ii),Cx.prototype.measure=function(t,i,s,l,u){var c=l.length;if(t instanceof Wt||t instanceof rt){var d=null,m=null;if(t instanceof rt&&(d=t),t instanceof Wt&&(m=t,d=m.adornedPart,t.j===null&&(t.j=[])),d instanceof rt){var y=d;if(c===0)Ki(t.naturalBounds,0,0),t.measuredBounds.h(0,0,0,0);else{var O=t instanceof Wt?null:d.path;i=d.routeBounds,s=t.jg,s.h(0,0,i.width,i.height);var w=y.points,k=d.pointsCount;m!==null?m.Tl(!1):d!==null&&d.Tl(!1),m=i.width;var P=i.height,T=t.j;if(T.length=0,O!==null){c$(t,m,P,O);var M=O.measuredBounds;s.ed(M),T.push(M)}M=Xt.alloc();for(var A=F.alloc(),I=F.alloc(),L=0;L<c;L++){var z=l[L];if(z!==O)if(z.isPanelMain&&z instanceof It){c$(t,m,P,z);var X=z.measuredBounds;s.ed(X),T.push(X)}else if(2>k)z.measure(1/0,1/0,0,0),X=z.measuredBounds,s.ed(X),T.push(X);else{var _=z.segmentIndex,Y=z.segmentFraction,G=z.alignmentFocus;G.Mc()&&(G=oe);var ut=z.segmentOrientation,gt=z.segmentOffset;if(isNaN(_)){var mt=y.ua;X=St(),mt.Qu(Y,X);var st=F.allocAt(X[0],X[1]);if(st.add(y.i(0)),mt.type===lt.j?st.offset(-mt.startX,-mt.startY):(mt=mt.figures.first(),mt!==null&&st.offset(-mt.startX,-mt.startY)),mt=X[2],ut!==yn){var et=y.computeAngle(z,ut,mt);z.Lb=et}et=st.x-i.x;var Rt=st.y-i.y;F.free(st),dt(X)}else if(_<-k||_>=k)X=F.alloc(),y.vg(),y.computeMidPoint(X),mt=y.midAngle,ut!==yn&&(et=y.computeAngle(z,ut,mt),z.Lb=et),et=X.x-i.x,Rt=X.y-i.y,F.free(X);else{if(et=0,0<=_?(Rt=w.M(_),X=_<k-1?w.M(_+1):Rt):(et=k+_,Rt=w.M(et),X=0<et?w.M(et-1):Rt),Rt.Xa(X)){0<=_?(mt=0<_?w.M(_-1):Rt,et=_<k-2?w.M(_+2):X):(mt=et<k-1?w.M(et+1):Rt,et=1<et?w.M(et-2):X),st=mt.Bf(Rt);var Qt=X.Bf(et);mt=st>Qt+10?0<=_?mt.ab(Rt):Rt.ab(mt):Qt>st+10?0<=_?X.ab(et):et.ab(X):0<=_?mt.ab(et):et.ab(mt)}else mt=0<=_?Rt.ab(X):X.ab(Rt);ut!==yn&&(et=y.computeAngle(z,ut,mt),z.Lb=et),et=Rt.x+(X.x-Rt.x)*Y-i.x,Rt=Rt.y+(X.y-Rt.y)*Y-i.y}z.measure(1/0,1/0,0,0),X=z.measuredBounds,st=z.naturalBounds;var Gt=0;z instanceof It&&(Gt=z.strokeWidth),Qt=st.width+Gt;var ce=st.height+Gt;M.reset(),M.translate(-X.x,-X.y),M.scale(z.scale,z.scale),M.rotate(ut===yn?z.angle:mt,Qt/2,ce/2),ut!==S0&&ut!==P0||M.rotate(90,Qt/2,ce/2),ut!==k0&&ut!==b0||M.rotate(-90,Qt/2,ce/2),ut===n1&&(45<mt&&135>mt||225<mt&&315>mt)&&M.rotate(-mt,Qt/2,ce/2),st=new tt(0,0,Qt,ce),A.xi(st,G),M.Ga(A),G=-A.x+Gt/2*z.scale,z=-A.y+Gt/2*z.scale,I.assign(gt),Gt=isNaN(gt.x);var ai=isNaN(gt.y);if(Gt||ai){Qt=Qt/2+3,ce=ce/2+3;var di=45<=mt&&135>=mt,nn=225<=mt&&315>=mt;ut===yn&&(di||nn)?(I.x=ai?Qt:gt.y,I.y=Gt?ce:gt.x,di?0<=_||isNaN(_)&&.5>Y||!Gt||(I.y=-ce):nn&&((0<=_||isNaN(_)&&.5>Y)&&Gt&&(I.y=-ce),ai&&(I.x=-Qt))):(Gt&&(I.x=0<=_||isNaN(_)&&.5>Y?Qt:-Qt),ai&&(I.y=-ce),I.rotate(mt))}else I.rotate(mt);et+=I.x,Rt+=I.y,st.set(X),st.h(et+G,Rt+z,X.width,X.height),T.push(st),s.ed(st)}}if(d!==null)for(l=d.labelNodes;l.next();)l.value.measure(1/0,1/0);t.jg=s,t.position.h(i.x+s.x,i.y+s.y),Ki(u,s.width||0,s.height||0),Xt.free(M),F.free(A),F.free(I)}}}},Cx.prototype.arrange=function(t,i){var s=i.length;if(t instanceof Wt||t instanceof rt){var l=t,u=null;t instanceof Wt&&(u=t,l=u.adornedPart);var c=t instanceof Wt?null:l.path,d=t.j;if(d.length!==0){var m=0;if(c!==null&&m<d.length){var y=d[m];m++,c.arrange(y.x-t.jg.x,y.y-t.jg.y,y.width,y.height)}for(y=0;y<s;y++){var O=i[y];if(O!==c&&m<d.length){var w=d[m];m++,O.arrange(w.x-t.jg.x,w.y-t.jg.y,w.width,w.height)}}}if(i=l.points,s=i.count,2<=s&&t instanceof rt)for(c=t.labelNodes;c.next();){var k=t;d=c.value,m=d.segmentIndex,y=d.segmentFraction;var P=d.alignmentFocus;if(O=d.segmentOrientation,w=d.segmentOffset,isNaN(m)){var T=k.ua,M=St();T.Qu(y,M);var A=F.allocAt(M[0],M[1]);A.add(k.i(0)),T.type===lt.j||(T=T.figures.first()),A.offset(-T.startX,-T.startY),T=M[2],O!==yn&&(k=k.computeAngle(d,O,T),d.angle=k),k=A.x;var I=A.y;F.free(A),dt(M)}else if(m<-s||m>=s)M=F.alloc(),T=k,I=M,T.vg(),T.computeMidPoint(I),T=k.midAngle,O!==yn&&(k=k.computeAngle(d,O,T),d.angle=k),k=M.x,I=M.y,F.free(M);else{if(A=0,0<=m?(M=i.s[m],I=m<s-1?i.s[m+1]:M):(A=s+m,M=i.s[A],I=0<A?i.s[A-1]:M),M.Xa(I)){0<=m?(T=0<m?i.s[m-1]:M,A=m<s-2?i.s[m+2]:I):(T=A<s-1?i.s[A+1]:M,A=1<A?i.s[A-2]:I);var L=T.Bf(M),z=I.Bf(A);T=L>z+10?0<=m?T.ab(M):M.ab(T):z>L+10?0<=m?I.ab(A):A.ab(I):0<=m?T.ab(A):A.ab(T)}else T=0<=m?M.ab(I):I.ab(M);O!==yn&&(k=k.computeAngle(d,O,T),d.angle=k),k=M.x+(I.x-M.x)*y,I=M.y+(I.y-M.y)*y}if(P.xs())d.location=new F(k,I);else{P.Mc()&&(P=oe),M=Xt.alloc(),M.reset(),M.scale(d.scale,d.scale),M.rotate(d.angle,0,0);var X=d.naturalBounds;A=tt.allocAt(0,0,X.width,X.height),L=F.alloc(),L.xi(A,P),M.Ga(L),P=-L.x,z=-L.y;var _=X.width,Y=X.height;X=F.alloc(),X.assign(w);var G=isNaN(w.x),ut=isNaN(w.y);if(G||ut){_=_/2+3,Y=Y/2+3;var gt=45<=T&&135>=T,mt=225<=T&&315>=T;O===yn&&(gt||mt)?(X.x=ut?_:w.y,X.y=G?Y:w.x,gt?0<=m||isNaN(m)&&.5>y||!G||(X.y=-Y):mt&&((0<=m||isNaN(m)&&.5>y)&&G&&(X.y=-Y),ut&&(X.x=-_))):(G&&(X.x=0<=m||isNaN(m)&&.5>y?_:-_),ut&&(X.y=-Y),X.rotate(T))}else X.rotate(T);k+=X.x,I+=X.y,M.op(A),P+=A.x,z+=A.y,m=F.allocAt(k+P,I+z),d.move(m),F.free(m),F.free(X),F.free(L),tt.free(A),Xt.free(M)}}u!==null?u.Tl(!1):l.Tl(!1),l=V$(t),t.location.h(t.position.x+l.x,t.position.y+l.y),F.free(l)}};function c$(t,i,s,l){if(xa(l)!==!1){var u=l.strokeWidth;u===0&&t instanceof Wt&&t.type===nt.Link&&t.adornedObject instanceof It&&(u=t.adornedObject.strokeWidth),u*=l.Ca,t instanceof rt&&t.ua!==null?(t=t.geometry.bounds,l.Ge(t.x-u/2,t.y-u/2,t.width+u,t.height+u)):t instanceof Wt&&t.adornedPart.ua!==null?(t=t.adornedPart.ua.bounds,l.Ge(t.x-u/2,t.y-u/2,t.width+u,t.height+u)):l.Ge(-(u/2),-(u/2),i+u,s+u),u=l.desiredSize,u.w()||l.ua===null?l.ec.h(0,0,u.width,u.height):l.ec.assign(l.ua.bounds),Qr(l,!1)}}function h0(){this.xa="Base"}x(h0,ii),h0.prototype.measure=function(t,i,s,l,u,c,d){var m=t.Qb();t.graduatedBounds=[];var y=m.margin,O=y.right+y.left,w=y.top+y.bottom;m.measure(i,s,c,d);var k=m.measuredBounds,P=new tt(-y.left,-y.top,Math.max(k.width+O,0),Math.max(k.height+w,0));t.graduatedBounds.push(P),u.assign(P);for(var T=m.geometry,M=m.strokeWidth,A=T.flattenedSegments,I=T.flattenedLengths,L=T.flattenedTotalLength,z=A.length,X=0,_=0,Y=St(),G=0;G<z;G++){var ut=A[G],gt=[];_=X=0;for(var mt=ut.length,st=0;st<mt;st+=2){var et=ut[st],Rt=ut[st+1];if(st!==0){var Qt=180*Math.atan2(Rt-_,et-X)/Math.PI;0>Qt&&(Qt+=360),gt.push(Qt)}X=et,_=Rt}Y.push(gt)}if(t.graduatedIntervals===null){for(var Gt=[],ce=t.O.s,ai=ce.length,di=0;di<ai;di++){var nn=ce[di],ui=[];if(Gt.push(ui),nn.visible){var Ea=nn.interval;if(!(0>Ea)){for(var _e=0;_e<ai;_e++)if(_e!==di){var qs=ce[_e];if(qs.visible&&nn.constructor===qs.constructor){var rn=qs.interval;rn>Ea&&ui.push(rn)}}}}}t.graduatedIntervals=Gt}var Ra=t.graduatedIntervals,yr=t.O.s,Jr=yr.length,nr=0,_n=0,Fu=L;t.graduatedMarks=[];for(var Gs,Fp=0;Fp<Jr;Fp++){var rr=yr[Fp];if(Gs=[],rr.visible&&rr!==m){var sn=Math.abs(rr.interval),q0=t.graduatedTickUnit;if(!(2>q0*sn*L/t.graduatedRange&&rr.graduatedSkip===null)){var Rf=I[0][0],So=0,Zn=0;_n=L*rr.graduatedStart-1e-4,Fu=L*rr.graduatedEnd+1e-4;var Yh=q0*sn,sr=t.graduatedTickBase;if(sr<t.graduatedMin){var Vu=(t.graduatedMin-sr)/Yh;Vu=Vu%1===0?Vu:Math.floor(Vu+1),sr+=Vu*Yh}else sr>t.graduatedMin+Yh&&(sr-=Math.floor((sr-t.graduatedMin)/Yh)*Yh);for(var Z1=Ra[Fp],G0=sr,dC=1e-6*t.graduatedMax,ll=1;sr<=t.graduatedMax+dC;ll++){t:{for(var Vl=Z1.length,Lf=0;Lf<Vl;Lf++){var zu=(sr-t.graduatedTickBase)%(Z1[Lf]*t.graduatedTickUnit),Vp=1e-6*t.graduatedTickUnit;if(zu<Vp&&zu>-Vp){var Xu=!1;break t}}Xu=!0}if(Xu&&(sr>t.graduatedMax&&(sr=t.graduatedMax),rr.graduatedSkip===null||rr instanceof fe&&!rr.graduatedSkip(sr,rr)||rr instanceof It&&!rr.graduatedSkip(sr,rr))&&(nr=(sr-t.graduatedMin)*L/t.graduatedRange,nr>L&&(nr=L),_n<=nr&&nr<=Fu)){for(var al=Y[So][Zn],La=I[So][Zn];So<I.length;){for(;nr>Rf&&Zn<I[So].length-1;)Zn++,al=Y[So][Zn],La=I[So][Zn],Rf+=La;if(nr<=Rf)break;So++,Zn=0,al=Y[So][Zn],La=I[So][Zn],Rf+=La}var Yn=A[So],ko=Yn[2*Zn],Y1=Yn[2*Zn+1],zl=(nr-(Rf-La))/La,zp=new F(ko+(Yn[2*Zn+2]-ko)*zl+M/2-T.bounds.x,Y1+(Yn[2*Zn+3]-Y1)*zl+M/2-T.bounds.y);zp.scale(m.scale,m.scale);t:{var Hs=al,Uh=Y[So];if(!(.5005>zl&&.4995<zl)){var Po=Hs;if(.5>zl?0<Zn?Po=Uh[Zn-1]:U.$(Yn[0],Yn[Yn.length-2])&&U.$(Yn[1],Yn[Yn.length-1])&&(Po=Uh[Uh.length-1]):.5<zl&&(Zn+1<Uh.length?Po=Uh[Zn+1]:U.$(Yn[0],Yn[Yn.length-2])&&U.$(Yn[1],Yn[Yn.length-1])&&(Po=Uh[0])),Hs!==Po){var $f=Math.abs(Hs-Po);if(180<$f&&(Hs<Po?Hs+=360:Po+=360,$f=Math.abs(Hs-Po)),5e-4>zl||.9995<zl){al=(Hs+Po)/2%360;break t}if(10>$f){var Xp=1-Math.abs(.5-zl);al=(Hs*Xp+Po*(1-Xp))%360;break t}}}al=Hs}if(rr instanceof fe){var Cs="";rr.graduatedFunction!==null?(Cs=rr.graduatedFunction(sr,rr),Cs=Cs!=null?Cs.toString():""):Cs=(+sr.toFixed(2)).toString(),Cs!==""&&Gs.push({Zl:zp,angle:al,text:Cs})}else Gs.push({Zl:zp,angle:al})}sr=G0+ll*Yh}}}t.graduatedMarks.push(Gs)}dt(Y);var wi=t.graduatedMarks;if(wi!==null)for(var H0=l.length,Sn=0;Sn<H0;Sn++){var Ze=l[Sn],kn=wi[Sn];if(Ze.visible&&Ze!==m&&kn.length!==0){if(Ze instanceof It){var Xl=t,$a=u,Wh=Ze.alignmentFocus;Wh.Mc()&&(Wh=Al);var pC=Ze.angle;Ze.Lb=0,Ze.measure(1/0,1/0,0,0),Ze.Lb=pC;var U1=Ze.measuredBounds,Bp=U1.width,qh=U1.height,Df=tt.allocAt(0,0,Bp,qh),Un=F.alloc();Un.xi(Df,Wh),tt.free(Df);for(var Bl=-Un.x,Ks=-Un.y,$r=new tt,Bu=kn.length,_p=0;_p<Bu;_p++)for(var _u=kn[_p],W1=_u.Zl.x,Zp=_u.Zl.y,Re=_u.angle,Ms=0;4>Ms;Ms++){switch(Ms){case 0:Un.h(Bl,Ks);break;case 1:Un.h(Bl+Bp,Ks);break;case 2:Un.h(Bl,Ks+qh);break;case 3:Un.h(Bl+Bp,Ks+qh)}Un.rotate(Re+Ze.angle),Un.offset(W1,Zp),_p===0&&Ms===0?$r.h(Un.x,Un.y,0,0):$r.Ye(Un),Un.offset(-W1,-Zp),Un.rotate(-Re-Ze.angle)}F.free(Un),Xl.graduatedBounds!==null&&Xl.graduatedBounds.push($r),Si($a,$r.x,$r.y,$r.width,$r.height)}else if(Ze instanceof fe){var ts=t,q1=u;ts.temporaryTextBlock===null&&(ts.temporaryTextBlock=new fe);var or=ts.temporaryTextBlock;T$(or,Ze);var Da=Ze.alignmentFocus;Da.Mc()&&(Da=Al);for(var es=Ze.segmentOrientation,Yp=Ze.segmentOffset,Zu=new tt,K0=0,Up=0,bo=0,Gh=0,Yu=0,Wp=kn.length,Ia=0;Ia<Wp;Ia++){var ul=kn[Ia];K0=ul.Zl.x,Up=ul.Zl.y,bo=ul.angle,Yu=Gh=Ze.angle,es!==yn&&(Yu=es===w0||es===i1?bo+Ze.angle:bo,Gh=rt.computeAngle(es,Yu)),or.Lb=Gh,or.text=ul.text||"",or.measure(1/0,1/0,0,0);var Fa=or.measuredBounds,_l=or.naturalBounds,Va=_l.width,Hh=_l.height,Js=Xt.alloc();Js.reset(),Js.translate(-Fa.x,-Fa.y),Js.scale(or.scale,or.scale),Js.rotate(Yu,Va/2,Hh/2),es!==S0&&es!==P0||Js.rotate(90,Va/2,Hh/2),es!==k0&&es!==b0||Js.rotate(-90,Va/2,Hh/2),es===n1&&(45<bo&&135>bo||225<bo&&315>bo)&&Js.rotate(-bo,Va/2,Hh/2);var If=tt.allocAt(0,0,Va,Hh),za=F.alloc();za.xi(If,Da),Js.Ga(za);var Ff=-za.x,mC=-za.y,Zl=F.alloc();Zl.assign(Yp),isNaN(Zl.x)&&(Zl.x=Va/2+3),isNaN(Zl.y)&&(Zl.y=-(Hh/2+3)),Zl.rotate(bo),K0+=Zl.x+Ff,Up+=Zl.y+mC;var Kh=new tt(K0,Up,Fa.width,Fa.height),J0=new tt(Fa.x,Fa.y,Fa.width,Fa.height),gC=new tt(_l.x,_l.y,_l.width,_l.height);ul.Sz=Gh,ul.lineCount=or.lineCount,ul.lines=[or.Db,or.Ih,or.df,or.Le,or.Qc,or.Rb,or.ze],ul.actualBounds=Kh,ul.measuredBounds=J0,ul.naturalBounds=gC,Ia===0?Zu.assign(Kh):Zu.ed(Kh),F.free(Zl),F.free(za),tt.free(If),Xt.free(Js)}ts.graduatedBounds!==null&&ts.graduatedBounds.push(Zu),Si(q1,Zu.x,Zu.y,Zu.width,Zu.height)}Qr(Ze,!1)}}},h0.prototype.arrange=function(t,i,s){if(t.graduatedBounds!==null){var l=t.Qb(),u=t.graduatedMarks;if(u!==null){var c=t.graduatedBounds,d=0,m=c[d];d++,l!==null&&l.arrange(m.x-s.x,m.y-s.y,m.width,m.height);for(var y=i.length,O=0;O<y;O++){var w=i[O];m=u[O],w.visible&&w!==l&&m.length!==0&&(m=c[d],d++,w.arrange(m.x-s.x,m.y-s.y,m.width,m.height))}t.graduatedBounds=null}}},h0.prototype.hc=function(t,i,s){var l=s.$i;s.$i=!0;var u=t.naturalBounds,c=u.width,d=u.height;u=i instanceof tr,i.save(),i.beginPath(),i.rect(-1,-1,c+1,d+1),i.clip(),i.Se(),c=t.Qb(),c.hc(i,s),d=t.Df()*s.scale,0>=d&&(d=1);for(var m=c.actualBounds,y=t.O.s,O=t.graduatedMarks,w=y.length,k=0;k<w;k++){var P=y[k],T=O[k],M=T.length;if(P.visible&&P!==c&&T.length!==0){if(P instanceof It){if(!(2>t.graduatedTickUnit*P.interval*c.geometry.flattenedTotalLength/t.graduatedRange*d&&P.graduatedSkip===null)){var A=P.measuredBounds,I=P.strokeWidth*P.scale,L=P.alignmentFocus;L.Mc()&&(L=Al);for(var z=0;z<M;z++){var X=T[z].Zl,_=T[z].angle,Y=L,G=P.Bb;G.reset(),G.translate(X.x+m.x,X.y+m.y),G.rotate(_+P.angle,0,0),G.translate(-A.width*Y.x+Y.offsetX+I/2,-A.height*Y.y+Y.offsetY+I/2),G.scale(P.scale,P.scale),ap(P,!1),P.wh.set(P.Bb),P.Jk=P.scale,Pu(P,!1),P.hc(i,s),u&&(t.svg.appendChild(P.svg),P.svg=null),P.Bb.reset()}}}else if(P instanceof fe)for(t.temporaryTextBlock===null&&(t.temporaryTextBlock=new fe),A=t.temporaryTextBlock,T$(A,P),I=0;I<M;I++)L=T[I],L.actualBounds&&L.measuredBounds&&L.naturalBounds&&(A.fc=L.text||"",A.Lb=L.Sz||0,A.Gc=L.lineCount||0,z=L.lines,z!==void 0&&(A.Db=z[0],A.Ih=z[1],A.df=z[2],A.Le=z[3],A.Qc=z[4],A.Rb=z[5],A.ze=z[6]),L.naturalBounds&&(A.ec=L.naturalBounds),L.actualBounds&&(z=L.actualBounds,A.arrange(z.x,z.y,z.width,z.height)),z=L.actualBounds,A.arrange(z.x,z.y,z.width,z.height),X=L.measuredBounds,L=L.naturalBounds,_=A.Bb,_.reset(),_.translate(z.x+m.x,z.y+m.y),_.translate(-X.x,-X.y),A.mo(_,L.x,L.y,L.width,L.height),ap(A,!1),A.wh.set(A.Bb),A.Jk=A.scale,Pu(A,!1),A.Ng=P.part,A.Me=P.panel,A.hc(i,s),A.Me=null,A.Ng=null,u&&(t.svg.appendChild(A.svg),A.svg=null))}}s.$i=l,i.restore(),i.Vc(!0)};function nt(t,i){if(xt.call(this),this.na=null,t===void 0)this.na=nt.Position;else if(typeof t=="string"){var s=ws.I(t);s!==null&&(this.na=s)}else t instanceof ii?this.na=t:t&&(this.na=nt.Position,i=t);this.na===null&&D("Panel type not specified or PanelLayout not loaded: "+t),this.l=this.l|4194304|(this.na===nt.Grid?1048576:0),this.O=new ct,this.zb=Dd,this.Sm=Zi,this.Uf=vs,this.$g=null,this.$e="",this.jg=new tt(NaN,NaN,NaN,NaN),this.T=this.F=null,this.wo=Oo,this.hn=Mn,this.jn=mo,this.ub=this.ra=null,this.yn=NaN,this.ge=this.Hh=null,i&&Object.assign(this,i)}x(nt,xt),nt.prototype.cloneProtected=function(t){xt.prototype.cloneProtected.call(this,t),t.na=this.na,t.zb=this.zb.J(),t.Sm=this.Sm.J(),t.Uf=this.Uf,t.$e=this.$e,t.jg.assign(this.jg),this.T!==null&&(t.T=this.T.copy(t)),t.wo=this.wo,t.hn=this.hn.J(),t.jn=this.jn.J(),this.ra!==null&&(t.ra=this.ra.copy()),t.ub=this.ub,t.yn=this.yn,t.Hh=this.Hh},nt.prototype.Af=function(t){xt.prototype.Af.call(this,t),t.O=this.O;for(var i=t.O.s,s=i.length,l=0;l<s;l++)i[l].Me=t;t.$g=null},nt.prototype.copy=function(){var t=xt.prototype.copy.call(this);if(t!==null){for(var i=this.O.s,s=i.length,l=0;l<s;l++){var u=i[l].copy();u.wi(t),u.Ng=null;var c=t.O,d=c.count;if(c.Hb(d,u),c=t.part,c!==null){c.Rh=null,u.portId!==null&&c instanceof ft&&(c.Te=!0);var m=t.diagram;m!==null&&m.undoManager.isUndoingRedoing||c.cb(oi,"elements",t,null,u,null,d)}}return t}return null},n=nt.prototype,n.toString=function(){return"Panel("+this.type.name+")#"+Ni(this)},n.On=function(t){xt.prototype.On.call(this,t);for(var i=this.O.s,s=i.length,l=0;l<s;l++)i[l].On(t)},n.hh=function(t,i){if(this.na===nt.Grid)t.yc(),this.na.hc(this,t,i);else if(this.na===nt.Graduated)t.yc(),this.na.hc(this,t,i);else{if(this.na===nt.Table)if(t.yc(),t instanceof tr){var s=t.yd;t.yd=px(t,"gojs-ts"),Xb(this,t),t.nh.pop(),t.yd=s}else Xb(this,t);(s=this.isClipping&&this.na===nt.Spot)&&t.save();for(var l=this.Qb(),u=this.O.s,c=u.length,d=0;d<c;d++){var m=u[d];s&&m===l&&(t.clipInsteadOfFill=!0),m.hc(t,i),s&&m===l&&(t.clipInsteadOfFill=!1)}s&&(t.restore(),t.Vc(!0))}};function Xb(t,i){i.lineCap="butt";var s=0<t.rowCount?t.rowDefs:null,l=0<t.columnCount?t.colDefs:null;s!==null&&Mx(t,i,!0,s,!0),l!==null&&Mx(t,i,!1,l,!0),s!==null&&f$(t,i,!0,s),l!==null&&f$(t,i,!1,l),s!==null&&Mx(t,i,!0,s,!1),l!==null&&Mx(t,i,!1,l,!1)}function f$(t,i,s,l){for(var u=l.length,c=t.actualBounds,d=t.naturalBounds,m=!0,y=0;y<u;y++){var O=l[y];if(O!==void 0&&O.actual!==0)if(m)m=!1;else{if(s){if(O.position>d.height)continue}else if(O.position>d.width)continue;var w=O.separatorStrokeWidth;isNaN(w)&&(w=s?t.defaultRowSeparatorStrokeWidth:t.defaultColumnSeparatorStrokeWidth);var k=O.separatorStroke;if(k===null&&(k=s?t.defaultRowSeparatorStroke:t.defaultColumnSeparatorStroke),w!==0&&k!==null){dr(t,i,k,!1,!1,d,c),k=!1;var P=O.separatorDashArray;P===null&&(P=s?t.defaultRowSeparatorDashArray:t.defaultColumnSeparatorDashArray),P!==null&&(k=!0,i.hs(P,0)),i.beginPath(),P=O.position+w,s?P>d.height&&(w-=P-d.height):P>d.width&&(w-=P-d.width),O=O.position+w/2,i.lineWidth=w,w=t.zb,s?(O+=w.top,P=d.width-w.right,i.moveTo(w.left,O),i.lineTo(P,O)):(O+=w.left,P=d.height-w.bottom,i.moveTo(O,w.top),i.lineTo(O,P)),i.stroke(),i.Se(),k&&i.es()}}}}function Mx(t,i,s,l,u){for(var c=l.length,d=t.actualBounds,m=t.naturalBounds,y=d$(t,!0),O=d$(t,!1),w=0;w<c;w++){var k=l[w];if(k!==void 0&&k.background!==null&&k.coversSeparators!==u&&k.actual!==0){var P=s?d.height:d.width;if(!(k.position>P)){var T=k.Wc(),M=k.separatorStrokeWidth;isNaN(M)&&(M=s?t.defaultRowSeparatorStrokeWidth:t.defaultColumnSeparatorStrokeWidth);var A=k.separatorStroke;A===null&&(A=s?t.defaultRowSeparatorStroke:t.defaultColumnSeparatorStroke),(A===null||k.index===(s?y:O))&&(M=0),T-=M,M=k.position+M,T+=k.actual,M+T>P&&(T=P-M),0>=T||(P=t.zb,dr(t,i,k.background,!0,!1,m,d),s?i.fillRect(P.left,M+P.top,d.width-(P.left+P.right),T):i.fillRect(M+P.left,P.top,T,d.height-(P.top+P.bottom)))}}}}function d$(t,i){for(var s=i?t.rowCount:t.columnCount,l=0;l<s;l++){var u=i?t.rowDefs[l]:t.colDefs[l];if(u!==void 0)return u.index}return 0}function Bb(t){return t==="LineV"||t==="BarV"}n.lv=function(){for(var t=this.O.s,i=t.length,s=0;s<i;s++)t[s].lv();this.Uc=!0},n.jk=function(t,i,s){if(!xt.prototype.jk.call(this,t,i,s))return!1;if(this.type===nt.Table)s=this.svg.getElementsByClassName("gojs-ts"),s=s.length!==0?s[0]:null,s!==null&&(s.innerHTML=""),t.yd=s,Xb(this,t),t.yd=null;else if(this.na===nt.Grid||this.na===nt.Graduated)return this.svg.innerHTML="",this.svg.remove(),!1;s=this.O.s;for(var l=s.length,u=0;u<l;u++)s[u].hc(t,i);return!0},n.mk=function(){return!0},n.Zo=function(t,i,s,l){if(!this.isClipping)if(this.Dd()&&t.ak!==null){t=t.ak,i=this.O.s;for(var u=0,c=0,d=0;d<i.length;d++)if(i[d].Ed()){var m=i[d].actualBounds;u=d===0?m.x:Math.min(m.x,u),c=d===0?m.y:Math.min(m.y,c)}l.setAttributeNS(null,"clip-path","path('M "+(t.x-s.x-u)+","+(t.y-s.y-c)+" l "+t.width+" 0 l 0 "+t.height+" l -"+t.width+" 0 z')")}else xt.prototype.Zo.call(this,t,i,s,l)},n.Rj=function(t,i,s,l,u){var c=this.se(),d=this.transform,m=1/(d.m11*d.m22-d.m12*d.m21),y=d.m22*m,O=-d.m12*m,w=-d.m21*m,k=d.m11*m,P=m*(d.m21*d.dy-d.m22*d.dx),T=m*(d.m12*d.dx-d.m11*d.dy);if(this.areaBackground!==null)return d=this.actualBounds,U.Ff(d.left,d.top,d.right,d.bottom,t,i,s,l,u);if(this.background!==null)return c=t*y+i*w+P,m=t*O+i*k+T,t=s*y+l*w+P,y=s*O+l*k+T,u.h(0,0),s=this.naturalBounds,c=U.Ff(0,0,s.width,s.height,c,m,t,y,u),u.transform(d),c;c||(y=1,w=O=0,k=1,T=P=0),m=t*y+i*w+P,t=t*O+i*k+T,y=s*y+l*w+P,s=s*O+l*k+T,u.h(y,s),l=(y-m)*(y-m)+(s-t)*(s-t),O=!1,k=this.O.s,T=k.length,w=F.alloc(),P=null,i=1/0;var M=null,A=this.isClipping&&this.na===nt.Spot;A&&(M=F.alloc(),P=this.Qb(),(O=P.Rj(m,t,y,s,M))&&(i=(m-M.x)*(m-M.x)+(t-M.y)*(t-M.y)));for(var I=0;I<T;I++){var L=k[I];L.visible&&L!==P&&L.Rj(m,t,y,s,w)&&(O=!0,L=(m-w.x)*(m-w.x)+(t-w.y)*(t-w.y),L<l&&(l=L,u.set(w)))}return A&&(i>l&&u.set(M),F.free(M)),F.free(w),c&&u.transform(d),O},n.Fj=function(){for(var t=this.O.s,i=t.length,s=0;s<i;s++)t[s].Fj();xt.prototype.Fj.call(this)},n.v=function(t){if(!xa(this)){xt.prototype.v.call(this,t),t=null,(this.na===nt.Auto||this.na===nt.Link)&&(t=this.Qb());for(var i=this.O.s,s=i.length,l=0;l<s;l++){var u=i[l];if((u===t||u.isPanelMain)&&u.v(!0),!u.desiredSize.w()){var c=_s(u,!1);(u instanceof gn||u instanceof nt||u instanceof fe||c!==$e)&&u.v(!0)}}}},n.Tj=function(){if(!xa(this)){Qr(this,!0),Rh(this,!0);for(var t=this.O.s,i=t.length,s=0;s<i;s++)t[s].Tj()}},n.Tk=function(){if(!(this.l&2048)){ap(this,!0),Pu(this,!0);for(var t=this.O.s,i=t.length,s=0;s<i;s++)t[s].Wu()}},n.Wu=function(){Pu(this,!0);for(var t=this.O.s,i=t.length,s=0;s<i;s++)t[s].Wu()},n.Vl=function(t,i,s,l){var u=this.jg;u.h(0,0,0,0);var c=this.desiredSize,d=this.minSize;s===void 0&&(s=d.width,l=d.height),s=Math.max(s,d.width),l=Math.max(l,d.height);var m=this.maxSize;isNaN(c.width)||(t=Math.min(c.width,m.width)),isNaN(c.height)||(i=Math.min(c.height,m.height)),t=Math.max(s,t),i=Math.max(l,i);var y=this.zb;t=Math.max(t-y.left-y.right,0),i=Math.max(i-y.top-y.bottom,0);var O=this.O.s;O.length!==0&&this.na.measure(this,t,i,O,u,s,l),t=u.width+y.left+y.right,y=u.height+y.top+y.bottom,isFinite(c.width)&&(t=c.width),isFinite(c.height)&&(y=c.height),t=Math.min(m.width,t),y=Math.min(m.height,y),t=Math.max(d.width,t),y=Math.max(d.height,y),t=Math.max(s,t),y=Math.max(l,y),Ki(u,t,y),Ki(this.naturalBounds,t,y),this.Ge(0,0,t,y)},n.Qb=function(){if(this.$g===null){var t=this.O.s,i=t.length;if(i===0)return null;for(var s=0;s<i;s++){var l=t[s];if(l.isPanelMain===!0)return this.$g=l}this.$g=t[0]}return this.$g};function Dl(t){return t.part!==null?t.part.locationObject:null}n.eh=function(t,i,s,l){var u=this.O.s;if(this.actualBounds.h(t,i,s,l),u.length!==0){if(!this.desiredSize.w()){t=_s(this,!0);var c=this.measuredBounds;i=c.width,c=c.height;var d=this.Kg,m=d.left+d.right;switch(d=d.top+d.bottom,i===s&&c===l&&(t=$e),t){case $e:(i>s||c>l)&&(this.v(),this.measure(i>s?s:i,c>l?l:c,0,0));break;case Xe:this.v(!0),this.measure(s+m,l+d,0,0);break;case Di:this.v(!0),this.measure(s+m,c+d,0,0);break;case Ui:this.v(!0),this.measure(i+m,l+d,0,0)}}this.na.arrange(this,u,this.jg)}},n.gh=function(t){var i=this.naturalBounds,s=Dl(this);if(Fs(0,0,i.width,i.height,t.x,t.y)){i=this.O.s;for(var l=i.length,u=F.allocAt(0,0);l--;){var c=i[l];if((c.visible||c===s)&&(Li(u.set(t),c.transform),c.ca(u)))return F.free(u),!0}return F.free(u),!(this.Ma===null&&this.areaBackground===null)}return!1},n.js=function(t){if(this.bindingId===t)return this;for(var i=this.O.s,s=i.length,l=0;l<s;l++){var u=i[l].js(t);if(u!==null)return u}return null},n.pm=function(t,i){if(i(this,t),t instanceof nt){t=t.O.s;for(var s=t.length,l=0;l<s;l++)this.pm(t[l],i)}};function Ih(t,i){p$(t,t,i)}function p$(t,i,s){s(i),i=i.O.s;for(var l=i.length,u=0;u<l;u++){var c=i[u];c instanceof nt&&p$(t,c,s)}}function $G(t,i){m$(t,t,i)}function m$(t,i,s){if(s(i),i instanceof nt){i=i.O.s;for(var l=i.length,u=0;u<l;u++)m$(t,i[u],s)}}n.Ml=function(t){return g$(this,this,t)};function g$(t,i,s){if(s(i))return i;if(i instanceof nt){i=i.O.s;for(var l=i.length,u=0;u<l;u++){var c=g$(t,i[u],s);if(c!==null)return c}}return null}n.fb=function(t){if(this.name===t)return this;var i=this.O.s,s=i.length;this.Hh===null&&this.itemTemplateMap===null||(s=c0(this));for(var l=0;l<s;l++){var u=i[l];if(u instanceof nt){var c=u.fb(t);if(c!==null)return c}if(u.name===t)return u}return null};function y$(t){t=t.O.s;for(var i=t.length,s=0,l=0;l<i;l++){var u=t[l];u instanceof nt?s=Math.max(s,y$(u)):u instanceof It&&(s=Math.max(s,u.ig/2*u.strokeMiterLimit*u.Df()))}return s}n.se=function(){return!(this.type===nt.TableRow||this.type===nt.TableColumn)};function ka(t){return t.type===nt.TableRow||t.type===nt.TableColumn}n.jc=function(t,i,s){if(this.pickable===!1||(i===void 0&&(i=null),s===void 0&&(s=null),xs(this)))return null;var l=this.naturalBounds,u=1/this.Df(),c=this.se(),d=c?t:Li(F.allocAt(t.x,t.y),this.transform),m=this.diagram,y=10,O=5;if(m!==null&&(y=m.Pl("extraTouchArea"),O=y/2),Fs(-(O*u),-(O*u),l.width+y*u,l.height+y*u,d.x,d.y)){if(!this.isAtomic){u=this.O.s;var w=u.length;if(m=F.alloc(),O=(y=this.isClipping&&this.na===nt.Spot)?this.Qb():null,y&&(O.se()?Li(m.set(t),O.transform):m.set(t),!O.ca(m)))return F.free(m),c||F.free(d),null;for(var k=Dl(this);w--;){var P=u[w];if((P.visible||P===k)&&(P.se()?Li(m.set(t),P.transform):m.set(t),!y||P!==O)){var T=null;if(P instanceof nt?T=P.jc(m,i,s):P.pickable===!0&&P.ca(m)&&(T=P),T!==null&&(i!==null&&(T=i(T)),T!==null&&(s===null||s(T))))return F.free(m),c||F.free(d),T}}F.free(m)}return this.background===null&&this.areaBackground===null?(c||F.free(d),null):(t=Fs(0,0,l.width,l.height,d.x,d.y)?this:null,c||F.free(d),t)}return c||F.free(d),null},n.ji=function(t,i,s,l){if(this.pickable===!1)return!1;i===void 0&&(i=null),s===void 0&&(s=null);var u=this.naturalBounds,c=this.se(),d=c?t:Li(F.allocAt(t.x,t.y),this.transform);if(u=Fs(0,0,u.width,u.height,d.x,d.y),ka(this)||u){if(!this.isAtomic){for(var m=this.O.s,y=m.length,O=F.alloc(),w=Dl(this);y--;){var k=m[y];if(k.visible||k===w){k.se()?Li(O.set(t),k.transform):O.set(t);var P=k;k=k instanceof nt?k:null,(k!==null?k.ji(O,i,s,l):P.ca(O))&&P.pickable!==!1&&(i!==null&&(P=i(P)),P===null||s!==null&&!s(P)||l.add(P))}}F.free(O)}return c||F.free(d),u&&(this.background!==null||this.areaBackground!==null)}return c||F.free(d),!1},n.Cf=function(t,i,s,l,u,c){if(this.pickable===!1)return!1;i===void 0&&(i=null),s===void 0&&(s=null);var d=c;if(c===void 0&&(d=Xt.alloc(),d.reset()),d.multiply(this.transform),this.fh(t,d))return _b(this,i,s,u),c===void 0&&Xt.free(d),!0;if(this.Yc(t,d)){if(!this.isAtomic)for(var m=Dl(this),y=this.O.s,O=y.length;O--;){var w=y[O];if(w.visible||w===m){var k=w.actualBounds,P=this.naturalBounds;k.x>P.width||k.y>P.height||0>k.x+k.width||0>k.y+k.height||(k=w,w=w instanceof nt?w:null,P=Xt.alloc(),P.set(d),(w!==null?w.Cf(t,i,s,l,u,P):HL(k,t,l,P))&&(i!==null&&(k=i(k)),k===null||s!==null&&!s(k)||u.add(k)),Xt.free(P))}}return c===void 0&&Xt.free(d),l}return c===void 0&&Xt.free(d),!1};function _b(t,i,s,l){for(var u=t.O.s,c=u.length;c--;){var d=u[c];if(d.visible){var m=d.actualBounds,y=t.naturalBounds;m.x>y.width||m.y>y.height||0>m.x+m.width||0>m.y+m.height||(d instanceof nt&&_b(d,i,s,l),i!==null&&(d=i(d)),d===null||s!==null&&!s(d)||l.add(d))}}}n.og=function(t,i,s,l,u,c){if(this.pickable===!1)return!1;s===void 0&&(s=null),l===void 0&&(l=null);var d=this.naturalBounds,m=this.se(),y=m?t:Li(F.allocAt(t.x,t.y),this.transform),O=m?i:Li(F.allocAt(i.x,i.y),this.transform),w=y.Bf(O),k=0<y.x&&y.x<d.width&&0<y.y&&y.y<d.height||$i(y.x,y.y,0,0,0,d.height)<=w||$i(y.x,y.y,0,d.height,d.width,d.height)<=w||$i(y.x,y.y,d.width,d.height,d.width,0)<=w||$i(y.x,y.y,d.width,0,0,0)<=w;if(d=y.zd(0,0)<=w&&y.zd(0,d.height)<=w&&y.zd(d.width,0)<=w&&y.zd(d.width,d.height)<=w,m||(F.free(y),F.free(O)),k){if(!this.isAtomic){y=F.alloc(),O=F.alloc(),w=Dl(this);for(var P=this.O.s,T=P.length;T--;){var M=P[T];if(M.visible||M===w){var A=M.actualBounds,I=this.naturalBounds;(!m||!(A.x>I.width||A.y>I.height||0>A.x+A.width||0>A.y+A.height))&&(M.se()?(A=M.transform,Li(y.set(t),A),Li(O.set(i),A)):(y.set(t),O.set(i)),A=M,M=M instanceof nt?M:null,(M!==null?M.og(y,O,s,l,u,c):A.tx(y,O,u))&&(s!==null&&(A=s(A)),A===null||l!==null&&!l(A)||c.add(A)))}}F.free(y),F.free(O)}return u?k:d}return!1};function Zb(t){var i=null;return t instanceof It&&(i=t.spot1,i===Zi&&(i=null),t=t.geometry,t!==null&&i===null&&(i=t.spot1)),i===null&&(i=Ji),i}function Yb(t){var i=null;return t instanceof It&&(i=t.spot2,i===Zi&&(i=null),t=t.geometry,t!==null&&i===null&&(i=t.spot2)),i===null&&(i=Yo),i}n.add=function(t){for(var i=[],s=0;s<arguments.length;++s)i[s]=arguments[s];for(s=0;s<i.length;s++)this.Hb(this.O.count,i[s]);return this},n.M=function(t){return this.O.M(t)},n.Hb=function(t,i){i instanceof kt&&D("Cannot add a Part to a Panel: "+i+"; use a Panel instead"),(this===i||this.rg(i))&&(this===i&&D("Cannot make a Panel contain itself: "+this.toString()),D("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+i.toString()));var s=i.panel;if(s!==null&&s!==this&&D("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+i.toString()+", already contained by "+s.toString()+", cannot be shared by this Panel: "+this.toString()),this.na!==nt.Grid||i instanceof It||D("Can only add Shapes to a Grid Panel, not: "+i),this.na!==nt.Graduated||i instanceof It||i instanceof fe||D("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+i),i.wi(this),i.Ng=null,this.itemArray!==null){var l=i.data;l!==null&&typeof l=="object"&&(this.ge===null&&(this.ge=new jt),this.ge.add(l,i))}var u=this.O;if(l=-1,s===this){for(var c=-1,d=this.O.s,m=d.length,y=0;y<m;y++)if(d[y]===i){c=y;break}if(c!==-1){if(c===t||c+1>=u.count&&t>=u.count)return;u.mb(c),l=c}else D("element "+i.toString()+" has panel "+s.toString()+" but is not contained by it.")}(0>t||t>u.count)&&(t=u.count),u.Hb(t,i),(t===0||i.isPanelMain)&&(this.$g=null),xa(this)||this.v(),i.v(!1),i.portId!==null?this.Te=!0:i instanceof nt&&i.Te===!0&&(this.Te=!0),this.graduatedIntervals=null,this.If()||Nx(this,i,!1),s=this.part,s!==null&&(s.Rh=null,s.ag=NaN,this.Te&&s instanceof ft&&(s.Te=!0),s.Te&&s instanceof ft&&(s.wc=null),u=this.diagram,u!==null&&u.undoManager.isUndoingRedoing||(l!==-1&&s.cb(ci,"elements",this,i,null,l,null),s.cb(oi,"elements",this,null,i,null,t)))};function Ub(t,i){t.l=i?t.l|16777216:t.l&-16777217}n.remove=function(t){for(var i=this.O.s,s=i.length,l=-1,u=0;u<s;u++)if(i[u]===t){l=u;break}l!==-1&&this.qc(l,!0)},n.mb=function(t){0<=t&&this.qc(t,!0)},n.qc=function(t,i){var s=this.O,l=s.M(t);if(l.Ng=null,l.wi(null),this.ge!==null){var u=l.data;typeof u=="object"&&this.ge.remove(u)}s.mb(t),Qr(this,!1),this.v(),this.$g===l&&(this.$g=null),this.graduatedIntervals=null;var c=this.part;c!==null&&(c.Rh=null,c.ag=NaN,c.Xb(),c instanceof ft&&(l instanceof nt?l.pm(l,function(d,m){gT(c,m,i)}):gT(c,l,i)),s=this.diagram,s!==null&&s.undoManager.isUndoingRedoing||c.cb(ci,"elements",this,l,null,t,null))},n.Gb=function(t){0>t&&q(t,">= 0",nt,"getRowDefinition:idx"),t=Math.round(t);var i=this.rowDefs;if(i[t]===void 0){var s=new We;s.wi(this),s.isRow=!0,s.index=t,i[t]=s,this.cb(oi,"rowdefs",this,null,s,null,t)}return i[t]},n.oA=function(t){if(0>t&&q(t,">= 0",nt,"removeRowDefinition:idx"),this.rowCount!==0){t=Math.round(t);var i=this.rowDefs,s=i[t];if(s){i[t]=void 0;for(var l=i.length-1;0<=l&&i[l--]===void 0;)i.length--;this.cb(ci,"rowdefs",this,s,null,t,null),this.v()}}};function O$(t,i,s){var l=t.rowDefs;if(!(0>i)){if(l[i]=s instanceof We?s:void 0,!s)for(i=l.length-1;0<=i&&l[i--]===void 0;)l.length--;t.v()}}n.Fb=function(t){0>t&&q(t,">= 0",nt,"getColumnDefinition:idx"),t=Math.round(t);var i=this.colDefs;if(i[t]===void 0){var s=new We;s.wi(this),s.isRow=!1,s.index=t,i[t]=s,this.cb(oi,"coldefs",this,null,s,null,t)}return i[t]},n.jA=function(t){if(0>t&&q(t,">= 0",nt,"removeColumnDefinition:idx"),this.columnCount!==0){t=Math.round(t);var i=this.colDefs,s=i[t];if(s){i[t]=void 0;for(var l=i.length-1;0<=l&&i[l--]===void 0;)i.length--;this.cb(ci,"coldefs",this,s,null,t,null),this.v()}}};function v$(t,i,s){var l=t.colDefs;if(!(0>i)){if(l[i]=s instanceof We?s:void 0,!s)for(i=l.length-1;0<=i&&l[i--]===void 0;)l.length--;t.v()}}n.Gy=function(t){var i=null;return t.isRow?i=this.Gb(t.index):t.isRow||(i=this.Fb(t.index)),i&&Ax(i,t),this},n.Hy=function(t,i){return(t=this.Gb(t))&&Ax(t,new We(i)),this},n.By=function(t,i){return(t=this.Fb(t))&&Ax(t,new We(i)),this},n.nz=function(t){if(0>t||this.type!==nt.Table||this.rowCount===0)return-1;for(var i=0,s=this.rowDefs,l=s.length,u=this.topIndex;u<l;u++){var c=s[u];if(c!==void 0&&(i+=c.total,t<i))break}return u},n.fz=function(t){if(0>t||this.type!==nt.Table||this.columnCount===0)return-1;for(var i=0,s=this.colDefs,l=s.length,u=this.leftIndex;u<l;u++){var c=s[u];if(c!==void 0&&(i+=c.total,t<i))break}return u},n.Fz=function(t,i){if(i===void 0&&(i=new F(NaN,NaN)),this.type!==nt.Graduated)return i.h(NaN,NaN),i;t=Math.min(Math.max(t,this.graduatedMin),this.graduatedMax);var s=this.Qb();return s.geometry.Pu((t-this.graduatedMin)/this.graduatedRange,i),s.transform.Ga(i)},n.Gz=function(t){if(this.type!==nt.Graduated)return NaN;var i=this.Qb();return i.transform.Cd(t),i.geometry.xx(t)*this.graduatedRange+this.graduatedMin};function x$(t){return t=t.allBindings,t!==null&&t._isFrozen}function Gr(t){var i=t.allBindings;if(i===null)t.data!==null&&D("Template cannot have .data be non-null: "+t),t.allBindings=i=new ct;else if(i._isFrozen)return;var s=new ct;Ub(t,!1),t.pm(t,function(O,w){w.th();var k=w.localBindings;if(k!==null)for(Qb(w,!1),k=k.iterator;k.next();){var P=k.value;P.mode===E0&&Qb(w,!0);var T=P.sourceName;T!==null&&(T==="/"&&Ub(O,!0),T=LD(P,O,w),T!==null&&(s.add(T),T.srcBindings===null&&(T.srcBindings=new ct),T.srcBindings.add(P))),i.add(P)}if(w instanceof nt&&w.type===nt.Table){if(0<w.rowCount){for(O=w.rowDefs,k=O.length,P=0;P<k;P++)if(T=O[P],T!==void 0&&T.be!==null)for(var M=T.be.iterator;M.next();){var A=M.value;A.xd=T,A.so=2,A.vl=T.index,i.add(A)}}if(0<w.columnCount){for(w=w.colDefs,O=w.length,k=0;k<O;k++)if(P=w[k],P!==void 0&&P.be!==null)for(T=P.be.iterator;T.next();)M=T.value,M.xd=P,M.so=1,M.vl=P.index,i.add(M)}}});for(var l=s.iterator;l.next();){var u=l.value;if(u.srcBindings!==null){Qb(u,!0);for(var c=u.srcBindings.iterator;c.next();){var d=c.value;u.localBindings===null&&(u.localBindings=new ct),u.localBindings.add(d)}}u.srcBindings=null}for(l=i.iterator;l.next();)if(u=l.value,c=u.xd,c!==null){u.xd=null;var m=u.targetProperty,y=m.indexOf(".");0<y&&c instanceof nt&&(d=m.substring(0,y),m=m.substr(y+1),y=c.fb(d),y!==null?(c=y,u.targetProperty=m):K('Warning: unable to find GraphObject named "'+d+'" for Binding: '+u.toString())),c instanceof We?(d=Ni(c.panel),u.Ai=d===void 0?-1:d,c.panel.bindingId=u.Ai):c instanceof xt?(d=Ni(c),u.Ai=d===void 0?-1:d,c.bindingId=u.Ai):D("Unknown type of binding target: "+c)}i.freeze(),t instanceof kt&&t.Zc()&&t.Va()}n.Uy=function(t){t===void 0&&(t=!1);var i=this.copy();return $G(i,function(s){s instanceof nt&&(s.allBindings=null,s.ub=null);var l=s.localBindings;l!==null&&(s.localBindings=null,l.each(function(u){s.bind(u.copy())})),l=s.animationTriggers,l!==null&&(s.animationTriggers=null,l.each(function(u){s.Jv(u.value.copy())}))}),t&&Gr(i),i},n.La=function(t){var i=this.allBindings;if(i!==null)for(t===void 0&&(t=""),i=i.iterator;i.next();){var s=i.value,l=s.sourceProperty;if((t===""||l===""||l===t)&&(l=s.targetProperty,s.converter!==null||l!=="")){l=this.data;var u=s.sourceName;if(u!==null){if(u==="")l=this;else if(u==="/")l=this;else if(u===".")l=this;else if(u==="..")l=this;else if(l=this.fb(u),l===null)continue}else if(s.isToModel)if(l=this.diagram,l!==null)l=l.model.modelData;else continue;var c=this,d=s.Ai;if(d!==-1){if(c=this.js(d),c===null)continue}else s.xd!==null&&(c=s.xd);if(u==="/"?l=c.part:u==="."?l=c:u===".."&&(l=c.panel),u=s.so,u!==0){if(!(c instanceof nt))continue;u===1?c=c.Fb(s.vl):u===2&&(c=c.Gb(s.vl))}c!==void 0&&s.Mv(c,l)}}},n.sx=function(t){return t==null||this.ge===null?null:this.ge.I(t)};function DG(t,i){t=t.O.s;for(var s=t.length,l=i.length,u=0,c=null;u<s&&(c=t[u],!(c instanceof nt&&c.data!==null));)u++,c=t[u];if(s-u!==l)return!0;if(c===null)return 0<l;for(var d=0;u<s&&d<l;){if(c=t[u],!(c instanceof nt)||c.data!==i[d])return!0;u++,d++}return!1}function c0(t){if(t.type===nt.Spot||t.type===nt.Auto)return Math.min(t.O.length,1);if(t.type===nt.Link){t=t.O;for(var i=t.length,s=0;s<i;s++){var l=t.M(s);if(!(l instanceof It&&l.isPanelMain))break}return s}return t.type===nt.Table&&0<t.O.length&&(t=t.O.M(0),t.isPanelMain&&t instanceof nt&&ka(t))?1:0}n.mv=function(){for(var t=c0(this);this.O.length>t;)this.qc(this.O.length-1,!1);w$(this,this.itemArray)};function w$(t,i){var s=c0(t);if(i===null||i.length===0)for(;t.O.length>s;)t.qc(t.O.length-1,!1);else if(t.O.length<=s){s=i.length;for(var l=0;l<s;l++)Qx(t,i[l],l,!0)}else{l=s;for(var u=0;u<i.length;u++,l++){var c=i[u],d=l<t.O.length?t.O.M(l):null;if(d instanceof nt){if(d.data!==c){var m=qb(t,d.data),y=qb(t,c),O=y!==m;O||(m=Gb(t,m),O=Gb(t,y)!==m),O?(t.qc(l,!1),Qx(t,c,u,!1)):d.data=c}}else Qx(t,c,u,!1)}for(;l<t.O.length;)t.qc(l,!1);t.$g=null,Wb(t,s,0),xa(t)||t.v(),t.graduatedIntervals=null,t.If()||Nx(t,t,!1),i=t.part,i!==null&&(i.Rh=null,i.ag=NaN,t.Te&&i instanceof ft&&(i.Te=!0),i.Te&&i instanceof ft&&(i.wc=null))}}function Qx(t,i,s,l){if(!(i==null||0>s)){var u=qb(t,i);if(u=Gb(t,u),u!==null){if(Gr(u),u=u.copy(),u.l&16777216){var c=t.ih();c!==null&&Ub(c,!0)}typeof i=="object"&&(t.ge===null&&(t.ge=new jt),t.ge.add(i,u)),c=s+c0(t),t.Hb(c,u),l&&(u.ub=i,Wb(t,c,s),u.ub=null),u.data=i}}}function Wb(t,i,s){for(t=t.O;i<t.length;){var l=t.M(i);if(l instanceof nt){var u=i,c=s;l.type===nt.TableRow?l.row=u:l.type===nt.TableColumn&&(l.column=u),l.itemIndex=c}i++,s++}}function qb(t,i){if(i===null)return"";if(t=t.itemCategoryProperty,typeof t=="function")t=t(i);else if(typeof t=="string"&&typeof i=="object"){if(t==="")return"";t=De(i,t)}else return"";if(t===void 0)return"";if(typeof t=="string")return t;D("Panel.getCategoryForItemData found a non-string category for "+i+": "+t)}function Gb(t,i){var s=t.itemTemplateMap,l=null;return s!==null&&(l=s.I(i)),l===null&&(s!==null&&(l=s.I("")),l===null&&(S$||(S$=!0,K('No item template Panel found for category "'+i+'" on '+t),K("  Using default item template."),t=new nt,i=new fe,i.bind(new Be("text","",Mt)),t.add(i),k$=t),l=k$)),l}function Nx(t,i,s){var l=i.enabledChanged;if(l!==null&&l(i,s),i instanceof nt){i=i.O.s,l=i.length;for(var u=0;u<l;u++){var c=i[u];s&&c instanceof nt&&!c.isEnabled||Nx(t,c,s)}}}function xo(t,i){i.name=t,ws.add(t,i)}S.Object.defineProperties(nt.prototype,{type:{get:function(){return this.na},set:function(t){var i=this.na;i!==t&&(this.na=t,this.isAtomic=this.na===nt.Grid,this.v(),this.g("type",i,t))}},elements:{get:function(){return this.O.iterator}},naturalBounds:{get:function(){return this.ec}},padding:{get:function(){return this.zb},set:function(t){typeof t=="number"?(0>t&&q(t,">= 0",nt,"padding"),t=new ne(t)):(0>t.left&&q(t.left,">= 0",nt,"padding:value.left"),0>t.right&&q(t.right,">= 0",nt,"padding:value.right"),0>t.top&&q(t.top,">= 0",nt,"padding:value.top"),0>t.bottom&&q(t.bottom,">= 0",nt,"padding:value.bottom"));var i=this.zb;i.D(t)||(this.zb=t=t.J(),this.v(),this.g("padding",i,t))}},defaultAlignment:{get:function(){return this.Sm},set:function(t){var i=this.Sm;i.D(t)||(this.Sm=t=t.J(),this.v(),this.g("defaultAlignment",i,t))}},defaultStretch:{get:function(){return this.Uf},set:function(t){var i=this.Uf;i!==t&&(this.Uf=t,this.v(),this.g("defaultStretch",i,t))}},defaultSeparatorPadding:{get:function(){return this.T!==null?this.T.Pp:Dd},set:function(t){typeof t=="number"&&(t=new ne(t));var i=this.defaultSeparatorPadding;i.D(t)||(t=t.J(),this.T===null&&(this.T=new jr),this.T.Pp=t,this.v(),this.g("defaultSeparatorPadding",i,t))}},defaultRowSeparatorStroke:{get:function(){return this.T!==null?this.T.ia:null},set:function(t){var i=this.defaultRowSeparatorStroke;i!==t&&(t===null||typeof t=="string"||t instanceof ie)&&(t instanceof ie&&t.freeze(),this.T===null&&(this.T=new jr),this.T.ia=t,this.N(),this.g("defaultRowSeparatorStroke",i,t))}},defaultRowSeparatorStrokeWidth:{get:function(){return this.T!==null?this.T.Ha:1},set:function(t){var i=this.defaultRowSeparatorStrokeWidth;i!==t&&isFinite(t)&&0<=t&&(this.T===null&&(this.T=new jr),this.T.Ha=t,this.v(),this.g("defaultRowSeparatorStrokeWidth",i,t))}},defaultRowSeparatorDashArray:{get:function(){return this.T!==null?this.T.V:null},set:function(t){var i=this.defaultRowSeparatorDashArray;if(i!==t){if(t!==null){for(var s=t.length,l=0,u=0;u<s;u++){var c=t[u];typeof c=="number"&&0<=c&&isFinite(c)||D("defaultRowSeparatorDashArray value "+c+" at index "+u+" must be a positive number or zero."),l+=c}if(l===0){if(i===null)return;t=null}}this.T===null&&(this.T=new jr),this.T.V=t,this.N(),this.g("defaultRowSeparatorDashArray",i,t)}}},defaultColumnSeparatorStroke:{get:function(){return this.T!==null?this.T.u:null},set:function(t){var i=this.defaultColumnSeparatorStroke;i!==t&&(t===null||typeof t=="string"||t instanceof ie)&&(t instanceof ie&&t.freeze(),this.T===null&&(this.T=new jr),this.T.u=t,this.N(),this.g("defaultColumnSeparatorStroke",i,t))}},defaultColumnSeparatorStrokeWidth:{get:function(){return this.T!==null?this.T.F:1},set:function(t){var i=this.defaultColumnSeparatorStrokeWidth;i!==t&&isFinite(t)&&0<=t&&(this.T===null&&(this.T=new jr),this.T.F=t,this.v(),this.g("defaultColumnSeparatorStrokeWidth",i,t))}},defaultColumnSeparatorDashArray:{get:function(){return this.T!==null?this.T.o:null},set:function(t){var i=this.defaultColumnSeparatorDashArray;if(i!==t){if(t!==null){for(var s=t.length,l=0,u=0;u<s;u++){var c=t[u];typeof c=="number"&&0<=c&&isFinite(c)||D("defaultColumnSeparatorDashArray value "+c+" at index "+u+" must be a positive number or zero."),l+=c}if(l===0){if(i===null)return;t=null}}this.T===null&&(this.T=new jr),this.T.o=t,this.N(),this.g("defaultColumnSeparatorDashArray",i,t)}}},inRowsCols:{get:function(){return this.T!==null?this.T.nb:null},set:function(t){this.T===null&&(this.T=new jr),this.T.nb=t}},viewboxStretch:{get:function(){return this.wo},set:function(t){var i=this.wo;i!==t&&(this.wo=t,this.v(),this.g("viewboxStretch",i,t))}},gridCellSize:{get:function(){return this.hn},set:function(t){var i=this.hn;if(!i.D(t)){t.w()&&t.width!==0&&t.height!==0||D("Invalid Panel.gridCellSize: "+t),this.hn=t.J();var s=this.diagram;s!==null&&this===s.grid&&Oa(s),this.N(),this.g("gridCellSize",i,t)}}},gridOrigin:{get:function(){return this.jn},set:function(t){var i=this.jn;if(!i.D(t)){t.w()||D("Invalid Panel.gridOrigin: "+t),this.jn=t.J();var s=this.diagram;s!==null&&this===s.grid&&Oa(s),this.N(),this.g("gridOrigin",i,t)}}},graduatedMin:{get:function(){return this.ra!==null?this.ra.kq:0},set:function(t){var i=this.graduatedMin;i!==t&&(this.ra===null&&(this.ra=new Il),this.ra.kq=t,this.v(),this.g("graduatedMin",i,t),vf(this)&&(t=this.part,t!==null&&Eh(this,t,"graduatedRange")))}},graduatedMax:{get:function(){return this.ra!==null?this.ra.F:100},set:function(t){var i=this.graduatedMax;i!==t&&(this.ra===null&&(this.ra=new Il),this.ra.F=t,this.v(),this.g("graduatedMax",i,t),vf(this)&&(t=this.part,t!==null&&Eh(this,t,"graduatedRange")))}},graduatedRange:{get:function(){return this.graduatedMax-this.graduatedMin}},graduatedTickUnit:{get:function(){return this.ra!==null?this.ra.ia:10},set:function(t){var i=this.graduatedTickUnit;i!==t&&0<t&&(this.ra===null&&(this.ra=new Il),this.ra.ia=t,this.v(),this.g("graduatedTickUnit",i,t))}},graduatedTickBase:{get:function(){return this.ra!==null?this.ra.V:0},set:function(t){var i=this.graduatedTickBase;i!==t&&(this.ra===null&&(this.ra=new Il),this.ra.V=t,this.v(),this.g("graduatedTickBase",i,t))}},graduatedMarks:{get:function(){return this.ra!==null?this.ra.u:null},set:function(t){this.ra!==null?this.ra.u=t:t!==null&&(this.ra=new Il,this.ra.u=t)}},graduatedBounds:{get:function(){return this.ra!==null?this.ra.j:null},set:function(t){this.ra!==null?this.ra.j=t:t!==null&&(this.ra=new Il,this.ra.j=t)}},graduatedIntervals:{get:function(){return this.ra!==null?this.ra.o:null},set:function(t){this.ra!==null?this.ra.o=t:t!==null&&(this.ra=new Il,this.ra.o=t)}},temporaryTextBlock:{get:function(){return this.ra!==null?this.ra.Zh:null},set:function(t){this.ra!==null?this.ra.Zh=t:t!==null&&(this.ra=new Il,this.ra.Zh=t)}},panelLayoutState:{get:function(){return this.F},set:function(t){this.F=t}},Te:{get:function(){return(this.l&8388608)!==0},set:function(t){(this.l&8388608)!==0!==t&&(this.l^=8388608)}},rowDefs:{get:function(){return this.T===null&&(this.T=new jr),this.T.Pc}},rowCount:{get:function(){return this.T===null?0:this.rowDefs.length}},colDefs:{get:function(){return this.T===null&&(this.T=new jr),this.T.Oc}},columnCount:{get:function(){return this.T===null?0:this.colDefs.length}},rowSizing:{get:function(){return this.T!==null?this.T.ob:Ex},set:function(t){var i=this.rowSizing;i!==t&&(this.T===null&&(this.T=new jr),this.T.ob=t,this.v(),this.g("rowSizing",i,t))}},columnSizing:{get:function(){return this.T!==null?this.T.j:Ex},set:function(t){var i=this.columnSizing;i!==t&&(this.T===null&&(this.T=new jr),this.T.j=t,this.v(),this.g("columnSizing",i,t))}},topIndex:{get:function(){return this.T!==null?this.T.Ib:0},set:function(t){var i=this.topIndex;i!==t&&((!isFinite(t)||0>t)&&D("Panel.topIndex must be greater than zero and a real number, not: "+t),this.T===null&&(this.T=new jr),this.T.Ib=t,this.v(),this.g("topIndex",i,t))}},leftIndex:{get:function(){return this.T!==null?this.T.hb:0},set:function(t){var i=this.leftIndex;i!==t&&((!isFinite(t)||0>t)&&D("Panel.leftIndex must be greater than zero and a real number, not: "+t),this.T===null&&(this.T=new jr),this.T.hb=t,this.v(),this.g("leftIndex",i,t))}},data:{get:function(){return this.ub},set:function(t){var i=this.ub;if(i!==t){var s=this instanceof kt&&!(this instanceof Wt);Gr(this),this.ub=t;var l=this.diagram;l!==null&&(s?(s=l.partManager,this instanceof rt?(i!==null&&s.bf.remove(i),t!==null&&s.bf.add(t,this)):this instanceof kt&&(i!==null&&s.cf.remove(i),t!==null&&s.cf.add(t,this))):(s=this.panel,s!==null&&s.ge!==null&&(i!==null&&s.ge.remove(i),t!==null&&s.ge.add(t,this)))),this.g("data",i,t),l!==null&&l.undoManager.isUndoingRedoing||t!==null&&this.La()}}},itemIndex:{get:function(){return this.yn},set:function(t){var i=this.yn;i!==t&&(this.yn=t,this.g("itemIndex",i,t))}},allBindings:{get:function(){return this.A!==null?this.A.nb:null},set:function(t){this.localBindings!==t&&(this.A===null&&(this.A=new xf),this.A.nb=t)}},itemArray:{get:function(){return this.Hh},set:function(t){var i=this.Hh;if(i!==t||t!==null&&DG(this,t)){var s=this.diagram;i!==t&&(s!==null&&i!==null&&LT(s.partManager,this,s),this.Hh=t,s!==null&&t!==null&&RT(s.partManager,this)),this.g("itemArray",i,t),s!==null&&s.undoManager.isUndoingRedoing||w$(this,t)}}},itemTemplate:{get:function(){return this.itemTemplateMap===null?null:this.itemTemplateMap.I("")},set:function(t){if(this.itemTemplateMap===null){if(t===null)return;this.itemTemplateMap=new jt}var i=this.itemTemplateMap.I("");i!==t&&((t instanceof kt||t.isPanelMain)&&D("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+t),this.itemTemplateMap.add("",t),this.g("itemTemplate",i,t),t=this.diagram,t!==null&&t.undoManager.isUndoingRedoing||this.mv())}},itemTemplateMap:{get:function(){return this.A!==null?this.A.Pc:null},set:function(t){var i=this.itemTemplateMap;if(i!==t){for(var s=t.iterator;s.next(););li(this),this.A.Pc=t,this.g("itemTemplateMap",i,t),t=this.diagram,t!==null&&t.undoManager.isUndoingRedoing||this.mv()}}},itemCategoryProperty:{get:function(){return this.A!==null?this.A.Oc:"category"},set:function(t){var i=this.itemCategoryProperty;i!==t&&(li(this),this.A.Oc=t,this.g("itemCategoryProperty",i,t))}},isAtomic:{get:function(){return(this.l&1048576)!==0},set:function(t){var i=(this.l&1048576)!==0;i!==t&&(this.l^=1048576,this.g("isAtomic",i,t))}},isClipping:{get:function(){return(this.l&2097152)!==0},set:function(t){var i=(this.l&2097152)!==0;i!==t&&(this.l^=2097152,this instanceof Lt&&(this.tb=null),this.v(),this.g("isClipping",i,t))}},isOpposite:{get:function(){return(this.l&33554432)!==0},set:function(t){var i=(this.l&33554432)!==0;i!==t&&(this.l^=33554432,this.v(),this.g("isOpposite",i,t))}},isEnabled:{get:function(){return(this.l&4194304)!==0},set:function(t){var i=(this.l&4194304)!==0;if(i!==t){var s=this.panel===null||this.panel.If();this.l^=4194304,this.g("isEnabled",i,t),i=this.diagram,i!==null&&i.undoManager.isUndoingRedoing||s&&Nx(this,this,t)}}},alignmentFocusName:{get:function(){return this.$e},set:function(t){var i=this.$e;i!==t&&(this.$e=t,this.v(),this.g("alignmentFocusName",i,t))}}}),S.Object.defineProperties(nt,{Position:{get:function(){return ws.I("Position")}},Horizontal:{get:function(){return ws.I("Horizontal")}},Vertical:{get:function(){return ws.I("Vertical")}},Spot:{get:function(){return ws.I("Spot")}},Auto:{get:function(){return ws.I("Auto")}},Table:{get:function(){return ws.I("Table")}},Viewbox:{get:function(){return ws.I("Viewbox")}},TableRow:{get:function(){return ws.I("TableRow")}},TableColumn:{get:function(){return ws.I("TableColumn")}},Link:{get:function(){return ws.I("Link")}},Grid:{get:function(){return ws.I("Grid")}},Graduated:{get:function(){return ws.I("Graduated")}}}),nt.prototype.rebuildItemElements=nt.prototype.mv,nt.prototype.findItemPanelForData=nt.prototype.sx,nt.prototype.updateTargetBindings=nt.prototype.La,nt.prototype.copyTemplate=nt.prototype.Uy,nt.prototype.graduatedValueForPoint=nt.prototype.Gz,nt.prototype.graduatedPointForValue=nt.prototype.Fz,nt.prototype.findColumnForLocalX=nt.prototype.fz,nt.prototype.findRowForLocalY=nt.prototype.nz,nt.prototype.addColumnDefinition=nt.prototype.By,nt.prototype.addRowDefinition=nt.prototype.Hy,nt.prototype.addRowColumnDefinition=nt.prototype.Gy,nt.prototype.removeColumnDefinition=nt.prototype.jA,nt.prototype.getColumnDefinition=nt.prototype.Fb,nt.prototype.removeRowDefinition=nt.prototype.oA,nt.prototype.getRowDefinition=nt.prototype.Gb,nt.prototype.removeAt=nt.prototype.mb,nt.prototype.remove=nt.prototype.remove,nt.prototype.insertAt=nt.prototype.Hb,nt.prototype.elt=nt.prototype.M,nt.prototype.add=nt.prototype.add,nt.prototype.findObject=nt.prototype.fb,nt.prototype.findInVisualTree=nt.prototype.Ml,nt.prototype.walkVisualTreeFrom=nt.prototype.pm,nt.prototype.findMainElement=nt.prototype.Qb;var S$=!1,k$=null,ws=new jt;nt.className="Panel",nt.definePanelLayout=xo,xo("Position",new yx),xo("Vertical",new vx),xo("Auto",new wx),xo("Link",new Cx);function Il(){this.kq=0,this.F=100,this.ia=10,this.V=0,this.Zh=this.o=this.j=this.u=null}Il.prototype.copy=function(){var t=new Il;return t.kq=this.kq,t.F=this.F,t.ia=this.ia,t.V=this.V,t.u=this.u,t.j=this.j,t.o=this.o,t.Zh=this.Zh,t},Il.className="GradPanelSettings";function jr(){this.Pc=[],this.Oc=[],this.j=this.ob=Ex,this.hb=this.Ib=0,this.Pp=Dd,this.Ha=1,this.V=this.ia=null,this.F=1,this.nb=this.o=this.u=null}jr.prototype.copy=function(t){for(var i=new jr,s=this.Pc,l=s.length,u=i.Pc,c=0;c<l;c++)if(s[c]!==void 0){var d=s[c].copy();d.wi(t),u[c]=d}for(s=this.Oc,l=s.length,u=i.Oc,c=0;c<l;c++)s[c]!==void 0&&(d=s[c].copy(),d.wi(t),u[c]=d);return i.ob=this.ob,i.j=this.j,i.Ib=this.Ib,i.hb=this.hb,i.Pp=this.Pp.J(),i.Ha=this.Ha,i.ia=this.ia,i.V=this.V,i.F=this.F,i.u=this.u,i.o=this.o,i.nb=this.nb,i},jr.className="TablePanelSettings";function We(t){Ue(this),this.Me=null,this.tq=!0,this.Za=0,this.Hc=NaN,this.jj=0,this.hj=1/0,this.Kb=Zi,this.pa=this.pc=this.oa=0,this.be=null,this.no=Hb,this.hg=vs,this.ko=this.dg=null,this.lo=NaN,this.Ma=this.tj=null,this.Om=!1,t&&(Object.assign(this,t),t.column!==void 0?(this.isRow=!1,this.index=t.column):t.row!==void 0&&(this.isRow=!0,this.index=t.row))}We.prototype.copy=function(){var t=new We;return t.tq=this.tq,t.Za=this.Za,t.Hc=this.Hc,t.jj=this.jj,t.hj=this.hj,t.Kb=this.Kb,t.oa=this.oa,t.pc=this.pc,t.pa=this.pa,t.hg=this.hg,t.no=this.no,this.dg===null?t.dg=null:t.dg=this.dg.J(),t.ko=this.ko,t.lo=this.lo,t.tj=null,this.tj!==null&&(t.separatorDashArray=Ot(this.separatorDashArray)),t.Ma=this.Ma,t.Om=this.Om,t.be=this.be,t};function Ax(t,i){i.isRow?t.height=i.height:t.width=i.width,t.minimum=i.minimum,t.maximum=i.maximum,t.alignment=i.alignment,t.stretch=i.stretch,t.sizing=i.sizing,t.dg=i.separatorPadding===null?null:i.separatorPadding.J(),t.separatorStroke=i.separatorStroke,t.separatorStrokeWidth=i.separatorStrokeWidth,t.tj=null,i.separatorDashArray&&(t.tj=Ot(i.separatorDashArray)),t.background=i.background,t.coversSeparators=i.coversSeparators,t.be=i.be}n=We.prototype,n.qb=function(t){t.classType===We&&(this.sizing=t)},n.toString=function(){return"RowColumnDefinition "+(this.isRow?"(Row ":"(Column ")+this.index+") #"+Ni(this)},n.wi=function(t){this.Me=t},n.Ho=function(t){var i=0,s=this.Me;if(this.index!==t&&(t=this.separatorStroke,t===null&&s!==null&&(t=this.isRow?s.defaultRowSeparatorStroke:s.defaultColumnSeparatorStroke),t!==null&&(i=this.separatorStrokeWidth,isNaN(i)&&(s!==null?i=this.isRow?s.defaultRowSeparatorStrokeWidth:s.defaultColumnSeparatorStrokeWidth:i=0))),t=this.dg,t===null)if(s!==null)t=s.defaultSeparatorPadding;else return i;return i+(this.isRow?t.top:t.left)},n.Wc=function(){var t=0,i=this.Me,s=0,l=this.isRow;if(i!==null&&i.type===nt.Table)for(var u=l?i.rowDefs.length:i.colDefs.length,c=0;c<u;c++){var d=l?i.rowDefs[c]:i.colDefs[c];if(d!==void 0&&d.oa!==0){s=d.index;break}}if(this.index!==s&&(s=this.separatorStroke,s===null&&i!==null&&(s=l?i.defaultRowSeparatorStroke:i.defaultColumnSeparatorStroke),s!==null&&(t=this.separatorStrokeWidth,isNaN(t)&&(i!==null?t=l?i.defaultRowSeparatorStrokeWidth:i.defaultColumnSeparatorStrokeWidth:t=0))),l=this.dg,l===null)if(i!==null)l=i.defaultSeparatorPadding;else return t;return t+(this.isRow?l.top+l.bottom:l.left+l.right)},n.Pb=function(t,i,s){var l=this.Me;if(l!==null&&(l.cb(ke,t,this,i,s,void 0,void 0),this.be!==null&&(i=l.diagram,i!==null&&!i.skipsModelSourceBindings&&(l=l.ih(),l!==null&&(i=l.data,i!==null)))))for(s=this.be.iterator;s.next();)s.value.rp(this,i,t,l)};function jx(t){if(t.sizing===Hb){var i=t.Me;return t.isRow?i.rowSizing:i.columnSizing}return t.sizing}n.bind=function(t,i,s,l){var u=null;return typeof t=="string"?u=new Be(t,i,s,l):u=t,u.xd=this,t=this.panel,t!==null&&(i=t.ih(),i!==null&&x$(i)&&D("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+u+" on "+t)),this.be===null&&(this.be=new ct),this.be.add(u),this},S.Object.defineProperties(We.prototype,{panel:{get:function(){return this.Me}},isRow:{get:function(){return this.tq},set:function(t){this.tq=t}},index:{get:function(){return this.Za},set:function(t){this.Za=t}},height:{get:function(){return this.Hc},set:function(t){var i=this.Hc;i!==t&&(0>t&&q(t,">= 0",We,"height"),this.Hc=t,this.actual=this.oa,this.panel!==null&&this.panel.v(),this.Pb("height",i,t))}},width:{get:function(){return this.Hc},set:function(t){var i=this.Hc;i!==t&&(0>t&&q(t,">= 0",We,"width"),this.Hc=t,this.actual=this.oa,this.panel!==null&&this.panel.v(),this.Pb("width",i,t))}},minimum:{get:function(){return this.jj},set:function(t){var i=this.jj;i!==t&&((0>t||!isFinite(t))&&q(t,">= 0",We,"minimum"),this.jj=t,this.actual=this.oa,this.panel!==null&&this.panel.v(),this.Pb("minimum",i,t))}},maximum:{get:function(){return this.hj},set:function(t){var i=this.hj;i!==t&&(0>t&&q(t,">= 0",We,"maximum"),this.hj=t,this.actual=this.oa,this.panel!==null&&this.panel.v(),this.Pb("maximum",i,t))}},alignment:{get:function(){return this.Kb},set:function(t){var i=this.Kb;i.D(t)||(this.Kb=t.J(),this.panel!==null&&this.panel.v(),this.Pb("alignment",i,t))}},stretch:{get:function(){return this.hg},set:function(t){var i=this.hg;i!==t&&(this.hg=t,this.panel!==null&&this.panel.v(),this.Pb("stretch",i,t))}},separatorPadding:{get:function(){return this.dg},set:function(t){typeof t=="number"&&(t=new ne(t));var i=this.dg;t!==null&&i!==null&&i.D(t)||(t!==null&&(t=t.J()),this.dg=t,this.panel!==null&&this.panel.v(),this.Pb("separatorPadding",i,t))}},separatorStroke:{get:function(){return this.ko},set:function(t){var i=this.ko;i!==t&&(t!==null&&Sf(t,"RowColumnDefinition.separatorStroke"),t instanceof ie&&t.freeze(),this.ko=t,this.panel!==null&&this.panel.v(),this.Pb("separatorStroke",i,t))}},separatorStrokeWidth:{get:function(){return this.lo},set:function(t){var i=this.lo;i!==t&&(this.lo=t,this.panel!==null&&this.panel.v(),this.Pb("separatorStrokeWidth",i,t))}},separatorDashArray:{get:function(){return this.tj},set:function(t){var i=this.tj;if(i!==t){if(t!==null){for(var s=t.length,l=0,u=0;u<s;u++){var c=t[u];typeof c=="number"&&0<=c&&isFinite(c)||D("separatorDashArray value "+c+" at index "+u+" must be a positive number or zero."),l+=c}if(l===0){if(i===null)return;t=null}}this.tj=t,this.panel!==null&&this.panel.N(),this.Pb("separatorDashArray",i,t)}}},background:{get:function(){return this.Ma},set:function(t){var i=this.Ma;i!==t&&(t!==null&&Sf(t,"RowColumnDefinition.background"),t instanceof ie&&t.freeze(),this.Ma=t,this.panel!==null&&this.panel.N(),this.Pb("background",i,t))}},coversSeparators:{get:function(){return this.Om},set:function(t){var i=this.Om;i!==t&&(this.Om=t,this.panel!==null&&this.panel.N(),this.Pb("coversSeparators",i,t))}},sizing:{get:function(){return this.no},set:function(t){var i=this.no;i!==t&&(this.no=t,this.panel!==null&&this.panel.v(),this.Pb("sizing",i,t))}},actual:{get:function(){return this.oa},set:function(t){this.oa=isNaN(this.Hc)?Math.max(Math.min(this.hj,t),this.jj):Math.max(Math.min(this.hj,this.Hc),this.jj)}},measured:{get:function(){return this.pc},set:function(t){this.pc=t}},total:{get:function(){return this.oa+this.Wc()}},position:{get:function(){return this.pa},set:function(t){this.pa=t}}}),We.prototype.computeEffectiveSpacing=We.prototype.Wc,We.prototype.computeEffectiveSpacingTop=We.prototype.Ho;var Hb=new it(We,"Default",0),f0=new it(We,"None",1),Ex=new it(We,"ProportionalExtra",2);We.className="RowColumnDefinition",We.Default=Hb,We.None=f0,We.ProportionalExtra=Ex;function It(t,i){xt.call(this),this.Rd=this.ua=null,this.$m="None",this.xc=this.Ui="black",this.ig=1,this.Na=this.Yg=null,this.Un=this.Tn=NaN,this.fa=null,typeof t=="string"?this.figure=t:t&&Object.assign(this,t),i&&Object.assign(this,i)}x(It,xt),It.prototype.cloneProtected=function(t){xt.prototype.cloneProtected.call(this,t),t.ua=this.ua,t.Rd=this.Rd,t.$m=this.$m,t.Ui=this.Ui,t.xc=this.xc,t.ig=this.ig,this.Yg!==null&&(t.Yg=Ot(this.Yg)),this.Na!==null&&(t.Na=this.Na.oc?this.Na:this.Na.copy()),t.Tn=this.Tn,t.Un=this.Un,this.fa!==null&&(t.fa=this.fa.copy())};function Fh(t){t.Na===null?t.Na=new tT:t.Na.oc&&(t.Na=t.Na.copy())}n=It.prototype,n.th=function(){xt.prototype.th.call(this),this.Na!==null&&(this.Na.oc=!0)},n.qb=function(t){t===$e||t===Oo||t===e0||t===vs?this.geometryStretch=t:xt.prototype.qb.call(this,t)},n.toString=function(){return"Shape("+(this.figure!=="None"?this.figure:this.toArrow!=="None"?this.toArrow:this.fromArrow)+")#"+Ni(this)};function yp(t,i,s,l){var u=s.length;if(!(4>u)){var c=l.measuredBounds,d=Math.max(1,c.width);c=c.height;for(var m=s[0],y=s[1],O,w,k,P,T,M,A=0,I=St(),L=2;L<u;L+=2)O=s[L],w=s[L+1],k=O-m,m=w-y,k===0&&(k=.001),P=m/k,T=Math.atan2(m,k),M=Math.sqrt(k*k+m*m),I.push([k,T,P,M]),A+=M,m=O,y=w;m=s[0],y=s[1],k=l.measuredBounds.width,l instanceof It&&(k-=l.strokeWidth),1>k&&(k=1),u=s=k,O=d/2,w=O!==0,L=0,M=I[L],k=M[0],T=M[1],P=M[2],M=M[3];for(var z=0;.1<=A;){if(z===0&&(w?(u=s,u-=O,A-=O,w=!1):u=s,u===0&&(u=1)),u>A){dt(I);return}u>M?(z=u-M,u=M):z=0;var X=Math.sqrt(u*u/(1+P*P));if(0>k&&(X=-X),m+=X,y+=P*X,t.translate(m,y),t.rotate(T),t.translate(-(d/2),-(c/2)),z===0&&l.hh(t,i),t.translate(d/2,c/2),t.rotate(-T),t.translate(-m,-y),A-=u,M-=u,z!==0){if(L++,L===I.length){dt(I);return}M=I[L],k=M[0],T=M[1],P=M[2],M=M[3],u=z}}dt(I)}}n.hh=function(t,i){var s=this.xc,l=this.Ui;if(s!==null||l!==null){var u=this.ua;if(u!==null){t.yc();var c=this.actualBounds,d=this.naturalBounds;l!==null&&dr(this,t,l,!0,!1,d,c);var m=this.part,y=this.ig;if(s===null||y!==0||m===null||!this.isPanelMain&&m.Qb()!==this||(y=m.type===nt.Link&&m instanceof Wt&&m.category==="Selection"&&m.adornedObject instanceof It&&m.adornedPart.Qb()===m.adornedObject?m.adornedObject.strokeWidth:0),y===0&&(s=null),s!==null&&y!==0&&(dr(this,t,s,!1,!1,d,c),t.lineWidth=y,t.lineJoin=this.strokeJoin,t.lineCap=this.strokeCap,t.miterLimit=this.strokeMiterLimit),c=!1,m&&i.Gf("drawShadows")&&(c=m.isShadowed),t.Hl===!1&&(c=!1),m=!0,s===null||l!==null&&l!=="transparent"||(m=!1),d=!1,y=this.strokeDashArray,y!==null&&(d=!0,t.hs(y,this.strokeDashOffset)),u.type===lt.j)t.beginPath(),t.moveTo(u.startX,u.startY),t.lineTo(u.endX,u.endY),s!==null&&t.ik(),t.Se();else if(u.type===lt.u){var O=u.startX;y=u.startY;var w=u.endX,k=u.endY;u=Math.min(O,w);var P=Math.min(y,k);O=Math.abs(w-O),y=Math.abs(k-y),t.beginPath(),t.rect(u,P,O,y),l!==null&&t.ng(l),s!==null&&(m&&c&&Ho(t),t.ik(),m&&c&&Rl(t)),t.Se()}else if(u.type===lt.F)O=u.startX,y=u.startY,w=u.endX,k=u.endY,u=Math.abs(w-O)/2,P=Math.abs(k-y)/2,O=Math.min(O,w)+u,y=Math.min(y,k)+P,t.beginPath(),t.moveTo(O,y-P),t.bezierCurveTo(O+U.wg*u,y-P,O+u,y-U.wg*P,O+u,y),t.bezierCurveTo(O+u,y+U.wg*P,O+U.wg*u,y+P,O,y+P),t.bezierCurveTo(O-U.wg*u,y+P,O-u,y+U.wg*P,O-u,y),t.bezierCurveTo(O-u,y-U.wg*P,O-U.wg*u,y-P,O,y-P),t.closePath(),l!==null&&t.ng(l),s!==null&&(m&&c&&Ho(t),t.ik(),m&&c&&Rl(t)),t.Se();else if(u.type===lt.o)for(u=u.figures,y=u.length,P=0;P<y;P++){O=u.s[P],t.beginPath(),t.moveTo(O.startX,O.startY),w=O.segments.s,k=w.length;for(var T=null,M=0;M<k;M++){var A=w[M];switch(A.type){case ys:t.moveTo(A.endX,A.endY);break;case be:t.lineTo(A.endX,A.endY);break;case br:t.bezierCurveTo(A.point1X,A.point1Y,A.point2X,A.point2Y,A.endX,A.endY);break;case yo:t.quadraticCurveTo(A.point1X,A.point1Y,A.endX,A.endY);break;case ti:if(A.radiusX===A.radiusY){var I=Math.PI/180;t.arc(A.point1X,A.point1Y,A.radiusX,A.startAngle*I,(A.startAngle+A.sweepAngle)*I,0>A.sweepAngle,T!==null?T.endX:O.startX,T!==null?T.endY:O.startY)}else if(T=jl(A,O),I=T.length,I===0)t.lineTo(A.centerX,A.centerY);else for(var L=0;L<I;L++){var z=T[L];L===0&&t.lineTo(z[0],z[1]),t.bezierCurveTo(z[2],z[3],z[4],z[5],z[6],z[7])}break;case Vs:if(L=I=0,T!==null&&T.type===ti){if(T=jl(T,O),z=T.length,z===0){t.lineTo(A.endX,A.endY);break}T=T[z-1]||null,T!==null&&(I=T[6],L=T[7])}else I=T!==null?T.endX:O.startX,L=T!==null?T.endY:O.startY;if(T=Mh(A,O,I,L),I=T.length,I===0){t.lineTo(A.endX,A.endY);break}for(L=0;L<I;L++)z=T[L],t.bezierCurveTo(z[2],z[3],z[4],z[5],z[6],z[7]);break;default:D("Segment not of valid type: "+A.type)}A.isClosed&&t.closePath(),T=A}w=O.isFilled,c?O.isShadowed?(w===!0&&l!=="transparent"&&l!==null&&t.ng(l,O.isEvenOdd),s!==null&&(w&&m&&Ho(t),t.ik(),w&&m&&Rl(t))):(Ho(t),w&&l!=="transparent"&&l!==null&&t.ng(l,O.isEvenOdd),s!==null&&t.ik(),Rl(t)):(w&&l!==null&&t.ng(l,O.isEvenOdd),s!==null&&t.ik()),t.Se(P)}if(d&&t.es(),this.pathPattern!==null){if(s=this.pathPattern,s.measure(1/0,1/0),l=s.measuredBounds,s.arrange(0,0,l.width,l.height),c=this.geometry,t.save(),t.beginPath(),l=St(),c.type===lt.j)l.push(c.startX),l.push(c.startY),l.push(c.endX),l.push(c.endY),yp(t,i,l,s);else if(c.type===lt.o)for(c=c.figures.iterator;c.next();){for(m=c.value,l.length=0,l.push(m.startX),l.push(m.startY),d=m.startX,u=m.startY,y=d,P=u,O=m.segments.s,w=O.length,k=0;k<w;k++){switch(M=O[k],M.type){case ys:yp(t,i,l,s),l.length=0,l.push(M.endX),l.push(M.endY),d=M.endX,u=M.endY,y=d,P=u;break;case be:l.push(M.endX),l.push(M.endY),d=M.endX,u=M.endY;break;case br:U.Qe(d,u,M.point1X,M.point1Y,M.point2X,M.point2Y,M.endX,M.endY,.5,l),d=M.endX,u=M.endY;break;case yo:U.cp(d,u,M.point1X,M.point1Y,M.endX,M.endY,.5,l),d=M.endX,u=M.endY;break;case ti:if(A=jl(M,m),T=A.length,T===0){l.push(M.centerX),l.push(M.centerY),d=M.centerX,u=M.centerY;break}for(I=0;I<T;I++)L=A[I],U.Qe(d,u,L[2],L[3],L[4],L[5],L[6],L[7],.5,l),d=L[6],u=L[7];break;case Vs:if(A=Mh(M,m,d,u),T=A.length,T===0){l.push(M.endX),l.push(M.endY),d=M.endX,u=M.endY;break}for(I=0;I<T;I++)L=A[I],U.Qe(d,u,L[2],L[3],L[4],L[5],L[6],L[7],.5,l),d=L[6],u=L[7];break;default:D("Segment not of valid type: "+M.type)}M.isClosed&&(l.push(y),l.push(P),yp(t,i,l,s))}yp(t,i,l,s)}else if(c.type===lt.u)l.push(c.startX),l.push(c.startY),l.push(c.endX),l.push(c.startY),l.push(c.endX),l.push(c.endY),l.push(c.startX),l.push(c.endY),l.push(c.startX),l.push(c.startY),yp(t,i,l,s);else if(c.type===lt.F){if(u=new vi,u.startX=c.endX,u.startY=(c.startY+c.endY)/2,d=new Jt(ti),d.startAngle=0,d.sweepAngle=360,d.centerX=(c.startX+c.endX)/2,d.centerY=(c.startY+c.endY)/2,d.radiusX=Math.abs(c.startX-c.endX)/2,d.radiusY=Math.abs(c.startY-c.endY)/2,u.add(d),c=jl(d,u),m=c.length,m===0)l.push(d.centerX),l.push(d.centerY);else for(d=u.startX,u=u.startY,y=0;y<m;y++)P=c[y],U.Qe(d,u,P[2],P[3],P[4],P[5],P[6],P[7],.5,l),d=P[6],u=P[7];yp(t,i,l,s)}dt(l),t.restore(),t.Vc(!1)}}}},n.jk=function(t,i,s){return!xt.prototype.jk.call(this,t,i,s)||this.xc===null&&this.Ui===null||this.ua===null||this.pathPattern!==null||this.geometry.figures.length!==this.svg.getElementsByTagName("path").length?!1:(t.Gl=this.svg,this.hh(t,i),t.Gl=null,!0)},n.mk=function(t){return this.geometry!==null&&1<this.geometry.figures.length||this.pathPattern!==null?!0:xt.prototype.mk.call(this,t)},n.Dv=function(t,i){if(t.nodeName!=="g")t.setAttributeNS(null,"filter",i);else{t=t.getElementsByTagName("path");for(var s=0;s<t.length;s++)t[s].setAttributeNS(null,"filter",i)}},n.ga=function(t,i){if(i===void 0&&(i=new F),t instanceof Tt){t.Mc()&&D("getDocumentPoint Spot must be a real, specific Spot, not: "+t.toString());var s=this.naturalBounds,l=this.strokeWidth;i.h(t.x*(s.width+l)-l/2+s.x+t.offsetX,t.y*(s.height+l)-l/2+s.y+t.offsetY)}else i.set(t);return this.oe.Ga(i),i},n.mi=function(t){t===void 0&&(t=new tt);var i=this.naturalBounds,s=this.oe;i=tt.allocAt(i.x,i.y,i.width,i.height);var l=this.strokeWidth;return i.Bc(l/2,l/2),l=F.allocAt(i.x,i.y).transform(s),t.h(l.x,l.y,0,0),l.h(i.right,i.y).transform(s),Si(t,l.x,l.y,0,0),l.h(i.right,i.bottom).transform(s),Si(t,l.x,l.y,0,0),l.h(i.x,i.bottom).transform(s),Si(t,l.x,l.y,0,0),tt.free(i),F.free(l),t},n.gh=function(t,i){var s=this.geometry;if(s===null||this.fill===null&&this.stroke===null)return!1;var l=s.bounds,u=this.strokeWidth/2;s.type!==lt.j||i||(u+=2);var c=tt.alloc();if(c.assign(l),c.Bc(u+2,u+2),!c.ca(t))return tt.free(c),!1;if(l=u+1e-4,s.type===lt.j)return this.stroke===null||(l=(s.endX-s.startX)*(t.x-s.startX)+(s.endY-s.startY)*(t.y-s.startY),0>(s.startX-s.endX)*(t.x-s.endX)+(s.startY-s.endY)*(t.y-s.endY)||0>l)?!1:(tt.free(c),U.Zb(s.startX,s.startY,s.endX,s.endY,u,t.x,t.y));if(s.type===lt.u){i=s.startX;var d=s.startY,m=s.endX;if(s=s.endY,c.x=Math.min(i,m),c.y=Math.min(d,s),c.width=Math.abs(m-i),c.height=Math.abs(s-d),this.fill===null){if(c.Bc(-l,-l),c.ca(t))return tt.free(c),!1;c.Bc(l,l)}return this.stroke!==null&&c.Bc(u,u),t=c.ca(t),tt.free(c),t}if(s.type===lt.F){d=s.startX,u=s.startY,m=s.endX;var y=s.endY;if(s=Math.min(d,m),i=Math.min(u,y),d=Math.abs(m-d)/2,u=Math.abs(y-u)/2,s=t.x-(s+d),i=t.y-(i+u),this.fill===null){if(d-=l,u-=l,0>=d||0>=u||1>=s*s/(d*d)+i*i/(u*u))return tt.free(c),!1;d+=l,u+=l}return this.stroke!==null&&(d+=l,u+=l),tt.free(c),0>=d||0>=u?!1:1>=s*s/(d*d)+i*i/(u*u)}if(s.type===lt.o)return tt.free(c),this.fill===null?L5(s,t.x,t.y,u):j2(s,t,u,1<this.strokeWidth,i);D("Unknown Geometry type: "+s.type)},n.Vl=function(t,i,s,l){var u=this.desiredSize,c=this.ig;if(t=Math.max(t,0),i=Math.max(i,0),this.Rd!==null)var d=this.geometry.bounds;else{var m=this.figure,y=Jb[m];if(y===void 0){var O=U.Ze[m];typeof O=="string"&&(O=U.Ze[O]),typeof O=="function"?(y=O(null,100,100),Jb[m]=y):D("Unsupported Figure: "+m)}d=y.bounds}m=d.width,y=d.height,O=d.width;var w=d.height;switch(_s(this,!0)){case $e:l=s=0;break;case Xe:O=Math.max(t-c,0),w=Math.max(i-c,0);break;case Di:O=Math.max(t-c,0),l=0;break;case Ui:s=0,w=Math.max(i-c,0)}isFinite(u.width)&&(O=u.width),isFinite(u.height)&&(w=u.height);var k=this.maxSize,P=this.minSize;switch(s=Math.max(s-c,P.width),l=Math.max(l-c,P.height),O=Math.min(k.width,O),w=Math.min(k.height,w),O=isFinite(O)?Math.max(s,O):Math.max(m,s),w=isFinite(w)?Math.max(l,w):Math.max(y,l),s=Kb(this),s){case $e:break;case Xe:m=O,y=w;break;case Oo:s=Math.min(O/m,w/y),isFinite(s)||(s=1),m*=s,y*=s;break;default:D(s+" is not a valid geometryStretch.")}this.Rd!==null?(m===0&&(m=.001),y===0&&(y=.001),s=this.Rd!==null?this.Rd:this.ua,d=s.bounds,l=m/d.width,d=y/d.height,isFinite(l)||(l=1),isFinite(d)||(d=1),this.ua=l===1&&d===1?s:s.copy().scale(l,d)):this.ua!==null&&U.$(this.ua.Rk,t-c)&&U.$(this.ua.Qk,i-c)||(this.ua=It.makeGeometry(this,m,y)),d=this.ua.bounds,t===1/0||i===1/0?this.Ge(d.x-c/2,d.y-c/2,t===0&&m===0?0:d.width+c,i===0&&y===0?0:d.height+c):this.Ge(-(c/2),-(c/2),O+c,w+c),u.w()?(O=u.width,w=u.height,O=Math.min(k.width,O),w=Math.min(k.height,w),O=Math.max(P.width,O),w=Math.max(P.height,w),this.ec.h(0,0,O,w)):this.ec.assign(d)};function Kb(t){var i=t.geometryStretch;return t.Rd!==null?i===vs?Xe:i:i===vs?Jb[t.figure].defaultStretch:i}n.eh=function(t,i,s,l){Tb(this,t,i,s,l)},n.qs=function(t,i,s){return this.Rj(t.x,t.y,i.x,i.y,s)},n.Rj=function(t,i,s,l,u){var c=this.transform,d=1/(c.m11*c.m22-c.m12*c.m21),m=c.m22*d,y=-c.m12*d,O=-c.m21*d,w=c.m11*d,k=d*(c.m21*c.dy-c.m22*c.dx),P=d*(c.m12*c.dx-c.m11*c.dy);c=t*m+i*O+k,d=t*y+i*w+P,m=s*m+l*O+k,y=s*y+l*w+P,k=this.ig/2,O=this.ua,O===null&&(this.measure(1/0,1/0),O=this.ua);var T=O.bounds;if(w=!1,O.type===lt.j)if(1.5>=this.strokeWidth)w=U.Ve(O.startX,O.startY,O.endX,O.endY,c,d,m,y,u);else{if(O.startX===O.endX?(l=k,w=0):(i=(O.endY-O.startY)/(O.endX-O.startX),w=k/Math.sqrt(1+i*i),l=w*i),i=St(),t=new F,U.Ve(O.startX+l,O.startY+w,O.endX+l,O.endY+w,c,d,m,y,t)&&i.push(t),t=new F,U.Ve(O.startX-l,O.startY-w,O.endX-l,O.endY-w,c,d,m,y,t)&&i.push(t),t=new F,U.Ve(O.startX+l,O.startY+w,O.startX-l,O.startY-w,c,d,m,y,t)&&i.push(t),t=new F,U.Ve(O.endX+l,O.endY+w,O.endX-l,O.endY-w,c,d,m,y,t)&&i.push(t),m=i.length,m===0)return dt(i),!1;for(w=!0,y=1/0,l=0;l<m;l++)t=i[l],s=(t.x-c)*(t.x-c)+(t.y-d)*(t.y-d),s<y&&(y=s,u.x=t.x,u.y=t.y);dt(i)}else if(O.type===lt.u)w=U.Ff(T.x-k,T.y-k,T.x+T.width+k,T.y+T.height+k,c,d,m,y,u);else if(O.type===lt.F){i=tt.allocAt(T.x,T.y,T.width,T.height).Bc(k,k);t:if(i.width===0)w=U.Ve(i.x,i.y,i.x,i.y+i.height,c,d,m,y,u);else if(i.height===0)w=U.Ve(i.x,i.y,i.x+i.width,i.y,c,d,m,y,u);else{if(t=i.width/2,O=i.height/2,l=i.x+t,w=i.y+O,s=9999,c!==m&&(s=(d-y)/(c-m)),9999>Math.abs(s)){if(y=d-w-s*(c-l),0>t*t*s*s+O*O-y*y){u.x=NaN,u.y=NaN,w=!1;break t}k=Math.sqrt(t*t*s*s+O*O-y*y),m=(-(t*t*s*y)+t*O*k)/(O*O+t*t*s*s)+l,t=(-(t*t*s*y)-t*O*k)/(O*O+t*t*s*s)+l,O=s*(m-l)+y+w,y=s*(t-l)+y+w,Math.abs((c-m)*(c-m))+Math.abs((d-O)*(d-O))<Math.abs((c-t)*(c-t))+Math.abs((d-y)*(d-y))?(u.x=m,u.y=O):(u.x=t,u.y=y)}else{if(m=O*O,y=c-l,m-=m/(t*t)*y*y,0>m){u.x=NaN,u.y=NaN,w=!1;break t}y=Math.sqrt(m),m=w+y,y=w-y,Math.abs(m-d)<Math.abs(y-d)?(u.x=c,u.y=m):(u.x=c,u.y=y)}w=!0}tt.free(i)}else if(O.type===lt.o){P=F.alloc();var M=m-c,A=y-d,I=M*M+A*A,L=c,z=d;if(0<I&&T.contains(L,z)&&(P.x=L,P.y=z,this.ca(P)))for(M!==0&&.5>Math.abs(M)?(A*=.5/M,M=.5):A!==0&&.5>Math.abs(A)&&(M*=.5/A,A=.5),L-=M,z-=A;T.contains(L,z);)L-=M,z-=A;for(u.x=m,u.y=y,A=0;A<O.figures.count;A++){var X=O.figures.s[A],_=X.isFilled?L:c,Y=X.isFilled?z:d,G=X.segments;T=X.startX,M=X.startY;for(var ut=T,gt=M,mt=0;mt<G.count;mt++){var st=G.s[mt],et=st.type,Rt=st.endX,Qt=st.endY,Gt=!1;switch(et){case ys:ut=Rt,gt=Qt;break;case be:Gt=Lx(T,M,Rt,Qt,_,Y,m,y,P);break;case br:Gt=U.Do(T,M,st.point1X,st.point1Y,st.point2X,st.point2Y,Rt,Qt,_,Y,m,y,.6,P);break;case yo:Gt=U.Do(T,M,T+2/3*(st.point1X-T),M+2/3*(st.point1Y-M),Rt+2/3*(st.point1X-Rt),Qt+2/3*(st.point1Y-Qt),Rt,Qt,_,Y,m,y,.6,P);break;case ti:case Vs:et=st.type===ti?jl(st,X):Mh(st,X,T,M);var ce=et.length;if(ce===0){Gt=Lx(T,M,st.type===ti?st.centerX:st.endX,st.type===ti?st.centerY:st.endY,_,Y,m,y,P);break}for(Qt=null,Rt=0;Rt<ce;Rt++){if(Qt=et[Rt],Rt===0&&Lx(T,M,Qt[0],Qt[1],_,Y,m,y,P)){var ai=Rx(_,Y,P,I,u);ai<I&&(I=ai,w=!0)}U.Do(Qt[0],Qt[1],Qt[2],Qt[3],Qt[4],Qt[5],Qt[6],Qt[7],_,Y,m,y,.6,P)&&(ai=Rx(_,Y,P,I,u),ai<I&&(I=ai,w=!0))}Rt=Qt[6],Qt=Qt[7];break;default:D("Unknown Segment type: "+et)}T=Rt,M=Qt,Gt&&(Gt=Rx(_,Y,P,I,u),Gt<I&&(I=Gt,w=!0)),st.isClosed&&(Rt=ut,Qt=gt,Lx(T,M,Rt,Qt,_,Y,m,y,P)&&(st=Rx(_,Y,P,I,u),st<I&&(I=st,w=!0)))}}c=s-t,d=l-i,m=Math.sqrt(c*c+d*d),m!==0&&(c/=m,d/=m),u.x-=c*k,u.y-=d*k,F.free(P)}else D("Unknown Geometry type: "+O.type);return w?(this.transform.Ga(u),!0):!1};function Rx(t,i,s,l,u){return t=s.x-t,i=s.y-i,i=t*t+i*i,i<l?(u.x=s.x,u.y=s.y,i):l}function Lx(t,i,s,l,u,c,d,m,y){if(U.$(t,s)&&U.$(i,l)||U.$(u,d)&&U.$(c,m))return!1;var O=!1,w=(u-d)*(i-l)-(c-m)*(t-s);return w===0?!1:(y.x=((u*m-c*d)*(t-s)-(u-d)*(t*l-i*s))/w,y.y=((u*m-c*d)*(i-l)-(c-m)*(t*l-i*s))/w,(t>s?t-s:s-t)<(i>l?i-l:l-i)?(t=i<l?i:l,i=i<l?l:i,(y.y>t||U.$(y.y,t))&&(y.y<i||U.$(y.y,i))&&(O=!0)):(i=t<s?t:s,t=t<s?s:t,(y.x>i||U.$(y.x,i))&&(y.x<t||U.$(y.x,t))&&(O=!0)),O)}n.fh=function(t,i){if(i===void 0)return t.Re(this.actualBounds);var s=this.ua;s===null&&(this.measure(1/0,1/0),s=this.ua),s=s.bounds;var l=this.strokeWidth/2,u=!1,c=F.alloc();return c.h(s.x-l,s.y-l),t.ca(i.Ga(c))&&(c.h(s.x-l,s.bottom+l),t.ca(i.Ga(c))&&(c.h(s.right+l,s.bottom+l),t.ca(i.Ga(c))&&(c.h(s.right+l,s.y-l),t.ca(i.Ga(c))&&(u=!0)))),F.free(c),u},n.Yc=function(t,i){if(this.fh(t,i)||i===void 0&&(i=this.transform,t.Re(this.actualBounds)))return!0;var s=Xt.alloc();s.set(i),s.Uj();var l=t.left,u=t.right,c=t.top;t=t.bottom;var d=F.alloc();if(d.h(l,c),s.Ga(d),this.gh(d,!0)||(d.h(u,c),s.Ga(d),this.gh(d,!0))||(d.h(l,t),s.Ga(d),this.gh(d,!0))||(d.h(u,t),s.Ga(d),this.gh(d,!0)))return F.free(d),!0;var m=F.alloc(),y=F.alloc();return s.set(i),s.bv(this.transform),s.Uj(),m.x=u,m.y=c,m.transform(s),d.x=l,d.y=c,d.transform(s),i=!1,Vh(this,d,m,y)?i=!0:(d.x=u,d.y=t,d.transform(s),Vh(this,d,m,y)?i=!0:(m.x=l,m.y=t,m.transform(s),Vh(this,d,m,y)?i=!0:(d.x=l,d.y=c,d.transform(s),Vh(this,d,m,y)&&(i=!0)))),F.free(d),Xt.free(s),F.free(m),F.free(y),i};function Vh(t,i,s,l){if(!t.qs(i,s,l))return!1;t=i.x,i=i.y;var u=s.x,c=s.y;return s=l.x,l=l.y,t===u?(i<c?(t=i,i=c):t=c,l>=t&&l<=i):(t<u?(l=t,t=u):l=u,s>=l&&s<=t)}n.tx=function(t,i,s){function l(I,L){for(var z=I.length,X=0;X<z;X+=2)if(L.zd(I[X],I[X+1])>u)return!0;return!1}if(s&&this.fill!==null&&this.gh(t,!0))return!0;var u=t.Bf(i),c=u;if(1.5<this.strokeWidth&&(u=this.strokeWidth/2+Math.sqrt(u),u*=u),i=this.ua,i===null&&(this.measure(1/0,1/0),i=this.ua,i===null))return!1;if(!s){var d=i.bounds,m=d.x,y=d.y,O=d.x+d.width;if(d=d.y+d.height,go(t.x,t.y,m,y)<=u&&go(t.x,t.y,O,y)<=u&&go(t.x,t.y,m,d)<=u&&go(t.x,t.y,O,d)<=u)return!0}if(m=i.startX,y=i.startY,O=i.endX,d=i.endY,i.type===lt.j){if(s=(m-O)*(t.x-O)+(y-d)*(t.y-d),$i(t.x,t.y,m,y,O,d)<=(0<=(O-m)*(t.x-m)+(d-y)*(t.y-y)&&0<=s?u:c))return!0}else{if(i.type===lt.u)return i=!1,s&&(i=$i(t.x,t.y,m,y,m,d)<=u||$i(t.x,t.y,m,y,O,y)<=u||$i(t.x,t.y,O,y,O,d)<=u||$i(t.x,t.y,m,d,O,d)<=u),i;if(i.type===lt.F){i=t.x-(m+O)/2,c=t.y-(y+d)/2;var w=Math.abs(O-m)/2,k=Math.abs(d-y)/2;if(w===0||k===0)return $i(t.x,t.y,m,y,O,d)<=u;if(s){if(t=U.$y(w,k,i,c),t*t<=u)return!0}else return!(go(i,c,-w,0)>=u||go(i,c,0,-k)>=u||go(i,c,0,k)>=u||go(i,c,w,0)>=u)}else if(i.type===lt.o){if(O=i.bounds,c=O.x,m=O.y,y=O.x+O.width,O=O.y+O.height,t.x>y&&t.x<c&&t.y>O&&t.y<m&&$i(t.x,t.y,c,m,c,O)>u&&$i(t.x,t.y,c,m,y,m)>u&&$i(t.x,t.y,y,O,c,O)>u&&$i(t.x,t.y,y,O,y,m)>u)return!1;if(c=Math.sqrt(u),s){if(this.fill===null?L5(i,t.x,t.y,c):j2(i,t,c,!0,!1))return!0}else{for(s=i.figures,i=0;i<s.count;i++){if(c=s.s[i],d=c.startX,w=c.startY,t.zd(d,w)>u)return!1;for(m=c.segments.s,y=m.length,O=0;O<y;O++)switch(k=m[O],k.type){case ys:case be:if(d=k.endX,w=k.endY,t.zd(d,w)>u)return!1;break;case br:var P=St();if(U.Qe(d,w,k.point1X,k.point1Y,k.point2X,k.point2Y,k.endX,k.endY,.8,P),d=l(P,t),dt(P),d||(d=k.endX,w=k.endY,t.zd(d,w)>u))return!1;break;case yo:if(P=St(),U.cp(d,w,k.point1X,k.point1Y,k.endX,k.endY,.8,P),d=l(P,t),dt(P),d||(d=k.endX,w=k.endY,t.zd(d,w)>u))return!1;break;case ti:case Vs:P=k.type===ti?jl(k,c):Mh(k,c,d,w);var T=P.length;if(T===0){if(d=k.type===ti?k.centerX:k.endX,w=k.type===ti?k.centerY:k.endY,t.zd(d,w)>u)return!1;break}k=null;for(var M=St(),A=0;A<T;A++)if(k=P[A],M.length=0,U.Qe(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],.8,M),l(M,t))return dt(M),!1;dt(M),k!==null&&(d=k[6],w=k[7]);break;default:D("Unknown Segment type: "+k.type)}}return!0}}}return!1},n.rc=function(){this.ua=null},n.jq=function(){return this.ig};function P$(t){var i=t.diagram;i!==null&&i.undoManager.isUndoingRedoing||(t.segmentOrientation=w0,t.toArrow!=="None"?(t.segmentIndex=-1,t.alignmentFocus=Kn):t.fromArrow!=="None"&&(t.segmentIndex=0,t.alignmentFocus=new Tt(1-Kn.x,Kn.y)))}It.makeGeometry=function(t,i,s){if(t.toArrow!=="None")var l=Jo[t.toArrow];else t.fromArrow!=="None"?l=Jo[t.fromArrow]:(l=U.Ze[t.figure],typeof l=="string"&&(l=U.Ze[l]),l===void 0&&D("Unknown Shape.figure: "+t.figure),l=l(t,i,s),l.Rk=i,l.Qk=s);if(l===null){var u=U.Ze.Rectangle;typeof u=="function"&&(l=u(t,i,s))}return l};function b$(t){var i=Jo[t];if(i===void 0){var s=t.toLowerCase();if(s==="none")return"None";if(i=Jo[s],i===void 0){var l=null,u;for(u in U.tm)if(u.toLowerCase()===s){l=u;break}if(l!==null)return t=lt.parse(U.tm[l],!1),Jo[l]=t,s!==l&&(Jo[s]=l),l}}return typeof i=="string"?i:i instanceof lt?t:null}S.Object.defineProperties(It.prototype,{geometry:{get:function(){return this.ua!==null?this.ua:this.Rd},set:function(t){var i=this.ua,s=this.Rd;if(i!==t){t!==null?this.Rd=this.ua=t.freeze():this.Rd=this.ua=null;var l=this.part;l!==null&&(l.ag=NaN),this.v(),this.g("geometry",i||s,t),vf(this)&&(t=this.part,t!==null&&Eh(this,t,"geometryString"))}}},geometryString:{get:function(){return this.geometry===null?"":this.geometry.toString()},set:function(t){t=lt.parse(t);var i=t.normalize();this.geometry=t,this.position=t=F.allocAt(-i.x,-i.y),F.free(t)}},isGeometryPositioned:{get:function(){return(this.l&1048576)!==0},set:function(t){var i=(this.l&1048576)!==0;i!==t&&(this.l^=1048576,this.v(),this.g("isGeometryPositioned",i,t))}},fill:{get:function(){return this.Ui},set:function(t){var i=this.Ui;i!==t&&(t!==null&&Sf(t,"Shape.fill"),t instanceof ie&&t.freeze(),this.Ui=t,this.N(),this.g("fill",i,t))}},stroke:{get:function(){return this.xc},set:function(t){var i=this.xc;i!==t&&(t!==null&&Sf(t,"Shape.stroke"),t instanceof ie&&t.freeze(),this.xc=t,this.N(),this.g("stroke",i,t))}},strokeWidth:{get:function(){return this.ig},set:function(t){var i=this.ig;if(i!==t)if(0<=t){this.ig=t,this.v();var s=this.part;s!==null&&(s.ag=NaN),this.g("strokeWidth",i,t)}else q(t,"value >= 0",It,"strokeWidth:value")}},strokeCap:{get:function(){return this.Na!==null?this.Na.Gr:"butt"},set:function(t){var i=this.strokeCap;i!==t&&(typeof t!="string"||t!=="butt"&&t!=="round"&&t!=="square"?q(t,'"butt", "round", or "square"',It,"strokeCap"):(Fh(this),this.Na.Gr=t,this.N(),this.g("strokeCap",i,t)))}},strokeJoin:{get:function(){return this.Na!==null?this.Na.Hr:"miter"},set:function(t){var i=this.strokeJoin;i!==t&&(typeof t!="string"||t!=="miter"&&t!=="bevel"&&t!=="round"?q(t,'"miter", "bevel", or "round"',It,"strokeJoin"):(Fh(this),this.Na.Hr=t,this.N(),this.g("strokeJoin",i,t)))}},strokeMiterLimit:{get:function(){return this.Na!==null?this.Na.Ir:10},set:function(t){var i=this.strokeMiterLimit;if(i!==t&&1<=t){Fh(this),this.Na.Ir=t,this.N();var s=this.part;s!==null&&(s.ag=NaN),this.g("strokeMiterLimit",i,t)}}},strokeDashArray:{get:function(){return this.Yg},set:function(t){var i=this.Yg;if(i!==t){if(t!==null){for(var s=t.length,l=0,u=0;u<s;u++){var c=t[u];0<=c&&isFinite(c)||D("strokeDashArray:value "+c+" at index "+u+" must be a positive number or zero."),l+=c}if(l===0){if(i===null)return;t=null}}this.Yg=t,this.N(),this.g("strokeDashArray",i,t)}}},strokeDashOffset:{get:function(){return this.Na!==null?this.Na.uj:0},set:function(t){var i=this.strokeDashOffset;i!==t&&0<=t&&(Fh(this),this.Na.uj=t,this.N(),this.g("strokeDashOffset",i,t))}},figure:{get:function(){return this.$m},set:function(t){var i=this.$m;if(i!==t){var s=U.Ze[t];typeof s=="function"?s=t:(s=U.Ze[t.toLowerCase()])||D("Unknown Shape.figure: "+t),i!==s&&(t=this.part,t!==null&&(t.ag=NaN),this.$m=s,this.Rd=null,this.rc(),this.v(),this.g("figure",i,s))}}},toArrow:{get:function(){return this.Ua!==null?this.Ua.V:"None"},set:function(t){var i=this.toArrow;if(t===!0?t="Standard":t===!1&&(t=""),i!==t){var s=b$(t);s===null?D("Unknown Shape.toArrow: "+t):i!==s&&(this.Ua===null&&(this.Ua=new bu),this.Ua.V=s,this.Rd=null,this.rc(),this.v(),P$(this),this.g("toArrow",i,s))}}},fromArrow:{get:function(){return this.Ua!==null?this.Ua.j:"None"},set:function(t){var i=this.fromArrow;if(t===!0?t="Standard":t===!1&&(t=""),i!==t){var s=b$(t);s===null?D("Unknown Shape.fromArrow: "+t):i!==s&&(this.Ua===null&&(this.Ua=new bu),this.Ua.j=s,this.Rd=null,this.rc(),this.v(),P$(this),this.g("fromArrow",i,s))}}},spot1:{get:function(){return this.Na!==null?this.Na.fg:Zi},set:function(t){var i=this.spot1;i.D(t)||(t=t.J(),Fh(this),this.Na.fg=t,this.v(),this.g("spot1",i,t))}},spot2:{get:function(){return this.Na!==null?this.Na.gg:Zi},set:function(t){var i=this.spot2;i.D(t)||(t=t.J(),Fh(this),this.Na.gg=t,this.v(),this.g("spot2",i,t))}},parameter1:{get:function(){return this.Tn},set:function(t){var i=this.Tn;i!==t&&(this.Tn=t,this.rc(),this.v(),this.g("parameter1",i,t))}},parameter2:{get:function(){return this.Un},set:function(t){var i=this.Un;i!==t&&(this.Un=t,this.rc(),this.v(),this.g("parameter2",i,t))}},naturalBounds:{get:function(){return this.ec}},pathPattern:{get:function(){return this.Na!==null?this.Na.ar:null},set:function(t){var i=this.pathPattern;i!==t&&(Fh(this),this.Na.ar=t,this.N(),this.g("pathPattern",i,t))}},geometryStretch:{get:function(){return this.Na!==null?this.Na.iq:vs},set:function(t){var i=this.geometryStretch;i!==t&&(Fh(this),this.Na.iq=t,this.v(),this.g("geometryStretch",i,t))}},interval:{get:function(){return this.fa!==null?this.fa.Sk:1},set:function(t){var i=this.interval;if(t=Math.round(t),i!==t&&t!==0&&isFinite(t)){this.fa===null&&(this.fa=new tl),this.fa.Sk=t;var s=this.diagram;s!==null&&this.panel===s.grid&&Oa(s),this.v(),s=this.panel,s!==null&&(s.graduatedIntervals=null),this.g("interval",i,t)}}},graduatedStart:{get:function(){return this.fa!==null?this.fa.u:0},set:function(t){var i=this.graduatedStart;i!==t&&(0>t?t=0:1<t&&(t=1),this.fa===null&&(this.fa=new tl),this.fa.u=t,this.v(),this.g("graduatedStart",i,t))}},graduatedEnd:{get:function(){return this.fa!==null?this.fa.j:1},set:function(t){var i=this.graduatedEnd;i!==t&&(0>t?t=0:1<t&&(t=1),this.fa===null&&(this.fa=new tl),this.fa.j=t,this.v(),this.g("graduatedEnd",i,t))}},graduatedSkip:{get:function(){return this.fa!==null?this.fa.o:null},set:function(t){var i=this.graduatedSkip;i!==t&&(this.fa===null&&(this.fa=new tl),this.fa.o=t,this.v(),this.g("graduatedSkip",i,t))}}}),It.prototype.intersectsRect=It.prototype.Yc,It.prototype.containedInRect=It.prototype.fh,It.prototype.getNearestIntersectionPoint=It.prototype.qs,It.prototype.getDocumentBounds=It.prototype.mi,It.prototype.getDocumentPoint=It.prototype.ga;var Jo=new le,Jb=new le;It.className="Shape",It.getFigureGenerators=function(){var t=new jt,i;for(i in U.Ze)i!==i.toLowerCase()&&t.add(i,U.Ze[i]);return t.freeze(),t},It.defineFigureGenerator=function(t,i){var s=t.toLowerCase(),l=U.Ze;l[t]=i,l[s]=t},It.getArrowheadGeometries=function(){var t=new jt;for(l in U.tm)if(Jo[l]===void 0){var i=lt.parse(U.tm[l],!1);Jo[l]=i,i=l.toLowerCase(),i!==l&&(Jo[i]=l)}for(var s in Jo)if(s!==s.toLowerCase()){var l=Jo[s];l instanceof lt&&t.add(s,l)}return t.freeze(),t},It.defineArrowheadGeometry=function(t,i){var s=null;typeof i=="string"?s=lt.parse(i,!1):s=i,i=t.toLowerCase(),i!=="none"&&t!==i||D("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+t);var l=Jo;l[t]=s,l[i]=t};function tT(){this.oc=!1,this.Gr="butt",this.Hr="miter",this.Ir=10,this.uj=0,this.ar=null,this.iq=vs,this.gg=this.fg=Zi}tT.prototype.copy=function(){var t=new tT;return t.Gr=this.Gr,t.Hr=this.Hr,t.Ir=this.Ir,t.uj=this.uj,t.ar=this.ar,t.iq=this.iq,t.fg=this.fg.J(),t.gg=this.gg.J(),t};function fe(t,i){return xt.call(this),Vx||(Qn=Os?new qr(null).context:null,Vx=!0),this.l|=2097152,this.fc="",this.xc="black",this.Ae="13px sans-serif",this.Kq=this.Db=this.Gc=0,this.da=this.fa=this.Fm=null,this.Ih=0,this.df=null,this.Le=0,this.ze=this.Rb=this.Qc=null,typeof t=="string"?this.text=t:t&&Object.assign(this,t),i&&Object.assign(this,i),this}x(fe,xt),fe.prototype.cloneProtected=function(t){xt.prototype.cloneProtected.call(this,t),t.fc=this.fc,t.xc=this.xc,t.Ae=this.Ae,t.Gc=this.Gc,t.Db=this.Db,t.Kq=this.Kq,t.Fm=this.Fm,this.fa!==null&&(t.fa=this.fa.copy()),this.da!==null&&(t.da=this.da.oc?this.da:this.da.copy()),t.Ih=this.Ih,t.df=this.df,t.Le=this.Le,t.Qc=this.Qc,t.Rb=this.Rb,t.ze=this.ze};function wo(t){t.da===null?t.da=new lT:t.da.oc&&(t.da=t.da.copy())}n=fe.prototype,n.th=function(){xt.prototype.th.call(this),this.da!==null&&(this.da.oc=!0)};function T$(t,i){t.l=i.l|6144,t.pb=i.opacity,t.Ma=i.background,t.areaBackground=i.areaBackground,t.jd=i.desiredSize.J(),t.minSize=i.minSize.J(),t.maxSize=i.maxSize.J(),i.Mb!==null?t.Mb=i.Mb.copy():t.Mb=null,t.Ca=i.scale,t.Lb=i.angle,t.stretch=i.stretch,t.Kg=i.margin.J(),t.Kb=i.alignment.J(),t.rk=i.alignmentFocus.J(),t.segmentFraction=i.segmentFraction,t.segmentOffset=i.segmentOffset.J(),t.segmentOrientation=i.segmentOrientation,i.tb!==null&&(t.tb=i.tb.copy()),t.shadowVisible=i.shadowVisible,t.fc=i.fc,t.xc=i.xc,t.Ae=i.Ae,t.fa!==null&&(t.fa=i.fa.copy()),i.da!==null&&(t.da=i.da.oc?i.da:i.da.copy()),t.Ih=i.Ih}n.qb=function(t){t.classType===fe?this.wrap=t:xt.prototype.qb.call(this,t)},n.toString=function(){return 22<this.fc.length?'TextBlock("'+this.fc.substring(0,20)+'"...)':'TextBlock("'+this.fc+'")'},n.v=function(){xt.prototype.v.call(this)},n.hh=function(t,i){if(this.xc!==null&&this.fc.length!==0&&this.Ae!==null){var s=this.naturalBounds,l=this.actualBounds,u=s.width,c=s.height,d=p0(this),m=t.textAlign=this.textAlign,y=i.sn;m==="start"?m=y?"right":"left":m==="end"&&(m=y?"left":"right"),y=this.isUnderline;var O=this.isStrikethrough;dr(this,t,this.xc,!0,!1,s,l),(y||O)&&dr(this,t,this.xc,!1,!1,s,l),l=0,s=!1;var w=this.oe,k=w.dx-(d*w.m21+w.dx);w=w.dy-(d*w.m22+w.dy);var P=i.scale;switch(8>(k*k+w*w)*P*P&&(s=!0),i.ib!==t&&(s=!1),i.ib instanceof tr&&(s=!1),i.Gf("textGreeking")===!1&&(s=!1),i=this.spacingAbove,k=this.spacingBelow,this.flip){case n0:t.translate(u,0),t.scale(-1,1);break;case i0:t.translate(0,c),t.scale(1,-1);break;case r0:t.translate(u,c),t.scale(-1,-1)}if(t.yc(),w=this.Gc,P=(i+d+k)*w,c>P&&(l=this.verticalAlignment,l=l.y*c-l.y*P+l.offsetY),w===1&&this.ze!==null)k=this.Db,k>u&&(k=u),this.Nj(this.ze,t,0,l+i,u,d,k,s,m,y,O);else if(this.Qc!==null&&this.Rb!==null)for(P=0;P<w;P++){var T=this.Qc[P];T>u&&(T=u),l+=i,this.Nj(this.Rb[P],t,0,l,u,d,T,s,m,y,O),l+=d+k}switch(this.flip){case n0:t.scale(-1,1),t.translate(-u,0);break;case i0:t.scale(1,-1),t.translate(0,-c);break;case r0:t.scale(-1,-1),t.translate(-u,-c)}}},n.Nj=function(t,i,s,l,u,c,d,m,y,O,w){var k=0;if(m)y==="left"?k=0:y==="right"?k=u-d:y==="center"&&(k=(u-d)/2),i.fillRect(s+k,l+.25*c,d,1);else{if(y==="left"?k=0:y==="right"?k=u:y==="center"&&(k=u/2),u=$x!==null?$x(this,c):.75*c,i.fillText(t,s+k,l+u),t=c/20|0,t===0&&(t=1),y==="right"?k-=d:y==="center"&&(k-=d/2),O){m=Dx!==null?Dx(this,c):.8*c,y=s+k,O=l+m,u=s+k+d,m=l+m;var P=t;i.beginPath(),i.lineWidth=P,i.moveTo(y,O),i.lineTo(u,m),i.stroke(),i.Se(),i instanceof tr&&i.ad.classList.add("gojs-td")}w&&(w=l+c-c/2.2|0,t%2!==0&&(w+=.5),l=s+k,c=w,s=s+k+d,d=w,k=t,i.beginPath(),i.lineWidth=k,i.moveTo(l,c),i.lineTo(s,d),i.stroke(),i.Se(),i instanceof tr&&i.ad.classList.add("gojs-td"))}},n.jk=function(t,i,s){if(!xt.prototype.jk.call(this,t,i,s))return!1;if(dr(this,t,this.xc,!0,!1,this.naturalBounds,this.actualBounds),s){if(this.svg.getElementsByTagName("text").length===0)return!0;for(i=this.svg.getElementsByClassName("gojs-td"),s=0;s<i.length;s++)s$(t,i[s],!1)}else i=this.svg,i.innerHTML=this.text,s$(t,i,!0);return!0},n.mk=function(t){return 1<this.lineCount||this.isUnderline||this.isStrikethrough?!0:xt.prototype.mk.call(this,t)},n.Dv=function(t,i){if(t.nodeName!=="g")t.setAttributeNS(null,"filter",i);else{t=t.getElementsByTagName("text");for(var s=0;s<t.length;s++)t[s].setAttributeNS(null,"filter",i)}},n.Vl=function(t,i,s,l){var u=this.Gc;this.Ih=t,this.l&=-16777217;var c=this.Ae;Qn!==null&&E$!==c&&(E$=Qn.font=c),this.Db=this.Le=0,this.ze=this.Rb=this.Qc=this.df=null;var d;if(isNaN(this.desiredSize.width)){if(c=this.fc.replace(/\r\n/g,`
`).replace(/\r/g,`
`),c.length===0)c=8;else if(this.isMultiline){for(var m=d=0,y=!1;!y;){var O=c.indexOf(`
`,m);O===-1&&(O=c.length,y=!0),m=c.substr(m,O-m),this.formatting===m0&&(m=m.trim()),d=Math.max(d,Ss(m)),m=O+1}c=d}else d=c.indexOf(`
`,0),0<=d&&(c=c.substr(0,d)),c=Ss(c);c=Math.min(c,t/this.scale)}else c=this.desiredSize.width;if(this.panel!==null&&(c=Math.min(c,this.panel.maxSize.width)),d=M$(this,c),isNaN(this.desiredSize.height)?d=Math.min(d,i/this.scale):d=this.desiredSize.height,y=d,this.Db!==0&&this.Qc!==null&&this.Rb!==null&&this.overflow===Ix&&(i=this.Ae,i=this.overflow===Ix?C$(i):0,O=this.spacingAbove+this.spacingBelow,O=Math.max(0,p0(this)+O),y=Math.min(this.maxLines-1,Math.max(Math.floor(y/O+.01)-1,0)),!(y+1>=this.Rb.length))){for(this.l|=16777216,O=this.Rb[y],i=Math.max(1,t-i);Ss(O)>i&&1<O.length;)O=O.substr(0,O.length-1);O+=g0,i=Ss(O),this.Rb[y]=O,this.Rb=this.Rb.slice(0,y+1),this.Qc[y]=i,this.Qc=this.Qc.slice(0,y+1),this.Le=this.Rb.length,this.Db=Math.max(this.Db,i),this.Gc=this.Le,this.Gc===1&&(this.ze=this.Rb[0])}(this.wrap===Q$||isNaN(this.desiredSize.width))&&(c=isNaN(t)?this.Db:Math.min(t,this.Db)),c=Math.max(s,c),d=Math.max(l,d),Ki(this.ec,c,d),this.Ge(0,0,c,d),this.svg!==null&&u!==this.Gc&&(this.Uc=!0)},n.eh=function(t,i,s,l){Tb(this,t,i,s,l)};function d0(t,i,s){t.ze===null?(t.ze=i,t.Db=s):((t.Rb===null||t.Qc===null)&&(t.Rb=[],t.Qc=[],t.Rb.push(t.ze),t.Qc.push(t.Db)),t.Rb.push(i),t.Qc.push(s),t.Rb.length>t.maxLines&&(t.l|=16777216))}function eT(t,i,s,l){var u=t.formatting===m0;u&&(i=i.trim());var c=0,d=t.Ae,m=t.spacingAbove+t.spacingBelow;m=Math.max(0,p0(t)+m);var y=t.overflow===Ix?C$(d):0;if(t.Gc>=t.maxLines)l!==null&&l.h(0,m);else if(d=i,t.wrap===iT){t.Le=1;var O=Ss(i);if(y===0||O<=s)t.Db=Math.max(t.Db,O),d0(t,i,t.Db),l!==null&&l.h(O,m);else{for(c=Op(t,d),d=d.substr(c.length),i=Op(t,d),O=Ss(c+i);0<i.length&&O<=s;)c+=i,d=d.substr(i.length),i=Op(t,d),O=c+i,u&&(O=O.trim()),O=Ss(O);for(u&&(i=i.trim()),c+=i,s=Math.max(1,s-y);Ss(c)>s&&1<c.length;)c=c.substr(0,c.length-1);t.l|=16777216,c+=g0;var w=Ss(c);t.Db=w,d0(t,c,w),l!==null&&l.h(w,m)}}else{for(y=0,d.length===0&&(y=1,d0(t,d,0));0<d.length;){for(i=Op(t,d),d=d.substr(i.length);Ss(i)>s;){var k=1;for(O=Ss(i.substr(0,k)),w=0;O<=s;)k++,w=O,O=Ss(i.substr(0,k));if(k===1){var P=O;c=Math.max(c,O)}else P=w,c=Math.max(c,w);if(k--,1>k&&(k=1),d0(t,i.substr(0,k),P),y++,i=i.substr(k),t.Gc+y>t.maxLines)break}for(w=Op(t,d),O=Ss(i+w);0<w.length&&O<=s;)i+=w,d=d.substr(w.length),w=Op(t,d),O=i+w,u&&(O=O.trim()),O=Ss(O);if(u&&(i=i.trim()),i!==""&&(i[i.length-1]===""&&(i=i.substring(0,i.length-1)+""),w.length===0?(k=O,c=Math.max(c,O)):(k=w=Ss(i),c=Math.max(c,w)),d0(t,i,k),y++,t.Gc+y>t.maxLines))break}t.Le=Math.min(t.maxLines,y),t.Db=Math.max(t.Db,c),l!==null&&l.h(t.Db,m*t.Le)}}function Op(t,i){if(t.wrap===N$)return i.substr(0,1);for(var s=i.length,l=0,u=IG;l<s&&!u.test(i.charAt(l));)l++;for(t.formatting===A$&&(s=Math.min(s,l+1));l<s&&u.test(i.charAt(l));)l++;return l>=i.length?i:i.substr(0,l)}function Ss(t){return Qn===null?8*t.length:Qn.measureText(t).width}function p0(t){if(t.df!==null)return t.df;var i=t.Ae;if(Qn===null){var s=16;return t.df=s}return sT[i]!==void 0&&5e3>j$?s=sT[i]:(s=1.3*Qn.measureText("M").width,sT[i]=s,j$++),t.df=s}function C$(t){if(Qn===null)return 6;if(Fx[t]!==void 0&&5e3>oT)var i=Fx[t];else i=Qn.measureText(g0).width,Fx[t]=i,oT++;return i}function M$(t,i){var s=t.fc.replace(/\r\n/g,`
`).replace(/\r/g,`
`),l=t.spacingAbove+t.spacingBelow;if(l=Math.max(0,p0(t)+l),s.length===0)return t.Db=0,t.Gc=1,l;if(!t.isMultiline){var u=s.indexOf(`
`,0);0<=u&&(s=s.substr(0,u))}u=0;for(var c=t.Gc=0,d,m=!1;!m;){if(d=s.indexOf(`
`,c),d===-1&&(d=s.length,m=!0),c<=d){if(c=s.substr(c,d-c),t.wrap!==iT){t.Le=0;var y=At.alloc();eT(t,c,i,y),u+=y.height,At.free(y),t.Gc+=t.Le}else eT(t,c,i,null),u+=l,t.Gc++;t.Gc===t.maxLines&&(m=!0)}c=d+1}return t.Kq=u}S.Object.defineProperties(fe.prototype,{font:{get:function(){return this.Ae},set:function(t){var i=this.Ae;i!==t&&(this.Ae=t,this.df=null,this.v(),this.g("font",i,t))}},text:{get:function(){return this.fc},set:function(t){var i=this.fc;t!=null?t=t.toString():t="",i!==t&&(this.fc=t,this.v(),this.g("text",i,t),this.Uc=!0)}},textAlign:{get:function(){return this.da!==null?this.da.Nr:"start"},set:function(t){var i=this.textAlign;i===t||t!=="start"&&t!=="end"&&t!=="left"&&t!=="right"&&t!=="center"||(wo(this),this.da.Nr=t,this.N(),this.g("textAlign",i,t))}},flip:{get:function(){return this.da!==null?this.da.Xf:$e},set:function(t){var i=this.flip;i!==t&&(wo(this),this.da.Xf=t,this.N(),this.g("flip",i,t))}},verticalAlignment:{get:function(){return this.da!==null?this.da.Xr:Vv},set:function(t){var i=this.verticalAlignment;i.D(t)||(t=t.J(),wo(this),this.da.Xr=t,lp(this),this.g("verticalAlignment",i,t))}},naturalBounds:{get:function(){if(!this.ec.w()){var t=At.alloc();eT(this,this.fc,999999,t);var i=t.width;At.free(t),t=M$(this,i);var s=this.desiredSize;isNaN(s.width)||(i=s.width),isNaN(s.height)||(t=s.height),Ki(this.ec,i,t)}return this.ec}},isMultiline:{get:function(){return(this.l&2097152)!==0},set:function(t){var i=(this.l&2097152)!==0;i!==t&&(this.l^=2097152,this.v(),this.g("isMultiline",i,t))}},isUnderline:{get:function(){return(this.l&4194304)!==0},set:function(t){var i=(this.l&4194304)!==0;i!==t&&(this.l^=4194304,this.Uc=!0,this.N(),this.g("isUnderline",i,t))}},isStrikethrough:{get:function(){return(this.l&8388608)!==0},set:function(t){var i=(this.l&8388608)!==0;i!==t&&(this.l^=8388608,this.Uc=!0,this.N(),this.g("isStrikethrough",i,t))}},wrap:{get:function(){return this.da!==null?this.da.Zr:nT},set:function(t){var i=this.wrap;i!==t&&(wo(this),this.da.Zr=t,this.v(),this.g("wrap",i,t))}},overflow:{get:function(){return this.da!==null?this.da.Zq:rT},set:function(t){var i=this.overflow;i!==t&&(wo(this),this.da.Zq=t,this.v(),this.g("overflow",i,t))}},isOverflowed:{get:function(){return(this.l&16777216)!==0}},stroke:{get:function(){return this.xc},set:function(t){var i=this.xc;i!==t&&(t!==null&&Sf(t,"TextBlock.stroke"),t instanceof ie&&t.freeze(),this.xc=t,this.N(),this.g("stroke",i,t))}},lineCount:{get:function(){return this.Gc}},lineHeight:{get:function(){return p0(this)}},editable:{get:function(){return(this.l&1048576)!==0},set:function(t){var i=(this.l&1048576)!==0;i!==t&&(this.l^=1048576,this.g("editable",i,t))}},textEditor:{get:function(){return this.da!==null?this.da.Pr:null},set:function(t){var i=this.textEditor;i!==t&&(wo(this),this.da.Pr=t,this.g("textEditor",i,t))}},errorFunction:{get:function(){return this.da!==null?this.da.Hd:null},set:function(t){var i=this.errorFunction;i!==t&&(wo(this),this.da.Hd=t,this.g("errorFunction",i,t))}},interval:{get:function(){return this.fa!==null?this.fa.Sk:1},set:function(t){var i=this.interval;if(t=Math.round(t),i!==t&&t!==0&&isFinite(t)){this.fa===null&&(this.fa=new tl),this.fa.Sk=t,this.v();var s=this.panel;s!==null&&(s.graduatedIntervals=null),this.g("interval",i,t)}}},graduatedStart:{get:function(){return this.fa!==null?this.fa.u:0},set:function(t){var i=this.graduatedStart;i!==t&&(0>t?t=0:1<t&&(t=1),this.fa===null&&(this.fa=new tl),this.fa.u=t,this.v(),this.g("graduatedStart",i,t))}},graduatedEnd:{get:function(){return this.fa!==null?this.fa.j:1},set:function(t){var i=this.graduatedEnd;i!==t&&(0>t?t=0:1<t&&(t=1),this.fa===null&&(this.fa=new tl),this.fa.j=t,this.v(),this.g("graduatedEnd",i,t))}},graduatedFunction:{get:function(){return this.fa!==null?this.fa.F:null},set:function(t){var i=this.graduatedFunction;i!==t&&(this.fa===null&&(this.fa=new tl),this.fa.F=t,this.v(),this.g("graduatedFunction",i,t))}},graduatedSkip:{get:function(){return this.fa!==null?this.fa.o:null},set:function(t){var i=this.graduatedSkip;i!==t&&(this.fa===null&&(this.fa=new tl),this.fa.o=t,this.v(),this.g("graduatedSkip",i,t))}},textValidation:{get:function(){return this.da!==null?this.da.vj:null},set:function(t){var i=this.textValidation;i!==t&&(wo(this),this.da.vj=t,this.g("textValidation",i,t))}},textEdited:{get:function(){return this.da!==null?this.da.Or:null},set:function(t){var i=this.textEdited;i!==t&&(wo(this),this.da.Or=t,this.g("textEdited",i,t))}},spacingAbove:{get:function(){return this.da!==null?this.da.Cr:0},set:function(t){var i=this.spacingAbove;i!==t&&(wo(this),this.da.Cr=t,this.v(),this.g("spacingAbove",i,t))}},spacingBelow:{get:function(){return this.da!==null?this.da.Dr:0},set:function(t){var i=this.spacingBelow;i!==t&&(wo(this),this.da.Dr=t,this.v(),this.g("spacingBelow",i,t))}},formatting:{get:function(){return this.da!==null?this.da.fq:m0},set:function(t){var i=this.formatting;i!==t&&(wo(this),this.da.fq=t,this.v(),this.g("formatting",i,t))}},maxLines:{get:function(){return this.da!==null?this.da.Iq:1/0},set:function(t){var i=this.maxLines;i!==t&&(t=Math.floor(t),0>=t&&q(t,"> 0",fe,"maxLines"),wo(this),this.da.Iq=t,this.v(),this.g("maxLines",i,t))}},metrics:{get:function(){return{arrSize:this.Qc!==null?this.Qc:[this.Db],arrText:this.Rb!==null?this.Rb:[this.ze],maxLineWidth:this.Db,fontHeight:this.df}}},choices:{get:function(){return this.Fm},set:function(t){var i=this.Fm;i!==t&&(this.Fm=t,this.g("choices",i,t))}}});var $x=null,Dx=null,iT=new it(fe,"None",0),Q$=new it(fe,"WrapFit",1),nT=new it(fe,"WrapDesiredSize",2),N$=new it(fe,"WrapBreakAll",3),rT=new it(fe,"OverflowClip",0),Ix=new it(fe,"OverflowEllipsis",1),m0=new it(fe,"FormatTrim",0),A$=new it(fe,"FormatNone",0),IG=/[ \u200b\u00ad]/,sT=new le,j$=0,Fx=new le,oT=0,g0="...",E$="",Qn=null,Vx=!1;fe.className="TextBlock";function lT(){this.oc=!1,this.Hd=null,this.Xf=$e,this.fq=m0,this.Iq=1/0,this.Zq=rT,this.Dr=this.Cr=0,this.Nr="start",this.vj=this.Pr=this.Or=null,this.Xr=Vv,this.Zr=nT}lT.prototype.copy=function(){var t=new lT;return t.Hd=this.Hd,t.Xf=this.Xf,t.fq=this.fq,t.Iq=this.Iq,t.Zq=this.Zq,t.Cr=this.Cr,t.Dr=this.Dr,t.Nr=this.Nr,t.Or=this.Or,t.Pr=this.Pr,t.vj=this.vj,t.Xr=this.Xr,t.Zr=this.Zr,t},fe.getEllipsis=function(){return g0},fe.setEllipsis=function(t){g0=t,Fx=new le,oT=0},fe.getBaseline=function(){return $x},fe.setBaseline=function(t){$x=t},fe.getUnderline=function(){return Dx},fe.setUnderline=function(t){Dx=t},fe.isValidFont=function(t){if(Vx||(Qn=Os?new qr(null).context:null,Vx=!0),Qn===null)return!0;var i=Qn.font;if(t===i||t==="10px sans-serif")return!0;Qn.font="10px sans-serif",Qn.font=t;var s=Qn.font;if(s!=="10px sans-serif")return Qn.font=i,!0;Qn.font="19px serif";var l=Qn.font;return Qn.font=t,s=Qn.font,Qn.font=i,s!==l},fe.FormatNone=A$,fe.FormatTrim=m0,fe.None=iT,fe.OverflowClip=rT,fe.OverflowEllipsis=Ix,fe.WrapBreakAll=N$,fe.WrapDesiredSize=nT,fe.WrapFit=Q$;function tl(){this.Sk=1,this.u=0,this.j=1,this.o=this.F=null}tl.prototype.copy=function(){var t=new tl;return t.Sk=this.Sk,t.u=this.u,t.j=this.j,t.F=this.F,t.o=this.o,t},tl.className="GradElementSettings";function Nn(t,i){xt.call(this),this.Eg=null,this.po="",this.Xg=k5,this.Mk=Xe,this.Zg=this.Hd=null,this.Lk=oe,this.Xf=$e,this.ul=null,this.pn=!1,this.dn=!0,this.$k=!1,this.at=this.ql=null,typeof t=="string"?this.source=t:t&&Object.assign(this,t),i&&Object.assign(this,i)}var vp;x(Nn,xt),Nn.prototype.cloneProtected=function(t){xt.prototype.cloneProtected.call(this,t),t.po=this.po,t.element=this.Eg,t.Xg=this.Xg.J(),t.Mk=this.Mk,t.Xf=this.Xf,t.Hd=this.Hd,t.Zg=this.Zg,t.Lk=this.Lk.J(),t.dn=this.dn,t.ql=this.ql},Nn.prototype.qb=function(t){t===$e||t===Oo||t===e0?this.imageStretch=t:xt.prototype.qb.call(this,t)},Nn.prototype.toString=function(){return"Picture("+this.source+")#"+Ni(this)};function xp(t){t===void 0&&(t=""),t!==""?vp[t]&&(delete vp[t],zx--):(vp=new le,zx=0)}function R$(t,i){i.qy||(i.Eq=function(s){i.rq=!0,i.kn=!1;var l=i.Bg.copy();if(l!=null){for(l=l.iterator;l.next();){var u=l.value;u.N();var c=i.getAttribute("src")||"",d=u.Og.I(c);if(d!==null)for(var m=d.length,y=0;y<m;y++)c=d[y],u.Wn.add(c),c.Uc=!0,u.ac(),i.gn&&(i.du===void 0&&(i.du=s),c.Zg!==null&&c.Zg(c,s))}i.Bg.clear()}t.desiredSize.w()||(Qr(t,!1),t.v())},i.Xp=function(s){i.kn=s;var l=i.Bg.copy();if(l!=null){for(l=l.iterator;l.next();){var u=l.value,c=i.getAttribute("src")||"",d=u.Og.I(c);if(d!==null){u=d.length,c=St();for(var m=0;m<u;m++)c.push(d[m]);if(i.gn)for(m=0;m<u;m++)d=c[m],d.Hd!==null&&d.Hd(d,s);dt(c)}}i.Bg.clear()}},i.addEventListener("load",i.Eq),i.addEventListener("error",i.Xp),i.qy=!0)}Nn.prototype.hA=function(){if(this.source!==""){xp(this.source);var t=this.source;this.source="",this.source=t}},Nn.prototype.redraw=function(){this.N(),this.Uc=!0},Nn.prototype.hh=function(t,i){var s=this.Eg;if(s!==null){var l=s.getAttribute("src");if(!(s instanceof HTMLImageElement&&(l===null||l==="")||s.kn instanceof Event&&t instanceof Dh)){var u=t instanceof tr;l=this.naturalBounds;var c=0,d=0,m=this.pn,y=m?+s.width:s.naturalWidth;if(m=m?+s.height:s.naturalHeight,y===void 0&&s.videoWidth&&(y=s.videoWidth),m===void 0&&s.videoHeight&&(m=s.videoHeight),y=y||l.width,m=m||l.height,y!==0&&m!==0){var O=y,w=m;this.sourceRect.w()&&(c=this.Xg.x,d=this.Xg.y,y=this.Xg.width,m=this.Xg.height);var k=y,P=m,T=this.Mk,M=this.Lk;switch(T){case $e:if(this.sourceRect.w())break;k>=l.width&&(c=c+M.offsetX+(k*M.x-l.width*M.x)),P>=l.height&&(d=d+M.offsetY+(P*M.y-l.height*M.y)),y=Math.min(l.width,k),m=Math.min(l.height,P);break;case Xe:k=l.width,P=l.height;break;case Oo:case e0:T===Oo?(T=Math.min(l.height/P,l.width/k),k*=T,P*=T):T===e0&&(T=Math.max(l.height/P,l.width/k),k*=T,P*=T,k>=l.width&&(c=(c+M.offsetX+(k*M.x-l.width*M.x)/k)*y),P>=l.height&&(d=(d+M.offsetY+(P*M.y-l.height*M.y)/P)*m),y*=1/(k/l.width),m*=1/(P/l.height),k=l.width,P=l.height)}T=this.Df()*i.scale;var A=k*T*P*T,I=y*m/A,L=s.__goCache;T=null;var z=FG;if(!u){if(s.rq&&L!==void 0&&4<A&&I>z*z)for(L.gi===null&&($$(L,4,O,w,s),$$(L,16,O,w,s)),u=L.gi,O=u.length,w=0;w<O&&u[w].ratio*u[w].ratio<I;w++)T=u[w];if(!i.Wm){if(this.ul===null)if(this.Eg===null)this.ul=!1;else{u=new qr(null).context;try{u.drawImage(this.Eg,0,0)}catch{this.dn=!1}try{u.getImageData(0,0,1,1).data[3]&&(this.ul=!1),this.ul=!1}catch{this.ul=!0}}if(this.ul)return}}switch(u=k<l.width?M.offsetX+(l.width*M.x-k*M.x):0,M=P<l.height?M.offsetY+(l.height*M.y-P*M.y):0,this.flip){case n0:t.translate(Math.min(l.width,k),0),t.scale(-1,1);break;case i0:t.translate(0,Math.min(l.height,P)),t.scale(1,-1);break;case r0:t.translate(Math.min(l.width,k),Math.min(l.height,P)),t.scale(-1,-1)}if(t.yc(),i.Gf("pictureRatioOptimization")&&!i.$i&&L!==void 0&&T!==null&&T.ratio!==1){t.save(),i=T.ratio;try{t.drawImage(T.source,c/i,d/i,Math.min(T.source.width,y/i),Math.min(T.source.height,m/i),u,M,Math.min(l.width,k),Math.min(l.height,P)),t instanceof tr&&(this.at=[c/i,d/i,Math.min(T.source.width,y/i),Math.min(T.source.height,m/i),u,M,Math.min(l.width,k),Math.min(l.height,P)])}catch{this.dn=!1}t.restore()}else try{t.drawImage(s,c,d,y,m,u,M,Math.min(l.width,k),Math.min(l.height,P)),t instanceof tr&&(this.at=[c,d,y,m,u,M,Math.min(l.width,k),Math.min(l.height,P)])}catch{this.dn=!1}switch(this.flip){case n0:t.scale(-1,1),t.translate(-Math.min(l.width,k),0);break;case i0:t.scale(1,-1),t.translate(0,-Math.min(l.height,P));break;case r0:t.scale(-1,-1),t.translate(-Math.min(l.width,k),-Math.min(l.height,P))}}}}},Nn.prototype.Vl=function(t,i,s,l){var u=this.desiredSize,c=_s(this,!0),d=this.Eg,m=this.pn,y=0,O=0;(m||!this.$k&&d&&d.complete)&&(this.$k=!0),d===null?(isFinite(u.width)||(t=0),isFinite(u.height)||(i=0)):(y=m?+d.width:d.naturalWidth,O=m?+d.height:d.naturalHeight),isFinite(u.width)||c===Xe||c===Di?(isFinite(t)||(this.sourceRect.w()?t=this.sourceRect.width:d!==null&&(t=y)),s=0):d!==null&&this.$k!==!1&&(t=this.sourceRect.w()?this.sourceRect.width:y),isFinite(u.height)||c===Xe||c===Ui?(isFinite(i)||(this.sourceRect.w()?i=this.sourceRect.height:d!==null&&(i=O)),l=0):d!==null&&this.$k!==!1&&(i=this.sourceRect.w()?this.sourceRect.height:O),isFinite(u.width)&&(t=u.width),isFinite(u.height)&&(i=u.height),u=this.maxSize,c=this.minSize,s=Math.max(s||0,c.width),l=Math.max(l||0,c.height),t=Math.min(u.width,t),i=Math.min(u.height,i),t=Math.max(s,t),i=Math.max(l,i),d===null||d.complete||(isFinite(t)||(t=0),isFinite(i)||(i=0)),Ki(this.ec,t,i),this.Ge(0,0,t,i)},Nn.prototype.eh=function(t,i,s,l){Tb(this,t,i,s,l)},S.Object.defineProperties(Nn.prototype,{element:{get:function(){return this.Eg},set:function(t){var i=this.Eg;if(this.Uc=!0,i!==t){this.pn=t instanceof HTMLCanvasElement;var s=t instanceof HTMLImageElement;t===null||s||t instanceof HTMLVideoElement||this.pn||D("Picture.element must be an instance of Image, Canvas, or Video, not: "+t);var l=this.diagram;l!==null&&db(l,this),this.Eg=t,t!==null&&s&&t.Bg===void 0&&(t.Bg=new at),l!==null&&s&&fb(l,this),t!==null&&(this.pn||t.complete===!0?(t.gn&&(t.kn instanceof Event&&this.Hd!==null?this.Hd(this,t.kn):t.rq===!0&&!t.kn&&this.Zg!==null&&t.du&&this.Zg(this,t.du)),t.rq=!0,this.desiredSize.w()||(Qr(this,!1),this.v())):s&&R$(this,t)),this.g("element",i,t),this.N()}}},source:{get:function(){return this.po},set:function(t){var i=this.po;if(i!==t){this.Uc=!0,this.po=t;var s=vp;if(Os){var l=null;if(s[t]!==void 0)l=s[t];else if(t!==""){30<zx&&(xp(),s=vp),l=V("img"),l.gn=!0,R$(this,l);var u=this.ql;u!==null&&(l.crossOrigin=u(this)),l.src=t,s[t]=l,zx++}this.element=l,l!==null&&l.__goCache===void 0&&(l.__goCache=new L$),this.v(),this.N()}this.g("source",i,t)}}},sourceCrossOrigin:{get:function(){return this.ql},set:function(t){if(this.ql!==t&&(this.ql=t,this.element!==null)){var i=this.element.getAttribute("src");t===null&&typeof i=="string"?this.element.crossOrigin=null:t!==null&&(this.element.crossOrigin=t(this)),this.element.src=i}}},sourceRect:{get:function(){return this.Xg},set:function(t){var i=this.Xg;i.D(t)||(this.Xg=t=t.J(),this.N(),this.g("sourceRect",i,t))}},imageStretch:{get:function(){return this.Mk},set:function(t){var i=this.Mk;i!==t&&(this.Mk=t,this.N(),this.g("imageStretch",i,t))}},flip:{get:function(){return this.Xf},set:function(t){var i=this.Xf;i!==t&&(this.Xf=t,this.N(),this.g("flip",i,t))}},imageAlignment:{get:function(){return this.Lk},set:function(t){var i=this.Lk;i.D(t)||(this.Lk=t=t.J(),this.N(),this.g("imageAlignment",i,t))}},errorFunction:{get:function(){return this.Hd},set:function(t){var i=this.Hd;i!==t&&(this.Hd=t,this.g("errorFunction",i,t))}},successFunction:{get:function(){return this.Zg},set:function(t){var i=this.Zg;i!==t&&(this.Zg=t,this.g("successFunction",i,t))}},naturalBounds:{get:function(){return this.ec}}}),Nn.prototype.redraw=Nn.prototype.redraw,Nn.prototype.reloadSource=Nn.prototype.hA;var zx=0,FG=4;Nn.className="Picture",vp=new le,Nn.clearCache=xp;function L$(){this.gi=null}function $$(t,i,s,l,u){t.gi===null&&(t.gi=[]);var c=new qr(null),d=c.context,m=1/i;c.width=s/i,c.height=l/i,c.width!==0&&c.height!==0&&(i=new D$(c.Oa,i),s=1,0<t.gi.length&&(s=t.gi[t.gi.length-1],u=s.source,s=s.ratio),d.setTransform(m*s,0,0,m*s,0,0),d.yc(),d.drawImage(u,0,0),t.gi.push(i))}L$.className="PictureCacheArray";function D$(t,i){this.source=t,this.ratio=i}D$.className="PictureCacheInstance";function wp(){this.ns=new lt,this.nc=null}wp.prototype.reset=function(t){t!==null?(t.ka(),this.ns=t,t.figures.clear()):this.ns=new lt,this.nc=null};function Sp(t,i,s,l,u,c){t.nc=new vi,t.nc.startX=i,t.nc.startY=s,t.nc.isFilled=l,t.nc.isEvenOdd=c||!1,t.ns.figures.add(t.nc),u!==void 0&&(t.nc.isShadowed=u)}function VG(t){var i=t.nc.segments.length;0<i&&t.nc.segments.M(i-1).close()}wp.prototype.moveTo=function(t,i,s){s===void 0&&(s=!1);var l=new Jt(ys);l.endX=t,l.endY=i,s&&l.close(),this.nc.segments.add(l)},wp.prototype.lineTo=function(t,i,s){s===void 0&&(s=!1);var l=new Jt(be);l.endX=t,l.endY=i,s&&l.close(),this.nc.segments.add(l)};function Pa(t,i,s,l,u,c,d){var m;m===void 0&&(m=!1);var y=new Jt(br);y.point1X=i,y.point1Y=s,y.point2X=l,y.point2Y=u,y.endX=c,y.endY=d,m&&y.close(),t.nc.segments.add(y)}function Xx(t,i,s,l,u){var c;c===void 0&&(c=!1);var d=new Jt(yo);d.point1X=i,d.point1Y=s,d.endX=l,d.endY=u,c&&d.close(),t.nc.segments.add(d)}wp.prototype.arcTo=function(t,i,s,l,u,c,d){c===void 0&&(c=0),d===void 0&&(d=!1);var m=new Jt(ti);m.startAngle=t,m.sweepAngle=i,m.centerX=s,m.centerY=l,m.radiusX=u,m.radiusY=c!==0?c:u,d&&m.close(),this.nc.segments.add(m)};function zG(t,i,s,l,u,c,d,m){var y;y===void 0&&(y=!1),i=new Jt(Vs,d,m,i,s,l,u,c),y&&i.close(),t.nc.segments.add(i)}function I$(t){var i=Bx;return i!==null?(Bx=null,i.reset(t),i):(i=new wp,i.reset(t),i)}var Bx=null;wp.className="StreamGeometryContext";function Wi(t,i){var s=t.toLowerCase(),l=U.Ze;l[t]=i,l[s]=t}Wi("Rectangle",function(t,i,s){t="r"+i+","+s;var l=U.Mf[t];return l!==void 0||(l=new lt(lt.u),l.endX=i,l.endY=s,U.Nf<U.um&&(U.Mf[t]=l,U.Nf++)),l}),Wi("Square",function(t,i,s){t="s"+i+","+s;var l=U.Mf[t];return l!==void 0||(l=new lt(lt.u),l.endX=i,l.endY=s,l.defaultStretch=Oo,U.Nf<U.um&&(U.Mf[t]=l,U.Nf++)),l}),Wi("RoundedRectangle",function(t,i,s){t=t?t.parameter1:NaN,(isNaN(t)||0>t)&&(t=5),t=Math.min(t,i/3),t=Math.min(t,s/3);var l="rr"+i+","+s+","+t,u=U.Mf[l];if(u!==void 0)return u;var c=t*U.wg;return u=new lt().add(new vi(t,0,!0).add(new Jt(be,i-t,0)).add(new Jt(br,i,t,i-c,0,i,c)).add(new Jt(be,i,s-t)).add(new Jt(br,i-t,s,i,s-c,i-c,s)).add(new Jt(be,t,s)).add(new Jt(br,0,s-t,c,s,0,s-c)).add(new Jt(be,0,t)).add(new Jt(br,t,0,0,c,c,0).close())),1<c&&(u.spot1=new Tt(0,0,c,c),u.spot2=new Tt(1,1,-c,-c)),U.Nf<U.um&&(U.Mf[l]=u,U.Nf++),u}),Wi("Border","RoundedRectangle"),Wi("Ellipse",function(t,i,s){t="e"+i+","+s;var l=U.Mf[t];return l!==void 0||(l=new lt(lt.F),l.endX=i,l.endY=s,l.spot1=Q2,l.spot2=N2,U.Nf<U.um&&(U.Mf[t]=l,U.Nf++)),l}),Wi("Circle",function(t,i,s){t="c"+i+","+s;var l=U.Mf[t];return l!==void 0||(l=new lt(lt.F),l.endX=i,l.endY=s,l.spot1=Q2,l.spot2=N2,l.defaultStretch=Oo,U.Nf<U.um&&(U.Mf[t]=l,U.Nf++)),l}),Wi("TriangleRight",function(t,i,s){return new lt().add(new vi(0,0).add(new Jt(be,i,.5*s)).add(new Jt(be,0,s).close())).om(0,.25,.5,.75)}),Wi("TriangleDown",function(t,i,s){return new lt().add(new vi(0,0).add(new Jt(be,i,0)).add(new Jt(be,.5*i,s).close())).om(.25,0,.75,.5)}),Wi("TriangleLeft",function(t,i,s){return new lt().add(new vi(i,s).add(new Jt(be,0,.5*s)).add(new Jt(be,i,0).close())).om(.5,.25,1,.75)}),Wi("TriangleUp",function(t,i,s){return new lt().add(new vi(i,s).add(new Jt(be,0,s)).add(new Jt(be,.5*i,0).close())).om(.25,.5,.75,1)}),Wi("Triangle","TriangleUp"),Wi("Diamond",function(t,i,s){return new lt().add(new vi(.5*i,0).add(new Jt(be,0,.5*s)).add(new Jt(be,.5*i,s)).add(new Jt(be,i,.5*s).close())).om(.25,.25,.75,.75)}),Wi("LineH",function(t,i,s){return t=new lt(lt.j),t.startX=0,t.startY=s/2,t.endX=i,t.endY=s/2,t}),Wi("LineV",function(t,i,s){return t=new lt(lt.j),t.startX=i/2,t.startY=0,t.endX=i/2,t.endY=s,t}),Wi("None","Rectangle"),Wi("BarH","Rectangle"),Wi("BarV","Rectangle"),Wi("MinusLine","LineH"),Wi("PlusLine",function(t,i,s){return new lt().add(new vi(0,s/2,!1).add(new Jt(be,i,s/2)).add(new Jt(ys,i/2,0)).add(new Jt(be,i/2,s)))}),Wi("XLine",function(t,i,s){return new lt().add(new vi(0,s,!1).add(new Jt(be,i,0)).add(new Jt(ys,0,0)).add(new Jt(be,i,s)))}),Wi("LineRight",function(t,i,s){return new lt().add(new vi(.25*i,0,!1).add(new Jt(be,.75*i,.5*s)).add(new Jt(be,.25*i,s)))}),Wi("LineDown",function(t,i,s){return new lt().add(new vi(0,.25*s,!1).add(new Jt(be,.5*i,.75*s)).add(new Jt(be,i,.25*s)))}),Wi("LineLeft",function(t,i,s){return new lt().add(new vi(.75*i,0,!1).add(new Jt(be,.25*i,.5*s)).add(new Jt(be,.75*i,s)))}),Wi("LineUp",function(t,i,s){return new lt().add(new vi(0,.75*s,!1).add(new Jt(be,.5*i,.25*s)).add(new Jt(be,i,.75*s)))}),U.tm={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"};function aT(){this.oc=!1,this.sr=this.Jp=this.yq=null,this.ur="",this.er=this.nq=this.tr=null,this.gr="",this.fr=cr,this.hr=null,this.ir="",this.kr=Zi,this.Fq="",this.Gq=Ji,this.Oq=Ld,this.Jq=sf,this.Tp=null,this.Bq=127,this.yr=fa,this.xr="gray",this.Vg=4}aT.prototype.copy=function(){var t=new aT;return t.yq=this.yq,t.Jp=this.Jp,t.sr=this.sr,t.ur=this.ur,t.tr=this.tr,t.nq=this.nq,t.er=this.er,t.gr=this.gr,t.fr=this.fr.J(),t.hr=this.hr,t.ir=this.ir,t.kr=this.kr.J(),t.Fq=this.Fq,t.Gq=this.Gq.J(),t.Oq=this.Oq.J(),t.Jq=this.Jq.J(),t.Tp=this.Tp,t.Bq=this.Bq,t.yr=this.yr.J(),t.xr=this.xr,t.Vg=this.Vg,t};function kt(t,i){t===void 0||t instanceof ii||typeof t=="string"?nt.call(this,t):(nt.call(this),t&&(i=t)),this.G=2408959,this.Tf="",this.P=null,this.Jg="",this.Qf=this.Ug=null,this.fc="",this.Ah=this.Ig=null,this.ke=new F(NaN,NaN).freeze(),this.nf=null,this.zo=NaN,this.vw=-1,this.py=new tt,this.Rh=null,this.ag=NaN,i&&Object.assign(this,i)}x(kt,nt),kt.prototype.cloneProtected=function(t){nt.prototype.cloneProtected.call(this,t),t.G=this.G&-4097|49152,t.Tf=this.Tf,this.P!==null&&(t.P=this.P.oc?this.P:this.P.copy()),t.Jg=this.Jg,t.Qf=null,t.fc=this.fc,t.ke.assign(this.ke),t.zo=this.zo},n=kt.prototype,n.Af=function(t){nt.prototype.Af.call(this,t),t.oh(),t.Ug=null,t.nf=null,t.Rh=null},n.toString=function(){var t=Vt(this.constructor)+"#"+Ni(this);return this.data!==null&&(t+="("+Mt(this.data)+")"),t};function An(t){t.P===null?t.P=new aT:t.P.oc&&(t.P=t.P.copy())}n.th=function(){nt.prototype.th.call(this),this.P!==null&&(this.P.oc=!0)},n.fk=function(t,i,s,l,u,c,d){var m=this.diagram;m!==null&&(t===oi&&i==="elements"?u instanceof nt?Ih(u,function(y){RT(m.partManager,y),QL(m,y)}):fb(m,u):t===ci&&i==="elements"&&(u instanceof nt?Ih(u,function(y){LT(m.partManager,y,m)}):db(m,u)),m.cb(t,i,s,l,u,c,d))},n.La=function(t){if(nt.prototype.La.call(this,t),this.data!==null){for(var i=this.O.s,s=i.length,l=0;l<s;l++){var u=i[l];u instanceof nt&&Ih(u,function(c){c.data!==null&&c.La()})}for(i=this.adornments;i.next();)i.value.La(t)}},kt.prototype.updateRelationshipsFromData=function(){var t;this.data!==null&&((t=this.diagram)===null||t===void 0||t.partManager.updateRelationshipsFromData(this))},kt.prototype.Oj=function(t){var i=this.Qf;return i===null?null:i.I(t)},kt.prototype.bh=function(t,i){if(i!==null){var s=null,l=this.Qf;if(l!==null&&(s=l.I(t)),s!==i){if(s!==null){var u=s.diagram;u!==null&&u.remove(s)}l===null&&(this.Qf=l=new jt),i.Tf!==t&&(i.category=t),l.add(t,i),t=this.diagram,t!==null&&(t.add(i),t=i.adornedObject,t!==null&&(t=t.ih(),t!==null&&(i.data=t.data)))}}},kt.prototype.Jf=function(t){var i=this.Qf;if(i!==null){var s=i.I(t);if(s!==null){var l=s.diagram;l!==null&&l.remove(s)}i.remove(t),i.count===0&&(this.Qf=null)}},kt.prototype.Dj=function(){var t=this.Qf;if(t!==null){var i=St();for(t=t.iterator;t.next();)i.push(t.key);t=i.length;for(var s=0;s<t;s++)this.Jf(i[s]);dt(i)}},kt.prototype.updateAdornments=function(){var t=this.diagram;if(t!==null){for(var i=this.adornments;i.next();){var s=i.value;s.v(),s.placeholder&&s.placeholder.v()}t:{if(this.isSelected&&this.selectionAdorned&&(i=this.selectionObject,i!==null&&this.actualBounds.w()&&this.isVisible()&&i.Ed()&&i.actualBounds.w())){if(s=this.Oj("Selection"),s===null){if(s=this.selectionAdornmentTemplate,s===null&&(s=this.ph()?t.linkSelectionAdornmentTemplate:this instanceof Lt?t.groupSelectionAdornmentTemplate:t.nodeSelectionAdornmentTemplate),!(s instanceof Wt))break t;Gr(s),s=s.copy(),s!==null&&(this.ph()&&this.selectionObject===this.path&&(s.type=nt.Link),s.adornedObject=i)}if(s!==null){s.type===nt.Link&&s.v(),this.bh("Selection",s);break t}}this.Jf("Selection")}for(XG(this,t),i=this.adornments;i.next();)i.value.La()}},kt.prototype.Xb=function(){var t=this.diagram;t!==null&&(t.vd=!0,!(this.G&16384)&&(this.G|=16384))};function uT(t){t.G&16384&&(t.updateAdornments(),t.G&=-16385)}function XG(t,i){i.toolManager.mouseDownTools.each(function(s){s.isEnabled&&s.updateAdornments(t)}),i.toolManager.updateAdornments(t)}function _x(t){if(Tu(t)===!1){cT(t,!0),t.Tk();var i=t.diagram;i!==null&&(i.De.add(t),i.ac())}}function F$(t){if(t.G|=2097152,Tu(t)!==!1){var i=t.position,s=t.location;s.w()&&i.w()||X$(t,i,s),s=t.Jb;var l=tt.alloc().assign(s);s.ka(),s.x=i.x,s.y=i.y,s.freeze(),t.Wl(l,s),tt.free(l),cT(t,!1)}}kt.prototype.Ge=function(t,i,s,l){var u=this.uc;u.h(t,i,s,l),this.Mb===null&&(this.Mb=new Xt);var c=this.Mb;c.reset(),this.mo(c,t,i,s,l),this.Mb=c,c.vs()||c.op(u)},kt.prototype.mo=function(t,i,s,l,u){if(this.Ca!==1&&t.scale(this.Ca),this.Lb!==0){var c=oe;this.locationSpot.sb()&&(c=this.locationSpot);var d=F.alloc();if(this.locationObject!==this)for(i=this.locationObject,s=i.naturalBounds,d.yi(s.x,s.y,s.width,s.height,c),i.Mb!==null&&i.Mb.Ga(d),d.offset(-i.measuredBounds.x,-i.measuredBounds.y),c=i.panel;c!==null&&c!==this;)c.Mb!==null&&c.Mb.Ga(d),d.offset(-c.measuredBounds.x,-c.measuredBounds.y),c=c.panel;else d.yi(i,s,l,u,c);t.rotate(this.Lb,d.x,d.y),F.free(d)}},kt.prototype.move=function(t,i){i===!0?this.location=t:this.position=t},kt.prototype.moveTo=function(t,i,s){t=F.allocAt(t,i),this.move(t,s),F.free(t)},kt.prototype.isVisible=function(){if(!this.visible)return!1;var t=this.layer;if(t!==null){if(!t.visible)return!1;if(t=t.diagram,t!==null&&t.animationManager.fv(this))return!0}return t=this.containingGroup,!!(t===null||t.isSubGraphExpanded&&t.isVisible())},kt.prototype.$b=function(t){var i=this.diagram;t?(this.C(4),this.Xb(),i!==null&&i.De.add(this)):(this.C(8),this.Dj()),this.oh(),i!==null&&(i.Ya(),i.N())},kt.prototype.fb=function(t){if(this.name===t)return this;var i=this.Rh;if(i===null&&(this.Rh=i=new jt),i.I(t)!==null)return i.I(t);var s=nt.prototype.fb.call(this,t);return s!==null?(i.set(t,s),s):(i.set(t,null),null)};function ba(t,i,s,l){l===void 0&&(l=new F),s=s.Mc()?oe:s;var u=i.naturalBounds;if(l.h(u.width*s.x+s.offsetX,u.height*s.y+s.offsetY),i===null||i===t)return l;for(i.transform.Ga(l),i=i.panel;i!==null&&i!==t;)i.transform.Ga(l),i=i.panel;return t.Mb!==null&&t.Mb.Ga(l),l.offset(-t.uc.x,-t.uc.y),l}kt.prototype.mi=function(t){return t===void 0&&(t=new tt),t.assign(this.actualBounds)},kt.prototype.Va=function(){this.measure(1/0,1/0),this.arrange()};function V$(t){var i=F.alloc(),s=t.locationObject,l=s.naturalBounds,u=s instanceof It?s.strokeWidth:0;if(i.yi(0,0,l.width+u,l.height+u,t.locationSpot),s!==t)for(i.offset(-u/2,-u/2),s.transform.Ga(i),s=s.panel;s!==null&&s!==t;)s.transform.Ga(i),s=s.panel;return t.Mb!==null&&t.Mb.Ga(i),i.offset(-t.uc.x,-t.uc.y),i}function zh(t,i){var s=t.py;isNaN(t.ag)&&(t.ag=y$(t));var l=t.ag,u=2*l;if(!t.isShadowed)return s.h(i.x-1-l,i.y-1-l,i.width+2+u,i.height+2+u),s;l=i.x,u=i.y;var c=i.width;i=i.height;var d=t.shadowBlur;return t=t.shadowOffset,c+=d,i+=d,l-=d/2,u-=d/2,0<t.x?c+=t.x:(l+=t.x,c-=t.x),0<t.y?i+=t.y:(u+=t.y,i-=t.y),s.h(l-1,u-1,c+2,i+2),s}kt.prototype.arrange=function(){if(xs(this)===!1)F$(this);else{Rh(this,!1);var t=this.Jb,i=tt.alloc();i.assign(t);var s=Cu(this);this.eh(0,0,this.uc.width,this.uc.height);var l=this.position;X$(this,l,this.location),t.ka(),t.x=l.x,t.y=l.y,t.freeze(),this.Wl(i,t),i.D(t)?this.Fd(s):!this.Zc()||U.B(i.width,t.width)&&U.B(i.height,t.height)||0<=this.vw&&this.C(16),tt.free(i),cT(this,!1)}},n=kt.prototype,n.Wl=function(t,i){var s=this.diagram;if(s!==null){var l=!1;if(s.Zi===!1&&t.w()){var u=tt.alloc();u.assign(s.documentBounds),u.Fv(s.padding),t.x>u.x&&t.y>u.y&&t.right<u.right&&t.bottom<u.bottom&&i.x>u.x&&i.y>u.y&&i.right<u.right&&i.bottom<u.bottom&&(l=!0),tt.free(u)}!(this.G&65536)&&t.D(i)||Z$(this,l,s),s.N(),!t.w()&&!i.w()||Nl(t,i)||(this instanceof ft&&!s.undoManager.isUndoingRedoing&&this.Bd(),this.oh())}},n.zv=function(t,i,s){if(this.ph()||!t.w())return!1;var l=this.diagram;return l!==null&&z$(this,l,t,i,s),this.pa=t,this.G&=-2097153,!this.ke.w()||l!==null&&!l.animationManager.isTicking&&l.undoManager.isUndoingRedoing||(l=this.ke,this.ke=new F(l.x+(t.x-i),l.y+(t.y-s)),this.g("location",l,this.ke.copy())),Tu(this)===!1&&xs(this)===!1&&(_x(this),F$(this)),!0};function z$(t,i,s,l,u){i===null||t instanceof Wt||(i=i.animationManager,i.Ab&&rL(i,t,new F(l,u),s))}n.lm=function(t,i,s){var l=this.ke,u=this.pa;if(s){if(l.x===t&&l.y===i)return;Tu(this)||xs(this)?u.h(NaN,NaN):u.h(u.x+t-l.x,u.y+i-l.y),l.h(t,i)}else{if(u.x===t&&u.y===i)return;l.h(l.x+t-u.x,l.y+i-u.y),u.h(t,i)}_x(this)},n.Av=function(){this.G&=-2097153,_x(this)};function X$(t,i,s){var l=V$(t),u=t.diagram,c=s.w(),d=i.w();c&&d?t.G&2097152?B$(t,i,s,u,l):_$(t,i,s,u,l):c?B$(t,i,s,u,l):d&&_$(t,i,s,u,l),t.G|=2097152,F.free(l),t.Tk()}function B$(t,i,s,l,u){var c=i.x,d=i.y;i.h(s.x-u.x,s.y-u.y),l!==null&&(s=l.animationManager,(l=s.defaultAnimation.isAnimating)||!s.Ab||t instanceof Wt||rL(s,t,new F(c,d),i),l||i.x===c&&i.y===d||t.g("position",new F(c,d),i.copy()))}function _$(t,i,s,l,u){var c=s.copy();s.h(i.x+u.x,i.y+u.y),s.D(c)||l===null||t.g("location",c,s.copy())}function Z$(t,i,s){fT(t,!1),t instanceof ft&&vb(s,t),t.layer.isTemporary||i||s.Ya(),i=t.Jb;var l=s.viewportBounds;l.w()?Cu(t)?(w5(i,l)||t.Fd(!1),t.updateAdornments()):t.isVisible()&&i.Yc(l)?(t.Fd(!0),t.updateAdornments()):t.Xb():s.vd=!0}n.si=function(){return!0},n.Zc=function(){return!0},n.ph=function(){return!1},n.Dd=function(){return!0};function hT(t,i,s,l){i.constructor===t.constructor||W$||(W$=!0,K('Should not change the class of the Part when changing category from "'+s+'" to "'+l+'"'),K("  Old class: "+Vt(t.constructor)+", new class: "+Vt(i.constructor)+", part: "+t.toString())),t.Dj();var u=t.data;s=t.layerName;var c=t.isSelected,d=t.isHighlighted,m=!0,y=!0,O=!1;t instanceof ft&&(m=t.isTreeLeaf,y=t.isTreeExpanded,O=t.wasTreeExpanded),i.Af(t),i.cloneProtected(t),t.Tf=l,t.svg!==null&&(t.svg.remove(),t.svg=null,t.Uc=!0),t.v(),t.N(),i=t.diagram,l=!0,i!==null&&(l=i.skipsUndoManager,i.skipsUndoManager=!0),t.ub=u,t.G=c?t.G|4096:t.G&-4097,t.G=d?t.G|524288:t.G&-524289,t instanceof ft&&(t.U=m?t.U|4:t.U&-5,t.U=y?t.U|1:t.U&-2,t.U=O?t.U|2:t.U&-3),u!==null&&t.La(),u=t.layerName,u!==s&&(t.Jg=s,t.layerName=u),i!==null&&(i.skipsUndoManager=l),t.Zc()&&t.C(64)}kt.prototype.canCopy=function(){if(!this.copyable)return!1;var t=this.layer;return t===null?!0:t.allowCopy?(t=t.diagram,t===null?!0:!!t.allowCopy):!1},kt.prototype.canDelete=function(){if(!this.deletable)return!1;var t=this.layer;return t===null?!0:t.allowDelete?(t=t.diagram,t===null?!0:!!t.allowDelete):!1},kt.prototype.canEdit=function(){if(!this.textEditable)return!1;var t=this.layer;return t===null?!0:t.allowTextEdit?(t=t.diagram,t===null?!0:!!t.allowTextEdit):!1},kt.prototype.canGroup=function(){if(!this.groupable)return!1;var t=this.layer;return t===null?!0:t.allowGroup?(t=t.diagram,t===null?!0:!!t.allowGroup):!1},kt.prototype.canMove=function(){if(!this.movable)return!1;var t=this.layer;return t===null?!0:t.allowMove?(t=t.diagram,t===null?!0:!!t.allowMove):!1},kt.prototype.canReshape=function(){if(!this.reshapable)return!1;var t=this.layer;return t===null?!0:t.allowReshape?(t=t.diagram,t===null?!0:!!t.allowReshape):!1},kt.prototype.canResize=function(){if(!this.resizable)return!1;var t=this.layer;return t===null?!0:t.allowResize?(t=t.diagram,t===null?!0:!!t.allowResize):!1},kt.prototype.canRotate=function(){if(!this.rotatable)return!1;var t=this.layer;return t===null?!0:t.allowRotate?(t=t.diagram,t===null?!0:!!t.allowRotate):!1},kt.prototype.canSelect=function(){if(!this.selectable)return!1;var t=this.layer;return t===null?!0:t.allowSelect?(t=t.diagram,t===null?!0:!!t.allowSelect):!1};function Tu(t){return(t.G&32768)!==0}function cT(t,i){t.G=i?t.G|32768:t.G&-32769}function fT(t,i){t.G=i?t.G|65536:t.G&-65537}function Cu(t){return(t.G&131072)!==0}n=kt.prototype,n.Fd=function(t){this.G=t?this.G|131072:this.G&-131073};function Zx(t,i){t.G=i?t.G|1048576:t.G&-1048577}n.oh=function(){var t=this.containingGroup;t!==null&&(t.v(),t.placeholder!==null&&t.placeholder.v(),t.Bd())},n.N=function(){var t=this.diagram;t!==null&&!xs(this)&&!Tu(this)&&this.isVisible()&&this.Jb.w()&&t.N(zh(this,this.Jb))},n.v=function(){nt.prototype.v.call(this);var t=this.diagram;t!==null&&(t.De.add(this),this instanceof ft&&this.labeledLink!==null&&lp(this.labeledLink),t.ac(!0))},n.Uo=function(t){t||(t=this.Ah,t!==null&&OT(t,this))},n.Vo=function(t){t||(t=this.Ah,t!==null&&vT(t,this))},n.Kj=function(){var t=this.data;if(t!==null){var i=this.diagram;i!==null&&(i=i.model,i!==null&&i.bm(t))}},n.oz=function(){return dT(this,this)};function dT(t,i){var s=i.containingGroup;return s!==null?1+dT(t,s):i instanceof ft&&(i=i.labeledLink,i!==null)?dT(t,i):0}n.sz=function(){return Y$(this,this)};function Y$(t,i){var s=i.containingGroup;return s!==null||i instanceof ft&&(s=i.labeledLink,s!==null)?Y$(t,s):i}n.Td=function(t){return t instanceof Lt?pT(this,this,t):!1};function pT(t,i,s){if(i===s||s===null)return!1;var l=i.containingGroup;return l===null||l!==s&&!pT(t,l,s)?i instanceof ft&&(i=i.labeledLink,i!==null)?pT(t,i,s):!1:!0}n.px=function(t){if(t===null)return null;if(this===t)return this.containingGroup;for(var i=this;i!==null;){if(i instanceof Lt&&Zx(i,!0),i instanceof ft){var s=i.labeledLink;s!==null&&(i=s)}i=i.containingGroup}for(s=null,i=t;i!==null;){if(i.G&1048576){s=i;break}i instanceof ft&&(t=i.labeledLink,t!==null&&(i=t)),i=i.containingGroup}for(i=this;i!==null;)i instanceof Lt&&Zx(i,!1),i instanceof ft&&(t=i.labeledLink,t!==null&&(i=t)),i=i.containingGroup;return s},kt.prototype.canLayout=function(){if(!this.isLayoutPositioned||!this.isVisible())return!1;var t=this.layer;return!(t!==null&&t.isTemporary||this instanceof ft&&this.isLinkLabel)},kt.prototype.C=function(t){if(t===void 0&&(t=16777215),this.isLayoutPositioned&&t&this.layoutConditions){var i=this.layer;i!==null&&i.isTemporary||this instanceof ft&&this.isLinkLabel?i=!1:(i=this.diagram,i=!(i!==null&&i.undoManager.isUndoingRedoing))}else i=!1;if(i)if(i=this.Ah,i!==null){var s=i.layout;s!==null?s.C():i.C(t)}else t=this.diagram,t!==null&&(t=t.layout,t!==null&&t.C())};function U$(t){return t.isVisible()?(t=t.layer,!(t!==null&&t.isTemporary)):!1}function Mu(t,i,s,l,u,c){if(c===void 0&&(c=null),!(t.contains(i)||c!==null&&!c(i)||i instanceof Wt)){if(t.add(i),i instanceof ft){if(s&&i instanceof Lt)for(var d=i.memberParts;d.next();)Mu(t,d.value,s,l,u,c);if(u!==!1)for(d=i.linksConnected;d.next();){var m=d.value;if(!t.contains(m)){var y=m.fromNode,O=m.toNode;y=y===null||t.contains(y),O=O===null||t.contains(O),(u?y&&O:y||O)&&Mu(t,m,s,l,u,c)}}if(1<l)for(i=i.Ou();i.next();)Mu(t,i.value,s,l-1,u,c)}else if(i instanceof rt)for(i=i.labelNodes;i.next();)Mu(t,i.value,s,l,u,c)}}S.Object.defineProperties(kt.prototype,{key:{get:function(){var t=this.diagram;if(t!==null)return t.model.wa(this.data)}},adornments:{get:function(){return this.Qf===null?hi:this.Qf.iteratorValues}},layer:{get:function(){return this.Ig}},diagram:{get:function(){var t=this.Ig;return t==null?null:t.diagram}},layerName:{get:function(){return this.Jg},set:function(t){var i=this.Jg;if(i!==t){var s=this.diagram;if((s===null||s.Pj(t)!==null&&!s.partManager.addsToTemporaryLayer)&&(this.Jg=t,s!==null&&s.Ya(),this.g("layerName",i,t),i=this.layer,i!==null&&i.name!==t&&(s=i.diagram,s!==null&&(t=s.Pj(t),t!==null&&t!==i)))){var l=i.qc(-1,this,!0);if(0<=l&&s.cb(ci,"parts",i,this,null,l,!0),l=t.oi(99999999,this,!0),i.visible!==t.visible&&this.$b(t.visible),0<=l&&s.cb(oi,"parts",t,null,this,!0,l),l=this.layerChanged,l!==null){var u=s.aa;s.aa=!0,l(this,i,t),s.aa=u}}}}},layerChanged:{get:function(){return this.P!==null?this.P.yq:null},set:function(t){var i=this.layerChanged;i!==t&&(An(this),this.P.yq=t,this.g("layerChanged",i,t))}},zOrder:{get:function(){return this.zo},set:function(t){var i=this.zo;if(i!==t){this.zo=t;var s=this.layer;s!==null&&Jv(s,-1,this),this.g("zOrder",i,t),t=this.diagram,t!==null&&t.N()}}},locationObject:{get:function(){if(this.nf===null){var t=this.locationObjectName;t!==""?(t=this.fb(t),t!==null?this.nf=t:this.nf=this):this instanceof Wt?this.type!==nt.Link&&this.placeholder!==null?this.nf=this.placeholder:this.nf=this:this.nf=this}return this.nf.visible?this.nf:this}},minLocation:{get:function(){return this.P!==null?this.P.Oq:Ld},set:function(t){var i=this.minLocation;i.D(t)||(t=t.J(),An(this),this.P.Oq=t,this.g("minLocation",i,t))}},maxLocation:{get:function(){return this.P!==null?this.P.Jq:sf},set:function(t){var i=this.maxLocation;i.D(t)||(t=t.J(),An(this),this.P.Jq=t,this.g("maxLocation",i,t))}},locationObjectName:{get:function(){return this.P!==null?this.P.Fq:""},set:function(t){var i=this.locationObjectName;i!==t&&(An(this),this.P.Fq=t,this.nf=null,this.v(),this.g("locationObjectName",i,t))}},locationSpot:{get:function(){return this.P!==null?this.P.Gq:Ji},set:function(t){var i=this.locationSpot;i.D(t)||(t=t.J(),An(this),this.P.Gq=t,this.v(),this.g("locationSpot",i,t))}},location:{get:function(){return this.ke},set:function(t){var i=t.x,s=t.y,l=this.ke;if(!(l.x===i||isNaN(l.x)&&isNaN(i))||!(l.y===s||isNaN(l.y)&&isNaN(s))){if(t=t.copy(),i=t,this.ph())i=!1;else{if(this.ke=i,this.G|=2097152,xs(this)===!1&&(_x(this),s=this.pa,s.w())){var u=this.diagram;if(u===null||u.animationManager.isTicking||!u.undoManager.isUndoingRedoing){var c=s.copy();s.h(s.x+(i.x-l.x),s.y+(i.y-l.y)),z$(this,u,s,c.x,c.y),this.g("position",c,s.copy())}}i=!0}i&&this.g("location",l,t.copy())}}},category:{get:function(){return this.Tf},set:function(t){var i=this.Tf;if(i!==t){this.svg!==null&&(this.svg.remove(),this.Uc=!0);var s=this.diagram,l=this.data,u=null;if(s!==null&&l!==null&&!(this instanceof Wt)){var c=s.model.undoManager;c.isEnabled&&!c.isUndoingRedoing&&(u=this.clone(),u.O.addAll(this.O))}this.Tf=t,this.g("category",i,t),s===null||l===null||this instanceof Wt?this instanceof Wt&&(u=this.adornedPart,u!==null&&(t=u.Qf,t!==null&&t.remove(i),u.bh(this.category,this))):(c=s.model,c.undoManager.isUndoingRedoing||(this.ph()?(s.partManager.setLinkCategoryForData(l,t),s=s.partManager.findLinkTemplateForCategory(t),s!==null&&(Gr(s),s=s.copy(),s!==null&&hT(this,s,i,t))):(c!==null&&c.im(l,t),s=xD(s.partManager,l,t),s!==null&&(Gr(s),s=s.copy(),s===null||s instanceof rt||(l=this.location.copy(),hT(this,s,i,t),this.location.w()||(this.location=l)))),u!==null&&(i=this.clone(),i.O.addAll(this.O),this.g("self",u,i))))}}},self:{get:function(){return this},set:function(t){hT(this,t,this.category,t.category)}},copyable:{get:function(){return(this.G&1)!==0},set:function(t){var i=(this.G&1)!==0;i!==t&&(this.G^=1,this.g("copyable",i,t))}},deletable:{get:function(){return(this.G&2)!==0},set:function(t){var i=(this.G&2)!==0;i!==t&&(this.G^=2,this.g("deletable",i,t))}},textEditable:{get:function(){return(this.G&4)!==0},set:function(t){var i=(this.G&4)!==0;i!==t&&(this.G^=4,this.g("textEditable",i,t),this.Xb())}},groupable:{get:function(){return(this.G&8)!==0},set:function(t){var i=(this.G&8)!==0;i!==t&&(this.G^=8,this.g("groupable",i,t))}},movable:{get:function(){return(this.G&16)!==0},set:function(t){var i=(this.G&16)!==0;i!==t&&(this.G^=16,this.g("movable",i,t))}},selectionAdorned:{get:function(){return(this.G&32)!==0},set:function(t){var i=(this.G&32)!==0;i!==t&&(this.G^=32,this.g("selectionAdorned",i,t),this.Xb())}},isInDocumentBounds:{get:function(){return(this.G&64)!==0},set:function(t){var i=(this.G&64)!==0;if(i!==t){this.G^=64;var s=this.diagram;s!==null&&s.Ya(),this.g("isInDocumentBounds",i,t)}}},isLayoutPositioned:{get:function(){return(this.G&128)!==0},set:function(t){var i=(this.G&128)!==0;i!==t&&(this.G^=128,this.g("isLayoutPositioned",i,t),this.C(t?4:8))}},selectable:{get:function(){return(this.G&256)!==0},set:function(t){var i=(this.G&256)!==0;i!==t&&(this.G^=256,this.g("selectable",i,t),this.Xb())}},reshapable:{get:function(){return(this.G&512)!==0},set:function(t){var i=(this.G&512)!==0;i!==t&&(this.G^=512,this.g("reshapable",i,t),this.Xb())}},resizable:{get:function(){return(this.G&1024)!==0},set:function(t){var i=(this.G&1024)!==0;i!==t&&(this.G^=1024,this.g("resizable",i,t),this.Xb())}},rotatable:{get:function(){return(this.G&2048)!==0},set:function(t){var i=(this.G&2048)!==0;i!==t&&(this.G^=2048,this.g("rotatable",i,t),this.Xb())}},isSelected:{get:function(){return(this.G&4096)!==0},set:function(t){var i=(this.G&4096)!==0;if(i!==t){var s=this.diagram;if(!t||this.canSelect()&&!(s!==null&&s.selection.count>=s.maxSelectionCount)){this.G^=4096;var l=!1;if(s!==null){l=s.skipsUndoManager,s.skipsUndoManager=!0;var u=s.selection;u.ka(),t?u.add(this):u.remove(this),u.freeze()}this.g("isSelected",i,t),this.Xb(),t=this.selectionChanged,t!==null&&t(this),s!==null&&(s.ac(),s.skipsUndoManager=l)}}}},isHighlighted:{get:function(){return(this.G&524288)!==0},set:function(t){var i=(this.G&524288)!==0;if(i!==t){this.G^=524288;var s=this.diagram;s!==null&&(s=s.highlighteds,s.ka(),t?s.add(this):s.remove(this),s.freeze()),this.g("isHighlighted",i,t),this.N(),t=this.highlightedChanged,t!==null&&t(this)}}},isShadowed:{get:function(){return(this.G&8192)!==0},set:function(t){var i=(this.G&8192)!==0;i!==t&&(this.G^=8192,this.Uc=!0,this.g("isShadowed",i,t),this.N())}},isAnimated:{get:function(){return(this.G&262144)!==0},set:function(t){var i=(this.G&262144)!==0;i!==t&&(this.G^=262144,this.g("isAnimated",i,t))}},highlightedChanged:{get:function(){return this.P!==null?this.P.nq:null},set:function(t){var i=this.highlightedChanged;i!==t&&(An(this),this.P.nq=t,this.g("highlightedChanged",i,t))}},selectionObjectName:{get:function(){return this.P!==null?this.P.ur:""},set:function(t){var i=this.selectionObjectName;i!==t&&(An(this),this.P.ur=t,this.Ug=null,this.g("selectionObjectName",i,t))}},selectionAdornmentTemplate:{get:function(){return this.P!==null?this.P.sr:null},set:function(t){var i=this.selectionAdornmentTemplate;i!==t&&(An(this),this.P.sr=t,this.g("selectionAdornmentTemplate",i,t))}},selectionObject:{get:function(){if(this.Ug===null){var t=this.selectionObjectName;t!==null&&t!==""?(t=this.fb(t),t!==null?this.Ug=t:this.Ug=this):this instanceof rt?(t=this.path,t!==null?this.Ug=t:this.Ug=this):this.Ug=this}return this.Ug}},selectionChanged:{get:function(){return this.P!==null?this.P.tr:null},set:function(t){var i=this.selectionChanged;i!==t&&(An(this),this.P.tr=t,this.g("selectionChanged",i,t))}},resizeAdornmentTemplate:{get:function(){return this.P!==null?this.P.er:null},set:function(t){var i=this.resizeAdornmentTemplate;i!==t&&(An(this),this.P.er=t,this.g("resizeAdornmentTemplate",i,t))}},resizeObjectName:{get:function(){return this.P!==null?this.P.gr:""},set:function(t){var i=this.resizeObjectName;i!==t&&(An(this),this.P.gr=t,this.g("resizeObjectName",i,t))}},resizeObject:{get:function(){var t=this.resizeObjectName;return t!==""&&(t=this.fb(t),t!==null)?t:this}},resizeCellSize:{get:function(){return this.P!==null?this.P.fr:cr},set:function(t){var i=this.resizeCellSize;i.D(t)||(t=t.J(),An(this),this.P.fr=t,this.g("resizeCellSize",i,t))}},rotateAdornmentTemplate:{get:function(){return this.P!==null?this.P.hr:null},set:function(t){var i=this.rotateAdornmentTemplate;i!==t&&(An(this),this.P.hr=t,this.g("rotateAdornmentTemplate",i,t))}},rotateObjectName:{get:function(){return this.P!==null?this.P.ir:""},set:function(t){var i=this.rotateObjectName;i!==t&&(An(this),this.P.ir=t,this.g("rotateObjectName",i,t))}},rotateObject:{get:function(){var t=this.rotateObjectName;return t!==""&&(t=this.fb(t),t!==null)?t:this}},rotationSpot:{get:function(){return this.P!==null?this.P.kr:Zi},set:function(t){var i=this.rotationSpot;i.D(t)||(t=t.J(),An(this),this.P.kr=t,this.g("rotationSpot",i,t))}},text:{get:function(){return this.fc},set:function(t){var i=this.fc;i!==t&&(this.fc=t,this.g("text",i,t))}},containingGroup:{get:function(){return this.Ah},set:function(t){if(this.Zc()){var i=this.Ah;if(i!==t){t===null||this!==t&&!t.Td(this)||(this===t&&D("Cannot make a Group a member of itself: "+this.toString()),D("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+t.toString())),this.C(2);var s=this.diagram;if(i!==null?vT(i,this):this instanceof Lt&&s!==null&&s.ai.remove(this),this.Ah=t,t!==null?OT(t,this):this instanceof Lt&&s!==null&&s.ai.add(this),this.C(1),s!==null&&s.aa){var l=this.data,u=s.model;if(l!==null&&u.Wj()){var c=u.wa(t!==null?t.data:null);u.lp(l,c)}}if(l=this.containingGroupChanged,l!==null&&(u=!0,s!==null&&(u=s.aa,s.aa=!0),l(this,i,t),s!==null&&(s.aa=u)),this instanceof Lt){for(s=new at,Mu(s,this,!0,0,!0),s=s.iterator;s.next();)if(l=s.value,l instanceof ft)for(l=l.linksConnected;l.next();)kp(l.value)}if(this instanceof ft){for(s=this.linksConnected;s.next();)kp(s.value);s=this.labeledLink,s!==null&&kp(s)}this.g("containingGroup",i,t),t!==null&&(i=t.layer,i!==null&&Jv(i,-1,t))}}else D("cannot set the Part.containingGroup of a Link or Adornment")}},containingGroupChanged:{get:function(){return this.P!==null?this.P.Jp:null},set:function(t){var i=this.containingGroupChanged;i!==t&&(An(this),this.P.Jp=t,this.g("containingGroupChanged",i,t))}},isTopLevel:{get:function(){return!(this.containingGroup!==null||this instanceof ft&&this.labeledLink!==null)}},layoutConditions:{get:function(){return this.P!==null?this.P.Bq:127},set:function(t){var i=this.layoutConditions;i!==t&&(An(this),this.P.Bq=t,this.g("layoutConditions",i,t))}},dragComputation:{get:function(){return this.P!==null?this.P.Tp:null},set:function(t){var i=this.dragComputation;i!==t&&(An(this),this.P.Tp=t,this.g("dragComputation",i,t))}},shadowOffset:{get:function(){return this.P!==null?this.P.yr:fa},set:function(t){var i=this.shadowOffset;i.D(t)||(t=t.J(),An(this),this.P.yr=t,this.N(),this.g("shadowOffset",i,t))}},shadowColor:{get:function(){return this.P!==null?this.P.xr:"gray"},set:function(t){var i=this.shadowColor;i!==t&&(An(this),this.P.xr=t,this.N(),this.g("shadowColor",i,t))}},shadowBlur:{get:function(){return this.P!==null?this.P.Vg:4},set:function(t){var i=this.shadowBlur;i!==t&&(An(this),this.P.Vg=t,this.N(),this.g("shadowBlur",i,t))}}}),kt.prototype.invalidateLayout=kt.prototype.C,kt.prototype.findCommonContainingGroup=kt.prototype.px,kt.prototype.isMemberOf=kt.prototype.Td,kt.prototype.findTopLevelPart=kt.prototype.sz,kt.prototype.findSubGraphLevel=kt.prototype.oz,kt.prototype.ensureBounds=kt.prototype.Va,kt.prototype.getDocumentBounds=kt.prototype.mi,kt.prototype.findObject=kt.prototype.fb,kt.prototype.moveTo=kt.prototype.moveTo,kt.prototype.invalidateAdornments=kt.prototype.Xb,kt.prototype.clearAdornments=kt.prototype.Dj,kt.prototype.removeAdornment=kt.prototype.Jf,kt.prototype.addAdornment=kt.prototype.bh,kt.prototype.findAdornment=kt.prototype.Oj,kt.prototype.updateTargetBindings=kt.prototype.La;var W$=!1;kt.className="Part",kt.LayoutNone=0,kt.LayoutAdded=1,kt.LayoutRemoved=2,kt.LayoutShown=4,kt.LayoutHidden=8,kt.LayoutNodeSized=16,kt.LayoutGroupLayout=32,kt.LayoutNodeReplaced=64,kt.LayoutStandard=127,kt.LayoutAll=16777215;function Wt(t,i){t===void 0||t instanceof ii||typeof t=="string"?kt.call(this,t):(kt.call(this),t&&(i=t)),this.G&=-257,this.Jg="Adornment",this.ue=null,this.Aw=0,this.Uw=!1,this.j=this.$a=null,i&&Object.assign(this,i)}x(Wt,kt),Wt.prototype.toString=function(){var t=this.adornedPart;return"Adornment("+this.category+")"+(t!==null?t.toString():"")},Wt.prototype.updateRelationshipsFromData=function(){},Wt.prototype.Tl=function(t){var i=this.adornedObject,s=i==null?void 0:i.part;if(s instanceof rt&&i instanceof It){i=s.path,s.Tl(t),t=i.geometry,s=this.O.s,i=s.length;for(var l=0;l<i;l++){var u=s[l];u.isPanelMain&&u instanceof It&&(u.ua=t)}}},Wt.prototype.si=function(){var t=this.ue;return t===null?!0:(t=t.part,t===null||!xs(t))},Wt.prototype.Zc=function(){return!1},Wt.prototype.fk=function(t,i,s,l,u,c,d){if(t===oi&&i==="elements"){if(u instanceof gn)this.$a===null&&(this.$a=u);else if(u instanceof nt){var m=u.Ml(function(y){return y instanceof gn});m instanceof gn&&this.$a===null&&(this.$a=m)}}else t===ci&&i==="elements"&&this.$a!==null&&(l===this.$a?this.$a=null:l instanceof nt&&this.$a.rg(l)&&(this.$a=null));kt.prototype.fk.call(this,t,i,s,l,u,c,d)},Wt.prototype.updateAdornments=function(){},Wt.prototype.Kj=function(){},S.Object.defineProperties(Wt.prototype,{placeholder:{get:function(){return this.$a}},adornedObject:{get:function(){return this.ue},set:function(t){var i=this.adornedPart,s=null;t!==null&&(s=t.part),i===null||t!==null&&i===s||i.Jf(this.category),this.ue=t,s!==null&&s.bh(this.category,this)}},adornedPart:{get:function(){var t=this.ue;return t!==null?t.part:null}},containingGroup:{get:function(){return null}}}),Wt.className="Adornment";function mT(){this.oc=!1,this.Ur=this.gj=this.Dq=this.Cq=null,this.xp=y2,this.dr=Wx,this.Jr=this.ij=this.Mq=this.Lq=null}mT.prototype.copy=function(){var t=new mT;return t.Cq=this.Cq,t.Dq=this.Dq,t.gj=this.gj,t.Ur=this.Ur,t.xp=this.xp.J(),t.dr=this.dr,t.Lq=this.Lq,t.Mq=this.Mq,t.ij=this.ij,t.Jr=this.Jr,t};function ft(t,i){t===void 0||t instanceof ii||typeof t=="string"?kt.call(this,t):(kt.call(this),t&&(i=t)),this.U=13,this.Ba=null,this.jb=new ct,this.wc=this.af=this.Xk=null,this.ci=!1,i&&Object.assign(this,i)}x(ft,kt),ft.prototype.cloneProtected=function(t){kt.prototype.cloneProtected.call(this,t),t.U=this.U,this.Ba!==null&&(t.Ba=this.Ba.oc?this.Ba:this.Ba.copy())},n=ft.prototype,n.Af=function(t){kt.prototype.Af.call(this,t),t.Bd(),t.af=this.af,t.wc=null};function Ta(t){t.Ba===null?t.Ba=new mT:t.Ba.oc&&(t.Ba=t.Ba.copy())}n.th=function(){kt.prototype.th.call(this),this.Ba!==null&&(this.Ba.oc=!0)};function q$(t,i){i!==null&&(t.af===null&&(t.af=new at),t.af.add(i))}function G$(t,i,s,l){if(i===null||t.af===null)return null;for(var u=t.af.iterator;u.next();){var c=u.value;if(c.Cs===t&&c.cv===i&&c.Ox===s&&c.Px===l||c.Cs===i&&c.cv===t&&c.Ox===l&&c.Px===s)return c}return null}n.Lz=function(t,i,s){i==null&&(i=""),s==null&&(s=""),t=G$(this,t,i,s),t!==null&&t.Rl()},n.fk=function(t,i,s,l,u,c,d){t===oi&&i==="elements"?this.wc=null:t===ci&&i==="elements"&&(this.wc=null),kt.prototype.fk.call(this,t,i,s,l,u,c,d)},n.Bd=function(t){for(var i=this.linksConnected;i.next();){var s=i.value;t!==void 0&&t.contains(s)||(er(s.fromPort),er(s.toPort),s.bb())}};function H$(t,i){for(t=t.linksConnected;t.next();){var s=t.value;(s.fromPort===i||s.toPort===i)&&(er(s.fromPort),er(s.toPort),s.bb())}}function er(t){if(t!==null){var i=t.Yn;i!==null&&i.Rl(),t=t.part,i=t.containingGroup,i===null||t.isVisible()||er(i.port)}}n.si=function(){return!0},ft.prototype.getAvoidableRect=function(t){return t.set(this.actualBounds),t.Bo(this.avoidableMargin),t},ft.prototype.findVisibleNode=function(){for(var t=this;t!==null&&!t.isVisible();)t=t.containingGroup;return t},ft.prototype.isVisible=function(){if(!kt.prototype.isVisible.call(this))return!1;var t=!0,i=gf,s=this.diagram;if(s!==null&&(t=s.isTreePathToChildren,i=s.treeCollapsePolicy),i===gf){if(t=this.pg(),t!==null&&!t.isTreeExpanded)return!1}else if(i===Sb){if(t=t?this.No():this.Oo(),0<t.count&&t.all(function(l){return!l.isTreeExpanded}))return!1}else if(i===kb&&(t=t?this.No():this.Oo(),0<t.count&&t.any(function(l){return!l.isTreeExpanded})))return!1;return t=this.labeledLink,t!==null?t.isVisible():!0},ft.prototype.$b=function(t){kt.prototype.$b.call(this,t);for(var i=this.linksConnected;i.next();){var s=i.value;if(t&&this.containingGroup!==null){var l=s.So(this);l===null||l.Td(this.containingGroup)||s.bb()}s.$b(t)}},ft.prototype.qx=function(){var t=new at,i=new at;return K$(this,this,t,i),i.iterator};function K$(t,i,s,l){if(i!==null&&!s.has(i)){s.add(i);var u=!0,c=t.diagram;c!==null&&(u=c.isTreePathToChildren),i.linksConnected.each(function(d){d.isTreeLink?(u?d.fromNode===i:d.toNode===i)&&K$(t,u?d.toNode:d.fromNode,s,l):l.add(d)})}}ft.prototype.findLinksConnected=function(t){if(t===void 0&&(t=null),t===null)return this.jb.iterator;var i=new Je(this.jb),s=this;return i.predicate=function(l){return l.fromNode===s&&l.fromPortId===t||l.toNode===s&&l.toPortId===t},i},n=ft.prototype,n.Lo=function(t){t===void 0&&(t=null);var i=new Je(this.jb),s=this;return i.predicate=function(l){return l.fromNode!==s?!1:t===null?!0:l.fromPortId===t},i},n.Sd=function(t){t===void 0&&(t=null);var i=new Je(this.jb),s=this;return i.predicate=function(l){return l.toNode!==s?!1:t===null?!0:l.toPortId===t},i},n.Mu=function(t){t===void 0&&(t=null);for(var i=null,s=null,l=this.jb.iterator;l.next();){var u=l.value;u.fromNode===this?(t===null||u.fromPortId===t)&&(u=u.toNode,i!==null?i.add(u):s!==null&&s!==u?(i=new at,i.add(s),i.add(u)):s=u):u.toNode!==this||t!==null&&u.toPortId!==t||(u=u.fromNode,i!==null?i.add(u):s!==null&&s!==u?(i=new at,i.add(s),i.add(u)):s=u)}return i!==null?i.iterator:s!==null?new Ve(s):hi},n.Oo=function(t){t===void 0&&(t=null);for(var i=null,s=null,l=this.jb.iterator;l.next();){var u=l.value;u.fromNode!==this||t!==null&&u.fromPortId!==t||(u=u.toNode,i!==null?i.add(u):s!==null&&s!==u?(i=new at,i.add(s),i.add(u)):s=u)}return i!==null?i.iterator:s!==null?new Ve(s):hi},n.No=function(t){t===void 0&&(t=null);for(var i=null,s=null,l=this.jb.iterator;l.next();){var u=l.value;u.toNode!==this||t!==null&&u.toPortId!==t||(u=u.fromNode,i!==null?i.add(u):s!==null&&s!==u?(i=new at,i.add(s),i.add(u)):s=u)}return i!==null?i.iterator:s!==null?new Ve(s):hi},n.jz=function(t,i,s){i===void 0&&(i=null),s===void 0&&(s=null);var l=new Je(this.jb),u=this;return l.predicate=function(c){return!((c.fromNode!==u||c.toNode!==t||i!==null&&c.fromPortId!==i||s!==null&&c.toPortId!==s)&&(c.fromNode!==t||c.toNode!==u||s!==null&&c.fromPortId!==s||i!==null&&c.toPortId!==i))},l},n.kz=function(t,i,s){i===void 0&&(i=null),s===void 0&&(s=null);var l=new Je(this.jb),u=this;return l.predicate=function(c){return!(c.fromNode!==u||c.toNode!==t||i!==null&&c.fromPortId!==i||s!==null&&c.toPortId!==s)},l};function Yx(t,i,s){er(s);var l=t.jb.contains(i);if(l||t.jb.add(i),!l||i.fromNode===i.toNode){var u=t.linkConnected;if(u!==null){var c=!0,d=t.diagram;d!==null&&(c=d.aa,d.aa=!0),u(t,i,s),d!==null&&(d.aa=c)}}!l&&i.isTreeLink&&(s=i.fromNode,i=i.toNode,s!==null&&i!==null&&s!==i&&(l=!0,t=t.diagram,t!==null&&(l=t.isTreePathToChildren),u=l?i:s,c=l?s:i,u.ci||(u.ci=c),!c.isTreeLeaf||t!==null&&t.undoManager.isUndoingRedoing||(l?s===c&&(c.isTreeLeaf=!1):i===c&&(c.isTreeLeaf=!1))))}function Ux(t,i,s){er(s);var l=t.jb.remove(i),u=null;if(l||i.toNode===i.fromNode){var c=t.linkDisconnected;if(u=t.diagram,c!==null){var d=!0;u!==null&&(d=u.aa,u.aa=!0),c(t,i,s),u!==null&&(u.aa=d)}}l&&i.isTreeLink&&(s=!0,u!==null&&(s=u.isTreePathToChildren),t=s?i.toNode:i.fromNode,i=s?i.fromNode:i.toNode,t!==null&&(t.ci=!1),i===null||i.isTreeLeaf||(i.jb.count===0?(i.ci=null,u!==null&&u.undoManager.isUndoingRedoing||(i.isTreeLeaf=!0)):y0(i)))}function y0(t){if(t.ci=!1,t.jb.count!==0){var i=!0,s=t.diagram;if(s===null||!s.undoManager.isUndoingRedoing){for(s!==null&&(i=s.isTreePathToChildren),s=t.jb.iterator;s.next();){var l=s.value;if(l.isTreeLink){if(i){if(l.fromNode===t){t.isTreeLeaf=!1;return}}else if(l.toNode===t){t.isTreeLeaf=!1;return}}}t.isTreeLeaf=!0}}}ft.prototype.updateRelationshipsFromData=function(){var t=this.diagram;t!==null&&t.partManager.updateRelationshipsFromData(this)},n=ft.prototype,n.Uo=function(t){kt.prototype.Uo.call(this,t),t||(y0(this),t=this.Xk,t!==null&&lD(t,this))},n.Vo=function(t){kt.prototype.Vo.call(this,t),t||(t=this.Xk,t!==null&&t.wd!==null&&(t.wd.remove(this),t.v()))},n.Kj=function(){if(0<this.jb.count){var t=this.diagram;if(t!==null)for(var i=t.commandHandler!==null?t.commandHandler.deletesConnectedLinks:!0,s=this.jb.copy().iterator;s.next();){var l=s.value;i?t.remove(l):(l.fromNode===this&&(l.fromNode=null),l.toNode===this&&(l.toNode=null))}}this.labeledLink=null,kt.prototype.Kj.call(this)},n.ms=function(t){if(this.wc===null){if(t===""&&this.Te===!1)return this;J$(this)}var i=this.wc.I(t);return i!==null||t!==""&&(i=this.wc.I(""),i!==null)?i:this};function J$(t){t.wc===null?t.wc=new jt:t.wc.clear(),t.pm(t,function(i,s){tD(i,s)}),t.wc.count===0&&t.wc.add("",t)}function tD(t,i){var s=i.portId;s!==null&&t.wc!==null&&t.wc.add(s,i)}function gT(t,i,s){var l=i.portId;if(l!==null&&(t.wc!==null&&t.wc.remove(l),i=t.diagram,i!==null&&s)){for(s=null,t=t.findLinksConnected(l);t.next();)l=t.value,s===null&&(s=St()),s.push(l);if(s!==null){for(t=0;t<s.length;t++)i.remove(s[t]);dt(s)}}}n.Nz=function(t){if(t===null||t===this)return!1;var i=!0,s=this.diagram;if(s!==null&&(i=s.isTreePathToChildren),s=this,i)for(;s!==t;){i=null;for(var l=s.jb.iterator;l.next();){var u=l.value;if(u.isTreeLink&&(i=u.fromNode,i!==s&&i!==this))break}if(i===this||i===null||i===s)return!1;s=i}else for(;s!==t;){for(i=null,l=s.jb.iterator;l.next()&&(u=l.value,!u.isTreeLink||(i=u.toNode,i===s||i===this)););if(i===this||i===null||i===s)return!1;s=i}return!0},n.xz=function(){var t=!0,i=this.diagram;if(i!==null&&(t=i.isTreePathToChildren),i=this,t)for(;;){t=null;for(var s=i.jb.iterator;s.next();){var l=s.value;if(l.isTreeLink&&(t=l.fromNode,t!==i&&t!==this))break}if(t===this)return this;if(t===null||t===i)return i;i=t}else for(;;){for(t=null,s=i.jb.iterator;s.next()&&(l=s.value,!l.isTreeLink||(t=l.toNode,t===i||t===this)););if(t===this)return this;if(t===null||t===i)return i;i=t}},n.gz=function(t){if(t===null)return null;if(this===t)return this;for(var i=this;i!==null;)Zx(i,!0),i=i.pg();var s=null;for(i=t;i!==null;){if(i.G&1048576){s=i;break}i=i.pg()}for(i=this;i!==null;)Zx(i,!1),i=i.pg();return s},n.kh=function(){var t=!0,i=this.diagram;if(i!==null&&(t=i.isTreePathToChildren),i=this.jb.iterator,t){for(;i.next();)if(t=i.value,t.isTreeLink&&t.fromNode!==this)return t}else for(;i.next();)if(t=i.value,t.isTreeLink&&t.toNode!==this)return t;return null},n.pg=function(){var t=this.ci;if(t===null)return null;if(t instanceof ft)return t;t=this.diagram,t=t!==null?t.isTreePathToChildren:!0;for(var i=this.jb.iterator;i.next();){var s=i.value;if(s.isTreeLink&&(s=t?s.fromNode:s.toNode,s!==this))return this.ci=s}return this.ci=null},n.vz=function(){function t(s,l){l.add(s);var u=s.kh();u!==null&&(l.add(u),s=s.pg(),s!==null&&t(s,l))}var i=new at;return t(this,i),i},n.uz=function(){return eD(this,this)};function eD(t,i){return i=i.pg(),i===null?0:1+eD(t,i)}n.Po=function(){var t=!0,i=this.diagram;i!==null&&(t=i.isTreePathToChildren),i=new Je(this.jb);var s=this;return i.predicate=t?function(l){return!!(l.isTreeLink&&l.fromNode===s)}:function(l){return!!(l.isTreeLink&&l.toNode===s)},i},n.Ou=function(){var t=!0,i=this.diagram;i!==null&&(t=i.isTreePathToChildren);var s=i=null,l=this.jb.iterator;if(t)for(;l.next();)t=l.value,t.isTreeLink&&t.fromNode===this&&(t=t.toNode,i!==null?i.add(t):s!==null&&s!==t?(i=new ct,i.add(s),i.add(t)):s=t);else for(;l.next();)t=l.value,t.isTreeLink&&t.toNode===this&&(t=t.fromNode,i!==null?i.add(t):s!==null&&s!==t?(i=new ct,i.add(s),i.add(t)):s=t);return i!==null?i.iterator:s!==null?new Ve(s):hi},n.wz=function(t){t===void 0&&(t=1/0);var i=new at;return Mu(i,this,!1,t,!0),i},ft.prototype.collapseTree=function(t){t===void 0&&(t=1),1>t&&(t=1);var i=this.diagram;if(i!==null&&!i.Ue){i.Ue=!0;var s=new at;s.add(this),iD(this,s,i.isTreePathToChildren,t,i,this,i.treeCollapsePolicy===gf),i.Ue=!1}};function iD(t,i,s,l,u,c,d){if(1<l)for(var m=s?t.Lo():t.Sd();m.next();){var y=m.value;y.isTreeLink&&(y=y.So(t),y===null||y===t||i.contains(y)||(i.add(y),iD(y,i,s,l-1,u,c)))}else nD(t,i,s,u,c)}function nD(t,i,s,l,u,c){for(var d=u===t?!0:t.isTreeExpanded,m=s?t.Lo():t.Sd(),y={};m.next();){var O=m.value;if(O.isTreeLink&&(O=O.So(t),O!==null&&O!==t)){var w=i.contains(O);if(w||i.add(O),d){var k=s?O.No():O.Oo();y.uv=t,k.all(function(P){return function(T){return T===P.uv||!T.isTreeExpanded}}(y))&&l.Aj(O,u),O.oh(),O.$b(!1)}O.isTreeExpanded&&(O.wasTreeExpanded=O.isTreeExpanded,w||nD(O,i,s,l,u))}y={uv:y.uv}}t.isTreeExpanded=!1}ft.prototype.expandTree=function(t){t===void 0&&(t=2),2>t&&(t=2);var i=this.diagram;if(i!==null&&!i.Ue){i.Ue=!0;var s=new at;s.add(this),rD(this,s,i.isTreePathToChildren,t,i,this,i.treeCollapsePolicy===gf),i.Ue=!1}};function rD(t,i,s,l,u,c,d){for(var m=c===t?!1:t.isTreeExpanded,y=s?t.Lo():t.Sd(),O={};y.next();){var w=y.value;if(w.isTreeLink&&(m||w.fd||w.bb(),w=w.So(t),w!==null&&w!==t&&!i.contains(w))){if(i.add(w),!m){w.$b(!0),w.oh();var k=s?w.No():w.Oo();O.vv=t,k.all(function(P){return function(T){return T===P.vv||!T.isTreeExpanded}}(O))&&u.Cj(w,c)}(2<l||w.wasTreeExpanded)&&(w.wasTreeExpanded=!1,rD(w,i,s,l-1,u,c))}O={vv:O.vv}}t.isTreeExpanded=!0}S.Object.defineProperties(ft.prototype,{portSpreading:{get:function(){return this.Ba!==null?this.Ba.dr:Wx},set:function(t){var i=this.portSpreading;i!==t&&(Ta(this),this.Ba.dr=t,this.g("portSpreading",i,t),t=this.diagram,t!==null&&t.undoManager.isUndoingRedoing||this.Bd())}},avoidable:{get:function(){return(this.U&8)!==0},set:function(t){var i=(this.U&8)!==0;if(i!==t){this.U^=8;var s=this.diagram;s!==null&&vb(s,this),this.g("avoidable",i,t)}}},avoidableMargin:{get:function(){return this.Ba!==null?this.Ba.xp:y2},set:function(t){typeof t=="number"&&(t=new ne(t));var i=this.avoidableMargin;if(!i.D(t)){t=t.J(),Ta(this),this.Ba.xp=t;var s=this.diagram;s!==null&&vb(s,this),this.g("avoidableMargin",i,t)}}},linksConnected:{get:function(){return this.jb.iterator}},linkConnected:{get:function(){return this.Ba!==null?this.Ba.Cq:null},set:function(t){var i=this.linkConnected;i!==t&&(Ta(this),this.Ba.Cq=t,this.g("linkConnected",i,t))}},linkDisconnected:{get:function(){return this.Ba!==null?this.Ba.Dq:null},set:function(t){var i=this.linkDisconnected;i!==t&&(Ta(this),this.Ba.Dq=t,this.g("linkDisconnected",i,t))}},linkValidation:{get:function(){return this.Ba!==null?this.Ba.gj:null},set:function(t){var i=this.linkValidation;i!==t&&(Ta(this),this.Ba.gj=t,this.g("linkValidation",i,t))}},isLinkLabel:{get:function(){return this.Xk!==null}},labeledLink:{get:function(){return this.Xk},set:function(t){var i=this.Xk;if(i!==t){var s=this.diagram,l=this.data;if(i!==null){if(i.wd!==null&&(i.wd.remove(this),i.v()),s!==null&&l!==null&&!s.undoManager.isUndoingRedoing){var u=i.data,c=s.model;if(u!==null&&c.ri()){var d=c.wa(l);d!==void 0&&c.Qx(u,d)}}this.containingGroup=null}this.Xk=t,t!==null&&(lD(t,this),s===null||l===null||s.undoManager.isUndoingRedoing||(u=t.data,s=s.model,u!==null&&s.ri()&&(l=s.wa(l),l!==void 0&&s.Au(u,l))),this.containingGroup=t.containingGroup),lp(this),this.g("labeledLink",i,t)}}},port:{get:function(){return this.ms("")}},ports:{get:function(){return this.wc===null&&J$(this),this.wc.iteratorValues}},isTreeExpanded:{get:function(){return(this.U&1)!==0},set:function(t){var i=(this.U&1)!==0;if(i!==t){this.U^=1;var s=this.diagram;if(this.g("isTreeExpanded",i,t),i=this.treeExpandedChanged,i!==null){var l=!0;s!==null&&(l=s.aa,s.aa=!0),i(this),s!==null&&(s.aa=l)}s!==null&&s.undoManager.isUndoingRedoing?this.$b(t):t?this.expandTree():this.collapseTree()}}},wasTreeExpanded:{get:function(){return(this.U&2)!==0},set:function(t){var i=(this.U&2)!==0;i!==t&&(this.U^=2,this.g("wasTreeExpanded",i,t))}},treeExpandedChanged:{get:function(){return this.Ba!==null?this.Ba.Ur:null},set:function(t){var i=this.treeExpandedChanged;i!==t&&(Ta(this),this.Ba.Ur=t,this.g("treeExpandedChanged",i,t))}},isTreeLeaf:{get:function(){return(this.U&4)!==0},set:function(t){var i=(this.U&4)!==0;i!==t&&(this.U^=4,this.g("isTreeLeaf",i,t))}}}),ft.prototype.expandTree=ft.prototype.expandTree,ft.prototype.collapseTree=ft.prototype.collapseTree,ft.prototype.findTreeParts=ft.prototype.wz,ft.prototype.findTreeChildrenNodes=ft.prototype.Ou,ft.prototype.findTreeChildrenLinks=ft.prototype.Po,ft.prototype.findTreeLevel=ft.prototype.uz,ft.prototype.findTreeParentChain=ft.prototype.vz,ft.prototype.findTreeParentNode=ft.prototype.pg,ft.prototype.findTreeParentLink=ft.prototype.kh,ft.prototype.findCommonTreeParent=ft.prototype.gz,ft.prototype.findTreeRoot=ft.prototype.xz,ft.prototype.isInTreeOf=ft.prototype.Nz,ft.prototype.findPort=ft.prototype.ms,ft.prototype.findLinksTo=ft.prototype.kz,ft.prototype.findLinksBetween=ft.prototype.jz,ft.prototype.findNodesInto=ft.prototype.No,ft.prototype.findNodesOutOf=ft.prototype.Oo,ft.prototype.findNodesConnected=ft.prototype.Mu,ft.prototype.findLinksInto=ft.prototype.Sd,ft.prototype.findLinksOutOf=ft.prototype.Lo,ft.prototype.findExternalTreeLinksConnected=ft.prototype.qx,ft.prototype.invalidateConnectedLinks=ft.prototype.Bd,ft.prototype.invalidateLinkBundle=ft.prototype.Lz;var BG=new it(ft,"SpreadingNone",10),Wx=new it(ft,"SpreadingEvenly",11),yT=new it(ft,"SpreadingPacked",12);ft.className="Node",ft.SpreadingNone=BG,ft.SpreadingEvenly=Wx,ft.SpreadingPacked=yT;function Lt(t,i){t===void 0||t instanceof ii||typeof t=="string"?ft.call(this,t):(ft.call(this),t&&(i=t)),this.U|=4608,this.Fn=new at,this.$a=null,this.Sc=new ye,this.Sc.group=this,this.fl=new at,this.tb=this.Zp=null,i&&Object.assign(this,i)}x(Lt,ft),Lt.prototype.cloneProtected=function(t){ft.prototype.cloneProtected.call(this,t),this.U=this.U&-32769;var i=t.Ml(function(s){return s instanceof gn});i instanceof gn?t.$a=i:t.$a=null,this.Sc!==null?(t.Sc=this.Sc.copy(),t.Sc.group=t):(t.Sc!==null&&(t.Sc.group=null),t.Sc=null),this.tb!==null&&(t.tb=this.tb.copy())},n=Lt.prototype,n.Af=function(t){ft.prototype.Af.call(this,t);var i=t.Qj();for(t=t.memberParts;t.next();){var s=t.value;if(s.v(),s.C(8),s.Dj(),s instanceof ft)s.Bd(i);else if(s instanceof rt)for(s=s.labelNodes;s.next();)s.value.Bd(i)}},n.fk=function(t,i,s,l,u,c,d){if(t===oi&&i==="elements"){if(u instanceof gn)this.$a===null?this.$a=u:this.$a!==u&&D("Cannot insert a second Placeholder into the visual tree of a Group.");else if(u instanceof nt){var m=u.Ml(function(y){return y instanceof gn});m instanceof gn&&(this.$a===null?this.$a=m:this.$a!==m&&D("Cannot insert a second Placeholder into the visual tree of a Group."))}}else t===ci&&i==="elements"&&this.$a!==null&&(l===this.$a?this.$a=null:l instanceof nt&&this.$a.rg(l)&&(this.$a=null));ft.prototype.fk.call(this,t,i,s,l,u,c,d)},n.Wl=function(t,i){ft.prototype.Wl.call(this,t,i),this.isClipping&&this.type!==nt.Spot&&this.isSubGraphExpanded&&(t=this.resizeObject,t instanceof nt&&(t=t.Qb()),this.tb===null&&(this.tb=new tt),t.mi(this.tb),t instanceof It&&this.tb.Bc(-t.strokeWidth,-t.strokeWidth))},n.eh=function(t,i,s,l){this.nf=this.$a,ft.prototype.eh.call(this,t,i,s,l)},n.Va=function(){var t=this;t.isSubGraphExpanded&&this.memberParts.each(function(i){!t.computesBoundsIncludingLinks&&i instanceof rt||i.Va()}),ft.prototype.Va.call(this)},n.si=function(){if(!ft.prototype.si.call(this))return!1;for(var t=this.memberParts;t.next();){var i=t.value;if(i instanceof ft){if(i.isVisible()&&xs(i))return!1}else if(i instanceof rt&&i.isVisible()&&xs(i)&&i.fromNode!==this&&i.toNode!==this)return!1}return!0};function OT(t,i){if(t.Fn.add(i)){i instanceof Lt&&t.fl.add(i);var s=t.memberAdded;if(s!==null){var l=!0,u=t.diagram;u!==null&&(l=u.aa,u.aa=!0),s(t,i),u!==null&&(u.aa=l)}t.isVisible()&&t.isSubGraphExpanded||i.$b(!1)}i instanceof rt&&!t.computesBoundsIncludingLinks||(i=t.$a,i===null&&(i=t),i.v())}function vT(t,i){if(t.Fn.remove(i)){i instanceof Lt&&t.fl.remove(i);var s=t.memberRemoved;if(s!==null){var l=!0,u=t.diagram;u!==null&&(l=u.aa,u.aa=!0),s(t,i),u!==null&&(u.aa=l)}t.isVisible()&&t.isSubGraphExpanded||i.$b(!0)}i instanceof rt&&!t.computesBoundsIncludingLinks||(i=t.$a,i===null&&(i=t),i.v())}n.Kj=function(){if(0<this.Fn.count){var t=this.diagram;if(t!==null)for(var i=this.Fn.copy().iterator;i.next();)t.remove(i.value)}ft.prototype.Kj.call(this)},Lt.prototype.canAddMembers=function(t){var i=this.diagram;if(i===null)return!1;for(i=i.commandHandler,t=bb(t).iterator;t.next();)if(!i.isValidMember(this,t.value))return!1;return!0},Lt.prototype.addMembers=function(t,i){var s=this.diagram;if(s===null)return!1;s=s.commandHandler;var l=!0;for(t=bb(t).iterator;t.next();){var u=t.value;!i||s.isValidMember(this,u)?u.containingGroup=this:l=!1}return l},Lt.prototype.canUngroup=function(){if(!this.ungroupable)return!1;var t=this.layer;return t===null||!t.allowUngroup?!1:(t=t.diagram,!!(t===null||t.allowUngroup))},n=Lt.prototype,n.Bd=function(t){var i=(this.U&65536)!==0;if(ft.prototype.Bd.call(this,t),!i)for(!(this.U&65536)&&(this.U=this.U^65536),i=this.Lu();i.next();){var s=i.value;if(t===void 0||!t.contains(s)){var l=s.fromNode;l!==null&&l!==this&&l.Td(this)&&!l.isVisible()?(er(s.fromPort),er(s.toPort),s.bb()):(l=s.toNode,l!==null&&l!==this&&l.Td(this)&&!l.isVisible()&&(er(s.fromPort),er(s.toPort),s.bb()))}}},n.Lu=function(){var t=this.diagram!==null&&this.diagram.Pw;if(t&&this.Zp!==null)return this.Zp.iterator;var i=this.Qj();i.add(this);for(var s=new at,l=i.iterator;l.next();){var u=l.value;if(u instanceof ft)for(u=u.linksConnected;u.next();){var c=u.value;i.contains(c)||s.add(c)}}return t&&(this.Zp=s),s.iterator},n.iz=function(){var t=this.Qj();t.add(this);for(var i=new at,s=t.iterator;s.next();){var l=s.value;if(l instanceof ft)for(l=l.linksConnected;l.next();){var u=l.value,c=u.fromNode;c===null||t.contains(c)&&c!==this||i.add(c),u=u.toNode,u===null||t.contains(u)&&u!==this||i.add(u)}}return i.iterator},n.hz=function(){function t(s,l){s!==null&&(l.add(s),t(s.containingGroup,l))}var i=new at;return t(this,i),i},n.Qj=function(){var t=new at;return Mu(t,this,!0,0,!0),t.remove(this),t},n.$b=function(t){ft.prototype.$b.call(this,t);for(var i=this.memberParts;i.next();)i.value.$b(t)},Lt.prototype.collapseSubGraph=function(){var t=this.diagram;if(t!==null&&!t.Ue){t.Ue=!0;var i=this.Qj();sD(this,i,t,this),t.Ue=!1}};function sD(t,i,s,l){for(var u=t.memberParts;u.next();){var c=u.value;if(c.$b(!1),c instanceof Lt&&c.isSubGraphExpanded&&(c.wasSubGraphExpanded=c.isSubGraphExpanded,sD(c,i,s,l)),c instanceof ft)c.Bd(i),s.Aj(c,l);else if(c instanceof rt)for(c=c.labelNodes;c.next();)c.value.Bd(i)}t.isSubGraphExpanded=!1}Lt.prototype.expandSubGraph=function(){var t=this.diagram;if(t!==null&&!t.Ue){t.Ue=!0;var i=this.Qj();oD(this,i,t,this),t.Ue=!1}};function oD(t,i,s,l){for(var u=t.memberParts;u.next();){var c=u.value;if(c.$b(!0),c instanceof Lt&&c.wasSubGraphExpanded&&(c.wasSubGraphExpanded=!1,oD(c,i,s,l)),c instanceof ft)c.Bd(i),s.Cj(c,l);else if(c instanceof rt)for(c=c.labelNodes;c.next();)c.value.Bd(i)}t.isSubGraphExpanded=!0}Lt.prototype.move=function(t,i){i===void 0&&(i=!1);var s=i?this.location:this.position,l=s.x;s=s.y;var u=t.x,c=t.y;if(!(l===u||isNaN(l)&&isNaN(u))||!(s===c||isNaN(s)&&isNaN(c))){for(l=u-(isNaN(l)?0:l),s=c-(isNaN(s)?0:s),c=F.alloc(),ft.prototype.move.call(this,t,i),t=new at,i=this.Qj().iterator;i.next();)u=i.value,u instanceof rt&&(u.suspendsRouting&&t.add(u),u.fd||u.fromNode!==this&&u.toNode!==this)&&(u.suspendsRouting=!0);for(i.reset();i.next();)if(u=i.value,!(u.ph()||u instanceof ft&&u.isLinkLabel)){var d=u.position,m=u.location;d.w()?(c.x=d.x+l,c.y=d.y+s,u.position=c):m.w()&&(c.x=m.x+l,c.y=m.y+s,u.location=c)}for(i.reset();i.next();)u=i.value,u instanceof rt&&(u.suspendsRouting=t.contains(u),u.fd||u.fromNode!==this&&u.toNode!==this)&&(d=u.position,c.x=d.x+l,c.y=d.y+s,c.w()?u.move(c):u.bb());F.free(c)}},S.Object.defineProperties(Lt.prototype,{placeholder:{get:function(){return this.$a}},computesBoundsAfterDrag:{get:function(){return(this.U&2048)!==0},set:function(t){var i=(this.U&2048)!==0;i!==t&&(this.U^=2048,this.g("computesBoundsAfterDrag",i,t))}},computesBoundsIncludingLinks:{get:function(){return(this.U&4096)!==0},set:function(t){var i=(this.U&4096)!==0;i!==t&&(this.U^=4096,this.g("computesBoundsIncludingLinks",i,t))}},computesBoundsIncludingLocation:{get:function(){return(this.U&8192)!==0},set:function(t){var i=(this.U&8192)!==0;i!==t&&(this.U^=8192,this.g("computesBoundsIncludingLocation",i,t))}},handlesDragDropForMembers:{get:function(){return(this.U&16384)!==0},set:function(t){var i=(this.U&16384)!==0;i!==t&&(this.U^=16384,this.g("handlesDragDropForMembers",i,t))}},memberParts:{get:function(){return this.Fn.iterator}},layout:{get:function(){return this.Sc},set:function(t){var i=this.Sc;if(i!==t){t!==null&&t.diagram!==null&&t.diagram.layout===t&&D("A layout cannot be both the Diagram.layout and a Group.layout: "+t),i!==null&&(i.diagram=null,i.group=null),this.Sc=t;var s=this.diagram;t!==null&&(t.diagram=s,t.group=this),s!==null&&(s.xh=!0),this.g("layout",i,t),s!==null&&s.ac()}}},memberAdded:{get:function(){return this.Ba!==null?this.Ba.Lq:null},set:function(t){var i=this.memberAdded;i!==t&&(Ta(this),this.Ba.Lq=t,this.g("memberAdded",i,t))}},memberRemoved:{get:function(){return this.Ba!==null?this.Ba.Mq:null},set:function(t){var i=this.memberRemoved;i!==t&&(Ta(this),this.Ba.Mq=t,this.g("memberRemoved",i,t))}},memberValidation:{get:function(){return this.Ba!==null?this.Ba.ij:null},set:function(t){var i=this.memberValidation;i!==t&&(Ta(this),this.Ba.ij=t,this.g("memberValidation",i,t))}},ungroupable:{get:function(){return(this.U&256)!==0},set:function(t){var i=(this.U&256)!==0;i!==t&&(this.U^=256,this.g("ungroupable",i,t))}},isSubGraphExpanded:{get:function(){return(this.U&512)!==0},set:function(t){var i=(this.U&512)!==0;if(i!==t){this.U^=512;var s=this.diagram;if(this.g("isSubGraphExpanded",i,t),i=this.subGraphExpandedChanged,i!==null){var l=!0;s!==null&&(l=s.aa,s.aa=!0),i(this),s!==null&&(s.aa=l)}s!==null&&s.undoManager.isUndoingRedoing?(this.$a!==null&&this.$a.v(),this.memberParts.each(function(u){u.updateAdornments()})):t?this.expandSubGraph():this.collapseSubGraph()}}},wasSubGraphExpanded:{get:function(){return(this.U&1024)!==0},set:function(t){var i=(this.U&1024)!==0;i!==t&&(this.U^=1024,this.g("wasSubGraphExpanded",i,t))}},subGraphExpandedChanged:{get:function(){return this.Ba!==null?this.Ba.Jr:null},set:function(t){var i=this.subGraphExpandedChanged;i!==t&&(Ta(this),this.Ba.Jr=t,this.g("subGraphExpandedChanged",i,t))}},rh:{get:function(){return(this.U&32768)!==0},set:function(t){(this.U&32768)!==0!==t&&(this.U^=32768)}}}),Lt.prototype.expandSubGraph=Lt.prototype.expandSubGraph,Lt.prototype.collapseSubGraph=Lt.prototype.collapseSubGraph,Lt.prototype.findSubGraphParts=Lt.prototype.Qj,Lt.prototype.findContainingGroupChain=Lt.prototype.hz,Lt.prototype.findExternalNodesConnected=Lt.prototype.iz,Lt.prototype.findExternalLinksConnected=Lt.prototype.Lu,Lt.prototype.ensureBounds=Lt.prototype.Va,Lt.className="Group";function gn(t){xt.call(this),this.zb=Dd,this.jo=new tt(NaN,NaN,NaN,NaN),t&&Object.assign(this,t)}x(gn,xt),gn.prototype.cloneProtected=function(t){xt.prototype.cloneProtected.call(this,t),t.zb=this.zb.J(),t.jo=this.jo.copy()},gn.prototype.gh=function(t){if(this.background===null&&this.areaBackground===null)return!1;var i=this.naturalBounds;return Fs(0,0,i.width,i.height,t.x,t.y)},gn.prototype.Vl=function(){var t=this.part;if(t!==null&&(t instanceof Lt||t instanceof Wt)||D("Placeholder is not inside a Group or Adornment."),t instanceof Lt){var i=this.computeBorder(this.jo),s=this.minSize,l=this.ec;for(Ki(l,(isFinite(s.width)?Math.max(s.width,i.width):i.width)||0,(isFinite(s.height)?Math.max(s.height,i.height):i.height)||0),this.Ge(0,0,l.width,l.height),l=t.memberParts,s=!1;l.next();)if(l.value.isVisible()){s=!0;break}l=t.diagram,!s||l===null||l.animationManager.Xu(t)||isNaN(i.x)||isNaN(i.y)||(s=F.alloc(),s.xi(i,t.locationSpot),s.D(t.location)||(t.location=s),F.free(s))}else{i=this.ec,s=this.zb,l=s.left+s.right;var u=s.top+s.bottom,c=t.adornedObject;t.angle=c.li();var d=0;c instanceof It&&(d=c.strokeWidth);var m=c.Df(),y=c.naturalBounds,O=(y.width+d)*m;d=(y.height+d)*m,t.type!==nt.Link&&(m=c.ga(t.category==="Selection"?Ji:t.locationSpot,F.alloc()),t.location=m,F.free(m)),isNaN(O)||isNaN(d)?(t=c.ga(Ji,F.alloc()),O=tt.allocAt(t.x,t.y,0,0),O.Ye(c.ga(Yo,t)),O.Ye(c.ga(Id,t)),O.Ye(c.ga(Fd,t)),Ki(i,O.width+l||0,O.height+u||0),this.Ge(-s.left,-s.top,i.width,i.height),F.free(t),tt.free(O)):(Ki(i,O+l||0,d+u||0),this.Ge(-s.left,-s.top,i.width,i.height))}},gn.prototype.eh=function(t,i,s,l){this.actualBounds.h(t,i,s,l)},gn.prototype.computeBorder=function(t){var i=this.part,s=i.diagram,l=s===null||!s.animationManager.isAnimating;if(s!==null&&i instanceof Lt&&!i.layer.isTemporary&&i.computesBoundsAfterDrag&&this.jo.w()){var u=s.toolManager.findTool("Dragging");if(u===s.currentTool&&(s=u.computeBorder(i,this.jo,t),s!==null))return s}s=tt.alloc(),u=this.computeMemberBounds(s);var c=this.zb;return i instanceof Lt&&!i.isSubGraphExpanded?t.h(u.x-c.left,u.y-c.top,0,0):t.h(u.x-c.left,u.y-c.top,Math.max(u.width+c.left+c.right,0),Math.max(u.height+c.top+c.bottom,0)),tt.free(s),l&&i instanceof Lt&&i.computesBoundsIncludingLocation&&i.location.w()&&t.Ye(i.location),t},gn.prototype.computeMemberBounds=function(t){if(!(this.part instanceof Lt))return t.h(0,0,0,0),t;for(var i=this.part,s=1/0,l=1/0,u=-1/0,c=-1/0,d=i.memberParts;d.next();){var m=d.value;if(m.isVisible()){if(m instanceof rt&&(!i.computesBoundsIncludingLinks||xa(m)||m.fromNode===i||m.toNode===i))continue;m=m.actualBounds,m.left<s&&(s=m.left),m.top<l&&(l=m.top),m.right>u&&(u=m.right),m.bottom>c&&(c=m.bottom)}}return isFinite(s)&&isFinite(l)?t.h(s,l,u-s,c-l):(i=i.location,t.h(i.x,i.y,0,0)),t},S.Object.defineProperties(gn.prototype,{padding:{get:function(){return this.zb},set:function(t){typeof t=="number"&&(t=new ne(t));var i=this.zb;i.D(t)||(this.zb=t=t.J(),this.g("padding",i,t),this.v())}}}),gn.className="Placeholder";function rt(t){kt.call(this,nt.Link),this.Qa=8,this.ef=null,this.ff="",this.uf=this.fn=null,this.vf="",this.to=null,this.pk=yn,this.Nm=0,this.Pm=yn,this.Qm=NaN,this.qj=kT,this.oo=.5,this.wd=null,this.Ob=new ct().freeze(),this.Tg=this.Mg=null,this.ll=new tt,this.ua=new lt,this.u=this.o=this.Sf=this.Wf=null,this.ru=new F,this.bq=this.Mw=this.Lw=null,this.ut=NaN,this.ba=null,this.j=[],t&&Object.assign(this,t)}x(rt,kt),rt.prototype.cloneProtected=function(t){kt.prototype.cloneProtected.call(this,t),t.Qa=this.Qa&-113,t.ff=this.ff,t.fn=this.fn,t.vf=this.vf,t.to=this.to,t.pk=this.pk,t.Nm=this.Nm,t.Pm=this.Pm,t.Qm=this.Qm,t.qj=this.qj,t.oo=this.oo,this.ba!==null&&(t.ba=this.ba.copy())},n=rt.prototype,n.Af=function(t){kt.prototype.Af.call(this,t),this.ff=t.ff,this.vf=t.vf,t.Mg=null,t.bb(),t.Sf=this.Sf;var i=t.fromPort;i!==null&&er(i),t=t.toPort,t!==null&&er(t)},n.qb=function(t){t.classType===rt?(t.value&2)===2?this.routing=t:t===mr||t===Ma||t===bp?this.curve=t:t===x0||t===t1||t===e1?this.adjusting=t:t!==kT&&t!==yn&&D("Unknown Link enum value for a Link property: "+t):kt.prototype.qb.call(this,t)},n.Xc=function(){this.ba===null&&(this.ba=new o0)},n.si=function(){var t=this.fromNode;if(t!==null){var i=t.findVisibleNode();if(i!==null&&(t=i),xs(t)||Tu(t))return!1}return t=this.toNode,!(t!==null&&(i=t.findVisibleNode(),i!==null&&(t=i),xs(t)||Tu(t)))},n.zv=function(){return!1},n.Av=function(){},n.Zc=function(){return!1},rt.prototype.computeAngle=function(t,i,s){return rt.computeAngle(i,s)},rt.computeAngle=function(t,i){switch(t){default:case yn:t=0;break;case w0:t=i;break;case S0:t=i+90;break;case k0:t=i-90;break;case PT:t=i+180;break;case i1:t=U.ap(i),90<t&&270>t&&(t-=180);break;case P0:t=U.ap(i+90),90<t&&270>t&&(t-=180);break;case b0:t=U.ap(i-90),90<t&&270>t&&(t-=180);break;case n1:if(t=U.ap(i),45<t&&135>t||225<t&&315>t)return 0;90<t&&270>t&&(t-=180)}return U.ap(t)};function kp(t){var i=t.fromNode,s=t.toNode,l=null;if(i!==null?l=s!==null?i.px(s):i.containingGroup:s!==null?l=s.containingGroup:l=null,i=l,s=t.Ah,s!==i){s!==null&&vT(s,t),t.Ah=i,i!==null&&OT(i,t);var u=t.containingGroupChanged;if(u!==null){var c=!0,d=t.diagram;d!==null&&(c=d.aa,d.aa=!0),u(t,s,i),d!==null&&(d.aa=c)}!t.fd||t.Lw!==s&&t.Mw!==s||t.bb()}if(t.isLabeledLink)for(t=t.labelNodes;t.next();)t.value.containingGroup=l}n=rt.prototype,n.oh=function(){var t=this.containingGroup;t!==null&&this.fromNode!==t&&this.toNode!==t&&t.computesBoundsIncludingLinks&&kt.prototype.oh.call(this)},n.So=function(t){var i=this.fromNode;return t===i?this.toNode:i},n.Cz=function(t){var i=this.fromPort;return t===i?this.toPort:i};function lD(t,i){t.wd===null&&(t.wd=new at),t.wd.add(i),t.v()}n.Uo=function(t){if(kt.prototype.Uo.call(this,t),Xh(this)&&this.Wo(this.actualBounds),!t){t=this.ef;var i=null;t!==null&&(i=this.fromPort,Yx(t,this,i));var s=this.uf;if(s!==null){var l=this.toPort;s===t&&l===i||Yx(s,this,l)}O0(this)}},n.Vo=function(t){if(kt.prototype.Vo.call(this,t),Xh(this)&&this.Wo(this.actualBounds),!t){t=this.ef;var i=null;t!==null&&(i=this.fromPort,Ux(t,this,i));var s=this.uf;if(s!==null){var l=this.toPort;s===t&&l===i||Ux(s,this,l)}v0(this)}},n.Kj=function(){if(this.fd=!0,this.wd!==null){var t=this.diagram;if(t!==null)for(var i=this.wd.copy().iterator;i.next();)t.remove(i.value)}this.data!==null&&(t=this.diagram,t!==null&&t.partManager.removeDataForLink(this))},rt.prototype.updateRelationshipsFromData=function(){if(this.data!==null){var t=this.diagram;t!==null&&t.partManager.updateRelationshipsFromData(this)}},rt.prototype.move=function(t,i){var s=i?this.location:this.position,l=s.x;isNaN(l)&&(l=0);var u=s.y;for(isNaN(u)&&(u=0),l=t.x-l,u=t.y-u,i===!0?kt.prototype.move.call(this,t,!1):(t=F.allocAt(s.x+l,s.y+u),kt.prototype.move.call(this,t,!1),F.free(t)),Ca(this,l,u),t=this.labelNodes;t.next();)i=t.value,s=i.position,i.moveTo(s.x+l,s.y+u)},rt.prototype.canRelinkFrom=function(){if(!this.relinkableFrom)return!1;var t=this.layer;return t===null?!0:t.allowRelink?(t=t.diagram,!!(t===null||t.allowRelink)):!1},rt.prototype.canRelinkTo=function(){if(!this.relinkableTo)return!1;var t=this.layer;return t===null?!0:t.allowRelink?(t=t.diagram,!!(t===null||t.allowRelink)):!1},rt.prototype.computeMidPoint=function(t){var i=this.pointsCount;if(i===0)return t.assign(of),t;if(i===1)return t.assign(this.i(0)),t;if(i===2){var s=this.i(0),l=this.i(1);return t.h((s.x+l.x)/2,(s.y+l.y)/2),t}if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===mr))return this.ua.Pu(.5,t),t.add(this.i(0)),s=this.ua.figures.first(),t.offset(-s.startX,-s.startY),t;if(this.computeCurve()===mr){if(i===3){s=this.i(0),l=this.i(1);var u=this.i(2);return U.ax(s.x,s.y,l.x,l.y,l.x,l.y,u.x,u.y,t),t}if(l=(i-1)/3|0,s=3*(l/2|0),l%2===1){l=this.i(s),u=this.i(s+1);var c=this.i(s+2);s=this.i(s+3),U.ax(l.x,l.y,u.x,u.y,c.x,c.y,s.x,s.y,t)}else t.assign(this.i(s));return t}var d=this.flattenedLengths;for(s=this.flattenedTotalLength,u=c=l=0;l<s/2&&c<i&&(u=d[c],!(l+u>s/2));)l+=u,c++;return i=this.i(c),c=this.i(c+1),1>Math.abs(i.x-c.x)?i.y>c.y?t.h(i.x,i.y-(s/2-l)):t.h(i.x,i.y+(s/2-l)):1>Math.abs(i.y-c.y)?i.x>c.x?t.h(i.x-(s/2-l),i.y):t.h(i.x+(s/2-l),i.y):(s=(s/2-l)/u,t.h(i.x+s*(c.x-i.x),i.y+s*(c.y-i.y))),t},rt.prototype.computeMidAngle=function(){var t=this.pointsCount;if(2>t)return NaN;if(t===2)return this.i(0).ab(this.i(1));if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===mr))return this.ua.wx(.5);if(this.computeCurve()===mr&&4<=t){var i=(t-1)/3|0,s=3*(i/2|0);if(i%2===1){s=Math.floor(s),t=this.i(s),i=this.i(s+1);var l=this.i(s+2);return s=this.i(s+3),U.My(t.x,t.y,i.x,i.y,l.x,l.y,s.x,s.y)}if(0<s&&s+1<t)return this.i(s-1).ab(this.i(s+1))}i=this.flattenedLengths,l=this.flattenedTotalLength;var u=0;s=0;for(var c;u<l/2&&s<t&&(c=i[s],!(u+c>l/2));)u+=c,s++;if(i=this.i(s),l=this.i(s+1),1>Math.abs(i.x-l.x)&&1>Math.abs(i.y-l.y)){if(0<s&&s+2<t)return this.i(s-1).ab(this.i(s+2))}else{if(1>Math.abs(i.x-l.x))return i.y>l.y?270:90;if(1>Math.abs(i.y-l.y))return i.x>l.x?180:0}return i.ab(l)},n=rt.prototype,n.i=function(t){return this.Ob.s[t]},n.dd=function(t,i){this.Ob.cd(t,i)},n.L=function(t,i,s){this.Ob.cd(t,new F(i,s))},n.Kz=function(t,i){this.Ob.Hb(t,i)},n.m=function(t,i,s){this.Ob.Hb(t,new F(i,s))},n.ne=function(t){this.Ob.add(t)},n.yf=function(t,i){this.Ob.add(new F(t,i))},n.pv=function(t){this.Ob.mb(t)},n.Ej=function(){this.Ob.clear()};function Ca(t,i,s){if(i!==0||s!==0)if(t.pointsCount===0)t.defaultFromPoint&&t.defaultFromPoint.offset(i,s),t.defaultToPoint&&t.defaultToPoint.offset(i,s);else{for(var l=t.fd,u=new ct,c=t.Ob.iterator;c.next();){var d=c.value;u.add(new F(d.x+i,d.y+s).freeze())}u.freeze(),c=t.Ob,t.Ob=u,d=t.diagram,isNaN(i)||isNaN(s)||d!==null&&d.animationManager.Ab?t.v():(t.ke.h(t.ke.x+i,t.ke.y+s),t.pa.h(t.pa.x+i,t.pa.y+s),lp(t)),l?qx(t):(t.defaultFromPoint&&(t.defaultFromPoint=t.i(0)),t.defaultToPoint&&(t.defaultToPoint=t.i(t.pointsCount-1))),d!==null&&d.animationManager.Ab&&G2(d.animationManager,t,u),t.g("points",c,u)}}n.uh=function(){this.Mg===null&&(this.Mg=this.Ob,this.Ob=this.Ob.copy())},n.zf=function(){if(this.Mg!==null){for(var t=this.Mg,i=this.Ob,s=1/0,l=1/0,u=t.s,c=u.length,d=0;d<c;d++){var m=u[d];s=Math.min(m.x,s),l=Math.min(m.y,l)}m=d=1/0;for(var y=i.s,O=y.length,w=0;w<O;w++){var k=y[w];d=Math.min(k.x,d),m=Math.min(k.y,m),k.freeze()}if(i.freeze(),O===c){for(c=0;c<O;c++)if(w=u[c],k=y[c],w.x-s!==k.x-d||w.y-l!==k.y-m){this.rc();break}}else this.rc();this.Mg=null,s=this.diagram,s!==null&&s.animationManager.Ab&&G2(s.animationManager,this,i),qx(this),this.g("points",t,i)}},n.rv=function(){this.Mg!==null&&(this.Ob=this.Mg,this.Mg=null)};function qx(t){t.Ob.count===0?t.fd=!1:(t.fd=!0,t.bq=null,t.ut=NaN,t.defaultFromPoint=t.i(0),t.defaultToPoint=t.i(t.pointsCount-1),Jx(t,!1))}n.bb=function(){if(!this.suspendsRouting){var t=this.diagram;if(t){if(t.zs.contains(this)||t.undoManager.isUndoingRedoing||(t=t.animationManager,t.isTicking&&!t.isAnimating))return;this.Tg===null||t.isTicking||(this.Tg=null)}t=this.path,t!==null&&(this.fd=!1,this.v(),t.v())}},n.vg=function(){if(!this.fd&&!this.computingPoints){var t=!0;try{this.computingPoints=!0,this.uh(),t=this.computePoints()}catch{this.computingPoints=!1,this.rv()}finally{this.computingPoints=!1,t?this.zf():this.rv()}}},rt.prototype.computePoints=function(){if(this.diagram===null)return!1;var t=this.fromNode,i=null;if(t===null?(bf||(bf=new ft,bf.desiredSize=wu,bf.Va()),this.defaultFromPoint&&(bf.location=this.defaultFromPoint,bf.Va(),i=t=bf)):i=this.fromPort,i!==null&&!t.isVisible()){var s=t.findVisibleNode();s!==null&&s!==t?(t=s,i=s.port):t=s}if(this.Lw=t,t===null||!t.location.w())return!1;for(;!(i===null||i.actualBounds.w()&&i.Ed());)i=i.panel;if(i===null)return!1;var l=this.toNode,u=null;if(l===null?(Tf||(Tf=new ft,Tf.desiredSize=wu,Tf.Va()),this.defaultToPoint&&(Tf.location=this.defaultToPoint,Tf.Va(),u=l=Tf)):u=this.toPort,u===null||l.isVisible()||(s=l.findVisibleNode(),s!==null&&s!==l?(l=s,u=s.port):l=s),this.Mw=l,l===null||!l.location.w())return!1;for(;!(u===null||u.actualBounds.w()&&u.Ed());)u=u.panel;if(u===null)return!1;var c=this.pointsCount,d=this.computeSpot(!0,i);s=this.computeSpot(!1,u);var m=Pp(d),y=Pp(s),O=i===u&&i!==null,w=this.isOrthogonal,k=this.curve===mr;this.Wf=O&&!w?k=!0:!1;var P=this.computeAdjusting()===yn||O;if(!w&&!O&&m&&y){if(m=!1,!P&&3<=c&&(P=this.getLinkPoint(t,i,d,!0,!1,l,u),y=this.getLinkPoint(l,u,s,!1,!1,t,i),m=this.adjustPoints(0,P,c-1,y))&&(P=this.getLinkPoint(t,i,d,!0,!1,l,u),y=this.getLinkPoint(l,u,s,!1,!1,t,i),this.adjustPoints(0,P,c-1,y)),!m)if(this.Ej(),k){c=this.getLinkPoint(t,i,d,!0,!1,l,u),P=this.getLinkPoint(l,u,s,!1,!1,t,i),m=P.x-c.x,y=P.y-c.y,O=this.computeCurviness(),k=w=0;var T=c.x+m/3,M=c.y+y/3,A=T,I=M;U.B(y,0)?I=0<m?I-O:I+O:(w=-m/y,k=Math.sqrt(O*O/(w*w+1)),0>O&&(k=-k),A=(0>y?-1:1)*k+T,I=w*(A-T)+M),T=c.x+2*m/3,M=c.y+2*y/3;var L=T,z=M;U.B(y,0)?z=0<m?z-O:z+O:(L=(0>y?-1:1)*k+T,z=w*(L-T)+M),this.Ej(),this.ne(c),this.yf(A,I),this.yf(L,z),this.ne(P),this.dd(0,this.getLinkPoint(t,i,d,!0,!1,l,u)),this.dd(3,this.getLinkPoint(l,u,s,!1,!1,t,i))}else c=l,P=u,l=this.getLinkPoint(t,i,d,!0,!1,c,P),u=this.getLinkPoint(c,P,s,!1,!1,t,i),this.hasCurviness()?(P=u.x-l.x,s=u.y-l.y,d=this.computeCurviness(),t=l.x+P/2,i=l.y+s/2,c=t,m=i,U.B(s,0)?m=0<P?m-d:m+d:(P=-P/s,c=Math.sqrt(d*d/(P*P+1)),0>d&&(c=-c),c=(0>s?-1:1)*c+t,m=P*(c-t)+i),this.ne(l),this.yf(c,m),this.ne(u)):(this.ne(l),this.ne(u),m=tt.alloc(),i.mi(m),y=m.ca(u),P.mi(m),O=m.ca(l),(y||O)&&(d=i.ga(Hx(d),new F),this.dd(0,this.getLinkPointFromPoint(t,i,d,u,!0,d)),s=P.ga(Hx(s),new F),this.dd(1,this.getLinkPointFromPoint(c,P,s,l,!1,s))),tt.free(m))}else{k=this.isAvoiding,P&&(w&&k||O)&&this.Ej();var X=O?this.computeCurviness():0;k=this.getLinkPoint(t,i,d,!0,w,l,u),T=A=M=0,(w||!m||O)&&(I=this.computeEndSegmentLength(t,i,d,!0),T=this.getLinkDirection(t,i,k,d,!0,w,l,u),O&&(m||d.D(s)||!w&&d.x+s.x===1&&d.y+s.y===1)&&(T-=w?90:30,0>X&&(T-=180)),0>T?T+=360:360<=T&&(T-=360),O&&(I+=Math.abs(X)*(w?1:2)),T===0?M=I:T===90?A=I:T===180?M=-I:T===270?A=-I:(M=I*Math.cos(T*Math.PI/180),A=I*Math.sin(T*Math.PI/180)),d.Mc()&&O&&(I=i.ga(oe,F.alloc()),L=F.allocAt(I.x+1e3*M,I.y+1e3*A),this.getLinkPointFromPoint(t,i,I,L,!0,k),F.free(I),F.free(L))),I=this.getLinkPoint(l,u,s,!1,w,t,i);var _=z=L=0;if(w||!y||O){var Y=this.computeEndSegmentLength(l,u,s,!1);_=this.getLinkDirection(l,u,I,s,!1,w,t,i),O&&(y||d.D(s)||!w&&d.x+s.x===1&&d.y+s.y===1)&&(_+=w?0:30,0>X&&(_+=180)),0>_?_+=360:360<=_&&(_-=360),O&&(Y+=Math.abs(X)*(w?1:2)),_===0?L=Y:_===90?z=Y:_===180?L=-Y:_===270?z=-Y:(L=Y*Math.cos(_*Math.PI/180),z=Y*Math.sin(_*Math.PI/180)),s.Mc()&&O&&(s=u.ga(oe,F.alloc()),d=F.allocAt(s.x+1e3*L,s.y+1e3*z),this.getLinkPointFromPoint(l,u,s,d,!1,I),F.free(s),F.free(d))}s=k,(w||!m||O)&&(s=new F(k.x+M,k.y+A)),d=I,(w||!y||O)&&(d=new F(I.x+L,I.y+z)),!P&&!w&&m&&3<c&&this.adjustPoints(0,k,c-2,d)?this.dd(c-1,I):!P&&!w&&y&&3<c&&this.adjustPoints(1,s,c-1,I)?this.dd(0,k):!P&&(w?6<=c:4<c)&&this.adjustPoints(1,s,c-2,d)?(this.dd(0,k),this.dd(c-1,I)):(this.Ej(),this.ne(k),(w||!m||O)&&this.ne(s),w&&this.addOrthoPoints(s,T,d,_,t,l),(w||!y||O)&&this.ne(d),this.ne(I))}return!0};function xT(t,i){return Math.abs(i.x-t.x)>Math.abs(i.y-t.y)?(i.x>=t.x?i.x=t.x+9e9:i.x=t.x-9e9,i.y=t.y):(i.y>=t.y?i.y=t.y+9e9:i.y=t.y-9e9,i.x=t.x),i}rt.prototype.getLinkPointFromPoint=function(t,i,s,l,u,c){if(c===void 0&&(c=new F),t===null||i===null)return c.assign(s),c;if(t.isVisible()||(u=t.findVisibleNode(),u!==null&&u!==t&&(i=u.port)),t=null,u=i.panel,u===null||u.se()||(u=u.panel),u===null){u=l.x,l=l.y;var d=s.x;s=s.y}else{t=u.oe,u=1/(t.m11*t.m22-t.m12*t.m21),d=t.m22*u;var m=-t.m12*u,y=-t.m21*u,O=t.m11*u,w=u*(t.m21*t.dy-t.m22*t.dx),k=u*(t.m12*t.dx-t.m11*t.dy);u=l.x*d+l.y*y+w,l=l.x*m+l.y*O+k,d=s.x*d+s.y*y+w,s=s.x*m+s.y*O+k}return i.Rj(u,l,d,s,c),t!==null&&c.transform(t),c};function Gx(t,i){var s=i.Yn;return s===null&&(s=new Cf,s.port=i,s.node=i.part,i.Yn=s),gD(s,t)}rt.prototype.getLinkPoint=function(t,i,s,l,u,c,d,m){if(m===void 0&&(m=new F),s.sb()&&!Pp(s))return i.ga(s,m),m;if(s.$c()){var y=Gx(this,i);if(y!==null){if(m.assign(y.Yo),u&&this.routing===hD){var O=Gx(this,d);if(O!==null&&y.Fl<O.Fl){y=F.alloc(),O=F.alloc();var w=new tt(i.ga(Ji,y),i.ga(Yo,O)),k=this.computeSpot(!l,d);t=this.getLinkPoint(c,d,k,!l,u,t,i,O),(s.Hf(zd)||s.Hf(Xd))&&t.y>=w.y&&t.y<=w.y+w.height?m.y=t.y:(s.Hf(Vd)||s.Hf(Bd))&&t.x>=w.x&&t.x<=w.x+w.width&&(m.x=t.x),F.free(y),F.free(O)}}return m}}return s=i.ga(Hx(s),F.alloc()),this.pointsCount>(u?6:2)?(d=l?this.i(1):this.i(this.pointsCount-2),u&&(d=xT(s,d.copy()))):(y=this.computeSpot(!l,d),c=F.alloc(),d=d.ga(Hx(y),c),u&&(d=xT(s,d)),F.free(c)),this.getLinkPointFromPoint(t,i,s,d,l,m),F.free(s),m},rt.prototype.getLinkDirection=function(t,i,s,l,u,c,d,m){t:if(l.sb())var y=l.x>l.y?l.x>1-l.y?0:l.x<1-l.y?270:315:l.x<l.y?l.x>1-l.y?90:l.x<1-l.y?180:135:.5>l.x?225:.5<l.x?45:0;else{if(l.$c()&&(y=Gx(this,i),y!==null))switch(y.Nc){case 1:y=270;break t;case 2:y=180;break t;default:case 4:y=0;break t;case 8:y=90;break t}y=i.ga(oe,F.alloc()),this.pointsCount>(c?6:2)?(m=u?this.i(1):this.i(this.pointsCount-2),m=c?xT(y,m.copy()):s):(s=F.alloc(),m=m.ga(oe,s),F.free(s)),s=Math.abs(m.x-y.x)>Math.abs(m.y-y.y)?m.x>=y.x?0:180:m.y>=y.y?90:270,F.free(y),y=s}return d&&l.Mc()&&d.Td(t)&&(y+=180,360<=y&&(y-=360)),Pp(l)||(t=i.li(),t===0)||(45<=t&&135>t?y+=90:135<=t&&225>t?y+=180:225<=t&&315>t&&(y+=270),360<=y&&(y-=360)),y},rt.prototype.computeEndSegmentLength=function(t,i,s,l){return i!==null&&s.$c()&&(t=Gx(this,i),t!==null)?t.Ju:(t=l?this.fromEndSegmentLength:this.toEndSegmentLength,i!==null&&isNaN(t)&&(t=l?i.fromEndSegmentLength:i.toEndSegmentLength),isNaN(t)&&(t=10),t)},rt.prototype.computeSpot=function(t,i){return i===void 0&&(i=null),t?(t=i||this.fromPort,t===null?t=oe:(i=this.fromSpot,i.Yb()&&(i=t.fromSpot),t=i===Zi?_i:i)):(t=i||this.toPort,t===null?t=oe:(i=this.toSpot,i.Yb()&&(i=t.toSpot),t=i===Zi?_i:i)),t};function Pp(t){return t===_i||t.x===.5&&t.y===.5}function Hx(t){return t.x===.5&&t.y===.5?t:oe}rt.prototype.computeOtherPoint=function(t,i){return this.computeAdjusting()!==yn&&4<this.pointsCount?this.computeMidPoint(new F):(t=i.Yn,t=t!==null?gD(t,this):null,t!==null?t.Yo:i.ga(oe))},rt.prototype.computeShortLength=function(t){if(t){if(t=this.fromShortLength,isNaN(t)){var i=this.fromPort;i!==null&&(t=i.fromShortLength)}return isNaN(t)?0:t}return t=this.toShortLength,isNaN(t)&&(i=this.toPort,i!==null&&(t=i.toShortLength)),isNaN(t)?0:t},rt.prototype.Cf=function(t,i,s,l,u,c){if(this.pickable===!1)return!1;i===void 0&&(i=null),s===void 0&&(s=null);var d=c;if(c===void 0&&(d=Xt.alloc(),d.reset()),d.multiply(this.transform),this.fh(t,d))return _b(this,i,s,u),c===void 0&&Xt.free(d),!0;if(this.Yc(t,d)){var m=!1;if(!this.isAtomic)for(var y=this.O.s,O=y.length;O--;){var w=y[O];if(w.visible||w===this.locationObject){var k=w.actualBounds,P=this.naturalBounds;if(!(k.x>P.width||k.y>P.height||0>k.x+k.width||0>k.y+k.height)){if(k=Xt.alloc(),k.set(d),w instanceof nt)m=w.Cf(t,i,s,l,u,k);else if(this.path===w){if(w instanceof It)if(m=t,P=l,w.pickable===!1)m=!1;else if(k.multiply(w.transform),P)t:{var T=m,M=k;if(w.fh(T,M))m=!0;else{if(M===void 0&&(M=w.transform,T.Re(w.actualBounds))){m=!0;break t}m=T.left,P=T.right;var A=T.top;T=T.bottom;var I=F.alloc(),L=F.alloc(),z=F.alloc(),X=Xt.alloc();X.set(M),X.bv(w.transform),X.Uj(),L.x=P,L.y=A,L.transform(X),I.x=m,I.y=A,I.transform(X),M=!1,Vh(w,I,L,z)?M=!0:(I.x=P,I.y=T,I.transform(X),Vh(w,I,L,z)?M=!0:(L.x=m,L.y=T,L.transform(X),Vh(w,I,L,z)?M=!0:(I.x=m,I.y=A,I.transform(X),Vh(w,I,L,z)&&(M=!0)))),Xt.free(X),F.free(I),F.free(L),F.free(z),m=M}}else m=w.fh(m,k)}else m=HL(w,t,l,k);m&&(P=w,i!==null&&(P=i(w)),P&&(s===null||s(P))&&u.add(P)),Xt.free(k)}}}return c===void 0&&Xt.free(d),m||this.background!==null||this.areaBackground!==null}return c===void 0&&Xt.free(d),!1},rt.prototype.computeCurve=function(){if(this.Wf===null){var t=this.fromPort,i=this.isOrthogonal;this.Wf=t!==null&&t===this.toPort&&!i}return this.Wf?mr:this.curve},rt.prototype.computeCorner=function(){if(this.curve===mr)return 0;var t=this.corner;return(isNaN(t)||0>t)&&(t=10),t},rt.prototype.findMidLabel=function(){for(var t=this.path,i=this.O.s,s=i.length,l=0;l<s;l++){var u=i[l];if(u!==t&&!u.isPanelMain&&(u.segmentIndex===-1/0||isNaN(u.segmentIndex)))return u}for(t=this.labelNodes;t.next();)if(i=t.value,i.segmentIndex===-1/0||isNaN(i.segmentIndex))return i;return null},rt.prototype.computeSpacing=function(){if(!this.isVisible())return 0;var t=fD;t=Math.max(t,this.computeThickness());var i=this.fromPort,s=this.toPort;if(i!==null&&s!==null){var l=this.findMidLabel();if(l!==null){var u=l.naturalBounds,c=l.margin,d=isNaN(u.width)?30:u.width*l.scale+c.left+c.right;u=isNaN(u.height)?14:u.height*l.scale+c.top+c.bottom,l=l.segmentOrientation,l===w0||l===i1||l===PT?t=Math.max(t,u):l===k0||l===b0||l===S0||l===P0?t=Math.max(t,d):(i=i.ga(oe).ab(s.ga(oe))/180*Math.PI,t=Math.max(t,Math.abs(Math.sin(i)*d)+Math.abs(Math.cos(i)*u)+1)),this.curve===mr&&(t*=1.333)}}return t},rt.prototype.arrangeBundledLinks=function(t,i){if(i)for(i=0;i<t.length;i++){var s=t[i];s.computeAdjusting()===yn&&s.bb()}},rt.prototype.computeCurviness=function(){var t=this.curviness;if(isNaN(t)){t=cD;var i=this.Sf;if(i!==null){for(var s=St(),l=0,u=i.links,c=0;c<u.length;c++){var d=u[c].computeSpacing();s.push(d),l+=d}for(l=-l/2,c=0;c<u.length;c++){if(u[c]===this){t=l+s[c]/2;break}l+=s[c]}i.Cs===this.fromNode&&(t=-t),dt(s)}}return t},rt.prototype.computeThickness=function(){if(!this.isVisible())return 0;var t=this.path;return t!==null?Math.max(t.strokeWidth,1):1},rt.prototype.hasCurviness=function(){return!isNaN(this.curviness)||this.Sf!==null},rt.prototype.adjustPoints=function(t,i,s,l){var u=this.computeAdjusting();if(this.isOrthogonal){if(u===t1)return!1;u===e1&&(u=x0)}switch(u){case t1:var c=this.i(t),d=this.i(s);if(!c.Xa(i)||!d.Xa(l)){u=c.x,c=c.y;var m=d.x-u,y=d.y-c,O=Math.sqrt(m*m+y*y);if(!U.$(O,0)){if(U.$(m,0))var w=0>y?-Math.PI/2:Math.PI/2;else w=Math.atan(y/Math.abs(m)),0>m&&(w=Math.PI-w);d=i.x;var k=i.y;m=l.x-d;var P=l.y-k;for(y=Math.sqrt(m*m+P*P),U.$(m,0)?P=0>P?-Math.PI/2:Math.PI/2:(P=Math.atan(P/Math.abs(m)),0>m&&(P=Math.PI-P)),O=y/O,w=P-w,this.dd(t,i),t+=1;t<s;t++)i=this.i(t),m=i.x-u,y=i.y-c,i=Math.sqrt(m*m+y*y),U.$(i,0)||(U.$(m,0)?y=0>y?-Math.PI/2:Math.PI/2:(y=Math.atan(y/Math.abs(m)),0>m&&(y=Math.PI-y)),m=y+w,i*=O,this.L(t,d+i*Math.cos(m),k+i*Math.sin(m)));this.dd(s,l)}}return!0;case e1:if(c=this.i(t),k=this.i(s),!c.Xa(i)||!k.Xa(l)){u=c.x,c=c.y,d=k.x,k=k.y,O=(d-u)*(d-u)+(k-c)*(k-c),m=i.x,w=i.y,y=l.x,P=l.y;var T=1;if(y-m!==0){var M=(P-w)/(y-m);T=Math.sqrt(1+1/(M*M))}else M=9e9;for(this.dd(t,i),t+=1;t<s;t++){i=this.i(t);var A=i.x,I=i.y,L=.5;O!==0&&(L=((u-A)*(u-d)+(c-I)*(c-k))/O);var z=u+L*(d-u),X=c+L*(k-c);i=Math.sqrt((A-z)*(A-z)+(I-X)*(I-X)),I<M*(A-z)+X&&(i=-i),0<M&&(i=-i),A=m+L*(y-m),L=w+L*(P-w),M!==0?(i=A+i/T,this.L(t,i,L-(i-A)/M)):this.L(t,A,L+i)}this.dd(s,l)}return!0;case x0:t:{if(this.isOrthogonal&&(u=this.i(t),c=this.i(t+1),d=this.i(t+2),m=c.x,w=c.y,k=m,O=w,U.B(u.y,c.y)?U.B(c.x,d.x)?w=i.y:U.B(c.y,d.y)&&(m=i.x):U.B(u.x,c.x)&&(U.B(c.y,d.y)?m=i.x:U.B(c.x,d.x)&&(w=i.y)),this.L(t+1,m,w),u=this.i(s),c=this.i(s-1),d=this.i(s-2),m=c.x,w=c.y,y=m,P=w,U.B(u.y,c.y)?U.B(c.x,d.x)?w=l.y:U.B(c.y,d.y)&&(m=l.x):U.B(u.x,c.x)&&(U.B(c.y,d.y)?m=l.x:U.B(c.x,d.x)&&(w=l.y)),this.L(s-1,m,w),aD(this))){this.L(t+1,k,O),this.L(s-1,y,P),s=!1;break t}this.dd(t,i),this.dd(s,l),s=!0}return s;default:return!1}},rt.prototype.addOrthoPoints=function(t,i,s,l,u,c){0>i?i+=360:360<=i&&(i-=360),0>l?l+=360:360<=l&&(l-=360);var d=l;i=315<=i||45>i?0:45<=i&&135>i?90:135<=i&&225>i?180:270,l=315<=l||45>l?0:45<=l&&135>l?90:135<=l&&225>l?180:270;var m=u.actualBounds.copy(),y=c.actualBounds.copy();if(m.w()&&y.w()){m.Bc(T0,T0),y.Bc(T0,T0),m.Ye(t),y.Ye(s);var O=F.alloc(),w=F.alloc();i===0?s.x>t.x||l===270&&s.y<t.y&&y.right>t.x||l===90&&s.y>t.y&&y.right>t.x?(O.h(s.x,t.y),w.h(s.x,(t.y+s.y)/2),l===180?(O.x=this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!1),w.x=O.x,w.y=s.y):l===270&&s.y<t.y||l===90&&s.y>t.y?(O.x=t.x<y.left?this.computeMidOrthoPosition(t.x,t.y,y.left,s.y,!1):t.x<y.right&&(l===270&&t.y<y.top||l===90&&t.y>y.bottom)?this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!1):y.right,w.x=O.x,w.y=s.y):l===0&&t.x<y.left&&t.y>y.top&&t.y<y.bottom&&(O.x=t.x,O.y=t.y<s.y?Math.min(s.y,y.top):Math.max(s.y,y.bottom),w.y=O.y)):(O.h(t.x,s.y),w.h((t.x+s.x)/2,s.y),(l===180||l===90&&s.y<m.top||l===270&&s.y>m.bottom)&&(l===180&&(y.ca(t)||m.ca(s))?O.y=this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!0):s.y<t.y&&(l===180||l===90)?O.y=this.computeMidOrthoPosition(t.x,m.top,s.x,Math.max(s.y,y.bottom),!0):s.y>t.y&&(l===180||l===270)&&(O.y=this.computeMidOrthoPosition(t.x,m.bottom,s.x,Math.min(s.y,y.top),!0)),w.x=s.x,w.y=O.y),O.y>m.top&&O.y<m.bottom&&(s.x>=m.left&&s.x<=t.x||t.x<=y.right&&t.x>=s.x?(l===90||l===270)&&(O.h(Math.max((t.x+s.x)/2,t.x),t.y),w.h(O.x,s.y)):(O.y=l===270||(l===0||l===180)&&s.y<t.y?Math.min(s.y,l===0?m.top:Math.min(m.top,y.top)):Math.max(s.y,l===0?m.bottom:Math.max(m.bottom,y.bottom)),w.x=s.x,w.y=O.y))):i===180?s.x<t.x||l===270&&s.y<t.y&&y.left<t.x||l===90&&s.y>t.y&&y.left<t.x?(O.h(s.x,t.y),w.h(s.x,(t.y+s.y)/2),l===0?(O.x=this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!1),w.x=O.x,w.y=s.y):l===270&&s.y<t.y||l===90&&s.y>t.y?(O.x=t.x>y.right?this.computeMidOrthoPosition(t.x,t.y,y.right,s.y,!1):t.x>y.left&&(l===270&&t.y<y.top||l===90&&t.y>y.bottom)?this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!1):y.left,w.x=O.x,w.y=s.y):l===180&&t.x>y.right&&t.y>y.top&&t.y<y.bottom&&(O.x=t.x,O.y=t.y<s.y?Math.min(s.y,y.top):Math.max(s.y,y.bottom),w.y=O.y)):(O.h(t.x,s.y),w.h((t.x+s.x)/2,s.y),(l===0||l===90&&s.y<m.top||l===270&&s.y>m.bottom)&&(l===0&&(y.ca(t)||m.ca(s))?O.y=this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!0):s.y<t.y&&(l===0||l===90)?O.y=this.computeMidOrthoPosition(t.x,m.top,s.x,Math.max(s.y,y.bottom),!0):s.y>t.y&&(l===0||l===270)&&(O.y=this.computeMidOrthoPosition(t.x,m.bottom,s.x,Math.min(s.y,y.top),!0)),w.x=s.x,w.y=O.y),O.y>m.top&&O.y<m.bottom&&(s.x<=m.right&&s.x>=t.x||t.x>=y.left&&t.x<=s.x?(l===90||l===270)&&(O.h(Math.min((t.x+s.x)/2,t.x),t.y),w.h(O.x,s.y)):(O.y=l===270||(l===0||l===180)&&s.y<t.y?Math.min(s.y,l===180?m.top:Math.min(m.top,y.top)):Math.max(s.y,l===180?m.bottom:Math.max(m.bottom,y.bottom)),w.x=s.x,w.y=O.y))):i===90?s.y>t.y||l===180&&s.x<t.x&&y.bottom>t.y||l===0&&s.x>t.x&&y.bottom>t.y?(O.h(t.x,s.y),w.h((t.x+s.x)/2,s.y),l===270?(O.y=this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!0),w.x=s.x,w.y=O.y):l===180&&s.x<t.x||l===0&&s.x>t.x?(O.y=t.y<y.top?this.computeMidOrthoPosition(t.x,t.y,s.x,y.top,!0):t.y<y.bottom&&(l===180&&t.x<y.left||l===0&&t.x>y.right)?this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!0):y.bottom,w.x=s.x,w.y=O.y):l===90&&t.y<y.top&&t.x>y.left&&t.x<y.right&&(O.x=t.x<s.x?Math.min(s.x,y.left):Math.max(s.x,y.right),O.y=t.y,w.x=O.x)):(O.h(s.x,t.y),w.h(s.x,(t.y+s.y)/2),(l===270||l===0&&s.x<m.left||l===180&&s.x>m.right)&&(l===270&&(y.ca(t)||m.ca(s))?O.x=this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!1):s.x<t.x&&(l===270||l===0)?O.x=this.computeMidOrthoPosition(m.left,t.y,Math.max(s.x,y.right),s.y,!1):s.x>t.x&&(l===270||l===180)&&(O.x=this.computeMidOrthoPosition(m.right,t.y,Math.min(s.x,y.left),s.y,!1)),w.x=O.x,w.y=s.y),O.x>m.left&&O.x<m.right&&(s.y>=m.top&&s.y<=t.y||t.y<=y.bottom&&t.y>=s.y?(l===0||l===180)&&(O.h(t.x,Math.max((t.y+s.y)/2,t.y)),w.h(s.x,O.y)):(O.x=l===180||(l===90||l===270)&&s.x<t.x?Math.min(s.x,l===90?m.left:Math.min(m.left,y.left)):Math.max(s.x,l===90?m.right:Math.max(m.right,y.right)),w.x=O.x,w.y=s.y))):s.y<t.y||l===180&&s.x<t.x&&y.top<t.y||l===0&&s.x>t.x&&y.top<t.y?(O.h(t.x,s.y),w.h((t.x+s.x)/2,s.y),l===90?(O.y=this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!0),w.x=s.x,w.y=O.y):l===180&&s.x<t.x||l===0&&s.x>=t.x?(O.y=t.y>y.bottom?this.computeMidOrthoPosition(t.x,t.y,s.x,y.bottom,!0):t.y>y.top&&(l===180&&t.x<y.left||l===0&&t.x>y.right)?this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!0):y.top,w.x=s.x,w.y=O.y):l===270&&t.y>y.bottom&&t.x>y.left&&t.x<y.right&&(O.x=t.x<s.x?Math.min(s.x,y.left):Math.max(s.x,y.right),O.y=t.y,w.x=O.x)):(O.h(s.x,t.y),w.h(s.x,(t.y+s.y)/2),(l===90||l===0&&s.x<m.left||l===180&&s.x>m.right)&&(l===90&&(y.ca(t)||m.ca(s))?O.x=this.computeMidOrthoPosition(t.x,t.y,s.x,s.y,!1):s.x<t.x&&(l===90||l===0)?O.x=this.computeMidOrthoPosition(m.left,t.y,Math.max(s.x,y.right),s.y,!1):s.x>t.x&&(l===90||l===180)&&(O.x=this.computeMidOrthoPosition(m.right,t.y,Math.min(s.x,y.left),s.y,!1)),w.x=O.x,w.y=s.y),O.x>m.left&&O.x<m.right&&(s.y<=m.bottom&&s.y>=t.y||t.y>=y.top&&t.y<=s.y?(l===0||l===180)&&(O.h(t.x,Math.min((t.y+s.y)/2,t.y)),w.h(s.x,O.y)):(O.x=l===180||(l===90||l===270)&&s.x<t.x?Math.min(s.x,l===270?m.left:Math.min(m.left,y.left)):Math.max(s.x,l===270?m.right:Math.max(m.right,y.right)),w.x=O.x,w.y=s.y)));var k=s;if(this.isAvoiding){var P=this.diagram;if(P===null||u===c||this.layer.isTemporary||!EL(P)||m.ca(k)&&!c.Td(u)||y.ca(t)&&!u.Td(c))i=!1;else{var T=yb(P,!0,this.containingGroup,null);if(this.segmentIndex!==17&&T.Xj(Math.min(t.x,O.x),Math.min(t.y,O.y),Math.abs(t.x-O.x),Math.abs(t.y-O.y))&&T.Xj(Math.min(O.x,w.x),Math.min(O.y,w.y),Math.abs(O.x-w.x),Math.abs(O.y-w.y))&&T.Xj(Math.min(w.x,k.x),Math.min(w.y,k.y),Math.abs(w.x-k.x),Math.abs(w.y-k.y)))i=!1;else{u=t,c=k;var M=s=null;if(P.isVirtualized){P=T.bounds.copy(),P.Bc(-T.Go,-T.Fo);var A=F.alloc();Tp(T,t.x,t.y)||(U.Ff(P.x,P.y,P.x+P.width,P.y+P.height,t.x,t.y,O.x,O.y,A)?(s=t=A.copy(),i=A.ab(O)):U.Ff(P.x,P.y,P.x+P.width,P.y+P.height,O.x,O.y,w.x,w.y,A)?(s=t=A.copy(),i=A.ab(w)):U.Ff(P.x,P.y,P.x+P.width,P.y+P.height,w.x,w.y,k.x,k.y,A)&&(s=t=A.copy(),i=A.ab(k))),Tp(T,k.x,k.y)||(U.Ff(P.x,P.y,P.x+P.width,P.y+P.height,k.x,k.y,w.x,w.y,A)?(M=k=A.copy(),l=w.ab(A)):U.Ff(P.x,P.y,P.x+P.width,P.y+P.height,w.x,w.y,O.x,O.y,A)?(M=k=A.copy(),l=O.ab(A)):U.Ff(P.x,P.y,P.x+P.width,P.y+P.height,O.x,O.y,t.x,t.y,A)&&(M=k=A.copy(),l=t.ab(A))),F.free(A)}m=m.copy().ed(y),m.Bc(T.Go*T.Ns,T.Fo*T.Ns),pD(T,t,i,k,l,m,!0),y=el(T,k.x,k.y),!T.abort&&y>=Cp&&(dD(T),m.Bc(T.Go*T.Hx,T.Fo*T.Ix),pD(T,t,i,k,l,m,!1),y=el(T,k.x,k.y)),!T.abort&&y<Cp&&el(T,k.x,k.y)!==Qa?(wT(this,T,k.x,k.y,l,!0,d),m=this.i(2),4>this.pointsCount?(i===0||i===180?(m.x=t.x,m.y=k.y):(m.x=k.x,m.y=t.y),this.L(2,m.x,m.y),this.m(3,m.x,m.y)):(d=this.i(3),i===0||i===180?U.B(m.x,d.x)?(m=i===0?Math.max(m.x,t.x):Math.min(m.x,t.x),this.L(2,m,t.y),this.L(3,m,d.y)):U.B(m.y,d.y)?(Math.abs(t.y-m.y)<=T.Fo/2&&(this.L(2,m.x,t.y),this.L(3,d.x,t.y)),this.m(2,m.x,t.y)):this.L(2,t.x,m.y):(i===90||i===270)&&(U.B(m.y,d.y)?(m=i===90?Math.max(m.y,t.y):Math.min(m.y,t.y),this.L(2,t.x,m),this.L(3,d.x,m)):U.B(m.x,d.x)?(Math.abs(t.x-m.x)<=T.Go/2&&(this.L(2,t.x,m.y),this.L(3,t.x,d.y)),this.m(2,t.x,m.y)):this.L(2,m.x,t.y))),s!==null&&(t=this.i(1),d=this.i(2),t.x!==d.x&&t.y!==d.y?i===0||i===180?this.m(2,t.x,d.y):this.m(2,d.x,t.y):i===0||i===180?this.m(2,u.x,s.y):this.m(2,s.x,u.y)),M!==null&&(l===0||l===180?this.yf(c.x,M.y):this.yf(M.x,c.y)),i=!0):i=!1}}}else i=!1;i||(this.ne(O.copy()),this.ne(w.copy())),F.free(O),F.free(w)}},rt.prototype.computeMidOrthoPosition=function(t,i,s,l,u){var c=0;return!this.hasCurviness()||this.computeSpot(!0,this.fromPort).$c()||this.computeSpot(!1,this.toPort).$c()||(c=this.computeCurviness()),u?(i+l)/2+c:(t+s)/2+c};function aD(t){if(t.diagram===null||!t.isAvoiding||!EL(t.diagram))return!1;var i=t.points.s,s=i.length;if(4>s)return!1;t=yb(t.diagram,!0,t.containingGroup,null);for(var l=1;l<s-2;l++){var u=i[l],c=i[l+1];if(!t.Xj(Math.min(u.x,c.x),Math.min(u.y,c.y),Math.abs(u.x-c.x),Math.abs(u.y-c.y)))return!0}return!1}function wT(t,i,s,l,u,c,d){var m=i.Go,y=i.Fo,O=el(i,s,l),w=s,k=l;for(u===0?w+=m:u===90?k+=y:u===180?w-=m:k-=y,u!==d&&O>Bh&&el(i,w,k)!==O-1&&(el(i,s-m,l)===O-1?(u=180,w=s-m,k=l):el(i,s+m,l)===O-1?(u=0,w=s+m,k=l):el(i,s,l-y)===O-1?(u=270,w=s,k=l-y):el(i,s,l+y)===O-1&&(u=90,w=s,k=l+y));O>Bh&&el(i,w,k)===O-1;)s=w,l=k,u===0?w+=m:u===90?k+=y:u===180?w-=m:k-=y,--O;c?O>Bh&&(u===180||u===0?s=Math.floor(s/m)*m+m/2:(u===90||u===270)&&(l=Math.floor(l/y)*y+y/2)):(s=Math.floor(s/m)*m+m/2,l=Math.floor(l/y)*y+y/2),O>Bh&&(c=u,d=s,w=l,u===0?(c=90,w+=y):u===90?(c=180,d-=m):u===180?(c=270,w-=y):u===270&&(c=0,d+=m),el(i,d,w)===O-1?wT(t,i,d,w,c,!1,c):(d=s,w=l,u===0?(c=270,w-=y):u===90?(c=0,d+=m):u===180?(c=90,w+=y):u===270&&(c=180,d-=m),el(i,d,w)===O-1&&wT(t,i,d,w,c,!1,c))),t.yf(s,l)}rt.prototype.ez=function(t){var i=t.x;t=t.y;for(var s=this.i(0),l=this.i(1),u=$i(i,t,s.x,s.y,l.x,l.y),c=0,d=1;d<this.pointsCount-1;d++){s=this.i(d+1);var m=$i(i,t,l.x,l.y,s.x,s.y);l=s,m<u&&(c=d,u=m)}return c},rt.prototype.rc=function(){this.kk=!1,this.v()},rt.prototype.Tl=function(t){if(!(!t&&(this.fd===!1||(t=this.Qb(),this.kk&&(t===null||t.geometry!==null))))&&(2>this.pointsCount?this.kk=!0:this.ua=this.makeGeometry(),t=this.path,t!==null)){t.ua=this.ua;for(var i=this.O.s,s=i.length,l=0;l<s;l++){var u=i[l];u!==t&&u.isPanelMain&&u instanceof It&&(u.ua=this.ua)}}},rt.prototype.makeGeometry=function(){var t=this.ua,i=this.pointsCount,s=!1,l=this.diagram;l!==null&&Xh(this)&&l.Eh.contains(this)&&(this.ll.width!==0||this.ll.height!==0)&&(l.animationManager.isAnimating||l.currentTool!==l.toolManager)&&(s=!0);var u=this.i(0).copy(),c=u.copy();l=this.Ob.s;var d=this.computeCurve();if(d===mr&&3<=i&&!U.$(this.smoothness,0))if(i===3){var m=this.i(1);l=Math.min(u.x,m.x);var y=Math.min(u.y,m.y);m=this.i(2),l=Math.min(l,m.x),y=Math.min(y,m.y)}else{if(this.isOrthogonal)for(y=0;y<i;y++)m=l[y],c.x=Math.min(m.x,c.x),c.y=Math.min(m.y,c.y);else for(l=3;l<i;l+=3)l+3>=i&&(l=i-1),y=this.i(l),c.x=Math.min(y.x,c.x),c.y=Math.min(y.y,c.y);l=c.x,y=c.y}else{for(y=0;y<i;y++)m=l[y],c.x=Math.min(m.x,c.x),c.y=Math.min(m.y,c.y);l=c.x,y=c.y}if(l-=this.ru.x,y-=this.ru.y,u.x-=l,u.y-=y,i!==2||Xh(this)){if(t.type=lt.o,m=I$(t),this.computeShortLength(!0)!==0&&(u=kf(this,u,!0,c)),Sp(m,u.x,u.y,!1),d===mr&&3<=i&&!U.$(this.smoothness,0))if(i===3)s=this.i(1),i=s.x-l,s=s.y-y,u=this.i(2).copy(),u.x-=l,u.y-=y,this.computeShortLength(!1)!==0&&(u=kf(this,u,!1,c)),Pa(m,i,s,i,s,u.x,u.y);else if(this.isOrthogonal){i=F.allocAt(l,y),s=F.alloc(),s.assign(this.i(1)),c=F.allocAt(l,y),u=F.allocAt(l,y),d=this.i(0);for(var O,w=this.smoothness/3,k=1;k<this.pointsCount-1;k++){O=this.i(k);var P=d,T=O,M=this.i(ST(this,O,k,!1));if((!U.$(P.x,T.x)||!U.$(T.x,M.x))&&(!U.$(P.y,T.y)||!U.$(T.y,M.y))){var A=w;isNaN(A)&&(A=this.smoothness/3);var I=P.x;P=P.y;var L=T.x;T=T.y;var z=M.x;M=M.y;var X=A*Kx(I,P,L,T);A*=Kx(L,T,z,M),U.$(P,T)&&U.$(L,z)&&(L>I?M>T?(c.x=L-X,c.y=T-X,u.x=L+A,u.y=T+A):(c.x=L-X,c.y=T+X,u.x=L+A,u.y=T-A):M>T?(c.x=L+X,c.y=T-X,u.x=L-A,u.y=T+A):(c.x=L+X,c.y=T+X,u.x=L-A,u.y=T-A)),U.$(I,L)&&U.$(T,M)&&(T>P?(z>L?(c.x=L-X,c.y=T-X,u.x=L+A):(c.x=L+X,c.y=T-X,u.x=L-A),u.y=T+A):(z>L?(c.x=L-X,c.y=T+X,u.x=L+A):(c.x=L+X,c.y=T+X,u.x=L-A),u.y=T-A)),(U.$(I,L)&&U.$(L,z)||U.$(P,T)&&U.$(T,M))&&(I=.5*(I+z),P=.5*(P+M),c.x=I,c.y=P,u.x=I,u.y=P),(k===1||k===2&&U.$(d.x,this.i(0).x)&&U.$(d.y,this.i(0).y))&&(s.x=.5*(d.x+O.x),s.y=.5*(d.y+O.y)),Pa(m,s.x-l,s.y-y,c.x-l,c.y-y,O.x-l,O.y-y),i.set(c),s.set(u),d=O}}O=d.x,d=d.y,w=this.i(this.pointsCount-1),this.computeShortLength(!1)!==0&&(w=kf(this,w.copy(),!1,mo)),O=.5*(O+w.x),d=.5*(d+w.y),Pa(m,u.x-l,u.y-y,O-l,d-y,w.x-l,w.y-y),F.free(i),F.free(s),F.free(c),F.free(u)}else for(s=3;s<i;s+=3)c=this.i(s-2),s+3>=i&&(s=i-1),u=this.i(s-1),d=this.i(s),s===i-1&&this.computeShortLength(!1)!==0&&(d=kf(this,d.copy(),!1,mo)),Pa(m,c.x-l,c.y-y,u.x-l,u.y-y,d.x-l,d.y-y);else{for(c=F.alloc(),c.assign(this.i(0)),u=F.alloc(),u.assign(c),d=this.computeCorner(),k=1,O=0;k<i;){if(k=ST(this,c,k,1<k),w=this.i(k),k>=i-1){if(!c.D(w))this.computeShortLength(!1)!==0&&(w=kf(this,w.copy(),!1,mo)),Pf(this,m,-l,-y,c,w,s);else if(O===0)for(k=1;k<i;)u.assign(c),w=this.i(k++),Pf(this,m,-l,-y,c,w,s),c.assign(w);break}if(O=ST(this,w,k+1,k<i-3),k=-l,I=-y,P=w,L=this.i(O),A=s,U.B(c.y,P.y)&&U.B(P.x,L.x))if(M=Math.min(d,Math.abs(P.x-u.x)/2),M=X=Math.min(M,Math.abs(L.y-P.y)/2),U.B(M,0))Pf(this,m,k,I,c,P,A),c.assign(P);else{var _=P.x,Y=P.y;T=_,z=Y,P.x>c.x?_=P.x-M:_=P.x+M,L.y>P.y?z=P.y+X:z=P.y-X,L=F.allocAt(_,Y),Pf(this,m,k,I,c,L,A),F.free(L),Xx(m,P.x+k,P.y+I,T+k,z+I),c.h(T,z)}else U.B(c.x,P.x)&&U.B(P.y,L.y)?(M=Math.min(d,Math.abs(P.y-u.y)/2),M=X=Math.min(M,Math.abs(L.x-P.x)/2),U.B(X,0)?(Pf(this,m,k,I,c,P,A),c.assign(P)):(_=P.x,Y=P.y,T=_,z=Y,P.y>c.y?Y=P.y-M:Y=P.y+M,L.x>P.x?T=P.x+X:T=P.x-X,L=F.allocAt(_,Y),Pf(this,m,k,I,c,L,A),F.free(L),Xx(m,P.x+k,P.y+I,T+k,z+I),c.h(T,z))):(Pf(this,m,k,I,c,P,A),c.assign(P));u.assign(w),k=O}F.free(c)}Bx=m}else m=this.i(1).copy(),m.x-=l,m.y-=y,this.computeShortLength(!0)!==0&&(u=kf(this,u,!0,c)),this.computeShortLength(!1)!==0&&(m=kf(this,m,!1,c)),t.type=lt.j,t.startX=u.x,t.startY=u.y,t.endX=m.x,t.endY=m.y;return this.kk=!0,t};function Kx(t,i,s,l){return t=s-t,isNaN(t)||t===1/0||t===-1/0?NaN:(0>t&&(t=-t),i=l-i,isNaN(i)||i===1/0||i===-1/0?NaN:(0>i&&(i=-i),U.$(t,0)?i:U.$(i,0)?t:Math.sqrt(t*t+i*i)))}function kf(t,i,s,l){var u=t.pointsCount;if(2>u)return i;if(s){var c=t.i(1);if(s=c.x-l.x,c=c.y-l.y,l=Kx(i.x,i.y,s,c),l===0)return i;u=u===2?.5*l:l,t=t.computeShortLength(!0),t>u&&(t=u),u=t*(c-i.y)/l,i.x+=t*(s-i.x)/l,i.y+=u}else{if(c=t.i(u-2),s=c.x-l.x,c=c.y-l.y,l=Kx(i.x,i.y,s,c),l===0)return i;u=u===2?.5*l:l,t=t.computeShortLength(!1),t>u&&(t=u),u=t*(i.y-c)/l,i.x-=t*(i.x-s)/l,i.y-=u}return i}function ST(t,i,s,l){for(var u=t.pointsCount,c=i;U.$(i.x,c.x)&&U.$(i.y,c.y);){if(s>=u)return u-1;c=t.i(s++)}if(!U.$(i.x,c.x)&&!U.$(i.y,c.y))return s-1;for(var d=c;U.$(i.x,c.x)&&U.$(c.x,d.x)&&(!l||(i.y>=c.y?c.y>=d.y:c.y<=d.y))||U.$(i.y,c.y)&&U.$(c.y,d.y)&&(!l||(i.x>=c.x?c.x>=d.x:c.x<=d.x));){if(s>=u)return u-1;d=t.i(s++)}return s-2}rt.prototype.computeJumpLength=function(){return 10};function Pf(t,i,s,l,u,c,d){if(!d&&Xh(t)){d=t.computeJumpLength();var m=d/2,y=[],O=0;if(t.isVisible()&&(O=_G(t,u,c,y)),0<O){if(U.B(u.y,c.y))if(u.x<c.x)for(var w=0;w<O;){var k=Math.max(u.x,Math.min(y[w++]-m,c.x-d));i.lineTo(k+s,c.y+l);for(var P=k+s,T=Math.min(k+d,c.x);w<O&&(k=y[w],k<T+d);)w++,T=Math.min(k+m,c.x);k=c.y-d+l,T+=s;var M=c.y+l;t.curve===Ma?Sp(i,T,M,!1):Pa(i,P,k,T,k,T,M)}else for(--O;0<=O;){for(w=Math.min(u.x,Math.max(y[O--]+m,c.x+d)),i.lineTo(w+s,c.y+l),P=w+s,k=Math.max(w-d,c.x);0<=O&&(w=y[O],w>k-d);)O--,k=Math.max(w-m,c.x);w=c.y-d+l,k+=s,T=c.y+l,t.curve===Ma?Sp(i,k,T,!1):Pa(i,P,w,k,w,k,T)}else if(U.B(u.x,c.x))if(u.y<c.y)for(w=0;w<O;){for(k=Math.max(u.y,Math.min(y[w++]-m,c.y-d)),i.lineTo(c.x+s,k+l),P=k+l,k=Math.min(k+d,c.y);w<O&&(T=y[w],T<k+d);)w++,k=Math.min(T+m,c.y);T=c.x-d+s,M=c.x+s,k+=l,t.curve===Ma?Sp(i,M,k,!1):Pa(i,T,P,T,k,M,k)}else for(--O;0<=O;){for(w=Math.min(u.y,Math.max(y[O--]+m,c.y+d)),i.lineTo(c.x+s,w+l),P=w+l,w=Math.max(w-d,c.y);0<=O&&(k=y[O],k>w-d);)O--,w=Math.max(k-m,c.y);k=c.x-d+s,T=c.x+s,w+=l,t.curve===Ma?Sp(i,T,w,!1):Pa(i,k,P,k,w,T,w)}}}i.lineTo(c.x+s,c.y+l)}function _G(t,i,s,l){var u=t.diagram;if(u===null||i.D(s))return 0;for(u=u.layers;u.next();){var c=u.value;if(c!==null&&c.visible){c=c.Pa.s;for(var d=c.length,m=0;m<d;m++){var y=c[m];if(y instanceof rt){if(y===t)return 0<l.length&&l.sort(function(w,k){return w-k}),l.length;if(y.isVisible()&&Xh(y)){var O=y.routeBounds;O.w()&&t.routeBounds.Yc(O)&&!t.usesSamePort(y)&&(O=y.path,O!==null&&O.Ed()&&ZG(i,s,l,y))}}}}}return 0<l.length&&l.sort(function(w,k){return w-k}),l.length}function ZG(t,i,s,l){for(var u=U.B(t.y,i.y),c=l.pointsCount,d=l.i(0),m=F.alloc(),y=1;y<c;y++){var O=l.i(y);if(y<c-1){var w=l.i(y+1);if(d.y===O.y&&O.y===w.y){if(O.x>d.x&&w.x>=O.x||O.x<d.x&&w.x<=O.x)continue}else if(d.x===O.x&&O.x===w.x&&(O.y>d.y&&w.y>=O.y||O.y<d.y&&w.y<=O.y))continue}t:{w=t.x;var k=t.y,P=i.x,T=i.y,M=d.x;d=d.y;var A=O.x,I=O.y;if(U.B(w,P)){if(!U.B(k,T)&&U.B(d,I)&&Math.min(k,T)<d&&Math.max(k,T)>d&&Math.min(M,A)<w&&Math.max(M,A)>w&&!U.B(M,A)){m.x=w,m.y=d,w=!0;break t}}else if(U.B(k,T)&&U.B(M,A)&&Math.min(w,P)<M&&Math.max(w,P)>M&&Math.min(d,I)<k&&Math.max(d,I)>k&&!U.B(d,I)){m.x=M,m.y=k,w=!0;break t}m.x=0,m.y=0,w=!1}w&&(u?s.push(m.x):s.push(m.y)),d=O}F.free(m)}function Xh(t){return t=t.curve,t===bp||t===Ma}function Jx(t,i){(i||Xh(t))&&(i=t.diagram,i===null||i.animationManager.isTicking||i.Eh.contains(t)||t.ll.width===0&&t.ll.height===0||i.Eh.add(t,t.ll.copy()))}rt.prototype.Wo=function(t){var i=this.layer;if(i!==null&&i.visible&&!i.isTemporary){var s=i.diagram;if(s!==null&&!s.animationManager.isTicking){var l=!1;for(s=s.layers;s.next();){var u=s.value;if(u.visible){if(u===i){l=!0;var c=!1;u=u.Pa.s;for(var d=u.length,m=0;m<d;m++){var y=u[m];y instanceof rt&&(y===this?c=!0:c&&uD(this,y,t))}}else if(l)for(c=u.Pa.s,u=c.length,d=0;d<u;d++)m=c[d],m instanceof rt&&uD(this,m,t)}}}}};function uD(t,i,s){if(i!==null&&i.kk&&i.fd&&Xh(i)){var l=i.routeBounds;l.w()&&(t.routeBounds.Yc(l)||s.Yc(l))&&(t.usesSamePort(i)||i.rc())}}rt.prototype.usesSamePort=function(t){var i=this.pointsCount,s=t.pointsCount;if(0<i&&0<s){var l=this.i(0),u=t.i(0);if(l.Xa(u)||(i=this.i(i-1),t=t.i(s-1),i.Xa(t)||l.Xa(t)||i.Xa(u)))return!0}else if(this.fromNode===t.fromNode||this.toNode===t.toNode||this.fromNode===t.toNode||this.toNode===t.fromNode)return!0;return!1},rt.prototype.isVisible=function(){if(!kt.prototype.isVisible.call(this))return!1;var t=this.containingGroup,i=!0,s=this.diagram;if(s!==null&&(i=s.isTreePathToChildren),s=this.fromNode,s!==null){if(this.isTreeLink&&i&&!s.isTreeExpanded)return!1;if(s===t)return!0;for(var l=s;l!==null;){if(l.labeledLink===this)return!0;l=l.containingGroup}if(s=s.findVisibleNode(),s===null||s===t)return!1}if(s=this.toNode,s!==null){if(this.isTreeLink&&!i&&!s.isTreeExpanded)return!1;if(s===t)return!0;for(i=s;i!==null;){if(i.labeledLink===this)return!0;i=i.containingGroup}if(i=s.findVisibleNode(),i===null||i===t)return!1}return!0},rt.prototype.$b=function(t){if(kt.prototype.$b.call(this,t),t&&Jx(this,!1),this.Sf!==null&&this.Sf.Rl(),this.wd!==null)for(var i=this.wd.iterator;i.next();)i.value.$b(t)},rt.prototype.computeAdjusting=function(){return this.isAvoiding&&this.diagram!==null&&this.diagram.animationManager.defaultAnimation.isAnimating?x0:this.pk};function O0(t){var i=t.ef;if(i!==null){var s=t.uf;if(s!==null&&isNaN(t.curviness)){for(var l=t.ff,u=t.vf,c=t=null,d=i.jb.s,m=d.length,y=0;y<m;y++){var O=d[y];(O.ef===i&&O.ff===l&&O.uf===s&&O.vf===u||O.ef===s&&O.ff===u&&O.uf===i&&O.vf===l)&&(c===null?c=O:(t===null&&(t=[],t.push(c)),t.push(O)))}if(t!==null){for(c=G$(i,s,l,u),c===null&&(c=new r1(i,l,s,u),q$(i,c),q$(s,c)),c.links=t,i=0;i<t.length;i++)t[i].Sf=c;c.Rl()}}}}function v0(t){var i=t.Sf;i!==null&&isNaN(t.curviness)&&(t.Sf=null,t=i.links.indexOf(t),0<=t&&(wt(i.links,t),i.Rl()))}rt.prototype.ph=function(){return!0},S.Object.defineProperties(rt.prototype,{fromNode:{get:function(){return this.ef},set:function(t){var i=this.ef;if(i!==t){var s=this.fromPort;i!==null&&(this.uf!==i&&Ux(i,this,s),v0(this),this.C(2)),this.ef=t,t!==null&&this.$b(t.isVisible()),this.Wf=null,this.bb();var l=this.diagram;l!==null&&l.aa&&l.partManager.setFromNodeForLink(this,t,i);var u=this.fromPort,c=this.fromPortChanged;if(c!==null){var d=!0;l!==null&&(d=l.aa,l.aa=!0),c(this,s,u),l!==null&&(l.aa=d)}t!==null&&(this.uf!==t&&Yx(t,this,u),O0(this),this.C(1)),this.g("fromNode",i,t),kp(this)}}},fromPortId:{get:function(){return this.ff},set:function(t){var i=this.ff;if(i!==t){var s=this.fromPort;s!==null&&er(s),v0(this),this.ff=t;var l=this.fromPort;l!==null&&er(l);var u=this.diagram;if(u!==null){var c=this.data,d=u.model;c!==null&&d.ri()&&d.xv(c,t)}s!==l&&(this.Wf=null,this.bb(),c=this.fromPortChanged,c!==null&&(d=!0,u!==null&&(d=u.aa,u.aa=!0),c(this,s,l),u!==null&&(u.aa=d))),O0(this),this.g("fromPortId",i,t)}}},fromPort:{get:function(){var t=this.ef;return t===null?null:t.ms(this.ff)}},fromPortChanged:{get:function(){return this.fn},set:function(t){var i=this.fn;i!==t&&(this.fn=t,this.g("fromPortChanged",i,t))}},toNode:{get:function(){return this.uf},set:function(t){var i=this.uf;if(i!==t){var s=this.toPort;i!==null&&(this.ef!==i&&Ux(i,this,s),v0(this),this.C(2)),this.uf=t,t!==null&&this.$b(t.isVisible()),this.Wf=null,this.bb();var l=this.diagram;l!==null&&l.aa&&l.partManager.setToNodeForLink(this,t,i);var u=this.toPort,c=this.toPortChanged;if(c!==null){var d=!0;l!==null&&(d=l.aa,l.aa=!0),c(this,s,u),l!==null&&(l.aa=d)}t!==null&&(this.ef!==t&&Yx(t,this,u),O0(this),this.C(1)),this.g("toNode",i,t),kp(this)}}},toPortId:{get:function(){return this.vf},set:function(t){var i=this.vf;if(i!==t){var s=this.toPort;s!==null&&er(s),v0(this),this.vf=t;var l=this.toPort;l!==null&&er(l);var u=this.diagram;if(u!==null){var c=this.data,d=u.model;c!==null&&d.ri()&&d.Cv(c,t)}s!==l&&(this.Wf=null,this.bb(),c=this.toPortChanged,c!==null&&(d=!0,u!==null&&(d=u.aa,u.aa=!0),c(this,s,l),u!==null&&(u.aa=d))),O0(this),this.g("toPortId",i,t)}}},toPort:{get:function(){var t=this.uf;return t===null?null:t.ms(this.vf)}},toPortChanged:{get:function(){return this.to},set:function(t){var i=this.to;i!==t&&(this.to=t,this.g("toPortChanged",i,t))}},fromSpot:{get:function(){return this.ba!==null?this.ba.Xi:Zi},set:function(t){var i=this.fromSpot;i.D(t)||(t=t.J(),this.Xc(),this.ba.Xi=t,this.g("fromSpot",i,t),(i.$c()||t.$c())&&this.fromNode!==null&&er(this.fromPort),this.bb())}},fromEndSegmentLength:{get:function(){return this.ba!==null?this.ba.Vi:NaN},set:function(t){var i=this.fromEndSegmentLength;i!==t&&(0>t&&q(t,">= 0",rt,"fromEndSegmentLength"),this.Xc(),this.ba.Vi=t,this.g("fromEndSegmentLength",i,t),this.bb())}},fromShortLength:{get:function(){return this.ba!==null?this.ba.Wi:NaN},set:function(t){var i=this.fromShortLength;i!==t&&(this.Xc(),this.ba.Wi=t,this.rc(),this.g("fromShortLength",i,t))}},toSpot:{get:function(){return this.ba!==null?this.ba.yj:Zi},set:function(t){var i=this.toSpot;i.D(t)||(t=t.J(),this.Xc(),this.ba.yj=t,this.g("toSpot",i,t),(i.$c()||t.$c())&&this.toNode!==null&&er(this.toPort),this.bb())}},toEndSegmentLength:{get:function(){return this.ba!==null?this.ba.wj:NaN},set:function(t){var i=this.toEndSegmentLength;i!==t&&(0>t&&q(t,">= 0",rt,"toEndSegmentLength"),this.Xc(),this.ba.wj=t,this.g("toEndSegmentLength",i,t),this.bb())}},toShortLength:{get:function(){return this.ba!==null?this.ba.xj:NaN},set:function(t){var i=this.toShortLength;i!==t&&(this.Xc(),this.ba.xj=t,this.rc(),this.g("toShortLength",i,t))}},isLabeledLink:{get:function(){return this.wd===null?!1:0<this.wd.count}},labelNodes:{get:function(){return this.wd===null?hi:this.wd.iterator}},relinkableFrom:{get:function(){return(this.Qa&1)!==0},set:function(t){var i=(this.Qa&1)!==0;i!==t&&(this.Qa^=1,this.g("relinkableFrom",i,t),this.Xb())}},relinkableTo:{get:function(){return(this.Qa&2)!==0},set:function(t){var i=(this.Qa&2)!==0;i!==t&&(this.Qa^=2,this.g("relinkableTo",i,t),this.Xb())}},resegmentable:{get:function(){return(this.Qa&4)!==0},set:function(t){var i=(this.Qa&4)!==0;i!==t&&(this.Qa^=4,this.g("resegmentable",i,t),this.Xb())}},isTreeLink:{get:function(){return(this.Qa&8)!==0},set:function(t){var i=(this.Qa&8)!==0;i!==t&&(this.Qa^=8,this.g("isTreeLink",i,t),this.fromNode!==null&&y0(this.fromNode),this.toNode!==null&&y0(this.toNode))}},path:{get:function(){var t=this.Qb();return t instanceof It?t:null}},routeBounds:{get:function(){this.vg();var t=this.ll,i=1/0,s=1/0,l=this.pointsCount;if(l===0)t.h(NaN,NaN,0,0);else{if(l===1)l=this.i(0),i=Math.min(l.x,i),s=Math.min(l.y,s),t.h(l.x,l.y,0,0);else if(l===2){l=this.i(0);var u=this.i(1);i=Math.min(l.x,u.x),s=Math.min(l.y,u.y),t.h(l.x,l.y,0,0),t.Ye(u)}else if(this.computeCurve()===mr&&3<=l&&!this.isOrthogonal)if(u=this.i(0),i=u.x,s=u.y,t.h(i,s,0,0),l===3){l=this.i(1),i=Math.min(l.x,i),s=Math.min(l.y,s);var c=this.i(2);i=Math.min(c.x,i),s=Math.min(c.y,s),U.Cl(u.x,u.y,l.x,l.y,l.x,l.y,c.x,c.y,.5,t)}else for(c=3;c<l;c+=3){var d=this.i(c-2);c+3>=l&&(c=l-1);var m=this.i(c-1),y=this.i(c);U.Cl(u.x,u.y,d.x,d.y,m.x,m.y,y.x,y.y,.5,t),i=Math.min(y.x,i),s=Math.min(y.y,s),u=y}else for(u=this.i(0),c=this.i(1),i=Math.min(u.x,c.x),s=Math.min(u.y,c.y),t.h(u.x,u.y,0,0),t.Ye(c),u=2;u<l;u++)c=this.i(u),i=Math.min(c.x,i),s=Math.min(c.y,s),t.Ye(c);this.ru.h(i-t.x,s-t.y)}return t}},midPoint:{get:function(){return this.vg(),this.computeMidPoint(new F)}},midAngle:{get:function(){return this.vg(),this.computeMidAngle()}},flattenedLengths:{get:function(){if(this.bq===null){this.fd||qx(this);for(var t=this.bq=[],i=this.pointsCount,s=0;s<i-1;s++){var l=this.i(s),u=this.i(s+1);U.$(l.x,u.x)?(l=u.y-l.y,0>l&&(l=-l)):U.$(l.y,u.y)?(l=u.x-l.x,0>l&&(l=-l)):l=Math.sqrt(l.Bf(u)),t.push(l)}}return this.bq}},flattenedTotalLength:{get:function(){var t=this.ut;if(isNaN(t)){for(var i=this.flattenedLengths,s=i.length,l=t=0;l<s;l++)t+=i[l];this.ut=t}return t}},points:{get:function(){return this.Ob},set:function(t){var i=this.Ob;if(i!==t){var s=null;if(Array.isArray(t)){var l=t.length%2===0;if(l){for(var u=0;u<t.length;u++)if(typeof t[u]!="number"||isNaN(t[u])){l=!1;break}}if(l)for(s=new ct,l=0;l<t.length/2;l++)u=new F(t[2*l],t[2*l+1]).freeze(),s.add(u);else{for(l=!0,u=0;u<t.length;u++){var c=t[u];if(!J(c)||typeof c.x!="number"||isNaN(c.x)||typeof c.y!="number"||isNaN(c.y)){l=!1;break}}if(l)for(s=new ct,l=0;l<t.length;l++)u=t[l],s.add(new F(u.x,u.y).freeze())}}else if(t instanceof ct)for(s=t.copy(),t=s.iterator;t.next();)t.value.freeze();else D("Link.points value is not an instance of List or Array: "+t);s.freeze(),this.Ob=s,this.rc(),qx(this),t=this.diagram,t!==null&&(t.pi||t.undoManager.isUndoingRedoing||t.zs.add(this),t.animationManager.Ab&&G2(t.animationManager,this,s)),this.g("points",i,s)}}},pointsCount:{get:function(){return this.Ob.count}},fd:{get:function(){return(this.Qa&16)!==0},set:function(t){(this.Qa&16)!==0!==t&&(this.Qa^=16)}},suspendsRouting:{get:function(){return(this.Qa&32)!==0},set:function(t){(this.Qa&32)!==0!==t&&(this.Qa^=32)}},computingPoints:{get:function(){return(this.Qa&64)!==0},set:function(t){(this.Qa&64)!==0!==t&&(this.Qa^=64)}},defaultFromPoint:{get:function(){return this.o},set:function(t){this.o=t.copy()}},defaultToPoint:{get:function(){return this.u},set:function(t){this.u=t.copy()}},isOrthogonal:{get:function(){return(this.qj.value&2)===2}},isAvoiding:{get:function(){return(this.qj.value&4)===4}},kk:{get:function(){return(this.Qa&128)!==0},set:function(t){(this.Qa&128)!==0!==t&&(this.Qa^=128)}},geometry:{get:function(){if(!this.kk){if(this.vg(),2>this.pointsCount)return this.kk=!0,this.ua;this.ua=this.makeGeometry()}return this.ua}},firstPickIndex:{get:function(){return 2>=this.pointsCount?0:this.isOrthogonal||!Pp(this.computeSpot(!0))?1:0}},lastPickIndex:{get:function(){var t=this.pointsCount;return t===0?0:2>=t?t-1:this.isOrthogonal||!Pp(this.computeSpot(!1))?t-2:t-1}},adjusting:{get:function(){return this.pk},set:function(t){var i=this.pk;i!==t&&(this.pk=t,this.g("adjusting",i,t))}},corner:{get:function(){return this.Nm},set:function(t){var i=this.Nm;i!==t&&(this.Nm=t,this.rc(),this.g("corner",i,t))}},curve:{get:function(){return this.Pm},set:function(t){var i=this.Pm;i!==t&&(this.Pm=t,this.bb(),this.rc(),Jx(this,i===Ma||i===bp||t===Ma||t===bp),this.g("curve",i,t))}},curviness:{get:function(){return this.Qm},set:function(t){var i=this.Qm;i!==t&&(this.Qm=t,this.bb(),this.rc(),this.g("curviness",i,t))}},routing:{get:function(){return this.qj},set:function(t){var i=this.qj;i!==t&&(this.qj=t,this.Wf=null,this.bb(),Jx(this,(i.value&2)===2||(t.value&2)===2),this.g("routing",i,t))}},smoothness:{get:function(){return this.oo},set:function(t){var i=this.oo;i!==t&&(this.oo=t,this.rc(),this.g("smoothness",i,t))}},key:{get:function(){var t=this.diagram;if(t!==null&&t.model.ri())return t.model.Ac(this.data)}}}),rt.prototype.invalidateOtherJumpOvers=rt.prototype.Wo,rt.prototype.findClosestSegment=rt.prototype.ez,rt.prototype.updateRoute=rt.prototype.vg,rt.prototype.invalidateRoute=rt.prototype.bb,rt.prototype.rollbackRoute=rt.prototype.rv,rt.prototype.commitRoute=rt.prototype.zf,rt.prototype.startRoute=rt.prototype.uh,rt.prototype.clearPoints=rt.prototype.Ej,rt.prototype.removePoint=rt.prototype.pv,rt.prototype.addPointAt=rt.prototype.yf,rt.prototype.addPoint=rt.prototype.ne,rt.prototype.insertPointAt=rt.prototype.m,rt.prototype.insertPoint=rt.prototype.Kz,rt.prototype.setPointAt=rt.prototype.L,rt.prototype.setPoint=rt.prototype.dd,rt.prototype.getPoint=rt.prototype.i,rt.prototype.getOtherPort=rt.prototype.Cz,rt.prototype.getOtherNode=rt.prototype.So;var bf=null,Tf=null,kT=new it(rt,"Normal",1),YG=new it(rt,"Orthogonal",2),UG=new it(rt,"AvoidsNodes",6),hD=new it(rt,"AvoidsNodesStraight",7),yn=new it(rt,"None",0),mr=new it(rt,"Bezier",9),Ma=new it(rt,"JumpGap",10),bp=new it(rt,"JumpOver",11),x0=new it(rt,"End",17),t1=new it(rt,"Scale",18),e1=new it(rt,"Stretch",19),w0=new it(rt,"OrientAlong",21),S0=new it(rt,"OrientPlus90",22),k0=new it(rt,"OrientMinus90",23),PT=new it(rt,"OrientOpposite",24),i1=new it(rt,"OrientUpright",25),P0=new it(rt,"OrientPlus90Upright",26),b0=new it(rt,"OrientMinus90Upright",27),n1=new it(rt,"OrientUpright45",28),cD=16,fD=14,T0=8;rt.className="Link",rt.Normal=kT,rt.Orthogonal=YG,rt.AvoidsNodes=UG,rt.AvoidsNodesStraight=hD,rt.None=yn,rt.Bezier=mr,rt.JumpGap=Ma,rt.JumpOver=bp,rt.End=x0,rt.Scale=t1,rt.Stretch=e1,rt.OrientAlong=w0,rt.OrientPlus90=S0,rt.OrientMinus90=k0,rt.OrientOpposite=PT,rt.OrientUpright=i1,rt.OrientPlus90Upright=P0,rt.OrientMinus90Upright=b0,rt.OrientUpright45=n1,rt.EndSegmentStep=8,rt.CurvinessStart=cD,rt.SpacingMin=fD,rt.OrthoShortCut=T0;function r1(t,i,s,l){Ue(this),this.Fe=this.pq=!1,this.Cs=t,this.Ox=i,this.cv=s,this.Px=l,this.links=[]}r1.prototype.Rl=function(){if(!this.pq){var t=this.links;0<t.length&&(t=t[0].diagram,t!==null&&(t.ow.add(this),this.Fe=t.undoManager.isUndoingRedoing))}this.pq=!0},r1.prototype.Nv=function(){if(this.pq){this.pq=!1;var t=this.links;if(0<t.length){var i=t[0],s=i.diagram;s=s===null||s.pi&&!this.Fe,this.Fe=!1,i.arrangeBundledLinks(t,s),t.length===1&&(i.Sf=null,t.length=0)}t.length===0&&(t=this.Cs,this!==null&&t.af!==null&&t.af.remove(this),t=this.cv,this!==null&&t.af!==null&&t.af.remove(this))}},r1.className="LinkBundle";function C0(t){Ue(this),this.Yx=this.group=null,this.us=!0,this.abort=!1,this.Od=this.Nd=1,this.En=this.Dn=-1,this.sc=t.width,this.tc=t.height,this.bc=null,this.ei=this.di=0,this.Ns=11,this.Ix=this.Hx=22}C0.prototype.initialize=function(t){if(!(0>=t.width||0>=t.height)){var i=t.y,s=t.x+t.width,l=t.y+t.height;if(this.Nd=Math.floor((t.x-this.sc)/this.sc)*this.sc,this.Od=Math.floor((i-this.tc)/this.tc)*this.tc,this.Dn=Math.ceil((s+2*this.sc)/this.sc)*this.sc,this.En=Math.ceil((l+2*this.tc)/this.tc)*this.tc,t=1+(Math.ceil((this.Dn-this.Nd)/this.sc)|0),i=1+(Math.ceil((this.En-this.Od)/this.tc)|0),this.bc===null||this.di<t-1||this.ei<i-1){for(s=[],l=0;l<=t;l++)s[l]=new Uint32Array(i);this.bc=s,this.di=t-1,this.ei=i-1}if(t=bT,this.bc!==null)for(i=0;i<=this.di;i++)if(s=this.bc[i],s.fill)s.fill(t);else for(l=0;l<=this.ei;l++)s[l]=t}};function Tp(t,i,s){return t.Nd<=i&&i<=t.Dn&&t.Od<=s&&s<=t.En}function el(t,i,s){return Tp(t,i,s)?(i-=t.Nd,i/=t.sc,s-=t.Od,s/=t.tc,t.bc[i|0][s|0]):bT}function dD(t){if(t.bc!==null)for(var i=0;i<=t.di;i++)for(var s=t.bc[i],l=0;l<=t.ei;l++)s[l]>=Bh&&(s[l]=bT)}C0.prototype.Xj=function(t,i,s,l){if(t>this.Dn||t+s<this.Nd||i>this.En||i+l<this.Od)return!0;t=(t-this.Nd)/this.sc|0,i=(i-this.Od)/this.tc|0,s=Math.max(0,s)/this.sc+1|0;var u=Math.max(0,l)/this.tc+1|0;if(0>t&&(s+=t,t=0),0>i&&(u+=i,i=0),0>s||0>u)return!0;for(l=Math.min(t+s-1,this.di)|0,s=Math.min(i+u-1,this.ei)|0;t<=l;t++){u=this.bc[t];for(var c=i;c<=s;c++)if(u[c]===Qa)return!1}return!0};function il(t,i,s,l,u,c,d,m,y){if(!(i<c||i>d||s<m||s>y)){var O=i|0,w=s|0,k=t.bc[O][w];if(k>=Bh&&k<Cp)for(u?w+=l:O+=l,k+=1;c<=O&&O<=d&&m<=w&&w<=y&&!(k>=t.bc[O][w]);)t.bc[O][w]=k,k+=1,u?w+=l:O+=l;if(O=u?w:O,u)if(0<l)for(s+=l;s<O;s+=l)il(t,i,s,1,!u,c,d,m,y),il(t,i,s,-1,!u,c,d,m,y);else for(s+=l;s>O;s+=l)il(t,i,s,1,!u,c,d,m,y),il(t,i,s,-1,!u,c,d,m,y);else if(0<l)for(i+=l;i<O;i+=l)il(t,i,s,1,!u,c,d,m,y),il(t,i,s,-1,!u,c,d,m,y);else for(i+=l;i>O;i+=l)il(t,i,s,1,!u,c,d,m,y),il(t,i,s,-1,!u,c,d,m,y)}}function s1(t,i,s,l,u,c,d,m,y){i|=0,s|=0;var O=Qa,w=Bh;for(t.bc[i][s]=w;O===Qa&&i>c&&i<d&&s>m&&s<y;)w+=1,t.bc[i][s]=w,u?s+=l:i+=l,O=t.bc[i][s]}function o1(t,i,s,l,u,c,d,m,y){i|=0,s|=0;var O=Qa,w=Cp;for(t.bc[i][s]=w;O===Qa&&i>c&&i<d&&s>m&&s<y;)t.bc[i][s]=w,u?s+=l:i+=l,O=t.bc[i][s]}function pD(t,i,s,l,u,c,d){if(t.bc!==null){t.abort=!1;var m=i.x,y=i.y;if(Tp(t,m,y)){m-=t.Nd,m/=t.sc,y-=t.Od,y/=t.tc;var O=l.x,w=l.y;if(Tp(t,O,w))if(O-=t.Nd,O/=t.sc,w-=t.Od,w/=t.tc,1>=Math.abs(m-O)&&1>=Math.abs(y-w))t.abort=!0;else{var k=c.x;l=c.y,i=c.x+c.width;var P=c.y+c.height;k-=t.Nd,k/=t.sc,l-=t.Od,l/=t.tc,i-=t.Nd,i/=t.sc,P-=t.Od,P/=t.tc,c=Math.max(0,Math.min(t.di,k|0)),i=Math.min(t.di,Math.max(0,i|0)),k=Math.max(0,Math.min(t.ei,l|0)),P=Math.min(t.ei,Math.max(0,P|0)),l=t.bc,m|=0,y|=0,O|=0,w|=0;var T=s===0||s===90?1:-1;if(s=s===90||s===270,l[m][y]===Qa?(s1(t,m,y,T,s,c,i,k,P),s1(t,m,y,1,!s,c,i,k,P),s1(t,m,y,-1,!s,c,i,k,P)):s1(t,m,y,T,s,m,y,m,y),l[O][w]===Qa?(o1(t,O,w,u===0||u===90?1:-1,u===90||u===270,c,i,k,P),o1(t,O,w,1,!(u===90||u===270),c,i,k,P),o1(t,O,w,-1,!(u===90||u===270),c,i,k,P)):o1(t,O,w,T,s,O,w,O,w),s=St(),d&&mD(t,O,w,u,m,y,s))for((s[0]!==O||s[1]!==w)&&(s.unshift(w),s.unshift(O)),(s[s.length-2]!==m||s[s.length-1]!==y)&&(s.push(m),s.push(y)),t=Bh,u=s[s.length-2],d=s[s.length-1],l[u][d]=t++,c=s.length-4;0<=c;c-=2)for(u=s[c+2],d=s[c+3],i=s[c],O=s[c+1];i>u?u++:i<u?u--:O>d?d++:O<d&&d--,l[u][d]=t++,u!==i||d!==O;);else il(t,m,y,1,!1,c,i,k,P),il(t,m,y,-1,!1,c,i,k,P),il(t,m,y,1,!0,c,i,k,P),il(t,m,y,-1,!0,c,i,k,P);dt(s)}}}}function mD(t,i,s,l,u,c,d){for(var m=t.bc,y=i,O=s;;){if(y===u&&O===c)return!0;var w=y,k=O;if(l===0)if(w<u)w++;else break;else if(l===90)if(k<c)k++;else break;else if(l===180)if(w>u)w--;else break;else if(k>c)k--;else break;var P=m[w][k];if(P===0||P===TT)break;y=w,O=k}for(;;){if(w=l,k=y,P=O,l===0?P<c?(w=90,P++):P>c&&(w=270,P--):l===90?k<u?(w=0,k++):k>u&&(w=180,k--):l===180?P<c?(w=90,P++):P>c&&(w=270,P--):k<u?(w=0,k++):k>u&&(w=180,k--),k=m[k][P],w!==l&&k!==0&&k!==TT){if(d.push(y),d.push(O),mD(t,y,O,w,u,c,d))return!0;d.pop(),d.pop()}if(m[y][O]=TT,l===0){if(y===i)return!1;y--}else if(l===90){if(O===s)return!1;O--}else if(l===180){if(y===i)return!1;y++}else{if(O===s)return!1;O++}}}S.Object.defineProperties(C0.prototype,{bounds:{get:function(){return new tt(this.Nd,this.Od,this.Dn-this.Nd,this.En-this.Od)}},Go:{get:function(){return this.sc},set:function(t){0<t&&t!==this.sc&&(this.sc=t,this.initialize(this.bounds))}},Fo:{get:function(){return this.tc},set:function(t){0<t&&t!==this.tc&&(this.tc=t,this.initialize(this.bounds))}}});var Qa=0,Bh=1,Cp=999999,bT=Cp+1,TT=Cp+2;C0.className="PositionArray";function Cf(){Ue(this),this.port=this.node=null,this.pe=[],this.$o=!1}Cf.prototype.toString=function(){for(var t=this.pe,i=this.node.toString()+" "+t.length.toString()+":",s=0;s<t.length;s++){var l=t[s];l!==null&&(i+=`
  `+l.toString())}return i};function WG(t,i,s,l){switch(i=i.offsetY,i){case 8:return 90;case 2:return 180;case 1:return 270;case 4:return 0}switch(i){case 9:return 180<s?270:90;case 6:return 90<s&&270>=s?180:0}switch(t=180*Math.atan2(t.height,t.width)/Math.PI,i){case 3:return s>t&&s<=180+t?180:270;case 5:return s>180-t&&s<=360-t?270:0;case 12:return s>t&&s<=180+t?90:0;case 10:return s>180-t&&s<=360-t?180:90;case 7:return 90<s&&s<=180+t?180:s>180+t&&s<=360-t?270:0;case 13:return 180<s&&s<=360-t?270:s>t&&180>=s?90:0;case 14:return s>t&&s<=180-t?90:s>180-t&&270>=s?180:0;case 11:return s>180-t&&s<=180+t?180:s>180+t?270:90}return l&&i!==15&&(s-=15,0>s&&(s+=360)),s>t&&s<180-t?90:s>=180-t&&s<=180+t?180:s>180+t&&s<360-t?270:0}Cf.prototype.Rl=function(){this.pe.length=0};function gD(t,i){var s=t.pe;if(s.length===0){t:if(!t.$o){s=t.$o,t.$o=!0;var l=null,u=t.node,c=u instanceof Lt?u:null;if(c===null||c.isSubGraphExpanded)var d=u.isTreeExpanded?u.findLinksConnected(t.port.portId):u.qx();else{if(!c.actualBounds.w()){t.$o=s;break t}l=c,d=l.Lu()}c=t.pe.length=0;var m=t.port.ga(Ji,F.alloc()),y=t.port.ga(Yo,F.alloc());for(u=tt.allocAt(m.x,m.y,0,0),u.Ye(y),F.free(m),F.free(y),m=F.allocAt(u.x+u.width/2,u.y+u.height/2),y=t.port.li(),d=d.iterator;d.next();){var O=d.value;if(O.isVisible()&&O.fromPort!==O.toPort){var w=O.fromPort===t.port||O.fromNode!==null&&O.fromNode.Td(l),k=O.computeSpot(w,t.port);if(k.$c()&&(w=w?O.toPort:O.fromPort,w!==null)){var P=w.part;if(P!==null){var T=P.findVisibleNode();T!==null&&T!==P&&(P=T,w=P.port),w=O.computeOtherPoint(P,w),P=m.ab(w),P-=y,0>P?P+=360:360<=P&&(P-=360),k=WG(u,k,P,O.isOrthogonal),k===0?(k=4,180<P&&(P-=360)):k===90?(k=8,270<P&&(P-=360)):k===180?k=2:(k=1,90>P&&(P+=360)),T=t.pe[c],T===void 0?(T=new CT(O,P,k),t.pe[c]=T):(T.link=O,T.angle=P,T.Nc=k),T.hv.set(w),c++}}}}for(F.free(m),t.pe.sort(Cf.prototype.j),y=t.pe.length,l=-1,c=m=0;c<y;c++)d=t.pe[c],d!==void 0&&(d.Nc!==l&&(l=d.Nc,m=0),d.To=m,m++);for(l=-1,m=0,c=y-1;0<=c;c--)y=t.pe[c],y!==void 0&&(y.Nc!==l&&(l=y.Nc,m=y.To+1),y.Fl=m);if(c=t.pe,k=t.port,l=t.node.portSpreading,m=F.alloc(),y=F.alloc(),d=F.alloc(),O=F.alloc(),k.ga(Ji,m),k.ga(Id,y),k.ga(Yo,d),k.ga(Fd,O),T=P=w=k=0,l===yT)for(var M=0;M<c.length;M++){var A=c[M];if(A!==null){var I=A.link.computeThickness();switch(A.Nc){case 8:P+=I;break;case 2:T+=I;break;case 1:k+=I;break;default:case 4:w+=I}}}var L=M=0,z=1,X=A=0;for(I=0;I<c.length;I++){var _=c[I];if(_!==null){if(M!==_.Nc){switch(M=_.Nc,M){case 8:var Y=d;L=O;break;case 2:Y=O,L=m;break;case 1:Y=m,L=y;break;default:case 4:Y=y,L=d}switch(A=L.x-Y.x,X=L.y-Y.y,M){case 8:P>Math.abs(A)?(z=Math.abs(A)/P,P=Math.abs(A)):z=1;break;case 2:T>Math.abs(X)?(z=Math.abs(X)/T,T=Math.abs(X)):z=1;break;case 1:k>Math.abs(A)?(z=Math.abs(A)/k,k=Math.abs(A)):z=1;break;default:case 4:w>Math.abs(X)?(z=Math.abs(X)/w,w=Math.abs(X)):z=1}L=0}var G=_.Yo;if(l===yT){switch(_=_.link.computeThickness(),_*=z,G.set(Y),M){case 8:G.x=Y.x+A/2+P/2-L-_/2;break;case 2:G.y=Y.y+X/2+T/2-L-_/2;break;case 1:G.x=Y.x+A/2-k/2+L+_/2;break;default:case 4:G.y=Y.y+X/2-w/2+L+_/2}L+=_}else{var ut=.5;l===Wx&&(ut=(_.To+1)/(_.Fl+1)),G.x=Y.x+A*ut,G.y=Y.y+X*ut}}}for(F.free(m),F.free(y),F.free(d),F.free(O),Y=t.pe,c=0;c<Y.length;c++)l=Y[c],l!==null&&(l.Ju=t.computeEndSegmentLength(l));t.$o=s,tt.free(u)}s=t.pe}for(t=0;t<s.length;t++)if(u=s[t],u!==null&&u.link===i)return u;return null}Cf.prototype.j=function(t,i){return t===i?0:t===null?-1:i===null?1:t.Nc<i.Nc?-1:t.Nc>i.Nc?1:t.angle<i.angle?-1:t.angle>i.angle?1:0},Cf.prototype.computeEndSegmentLength=function(t){var i=t.link,s=i.computeEndSegmentLength(this.node,this.port,_i,i.fromPort===this.port),l=t.To;if(0>l)return s;var u=t.Fl;if(1>=u||!i.isOrthogonal)return s;i=t.hv;var c=t.Yo;return(t.Nc===2||t.Nc===8)&&(l=u-1-l),((t=t.Nc===2||t.Nc===4)?i.y<c.y:i.x<c.x)?s+8*l:(t?i.y===c.y:i.x===c.x)?s:s+8*(u-1-l)},Cf.className="Knot";function CT(t,i,s){this.link=t,this.angle=i,this.Nc=s,this.hv=new F,this.Fl=this.To=0,this.Yo=new F,this.Ju=0}CT.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.Nc.toString()+":"+this.To.toString()+"/"+this.Fl.toString()+" "+this.Yo.toString()+" "+this.Ju.toString()+" "+this.hv.toString()},CT.className="LinkInfo";function ye(t){Ue(this),this.o=this.H=null,this.Gh=this.rn=!0,this.xn=!1,this.zm=new F(0,0).freeze(),this.un=!0,this.Dm=this.tn=null,this.wn=!1,this.j=null,t&&Object.assign(this,t)}ye.prototype.cloneProtected=function(t){t.rn=this.rn,t.Gh=this.Gh,t.xn=this.xn,t.zm.assign(this.zm),t.un=this.un,t.tn=this.tn,t.Dm=this.Dm,t.wn=!0},ye.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},ye.prototype.qb=function(){},ye.prototype.toString=function(){var t=Vt(this.constructor);return t+="(",this.group!==null&&(t+=" in "+this.group),this.diagram!==null&&(t+=" for "+this.diagram),t+")"},ye.prototype.C=function(){if(this.isValidLayout){var t=this.diagram;if(t!==null&&!t.undoManager.isUndoingRedoing){var i=t.animationManager;!i.isTicking&&(i.defaultAnimation.isAnimating&&i.Cc(),this.isOngoing&&t.pi||this.isInitial&&!t.pi)&&(this.isValidLayout=!1,t.ac())}}},ye.prototype.createNetwork=function(){return new de(this)},ye.prototype.makeNetwork=function(t){var i=this.createNetwork();return t instanceof H?(i.lg(t.nodes,!0),i.lg(t.links,!0)):t instanceof Lt?i.lg(t.memberParts):i.lg(t.iterator),i},ye.prototype.updateParts=function(){this.isValidLayout=!0;var t=this.diagram;if(t===null&&this.network!==null)for(var i=this.network.vertexes.iterator;i.next();){var s=i.value.node;if(s!==null&&(t=s.diagram,t!==null))break}try{t!==null&&t.Ea("Layout"),this.commitLayout()}finally{t!==null&&t.eb("Layout")}},ye.prototype.commitLayout=function(){if(this.network!==null){for(var t=this.network.vertexes.iterator;t.next();)t.value.commit();if(this.isRouting)for(t=this.network.edges.iterator;t.next();)t.value.commit()}},ye.prototype.doLayout=function(t){var i=new at;t instanceof H?(Qu(this,i,t.nodes,!0,this.rh,!0,!1),Qu(this,i,t.parts,!0,this.rh,!0,!1)):t instanceof Lt?Qu(this,i,t.memberParts,!1,this.rh,!0,!1):i.addAll(t.iterator),0<i.count&&(t=this.diagram,t!==null&&t.Ea("Layout"),this.doMinimalNoNetworkLayout(i),t!==null&&t.eb("Layout")),this.isValidLayout=!0},ye.prototype.doMinimalNoNetworkLayout=function(t){var i=Math.ceil(Math.sqrt(t.count));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var s=this.arrangementOrigin.x,l=s,u=this.arrangementOrigin.y,c=0,d=0;for(t=t.iterator;t.next();){var m=t.value;M0(m);var y=m.measuredBounds,O=y.width;y=y.height,m.moveTo(l,u),m instanceof Lt&&(m.rh=!1),l+=Math.max(O,50)+20,d=Math.max(d,Math.max(y,50)),c>=i-1?(c=0,l=s,u+=d+20,d=0):c++}},ye.prototype.doMinimalNetworkLayout=function(){var t=Math.ceil(Math.sqrt(this.network.vertexes.count));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);for(var i=this.arrangementOrigin.x,s=i,l=this.arrangementOrigin.y,u=0,c=0,d=this.network.vertexes.iterator;d.next();){var m=d.value.node;if(!(m===null||m instanceof rt)&&(M0(m),this.rh(m))){var y=m.measuredBounds,O=y.width;y=y.height,m.moveTo(s,l),m instanceof Lt&&(m.rh=!1),s+=Math.max(O,50)+20,c=Math.max(c,Math.max(y,50)),u>=t-1?(u=0,s=i,l+=c+20,c=0):u++}}},ye.prototype.rh=function(t){return!!(!t.location.w()||t instanceof Lt&&t.rh)};function Qu(t,i,s,l,u,c,d,m){for(s=s.iterator;s.next();){var y=s.value;l&&!y.isTopLevel||u!==null&&!u(y)||!y.canLayout()||(y instanceof ft?y.isLinkLabel||(y instanceof Lt&&y.layout===null?Qu(t,i,y.memberParts,!1,u,c,d):(M0(y),i.add(y))):d&&y instanceof rt?i.add(y):!y.Zc()||y instanceof ft||(M0(y),i.add(y)))}}function M0(t){var i=t.actualBounds;(i.width===0||i.height===0||isNaN(i.width)||isNaN(i.height))&&t.Va()}ye.prototype.ni=function(t,i){var s=this.boundsComputation;return s!==null?(i||(i=new tt),s(t,this,i)):i?(i.set(t.actualBounds),i):t.actualBounds},ye.prototype.ex=function(t){var i=new at;return t instanceof H?(Qu(this,i,t.nodes,!0,null,!0,!0),Qu(this,i,t.links,!0,null,!0,!0),Qu(this,i,t.parts,!0,null,!0,!0)):t instanceof Lt?Qu(this,i,t.memberParts,!1,null,!0,!0):Qu(this,i,t.iterator,!1,null,!0,!0),i},ye.prototype.initialOrigin=function(t){var i=this.group;if(i!==null){var s=i.position.copy();return(isNaN(s.x)||isNaN(s.y))&&s.set(t),i=i.placeholder,i!==null&&(s=i.ga(Ji),(isNaN(s.x)||isNaN(s.y))&&s.set(t),t=i.padding,s.x+=t.left,s.y+=t.top),s}return t},S.Object.defineProperties(ye.prototype,{diagram:{get:function(){return this.H},set:function(t){this.H=t}},group:{get:function(){return this.o},set:function(t){this.o!==t&&(this.o=t,t!==null&&(this.H=t.diagram))}},isOngoing:{get:function(){return this.rn},set:function(t){this.rn!==t&&(this.rn=t)}},isInitial:{get:function(){return this.Gh},set:function(t){this.Gh=t,t||(this.wn=!0)}},isViewportSized:{get:function(){return this.xn},set:function(t){this.xn!==t&&(this.xn=t)&&this.C()}},isRouting:{get:function(){return this.un},set:function(t){this.un!==t&&(this.un=t)}},isRealtime:{get:function(){return this.tn},set:function(t){this.tn!==t&&(this.tn=t)}},isValidLayout:{get:function(){return this.wn},set:function(t){this.wn!==t&&(this.wn=t,t||(t=this.diagram,t!==null&&(t.xh=!0)))}},network:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t,t!==null&&(t.layout=this))}},boundsComputation:{get:function(){return this.Dm},set:function(t){this.Dm!==t&&(this.Dm=t,this.C())}},arrangementOrigin:{get:function(){return this.zm},set:function(t){this.zm.D(t)||(this.zm.assign(t),this.C())}}}),ye.prototype.collectParts=ye.prototype.ex,ye.prototype.getLayoutBounds=ye.prototype.ni,ye.prototype.invalidateLayout=ye.prototype.C,ye.className="Layout";function de(t){Ue(this),this.Sc=t,this.wf=new at,this.ye=new at,this.Ds=new jt,this.ys=new jt}de.prototype.clear=function(){if(this.wf)for(var t=this.wf.iterator;t.next();)t.value.clear();if(this.ye)for(t=this.ye.iterator;t.next();)t.value.clear();this.wf=new at,this.ye=new at,this.Ds=new jt,this.ys=new jt},de.prototype.toString=function(t){t===void 0&&(t=0);var i="LayoutNetwork"+(this.layout!==null?"("+this.layout.toString()+")":"");if(0>=t)return i;if(i+=" vertexes: "+this.wf.count+" edges: "+this.ye.count,1<t){for(var s=this.wf.iterator;s.next();)i+=`
    `+s.value.toString(t-1);for(s=this.ye.iterator;s.next();)i+=`
    `+s.value.toString(t-1)}return i},de.prototype.createVertex=function(){return new ni(this)},de.prototype.createEdge=function(){return new ir(this)},de.prototype.lg=function(t,i,s){if(t!==null){for(i===void 0&&(i=!1),s===void 0&&(s=null),s===null&&(s=function(d){if(d instanceof ft)return!d.isLinkLabel;if(d instanceof rt){var m=d.fromNode;return m===null||m.isLinkLabel?!1:(d=d.toNode,!(d===null||d.isLinkLabel))}return!1}),t=t.iterator;t.next();){var l=t.value;if(l instanceof ft&&(!i||l.isTopLevel)&&l.canLayout()&&s(l)){if(l instanceof Lt&&l.layout===null)this.lg(l.memberParts,!1);else if(this.ki(l)===null){var u=this.createVertex();u.node=l,this.dh(u)}}}for(t.reset();t.next();)if(l=t.value,l instanceof rt&&(!i||l.isTopLevel)&&l.canLayout()&&s(l)&&this.Ko(l)===null){var c=l.fromNode;u=l.toNode,c!==null&&u!==null&&c!==u&&(c=this.findGroupVertex(c),u=this.findGroupVertex(u),c!==null&&u!==null&&this.Yj(c,u,l))}}},de.prototype.findGroupVertex=function(t){if(t===null)return null;var i=t.findVisibleNode();if(i===null)return null;if(t=this.ki(i),t!==null)return t;for(i=i.containingGroup;i!==null;){if(t=this.ki(i),t!==null)return t;i=i.containingGroup}return null},n=de.prototype,n.dh=function(t){if(t!==null){this.wf.add(t);var i=t.node;i!==null&&this.Ds.add(i,t),t.network=this}},n.Al=function(t){if(t===null)return null;var i=this.ki(t);return i===null&&(i=this.createVertex(),i.node=t,this.dh(i)),i},n.Iu=function(t){if(t!==null&&yD(this,t)){for(var i=t.tg,s=i.count-1;0<=s;s--){var l=i.M(s);this.Lj(l)}for(i=t.mg,t=i.count-1;0<=t;t--)s=i.M(t),this.Lj(s)}};function yD(t,i){if(i===null)return!1;var s=t.wf.remove(i);return s&&(i=i.node,i!==null&&t.Ds.remove(i)),s}n.Zy=function(t){t!==null&&(t=this.ki(t),t!==null&&this.Iu(t))},n.ki=function(t){return t===null?null:this.Ds.I(t)},n.Ao=function(t){if(t!==null){MT(this,t);var i=t.toVertex;i!==null&&i.Bl(t),i=t.fromVertex,i!==null&&i.yl(t)}};function MT(t,i){if(i!==null){t.ye.add(i);var s=i.link;s!==null&&t.Ko(s)===null&&t.ys.add(s,i),i.network=t}}n.Dy=function(t){if(t===null)return null;var i=t.fromNode,s=t.toNode,l=this.Ko(t);return l===null?(l=this.createEdge(),l.link=t,i!==null&&(l.fromVertex=this.Al(i)),s!==null&&(l.toVertex=this.Al(s)),this.Ao(l)):(i!==null?l.fromVertex=this.Al(i):l.fromVertex=null,s!==null?l.toVertex=this.Al(s):l.toVertex=null),l},n.Lj=function(t){if(t!==null){var i=t.toVertex;i!==null&&i.Jl(t),i=t.fromVertex,i!==null&&i.Il(t),QT(this,t)}};function QT(t,i){i!==null&&t.ye.remove(i)&&(i=i.link,i!==null&&t.ys.remove(i))}n.Yy=function(t){t!==null&&(t=this.Ko(t),t!==null&&this.Lj(t))},n.Ko=function(t){return t===null?null:this.ys.I(t)},n.Yj=function(t,i,s){if(t===null||i===null)return null;if(t.network===this&&i.network===this){var l=this.createEdge();return l.link=s,l.fromVertex=t,l.toVertex=i,this.Ao(l),l}return null},n.fm=function(t){if(t!==null){var i=t.fromVertex,s=t.toVertex;i!==null&&s!==null&&(i.Il(t),s.Jl(t),t.fm(),i.Bl(t),s.yl(t))}},n.Jo=function(){for(var t=St(),i=this.ye.iterator;i.next();){var s=i.value;s.fromVertex===s.toVertex&&t.push(s)}for(i=t.length,s=0;s<i;s++)this.Lj(t[s]);dt(t)},de.prototype.deleteArtificialVertexes=function(){for(var t=St(),i=this.wf.iterator;i.next();){var s=i.value;s.node===null&&s.data===null&&t.push(s)}for(s=t.length,i=0;i<s;i++)this.Iu(t[i]);for(i=St(),s=this.ye.iterator;s.next();){var l=s.value;l.link===null&&l.data===null&&i.push(l)}for(s=i.length,l=0;l<s;l++)this.Lj(i[l]);dt(t),dt(i)};function qG(t){for(var i=St(),s=t.ye.iterator;s.next();){var l=s.value;l.fromVertex!==null&&l.toVertex!==null||i.push(l)}for(s=i.length,l=0;l<s;l++)t.Lj(i[l]);dt(i)}de.prototype.Zx=function(t){t===void 0&&(t=!0),t&&(this.deleteArtificialVertexes(),qG(this),this.Jo()),t=new ct;for(var i=!0;i;){i=!1;for(var s=this.wf.iterator;s.next();){var l=s.value;if(0<l.tg.count||0<l.mg.count){i=this.layout.createNetwork(),t.add(i),NT(this,i,l),i=!0;break}}}return t.sort(function(u,c){return u===null||c===null||u===c?0:c.vertexes.count-u.vertexes.count}),t};function NT(t,i,s){if(s!==null&&s.network!==i){yD(t,s),i.dh(s);for(var l=s.sourceEdges;l.next();){var u=l.value;u.network!==i&&(QT(t,u),MT(i,u),NT(t,i,u.fromVertex))}for(l=s.destinationEdges;l.next();)s=l.value,s.network!==i&&(QT(t,s),MT(i,s),NT(t,i,s.toVertex))}}de.prototype.dz=function(){for(var t=new at,i=this.wf.iterator;i.next();)t.add(i.value.node);for(i=this.ye.iterator;i.next();)t.add(i.value.link);return t},S.Object.defineProperties(de.prototype,{layout:{get:function(){return this.Sc},set:function(t){t!==null&&(this.Sc=t)}},vertexes:{get:function(){return this.wf}},edges:{get:function(){return this.ye}}}),de.prototype.findAllParts=de.prototype.dz,de.prototype.splitIntoSubNetworks=de.prototype.Zx,de.prototype.deleteSelfEdges=de.prototype.Jo,de.prototype.reverseEdge=de.prototype.fm,de.prototype.linkVertexes=de.prototype.Yj,de.prototype.findEdge=de.prototype.Ko,de.prototype.deleteLink=de.prototype.Yy,de.prototype.deleteEdge=de.prototype.Lj,de.prototype.addLink=de.prototype.Dy,de.prototype.addEdge=de.prototype.Ao,de.prototype.findVertex=de.prototype.ki,de.prototype.deleteNode=de.prototype.Zy,de.prototype.deleteVertex=de.prototype.Iu,de.prototype.addNode=de.prototype.Al,de.prototype.addVertex=de.prototype.dh,de.prototype.addParts=de.prototype.lg,de.className="LayoutNetwork";function ni(t){Ue(this),this.ob=t,this.j=new tt(0,0,10,10).freeze(),this.o=new F(5,5).freeze(),this.Sh=this.ub=null,this.tg=new ct,this.mg=new ct}ni.prototype.clear=function(){this.Sh=this.ub=null,this.tg=new ct,this.mg=new ct},ni.prototype.toString=function(t){t===void 0&&(t=0);var i="LayoutVertex#"+Ni(this);if(0<t&&(i+=this.node!==null?"("+this.node.toString()+")":"",1<t)){t="";for(var s=!0,l=this.tg.iterator;l.next();){var u=l.value;s?s=!1:t+=",",t+=u.toString(0)}for(u="",s=!0,l=this.mg.iterator;l.next();){var c=l.value;s?s=!1:u+=",",u+=c.toString(0)}i+=" sources: "+t+" destinations: "+u}return i},ni.prototype.commit=function(){var t=this.ub;if(t!==null){var i=this.bounds,s=t.bounds;J(s)?(s.x=i.x,s.y=i.y,s.width=i.width,s.height=i.height):t.bounds=i.copy()}else if(t=this.node,t!==null){if(i=this.bounds,!(t instanceof Lt)){s=tt.alloc(),t.Va();var l=this.network.layout.ni(t,s),u=t.locationObject.ga(oe);if(l.w()&&u.w()){t.moveTo(i.x+this.focusX-(u.x-l.x),i.y+this.focusY-(u.y-l.y)),tt.free(s);return}tt.free(s)}t.moveTo(i.x,i.y)}},ni.prototype.Bl=function(t){t!==null&&(this.tg.contains(t)||this.tg.add(t))},ni.prototype.Jl=function(t){t!==null&&this.tg.remove(t)},ni.prototype.yl=function(t){t!==null&&(this.mg.contains(t)||this.mg.add(t))},ni.prototype.Il=function(t){t!==null&&this.mg.remove(t)};function AT(t,i){return t=t.Sh,i=i.Sh,t?i?(t=t.text,i=i.text,t<i?-1:t>i?1:0):1:i!==null?-1:0}S.Object.defineProperties(ni.prototype,{sourceEdgesArrayAccess:{get:function(){return this.tg._dataArray}},destinationEdgesArrayAccess:{get:function(){return this.mg._dataArray}},data:{get:function(){return this.ub},set:function(t){if(this.ub=t,t!==null&&t.bounds){var i=t.bounds;t=i.x;var s=i.y,l=i.width;i=i.height,this.o.h(l/2,i/2),this.j.h(t,s,l,i)}}},node:{get:function(){return this.Sh},set:function(t){if(this.Sh!==t){this.Sh=t,t.Va();var i=this.network.layout,s=tt.alloc(),l=i.ni(t,s);i=l.x;var u=l.y,c=l.width;if(l=l.height,isNaN(i)&&(i=0),isNaN(u)&&(u=0),this.j.h(i,u,c,l),tt.free(s),!(t instanceof Lt)&&(t=t.locationObject.ga(oe),t.w())){this.o.h(t.x-i,t.y-u);return}this.o.h(c/2,l/2)}}},bounds:{get:function(){return this.j},set:function(t){this.j.D(t)||this.j.assign(t)}},focus:{get:function(){return this.o},set:function(t){this.o.D(t)||this.o.assign(t)}},centerX:{get:function(){return this.j.x+this.o.x},set:function(t){var i=this.j;i.x+this.o.x!==t&&(i.ka(),i.x=t-this.o.x,i.freeze())}},centerY:{get:function(){return this.j.y+this.o.y},set:function(t){var i=this.j;i.y+this.o.y!==t&&(i.ka(),i.y=t-this.o.y,i.freeze())}},focusX:{get:function(){return this.o.x},set:function(t){var i=this.o;i.x!==t&&(i.ka(),i.x=t,i.freeze())}},focusY:{get:function(){return this.o.y},set:function(t){var i=this.o;i.y!==t&&(i.ka(),i.y=t,i.freeze())}},x:{get:function(){return this.j.x},set:function(t){var i=this.j;i.x!==t&&(i.ka(),i.x=t,i.freeze())}},y:{get:function(){return this.j.y},set:function(t){var i=this.j;i.y!==t&&(i.ka(),i.y=t,i.freeze())}},width:{get:function(){return this.j.width},set:function(t){var i=this.j;i.width!==t&&(i.ka(),i.width=t,i.freeze())}},height:{get:function(){return this.j.height},set:function(t){var i=this.j;i.height!==t&&(i.ka(),i.height=t,i.freeze())}},network:{get:function(){return this.ob},set:function(t){this.ob=t}},sourceVertexes:{get:function(){for(var t=new at,i=this.sourceEdges;i.next();)t.add(i.value.fromVertex);return t.iterator}},destinationVertexes:{get:function(){for(var t=new at,i=this.destinationEdges;i.next();)t.add(i.value.toVertex);return t.iterator}},vertexes:{get:function(){for(var t=new at,i=this.sourceEdges;i.next();)t.add(i.value.fromVertex);for(i=this.destinationEdges;i.next();)t.add(i.value.toVertex);return t.iterator}},sourceEdges:{get:function(){return this.tg.iterator}},destinationEdges:{get:function(){return this.mg.iterator}},edges:{get:function(){for(var t=new ct,i=this.sourceEdges;i.next();)t.add(i.value);for(i=this.destinationEdges;i.next();)t.add(i.value);return t.iterator}},edgesCount:{get:function(){return this.tg.count+this.mg.count}}}),ni.prototype.deleteDestinationEdge=ni.prototype.Il,ni.prototype.addDestinationEdge=ni.prototype.yl,ni.prototype.deleteSourceEdge=ni.prototype.Jl,ni.prototype.addSourceEdge=ni.prototype.Bl,ni.className="LayoutVertex",ni.standardComparer=AT,ni.smartComparer=function(t,i){if(t!==null){if(i!==null){t=t.Sh;var s=i.Sh;if(t!==null){if(s!==null){for(i=t.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),t=s.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),s=0;s<i.length;s++)if(t[s]!==""&&t[s]!==void 0){var l=parseFloat(i[s]),u=parseFloat(t[s]);if(isNaN(l))if(isNaN(u)){if(i[s].localeCompare(t[s])!==0)return i[s].localeCompare(t[s])}else return 1;else{if(isNaN(u))return-1;if(l-u!==0)return l-u}}else if(i[s]!=="")return 1;return t[s]!==""&&t[s]!==void 0?-1:0}return 1}return s!==null?-1:0}return 1}return i!==null?-1:0};function ir(t){Ue(this),this.nb=t,this.qd=this.kd=this.Zk=this.ub=null}ir.prototype.clear=function(){this.qd=this.kd=this.Zk=this.ub=null},ir.prototype.toString=function(t){t===void 0&&(t=0);var i="LayoutEdge#"+Ni(this);return 0<t&&(i+=this.Zk!==null?"("+this.Zk.toString()+")":"",1<t&&(i+=" "+(this.kd?this.kd.toString():"null")+" --> "+(this.qd?this.qd.toString():"null"))),i},ir.prototype.fm=function(){var t=this.kd;this.kd=this.qd,this.qd=t},ir.prototype.commit=function(){},ir.prototype.Ax=function(t){return this.qd===t?this.kd:this.kd===t?this.qd:null},S.Object.defineProperties(ir.prototype,{network:{get:function(){return this.nb},set:function(t){this.nb=t}},data:{get:function(){return this.ub},set:function(t){this.ub!==t&&(this.ub=t)}},link:{get:function(){return this.Zk},set:function(t){this.Zk!==t&&(this.Zk=t)}},fromVertex:{get:function(){return this.kd},set:function(t){this.kd!==t&&(this.kd=t)}},toVertex:{get:function(){return this.qd},set:function(t){this.qd!==t&&(this.qd=t)}}}),ir.prototype.getOtherVertex=ir.prototype.Ax,ir.className="LayoutEdge";function xi(t){ye.call(this),this.isViewportSized=!0,this.xo=this.yo=NaN,this.yg=new At(NaN,NaN).freeze(),this.tf=new At(10,10).freeze(),this.Kb=Q0,this.Sb=a1,this.nd=N0,this.hd=OD,t&&Object.assign(this,t)}x(xi,ye),xi.prototype.cloneProtected=function(t){ye.prototype.cloneProtected.call(this,t),t.yo=this.yo,t.xo=this.xo,t.yg.assign(this.yg),t.tf.assign(this.tf),t.Kb=this.Kb,t.Sb=this.Sb,t.nd=this.nd,t.hd=this.hd},xi.prototype.qb=function(t){t.classType===xi?t===N0||t===h1||t===jT||t===u1?this.sorting=t:t===a1||t===Zs?this.arrangement=t:t===Q0||t===l1?this.alignment=t:D("Unknown enum value: "+t):ye.prototype.qb.call(this,t)},xi.prototype.doLayout=function(t){this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var i=this.ex(t);t=this.diagram;for(var s=i.copy().iterator;s.next();){var l=s.value;if(!l.ph()||l.fromNode===null&&l.toNode===null){if(l.Va(),l instanceof Lt)for(l=l.memberParts;l.next();)i.remove(l.value)}else i.remove(l)}var u=i.Fa();if(u.length!==0){switch(this.sorting){case u1:u.reverse();break;case N0:u.sort(this.comparer);break;case h1:u.sort(this.comparer),u.reverse()}var c=this.wrappingColumn;isNaN(c)&&(c=0);var d=this.wrappingWidth;switch(isNaN(d)&&t!==null?(i=t.padding,d=Math.max(t.viewportBounds.width-i.left-i.right,0)):d=Math.max(this.wrappingWidth,0),0>=c&&0>=d&&(c=1),i=this.spacing.width,isFinite(i)||(i=0),s=this.spacing.height,isFinite(s)||(s=0),t!==null&&t.Ea("Layout"),l=[],this.alignment){case l1:var m=i,y=s,O=tt.alloc(),w=Math.max(this.cellSize.width,1);if(!isFinite(w))for(var k=w=0;k<u.length;k++){var P=this.ni(u[k],O);w=Math.max(w,P.width)}if(w=Math.max(w+m,1),k=Math.max(this.cellSize.height,1),!isFinite(k))for(P=k=0;P<u.length;P++){var T=this.ni(u[P],O);k=Math.max(k,T.height)}k=Math.max(k+y,1),P=this.arrangement;for(var M=T=this.arrangementOrigin.x,A=this.arrangementOrigin.y,I=0,L=0,z=0;z<u.length;z++){var X=u[z],_=this.ni(X,O),Y=Math.ceil((_.width+m)/w)*w,G=Math.ceil((_.height+y)/k)*k;switch(P){case Zs:var ut=Math.abs(M-_.width);break;default:ut=M+_.width}switch((0<c&&I>c-1||0<d&&0<I&&ut-T>d)&&(l.push(new tt(0,A,d+m,L)),I=0,M=T,A+=L,L=0),L=Math.max(L,G),P){case Zs:_=-_.width;break;default:_=0}switch(X.moveTo(M+_,A),P){case Zs:M-=Y;break;default:M+=Y}I++}l.push(new tt(0,A,d+m,L)),tt.free(O);break;case Q0:for(y=d,w=c,k=i,P=s,d=tt.alloc(),T=Math.max(this.cellSize.width,1),c=A=O=0,m=F.alloc(),M=0;M<u.length;M++)L=u[M],I=this.ni(L,d),L=ba(L,L.locationObject,L.locationSpot,m),O=Math.max(O,L.x),A=Math.max(A,I.width-L.x),c=Math.max(c,L.y);switch(M=this.arrangement,M){case Zs:O+=k;break;default:A+=k}T=isFinite(T)?Math.max(T+k,1):Math.max(O+A,1);var gt=L=this.arrangementOrigin.x;for(z=this.arrangementOrigin.y,A=0,y>=O&&(y-=O),O=X=0,Y=Math.max(this.cellSize.height,1),_=c=0,G=!0,I=F.alloc(),ut=0;ut<u.length;ut++){var mt=u[ut],st=this.ni(mt,d),et=ba(mt,mt.locationObject,mt.locationSpot,m);if(0<A)switch(M){case Zs:gt=(gt-L-(st.width-et.x))/T,gt=U.$(Math.round(gt),gt)?Math.round(gt):Math.floor(gt),gt=gt*T+L;break;default:gt=(gt-L+et.x)/T,gt=U.$(Math.round(gt),gt)?Math.round(gt):Math.ceil(gt),gt=gt*T+L}else switch(M){case Zs:X=gt+et.x+st.width;break;default:X=gt-et.x}switch(M){case Zs:var Rt=-(gt+et.x)+X;break;default:Rt=gt+st.width-et.x-X}if(0<w&&A>w-1||0<y&&0<A&&Rt>y){for(l.push(new tt(0,G?z-c:z,y+k,_+c+P)),gt=0;gt<A&&ut!==A;gt++){Rt=u[ut-A+gt];var Qt=ba(Rt,Rt.locationObject,Rt.locationSpot,I);Rt.moveTo(Rt.position.x,Rt.position.y+c-Qt.y)}_+=P,z=G?z+_:z+(_+c),A=_=c=0,gt=L,G=!1}switch(gt===L&&(O=M===Zs?Math.max(O,st.width-et.x):Math.min(O,-et.x)),c=Math.max(c,et.y),_=Math.max(_,st.height-et.y),isFinite(Y)&&(_=Math.max(_,Math.max(st.height,Y)-et.y)),G?mt.moveTo(gt-et.x,z-et.y):mt.moveTo(gt-et.x,z),M){case Zs:gt-=et.x+k;break;default:gt+=st.width-et.x+k}A++}if(l.push(new tt(0,z,y+k,(G?_:_+c)+P)),u.length!==A)for(y=0;y<A;y++)w=u[u.length-A+y],k=ba(w,w.locationObject,w.locationSpot,m),w.moveTo(w.position.x,w.position.y+c-k.y);if(F.free(m),F.free(I),M===Zs)for(u=0;u<l.length;u++)c=l[u],c.width+=O,c.x-=O;else for(u=0;u<l.length;u++)c=l[u],c.x>O&&(c.width+=c.x-O,c.x=O);tt.free(d)}for(m=c=d=u=0;m<l.length;m++)y=l[m],u=Math.min(u,y.x),d=Math.min(d,y.y),c=Math.max(c,y.x+y.width);this.arrangement===Zs?this.commitLayers(l,new F(u+i/2-(c+u),d-s/2)):this.commitLayers(l,new F(u-i/2,d-s/2)),t!==null&&t.eb("Layout"),this.isValidLayout=!0}},xi.prototype.commitLayers=function(){};function OD(t,i){return t=t.text,i=i.text,t<i?-1:t>i?1:0}S.Object.defineProperties(xi.prototype,{wrappingWidth:{get:function(){return this.yo},set:function(t){this.yo!==t&&(0<t||isNaN(t))&&(this.yo=t,this.isViewportSized=isNaN(t),this.C())}},wrappingColumn:{get:function(){return this.xo},set:function(t){this.xo!==t&&(0<t||isNaN(t))&&(this.xo=t,this.C())}},cellSize:{get:function(){return this.yg},set:function(t){this.yg.D(t)||(this.yg.assign(t),this.C())}},spacing:{get:function(){return this.tf},set:function(t){this.tf.D(t)||(this.tf.assign(t),this.C())}},alignment:{get:function(){return this.Kb},set:function(t){this.Kb===t||t!==Q0&&t!==l1||(this.Kb=t,this.C())}},arrangement:{get:function(){return this.Sb},set:function(t){this.Sb===t||t!==a1&&t!==Zs||(this.Sb=t,this.C())}},sorting:{get:function(){return this.nd},set:function(t){this.nd===t||t!==jT&&t!==u1&&t!==N0&&t!==h1||(this.nd=t,this.C())}},comparer:{get:function(){return this.hd},set:function(t){this.hd!==t&&(this.hd=t,this.C())}}});var l1=new it(xi,"Position",0),Q0=new it(xi,"Location",1),a1=new it(xi,"LeftToRight",2),Zs=new it(xi,"RightToLeft",3),jT=new it(xi,"Forward",4),u1=new it(xi,"Reverse",5),N0=new it(xi,"Ascending",6),h1=new it(xi,"Descending",7);xi.className="GridLayout",xi.standardComparer=OD,xi.smartComparer=function(t,i){if(t!==null){if(i!==null){t=t.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),i=i.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/);for(var s=0;s<t.length;s++)if(i[s]!==""&&i[s]!==void 0){var l=parseFloat(t[s]),u=parseFloat(i[s]);if(isNaN(l))if(isNaN(u)){if(t[s].localeCompare(i[s])!==0)return t[s].localeCompare(i[s])}else return 1;else{if(isNaN(u))return-1;if(l-u!==0)return l-u}}else if(t[s]!=="")return 1;return i[s]!==""&&i[s]!==void 0?-1:0}return 1}return i!==null?-1:0},xi.Position=l1,xi.Location=Q0,xi.LeftToRight=a1,xi.RightToLeft=Zs,xi.Forward=jT,xi.Reverse=u1,xi.Ascending=N0,xi.Descending=h1;function re(){this.Nn=new at,this.Cn=new at,this.Pa=new at,this.cf=new jt,this.bf=new jt,this.aj=new jt,this.H=null,this.sp=!1}n=re.prototype,n.clear=function(){this.Nn.clear(),this.Cn.clear(),this.Pa.clear(),this.cf.clear(),this.bf.clear(),this.aj.clear()},n.Xe=function(t){this.H=t},n.oi=function(t){if(t instanceof ft){if(this.Nn.add(t),t instanceof Lt){var i=t.containingGroup;i===null?this.H.ai.add(t):i.fl.add(t),i=t.layout,i!==null&&(i.diagram=this.H)}}else t instanceof rt?this.Cn.add(t):t instanceof Wt||this.Pa.add(t);i=t.data,i===null||t instanceof Wt||(t instanceof rt?this.bf.add(i,t):this.cf.add(i,t))},n.qc=function(t){if(t.Dj(),t instanceof ft){if(this.Nn.remove(t),t instanceof Lt){var i=t.containingGroup;i===null?this.H.ai.remove(t):i.fl.remove(t),i=t.layout,i!==null&&(i.diagram=null)}}else t instanceof rt?this.Cn.remove(t):t instanceof Wt||this.Pa.remove(t);i=t.data,i===null||t instanceof Wt||(t instanceof rt?this.bf.remove(i):this.cf.remove(i))},n.Wd=function(){var t=this.H;if(t!==null){for(var i=t.nodeTemplateMap.iterator;i.next();){var s=i.value,l=i.key;(!s.Zc()||s instanceof Lt)&&D('Invalid node template in Diagram.nodeTemplateMap: template for "'+l+'" must be a Node or a simple Part, not a Group or Link: '+s)}for(i=t.groupTemplateMap.iterator;i.next();)s=i.value,l=i.key,s instanceof Lt||D('Invalid group template in Diagram.groupTemplateMap: template for "'+l+'" must be a Group, not a normal Node or Link: '+s);for(i=t.linkTemplateMap.iterator;i.next();)s=i.value,l=i.key,s instanceof rt||D('Invalid link template in Diagram.linkTemplateMap: template for "'+l+'" must be a Link, not a normal Node or simple Part: '+s);for(i=St(),s=t.selection.iterator;s.next();)(l=s.value.data)&&i.push(l);for(s=St(),t=t.highlighteds.iterator;t.next();)(l=t.value.data)&&s.push(l);for(t=St(),l=this.nodes.iterator;l.next();){var u=l.value;u.data!==null&&(t.push(u.data),t.push(u.location))}for(l=this.links.iterator;l.next();)u=l.value,u.data!==null&&(t.push(u.data),t.push(u.location));for(l=this.parts.iterator;l.next();)u=l.value,u.data!==null&&(t.push(u.data),t.push(u.location));for(this.removeAllModeledParts(),this.addAllModeledParts(),l=0;l<i.length;l++)u=this.Lc(i[l]),u!==null&&(u.isSelected=!0);for(l=0;l<s.length;l++)u=this.Lc(s[l]),u!==null&&(u.isHighlighted=!0);for(l=0;l<t.length;l+=2)u=this.Lc(t[l]),u!==null&&(u.location=t[l+1]);dt(i),dt(s),dt(t)}},re.prototype.addAllModeledParts=function(){this.addModeledParts(this.diagram.model.nodeDataArray)},re.prototype.addModeledParts=function(t,i){var s=this,l=this.diagram.model;t.forEach(function(u){l.lb(u)&&vD(s,u,!1)}),t.forEach(function(u){l.lb(u)&&s.resolveReferencesForData(u)}),i!==!1&&sx(this.diagram,!1)};function vD(t,i,s){if(i!=null&&!t.diagram.undoManager.isUndoingRedoing&&!t.cf.contains(i)){s===void 0&&(s=!0);t:{if(i!=null&&!t.H.undoManager.isUndoingRedoing&&!t.cf.contains(i)){var l=t.Qo(i),u=xD(t,i,l);if(u!==null&&(Gr(u),u=u.copy(),u!==null)){var c=t.diagram.skipsModelSourceBindings;t.diagram.skipsModelSourceBindings=!0,u.Tf=l,u.ub=i,t.sp&&(u.Jg="Tool"),t.diagram.add(u),u.ub=null,u.data=i,t.diagram.skipsModelSourceBindings=c,l=u;break t}}l=null}l!==null&&s&&t.resolveReferencesForData(i)}}re.prototype.insertLink=function(){return null},re.prototype.resolveReferencesForData=function(){},re.prototype.Qo=function(t){return this.H.model.Qo(t)};function xD(t,i,s){t=t.H;var l=t.model;return l.Wj()&&l.Yu(i)?(i=t.groupTemplateMap.I(s),i===null&&(i=t.groupTemplateMap.I(""),i===null&&(kD||(kD=!0,K('No Group template found for category "'+s+'"'),K("  Using default group template")),i=t.ly))):(i=t.nodeTemplateMap.I(s),i===null&&(i=t.nodeTemplateMap.I(""),i===null&&(SD||(SD=!0,K('No Node template found for category "'+s+'"'),K("  Using default node template")),i=t.ny))),i}re.prototype.getLinkCategoryForData=function(){return""},re.prototype.setLinkCategoryForData=function(){},re.prototype.setFromNodeForLink=function(){},re.prototype.setToNodeForLink=function(){},re.prototype.findLinkTemplateForCategory=function(t){var i=this.H,s=i.linkTemplateMap.I(t);return s===null&&(s=i.linkTemplateMap.I(""),s===null&&(PD||(PD=!0,K('No Link template found for category "'+t+'"'),K("  Using default link template")),s=i.my)),s},re.prototype.removeAllModeledParts=function(){this.Fs(this.diagram.model.nodeDataArray)},re.prototype.Fs=function(t){var i=this;t.forEach(function(s){i.hp(s)})},re.prototype.hp=function(t){t=this.Lc(t),t!==null&&(lb(this.diagram,t,!1),this.unresolveReferencesForPart(t))},re.prototype.unresolveReferencesForPart=function(){},re.prototype.removeDataForLink=function(){},re.prototype.findPartForKey=function(t){return t==null?null:(t=this.H.model.ic(t),t!==null?this.cf.I(t):null)},re.prototype.Wb=function(t){return t==null||(t=this.H.model.ic(t),t===null)?null:(t=this.cf.I(t),t instanceof ft?t:null)},re.prototype.findLinkForKey=function(){return null},n=re.prototype,n.Lc=function(t){if(t===null)return null;var i=this.cf.I(t);return i!==null?i:i=this.bf.I(t)},n.ii=function(t){return t===null?null:(t=this.cf.I(t),t instanceof ft?t:null)},n.Kc=function(t){return t===null?null:this.bf.I(t)},n.ls=function(t){for(var i=0;i<arguments.length;++i);i=new at;for(var s=this.Nn.iterator;s.next();){var l=s.value,u=l.data;if(u!==null)for(var c=0;c<arguments.length;c++){var d=arguments[c];if(J(d)&&ET(this,u,d)){i.add(l);break}}}return i.iterator},n.ks=function(t){for(var i=0;i<arguments.length;++i);i=new at;for(var s=this.Cn.iterator;s.next();){var l=s.value,u=l.data;if(u!==null)for(var c=0;c<arguments.length;c++){var d=arguments[c];if(J(d)&&ET(this,u,d)){i.add(l);break}}}return i.iterator};function ET(t,i,s){for(var l in s){var u=i[l],c=s[l];if(ot(c)){if(!ot(u)||u.length<c.length)return!1;for(var d=0;d<u.length;d++){var m=c[d];if(m!==void 0&&!wD(t,u[d],m))return!1}}else if(!wD(t,u,c))return!1}return!0}function wD(t,i,s){if(typeof s=="function"){if(!s(i))return!1}else if(s instanceof RegExp){if(!i||!s.test(i.toString()))return!1}else if(J(i)&&J(s)){if(!ET(t,i,s))return!1}else if(i!==s)return!1;return!0}re.prototype.doModelChanged=function(t){if(this.H){var i=this.H;if(t.model===i.model){var s=t.change;if(i.doModelChanged(t),i.aa){i.aa=!1;try{var l=t.modelChange;if(l!=="")if(s===ke){if(l==="nodeCategory"){var u=this.Lc(t.object),c=t.newValue;u!==null&&typeof c=="string"&&(u.category=c)}else l==="nodeDataArray"&&(this.Fs(t.oldValue),this.addModeledParts(t.newValue));i.isModified=!0}else if(s===oi){var d=t.newValue;l==="nodeDataArray"&&J(d)&&vD(this,d),i.isModified=!0}else if(s===ci){var m=t.oldValue;l==="nodeDataArray"&&J(m)&&this.hp(m),i.isModified=!0}else s===zs&&(l==="SourceChanged"?t.object!==null?this.updateDataBindings(t.object,t.propertyName):(this.qp(),this.updateAllTargetBindings()):l==="ModelDisplaced"&&this.Wd());else if(s===ke){var y=t.propertyName,O=t.object;O===i.model?(y==="nodeKeyProperty"||y==="nodeCategoryProperty")&&(i.undoManager.isUndoingRedoing||this.Wd()):this.updateDataBindings(O,y),i.isModified=!0}else if(s===oi||s===ci){var w=t.change===oi,k=w?t.newParam:t.oldParam,P=w?t.newValue:t.oldValue,T=this.aj.I(t.object);if(Array.isArray(T))for(t=0;t<T.length;t++){var M=T[t];if(w)Qx(M,P,k,!0);else if(!(0>k)){var A=k+c0(M);M.qc(A,!0),Wb(M,A,k)}}i.isModified=!0}}finally{i.aa=!0}}}}},re.prototype.updateAllTargetBindings=function(t){t===void 0&&(t="");for(var i=this.parts.iterator;i.next();)i.value.La(t);for(i=this.nodes.iterator;i.next();)i.value.La(t);for(i=this.links.iterator;i.next();)i.value.La(t)},re.prototype.qp=function(){for(var t=this.H.model,i=new at,s=t.nodeDataArray,l=0;l<s.length;l++)i.add(s[l]);var u=[];for(this.nodes.each(function(d){d.data===null||i.contains(d.data)||u.push(d.data)}),this.parts.each(function(d){d.data===null||i.contains(d.data)||u.push(d.data)}),u.forEach(function(d){ED(t,d,!1)}),l=0;l<s.length;l++){var c=s[l];this.Lc(c)===null&&jD(t,c,!1)}for(this.refreshDataBoundLinks(),s=this.parts.iterator;s.next();)s.value.updateRelationshipsFromData();for(s=this.nodes.iterator;s.next();)s.value.updateRelationshipsFromData();for(s=this.links.iterator;s.next();)s.value.updateRelationshipsFromData()},re.prototype.refreshDataBoundLinks=function(){},re.prototype.updateRelationshipsFromData=function(){},re.prototype.updateDataBindings=function(t,i){if(typeof i=="string"){var s=this.Lc(t);if(s!==null)s.La(i);else{s=null;for(var l=this.aj.iterator;l.next();){for(var u=l.value,c=0;c<u.length;c++){var d=u[c].sx(t);d!==null&&(s===null&&(s=St()),s.push(d))}if(s!==null)break}if(s!==null){for(l=0;l<s.length;l++)s[l].La(i);dt(s)}}t===this.diagram.model.modelData&&this.updateAllTargetBindings(i)}};function RT(t,i){var s=i.Hh;if(ot(s)){var l=t.aj.I(s);if(l===null)l=[],l.push(i),t.aj.add(s,l);else{for(t=0;t<l.length;t++)if(l[t]===i)return;l.push(i)}}}function LT(t,i,s){Ih(i,function(d){d=d.O.s;for(var m=d.length,y=0;y<m;y++)db(s,d[y])});var l=i.Hh;if(ot(l)){var u=t.aj.I(l);if(u!==null){for(var c=0;c<u.length;c++)if(u[c]===i){u.splice(c,1),u.length===0&&t.aj.remove(l);break}}}}re.prototype.Jj=function(t,i,s){s===void 0&&(s=!1);var l=new jt;if(ot(t))for(var u=0;u<t.length;u++)c1(this,t[u],i,l,s);else for(t=t.iterator;t.next();)c1(this,t.value,i,l,s);if(i!==null){s=i.model,t=i.toolManager.findTool("Dragging"),t=t!==null?t.dragOptions.dragsLink:i.Vm.dragsLink,u=new at;for(var c=new jt,d=l.iterator;d.next();){var m=d.value;if(m instanceof rt)t||m.fromNode!==null&&m.toNode!==null||u.add(m);else if(m instanceof ft&&m.data!==null&&s.Sl()){var y=m;m=d.key;var O=m.pg();O!==null&&(O=l.I(O),O!==null?(s.qe(y.data,s.wa(O.data)),y=i.Kc(y.data),m=m.kh(),m!==null&&y!==null&&c.add(m,y)):s.qe(y.data,void 0))}}if(0<u.count&&i.Hs(u,!1),0<c.count)for(s=c.iterator;s.next();)l.add(s.key,s.value)}if(i!==null&&this.H!==null&&(i=i.model,s=i.afterCopyFunction,s!==null)){var w=new jt;l.each(function(k){k.key.data!==null&&w.add(k.key.data,k.value.data)}),s(w,i,this.H.model)}for(i=l.iterator;i.next();)i.value.La();return l};function c1(t,i,s,l,u){if(i===null||u&&!i.canCopy())return null;if(l.contains(i))return l.I(i);var c=t.copyPartData(i,s);if(!(c instanceof kt))return null;if(c.isSelected=!1,c.isHighlighted=!1,l.add(i,c),i instanceof ft){for(var d=i.linksConnected;d.next();){var m=d.value;if(m.fromNode===i){var y=l.I(m);y!==null&&(y.fromNode=c)}m.toNode===i&&(m=l.I(m),m!==null&&(m.toNode=c))}if(i instanceof Lt&&c instanceof Lt)for(i=i.memberParts;i.next();)d=c1(t,i.value,s,l,u),d instanceof rt||d===null||(d.containingGroup=c)}else if(i instanceof rt&&c instanceof rt)for(d=i.fromNode,d!==null&&(d=l.I(d),d!==null&&(c.fromNode=d)),d=i.toNode,d!==null&&(d=l.I(d),d!==null&&(c.toNode=d)),i=i.labelNodes;i.next();)d=c1(t,i.value,s,l,u),d!==null&&d instanceof ft&&(d.labeledLink=c);return c}re.prototype.copyPartData=function(t,i){var s=null,l=t.data;if(l!==null&&i!==null){var u=i.model;t instanceof rt||(l=u.copyNodeData(l),J(l)&&(u.xf(l),s=i.Lc(l)))}else Gr(t),s=t.copy(),s!==null&&(u=this.H,i!==null?i.add(s):l!==null&&u!==null&&u.commandHandler!==null&&u.commandHandler.copiesClipboardData&&(i=u.model,u=null,s instanceof rt||(u=i.copyNodeData(l)),J(u)&&(s.data=u)));return s},S.Object.defineProperties(re.prototype,{nodes:{get:function(){return this.Nn}},links:{get:function(){return this.Cn}},parts:{get:function(){return this.Pa}},diagram:{get:function(){return this.H}},addsToTemporaryLayer:{get:function(){return this.sp},set:function(t){this.sp=t}}}),re.prototype.updateAllRelationshipsFromData=re.prototype.qp,re.prototype.findLinksByExample=re.prototype.ks,re.prototype.findNodesByExample=re.prototype.ls,re.prototype.findLinkForData=re.prototype.Kc,re.prototype.findNodeForData=re.prototype.ii,re.prototype.findPartForData=re.prototype.Lc,re.prototype.findNodeForKey=re.prototype.Wb,re.prototype.removeModeledPart=re.prototype.hp,re.prototype.removeModeledParts=re.prototype.Fs,re.prototype.rebuildParts=re.prototype.Wd;var SD=!1,kD=!1,PD=!1;re.className="PartManager";function fi(t){re.apply(this,arguments)}x(fi,re),fi.prototype.addAllModeledParts=function(){var t=this.diagram.model;this.addModeledParts(t.nodeDataArray),bD(this,t.linkDataArray)},fi.prototype.addModeledParts=function(t){for(re.prototype.addModeledParts.call(this,t,!1),t=this.links.iterator;t.next();)kp(t.value);sx(this.diagram,!1)};function bD(t,i){i.forEach(function(s){TD(t,s)}),sx(t.diagram,!1)}function TD(t,i){if(i!=null&&!t.diagram.undoManager.isUndoingRedoing&&!t.bf.contains(i)){var s=t.getLinkCategoryForData(i),l=t.findLinkTemplateForCategory(s);if(l!==null){Gr(l);var u=l.copy();if(u!==null){l=t.diagram.skipsModelSourceBindings,t.diagram.skipsModelSourceBindings=!0,u.Tf=s,u.ub=i,s=t.diagram.model;var c=m1(s,i,!0);c!==""&&(u.fromPortId=c),c=gr(s,i,!0),c!==void 0&&(c=t.Wb(c),c instanceof ft&&(u.fromNode=c)),c=m1(s,i,!1),c!==""&&(u.toPortId=c),c=gr(s,i,!1),c!==void 0&&(c=t.Wb(c),c instanceof ft&&(u.toNode=c)),s=s.Ef(i),Array.isArray(s)&&s.forEach(function(d){d=t.Wb(d),d!==null&&(d.labeledLink=u)}),t.sp&&(u.Jg="Tool"),t.diagram.add(u),u.ub=null,u.data=i,t.diagram.skipsModelSourceBindings=l}}}}fi.prototype.removeAllModeledParts=function(){var t=this.diagram.model;CD(this,t.linkDataArray),this.Fs(t.nodeDataArray)};function CD(t,i){i.forEach(function(s){t.hp(s)})}fi.prototype.getLinkCategoryForData=function(t){return this.diagram.model.os(t)},fi.prototype.setLinkCategoryForData=function(t,i){return this.diagram.model.kp(t,i)},fi.prototype.setFromNodeForLink=function(t,i){var s=this.diagram.model;s.wv(t.data,s.wa(i!==null?i.data:null))},fi.prototype.setToNodeForLink=function(t,i){var s=this.diagram.model;s.Bv(t.data,s.wa(i!==null?i.data:null))},fi.prototype.removeDataForLink=function(t){this.diagram.model.am(t.data)},fi.prototype.findPartForKey=function(t){var i=re.prototype.findPartForKey.call(this,t);return i===null&&(t=this.diagram.model.jh(t),t!==null)?this.bf.I(t):i},fi.prototype.findLinkForKey=function(t){return t==null?null:(t=this.diagram.model.jh(t),t!==null?this.bf.I(t):null)},fi.prototype.doModelChanged=function(t){var i=this;if(re.prototype.doModelChanged.call(this,t),this.diagram){var s=this.diagram;if(t.model===s.model){var l=t.change;if(s.aa){s.aa=!1;try{var u=t.modelChange;if(u!==""){if(l===ke){if(u==="linkFromKey"){var c=this.Kc(t.object);if(c!==null){var d=this.Wb(t.newValue);c.fromNode=d}}else if(u==="linkToKey"){var m=this.Kc(t.object);if(m!==null){var y=this.Wb(t.newValue);m.toNode=y}}else if(u==="linkFromPortId"){var O=this.Kc(t.object);if(O!==null){var w=t.newValue;typeof w=="string"&&(O.fromPortId=w)}}else if(u==="linkToPortId"){var k=this.Kc(t.object);if(k!==null){var P=t.newValue;typeof P=="string"&&(k.toPortId=P)}}else if(u==="nodeGroupKey"){var T=this.Lc(t.object);if(T!==null){var M=t.newValue;if(M!==void 0){var A=this.Wb(M);A instanceof Lt?T.containingGroup=A:T.containingGroup=null}else T.containingGroup=null}}else if(u==="linkLabelKeys"){var I=this.Kc(t.object);if(I!==null){var L=t.oldValue,z=t.newValue;Array.isArray(L)&&L.forEach(function(et){0<=z.indexOf(et)||(et=i.Wb(et),et!==null&&(et.labeledLink=null))}),Array.isArray(z)&&z.forEach(function(et){et=i.Wb(et),et!==null&&(et.labeledLink=I)})}}else if(u==="linkCategory"){var X=this.Kc(t.object),_=t.newValue;X!==null&&typeof _=="string"&&(X.category=_)}else u==="linkDataArray"&&(CD(this,t.oldValue),bD(this,t.newValue));s.isModified=!0}else if(l===oi){var Y=t.newValue;if(u==="linkDataArray"&&typeof Y=="object"&&Y!==null)TD(this,Y);else if(u==="linkLabelKeys"&&Au(Y)){var G=this.Kc(t.object),ut=this.Wb(Y);G!==null&&ut!==null&&(ut.labeledLink=G)}s.isModified=!0}else if(l===ci){var gt=t.oldValue;if(u==="linkDataArray"&&typeof gt=="object"&&gt!==null)this.hp(gt);else if(u==="linkLabelKeys"&&Au(gt)){var mt=this.Wb(gt);mt!==null&&(mt.labeledLink=null)}s.isModified=!0}}else if(l===ke){var st=t.propertyName;t.object!==s.model||st!=="linkFromKeyProperty"&&st!=="linkToKeyProperty"&&st!=="linkFromPortIdProperty"&&st!=="linkToPortIdProperty"&&st!=="linkLabelKeysProperty"&&st!=="nodeIsGroupProperty"&&st!=="nodeGroupKeyProperty"&&st!=="linkCategoryProperty"||s.undoManager.isUndoingRedoing||this.Wd(),s.isModified=!0}}finally{s.aa=!0}}}}},fi.prototype.refreshDataBoundLinks=function(){var t=this,i=this.diagram.model,s=new at,l=i.linkDataArray;l.forEach(function(c){s.add(c)});var u=[];this.links.each(function(c){c.data===null||s.contains(c.data)||u.push(c.data)}),u.forEach(function(c){FD(i,c,!1)}),l.forEach(function(c){t.Kc(c)===null&&ID(i,c,!1)})},fi.prototype.updateRelationshipsFromData=function(t){var i=t.data;if(i!==null){var s=t.diagram;if(s!==null){var l=s.model;if(t instanceof rt){var u=gr(l,i,!0);if(u=s.Wb(u),t.fromNode=u,u=gr(l,i,!1),u=s.Wb(u),t.toNode=u,i=l.Ef(i),0<i.length||0<t.labelNodes.count){if(i.length===1&&t.labelNodes.count===1){u=i[0];var c=t.labelNodes.first();if(l.wa(c.data)===u)return}u=new at().addAll(i);var d=new at;t.labelNodes.each(function(m){m.data!==null&&(m=l.wa(m.data),m!==void 0&&d.add(m))}),i=d.copy(),i.gp(u),u=u.copy(),u.gp(d),(0<i.count||0<u.count)&&(i.each(function(m){m=s.Wb(m),m!==null&&m.labeledLink===t&&(m.labeledLink=null)}),u.each(function(m){m=s.Wb(m),m!==null&&m.labeledLink!==t&&(m.labeledLink=t)}))}}else!(t instanceof Wt)&&(i=l.lh(i),i=s.findPartForKey(i),i===null||i instanceof Lt)&&(t.containingGroup=i)}}},fi.prototype.resolveReferencesForData=function(t){var i=this.diagram.model,s=i.wa(t);if(s!==void 0){var l=A0(i,s),u=this.Lc(t);if(l!==null&&u!==null){l=l.iterator;for(var c={};l.next();){var d=l.value;i.lb(d)?u instanceof Lt&&i.lh(d)===s&&(d=this.Lc(d),d!==null&&(d.containingGroup=u)):(c.link=this.Kc(d),c.link!==null&&u instanceof ft&&(gr(i,d,!0)===s&&(c.link.fromNode=u),gr(i,d,!1)===s&&(c.link.toNode=u),d=i.Ef(d),Array.isArray(d)&&d.some(function(m){return function(y){return y===s?(u.labeledLink=m.link,!0):!1}}(c)))),c={link:c.link}}Us(i,s)}t=i.lh(t),t!==void 0&&(t=this.Wb(t),t instanceof Lt&&(u.containingGroup=t))}},fi.prototype.unresolveReferencesForPart=function(t){var i=this.diagram.model;if(t instanceof ft){var s=i.wa(t.data);if(s!==void 0){for(var l=t.linksConnected;l.next();)Ys(i,s,l.value.data);if(t.isLinkLabel&&(l=t.labeledLink,l!==null&&Ys(i,s,l.data)),t instanceof Lt)for(t=t.memberParts;t.next();)l=t.value.data,i.lb(l)&&Ys(i,s,l)}}},fi.prototype.copyPartData=function(t,i){var s=re.prototype.copyPartData.call(this,t,i);if(t instanceof rt)if(t=t.data,t!==null&&i!==null){var l=i.model;t=l.Io(t),typeof t=="object"&&t!==null&&(l.fi(t),s=i.Kc(t))}else s!==null&&(i=this.diagram,t!==null&&i!==null&&i.commandHandler!==null&&i.commandHandler.copiesClipboardData&&(i=i.model.Io(t),typeof i=="object"&&i!==null&&(s.data=i)));return s},fi.prototype.insertLink=function(t,i,s,l){var u=this.diagram,c=u.model,d=u.toolManager.findTool("Linking"),m="";if(t!==null&&(i===null&&(i=t),m=i.portId,m===null&&(m="")),i="",s!==null&&(l===null&&(l=s),i=l.portId,i===null&&(i="")),l=d.archetypeLinkData,l instanceof rt){if(Gr(l),c=l.copy(),c!==null)return c.fromNode=t,c.fromPortId=m,c.toNode=s,c.toPortId=i,u.add(c),t=d.archetypeLabelNodeData,t instanceof ft&&(Gr(t),t=t.copy(),t!==null&&(t.labeledLink=c,u.add(t))),c}else if(l!==null&&(l=c.Io(l),typeof l=="object"&&l!==null))return t!==null&&Qp(c,l,c.wa(t.data),!0),Np(c,l,m,!0),s!==null&&Qp(c,l,c.wa(s.data),!1),Np(c,l,i,!1),c.fi(l),t=d.archetypeLabelNodeData,t===null||t instanceof ft||(t=c.copyNodeData(t),typeof t=="object"&&t!==null&&(c.xf(t),t=c.wa(t),t!==void 0&&c.Au(l,t))),u.Kc(l);return null},fi.prototype.findLinkForKey=fi.prototype.findLinkForKey,fi.prototype.findPartForKey=fi.prototype.findPartForKey,fi.prototype.removeAllModeledParts=fi.prototype.removeAllModeledParts,fi.prototype.addModeledParts=fi.prototype.addModeledParts,fi.prototype.addAllModeledParts=fi.prototype.addAllModeledParts,fi.className="GraphLinksPartManager";function Er(){re.apply(this,arguments),this.Sg=null}x(Er,re);function f1(t,i,s){if(i!==null&&s!==null&&s.kh()===null){var l=t.diagram.toolManager.findTool("Linking"),u=i,c=s;if(t.diagram.isTreePathToChildren||(u=s,c=i),(l===null||!Xg(l,u,c,null,!0))&&(i=t.getLinkCategoryForData(s.data),l=t.findLinkTemplateForCategory(i),l!==null&&(Gr(l),l=l.copy(),l!==null))){var d=t.diagram.skipsModelSourceBindings;t.diagram.skipsModelSourceBindings=!0,l.Tf=i,l.ub=s.data,l.fromNode=u,l.toNode=c,t.diagram.add(l),l.ub=null,l.data=s.data,t.diagram.skipsModelSourceBindings=d}}}Er.prototype.getLinkCategoryForData=function(t){return this.diagram.model.rs(t)},Er.prototype.setLinkCategoryForData=function(t,i){this.diagram.model.Ls(t,i)},Er.prototype.setFromNodeForLink=function(t,i,s){var l=this.diagram.model;if(s===void 0&&(s=null),i=i!==null?i.data:null,this.diagram.isTreePathToChildren)l.qe(t.data,l.wa(i));else{var u=this.Sg;this.Sg=t,s!==null&&l.qe(s.data,void 0),l.qe(i,l.wa(t.toNode!==null?t.toNode.data:null)),this.Sg=u}},Er.prototype.setToNodeForLink=function(t,i,s){var l=this.diagram.model;if(s===void 0&&(s=null),i=i!==null?i.data:null,this.diagram.isTreePathToChildren){var u=this.Sg;this.Sg=t,s!==null&&l.qe(s.data,void 0),l.qe(i,l.wa(t.fromNode!==null?t.fromNode.data:null)),this.Sg=u}else l.qe(t.data,l.wa(i))},Er.prototype.removeDataForLink=function(t){this.diagram.model.qe(t.data,void 0)},Er.prototype.findLinkForKey=function(t){return t==null?null:(t=this.diagram.model.ic(t),t!==null?this.bf.I(t):null)},Er.prototype.doModelChanged=function(t){if(re.prototype.doModelChanged.call(this,t),this.diagram){var i=this.diagram;if(t.model===i.model){var s=t.change;if(i.aa){i.aa=!1;try{var l=t.modelChange;if(l!==""){if(s===ke){if(l==="nodeParentKey"){var u=t.object,c=this.Wb(t.newValue),d=this.ii(u);if(this.Sg!==null)c!==null&&(this.Sg.data=u,this.Sg.category=this.getLinkCategoryForData(u));else if(d!==null){var m=d.kh();m!==null?c===null?i.remove(m):i.isTreePathToChildren?m.fromNode=c:m.toNode=c:f1(this,c,d)}}else if(l==="parentLinkCategory"){var y=this.ii(t.object),O=t.newValue;if(y!==null&&typeof O=="string"){var w=y.kh();w!==null&&(w.category=O)}}i.isModified=!0}}else if(s===ke){var k=t.propertyName;t.object===i.model&&k==="nodeParentKeyProperty"&&(i.undoManager.isUndoingRedoing||this.Wd()),i.isModified=!0}}finally{i.aa=!0}}}}},Er.prototype.updateRelationshipsFromData=function(t){var i=t.data;if(i!==null){var s=t.diagram;if(s!==null){var l=s.model;t instanceof ft&&(i=l.mh(i),i=s.Wb(i),l=t.pg(),i!==l&&(l=t.kh(),i!==null?l!==null?s.isTreePathToChildren?l.fromNode=i:l.toNode=i:f1(this,i,t):l!==null&&lb(s,l,!1)))}}},Er.prototype.updateDataBindings=function(t,i){re.prototype.updateDataBindings.call(this,t,i),typeof i=="string"&&this.Lc(t)!==null&&(t=this.Kc(t),t!==null&&t.La(i))},Er.prototype.resolveReferencesForData=function(t){var i=this.diagram.model,s=i.wa(t);if(s!==void 0){var l=A0(i,s),u=this.Lc(t);if(l!==null&&u!==null){for(l=l.iterator;l.next();){var c=l.value;i.lb(c)&&u instanceof ft&&i.mh(c)===s&&f1(this,u,this.ii(c))}Us(i,s)}t=i.mh(t),t!==void 0&&u instanceof ft&&(t=this.Wb(t),f1(this,t,u))}},Er.prototype.unresolveReferencesForPart=function(t){var i=this.diagram.model;if(t instanceof ft){var s=i.wa(t.data),l=this.Kc(t.data);if(l!==null){l.isSelected=!1,l.isHighlighted=!1;var u=l.layer;if(u!==null){var c=u.qc(-1,l,!1);0<=c&&this.diagram.cb(ci,"parts",u,l,null,c,null),c=l.layerChanged,c!==null&&c(l,u,null)}}for(l=this.diagram.isTreePathToChildren,t=t.linksConnected;t.next();)u=t.value,u=(l?u.toNode:u.fromNode).data,i.lb(u)&&Ys(i,s,u)}},Er.prototype.insertLink=function(t,i,s){i=this.diagram.model;var l=t,u=s;return this.diagram.isTreePathToChildren||(l=s,u=t),l!==null&&u!==null?(i.qe(u.data,i.wa(l.data)),u.kh()):null},Er.prototype.findLinkForKey=Er.prototype.findLinkForKey,Er.className="TreePartManager";function yt(t,i){this.jl=new at,this.hl=new at,this.Wv=`,
  "insertedNodeKeys": `,this.jy=`,
  "modifiedNodeData": `,this.Yv=`,
  "removedNodeKeys": `,this.vh=null,Ue(this),this.Rm=this.xa="",this.Gg=!1,this.j={},this.Tc=[],this.kb=new jt,this.Th="key",this.Ak=this.al=null,this.Im=this.Jm=!1,this.Lm=!0,this.wm=null,this.lj="category",this.Vf=new jt,this.Kt=new ct,this.Wg=!1,this.o=null,this.undoManager=new je,t!==void 0&&(ot(t)?this.nodeDataArray=t:i=t),i&&(Object.assign(this,i),t=i.Changed)&&(delete this.Changed,this.Pe(t))}yt.prototype.cloneProtected=function(t){t.xa=this.xa,t.Rm=this.Rm,t.Gg=this.Gg,t.Th=this.Th,t.al=this.al,t.Ak=this.Ak,t.Jm=this.Jm,t.Im=this.Im,t.Lm=this.Lm,t.wm=this.wm,t.lj=this.lj},yt.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},yt.prototype.clear=function(){this.Tc=[],this.kb.clear(),this.Vf.clear(),this.undoManager.clear()},yt.prototype.toString=function(t){if(t===void 0&&(t=0),1<t)return this.mp();var i=(this.name!==""?this.name:"")+" Model";if(0<t){i+=`
 node data:`,t=this.nodeDataArray;for(var s=t.length,l=0;l<s;l++){var u=t[l];i+=" "+this.wa(u)+":"+Mt(u)}}return i},yt.prototype.xA=function(t){t.change!==zs&&D("Model.toIncrementalData argument is not a Transaction ChangedEvent:"+t.toString());var i=t.object;return t.isTransactionFinished&&i instanceof ki?(QD(this,i),t=this.Qv(i,t.propertyName==="FinishedUndo"),this.vh=null,t):null},yt.prototype.Qv=function(t,i){var s=this,l=!1,u=new at,c=new at,d=new at,m=this.vh;t.changes.each(function(k){k.model===s&&(k.modelChange==="nodeDataArray"?k.change===oi?u.add(k.newValue):k.change===ci&&d.add(k.oldValue):s.lb(k.object)?c.add(k.object):k.change!==ke||s.modelData!==k.object&&k.propertyName!=="modelData"?k.object!==null&&(m&&m.contains(k.object)?m.get(k.object).each(function(P){s.lb(P)&&c.add(P)}):k.object instanceof yt||s.ri()&&s.Jc(k.object)||ND(s,k.object).each(function(P){c.add(P)})):l=!0)});var y=this.hl;y.clear(),u.each(function(k){y.add(s.wa(k)),i||c.add(k)});var O=this.jl;O.clear(),d.each(function(k){O.add(s.wa(k)),i&&c.add(k)}),t=s.cloneDeep(c.Fa());var w=null;return l&&(w===null&&(w={}),w.modelData=this.cloneDeep(this.modelData)),0<y.count&&(w===null&&(w={}),i?w.removedNodeKeys=y.Fa():w.insertedNodeKeys=y.Fa()),0<t.length&&(w===null&&(w={}),w.modifiedNodeData=t),0<O.count&&(w===null&&(w={}),i?w.insertedNodeKeys=O.Fa():w.removedNodeKeys=O.Fa()),O.clear(),y.clear(),w},yt.prototype.cloneDeep=function(t){return Mp(this,t,!0)};function Mp(t,i,s,l,u,c){function d(k,P){m?(k.__gohashid===void 0&&c.push(k),l.set(k,P)):(k=fn++,l.set(k,P),u.set(k,i))}if(!J(i))return i;c||(c=[]);var m=Object.isExtensible(i);if(l||(l=new jt),m){var y=l.get(i);if(y)return y}else for(u||(u=new jt),y=u.iterator;y.next();){var O=y.key;if(y.value===i&&(O=l.get(O)))return O}if(Array.isArray(i)){y=[],d(i,y);for(var w=0;w<i.length;w++)y.push(Mp(t,i[w],!1,l,u,c))}else if(i instanceof F||i instanceof At||i instanceof tt||i instanceof ne||i instanceof Tt)y=i.copy(),d(i,y);else{if(i instanceof ie||i instanceof lt||i instanceof it)return i;if(i instanceof ct)y=new ct().addAll(Mp(t,i.Fa(),!1,l,u,c)),d(i,y);else if(i instanceof at)y=new at().addAll(Mp(t,i.Fa(),!1,l,u,c)),d(i,y);else if(i instanceof jt)y=new jt().addAll(Mp(t,i.Fa(),!1,l,u,c)),d(i,y);else if(i instanceof Date)y=new Date(i.getTime()),d(i,y);else if(i instanceof RegExp)y=new RegExp(i),d(i,y),y.lastIndex=i.lastIndex;else if(typeof i.copy=="function")y=i.copy(),d(i,y);else for(w in y={},d(i,y),i)w!=="__gohashid"&&(y[w]=Mp(t,i[w],!1,l,u,c))}return s&&c.forEach(function(k){delete k.__gohashid}),y}n=yt.prototype,n.quote=function(t){return JSON.stringify(t).replace(/[\u007F-\uFFFF]/g,function(i){return"\\u"+("0000"+i.charCodeAt(0).toString(16)).substr(-4)})},n.qm=function(){var t="";return this.name!==""&&(t+=`,
  "name": `+this.quote(this.name)),this.dataFormat!==""&&(t+=`,
  "dataFormat": `+this.quote(this.dataFormat)),this.isReadOnly&&(t+=`,
  "isReadOnly": `+this.isReadOnly),this.nodeKeyProperty!=="key"&&typeof this.nodeKeyProperty=="string"&&(t+=`,
  "nodeKeyProperty": `+this.quote(this.nodeKeyProperty)),this.copiesArrays&&(t+=`,
  "copiesArrays": true`),this.copiesArrayObjects&&(t+=`,
  "copiesArrayObjects": true`),this.copiesKey||(t+=`,
  "copiesKey": false`),this.nodeCategoryProperty!=="category"&&typeof this.nodeCategoryProperty=="string"&&(t+=`,
  "nodeCategoryProperty": `+this.quote(this.nodeCategoryProperty)),t},n.fp=function(t){t.name&&(this.name=t.name),t.dataFormat&&(this.dataFormat=t.dataFormat),t.isReadOnly&&(this.isReadOnly=!0),t.nodeKeyProperty&&(this.nodeKeyProperty=t.nodeKeyProperty),t.copiesArrays&&(this.copiesArrays=!0),t.copiesArrayObjects&&(this.copiesArrayObjects=!0),t.copiesKey===!1&&(this.copiesKey=!1),t.nodeCategoryProperty&&(this.nodeCategoryProperty=t.nodeCategoryProperty)};function MD(t,i){i=i.modelData,J(i)&&(t.cm(i),t.modelData=i)}n.Rv=function(){var t=this.modelData,i=!1,s;for(s in t)if(!AD(s,t[s])){i=!0;break}return t="",i&&(t=`,
  "modelData": `+$T(this,this.modelData)),t+`,
  "nodeDataArray": `+Nu(this,this.nodeDataArray,!0)},n.kv=function(t){MD(this,t),t=t.nodeDataArray,ot(t)&&(this.cm(t),this.nodeDataArray=t)};function QD(t,i){function s(u,c){if((c=c.part)&&(c=c.data,u!==c)){var d=l.get(u);d===null?(d=new at,d.add(c),l.add(u,d)):d.add(c)}}var l=t.vh;l===null&&(l=new jt,i.changes.each(function(u){if(u.diagram!==null){var c=u.change;c===ke?(u=u.object.panel)&&(c=u.data)&&s(c,u):(c===oi||c===ci)&&(u=u.object,(c=u.itemArray)&&s(c,u))}}),t.vh=l)}function ND(t,i){for(var s=new at,l=0;l<t.nodeDataArray.length;l++){var u=t.nodeDataArray[l];d1(t,i,u,u,s)}return s}function d1(t,i,s,l,u){if(Array.isArray(s))for(var c=0;c<s.length;c++){var d=s[c];if(d===i)return u.add(l),!0;if(d1(t,i,d,l,u))return!0}else if(J(s)&&Object.getPrototypeOf(s)===Object.prototype)for(c in s){if(d=s[c],d===i)return u.add(l),!0;if(d1(t,i,d,l,u))return!0}return!1}n.Pv=function(t,i){var s=this,l=!1,u=new at,c=new at,d=new at,m=this.vh;t.changes.each(function(w){w.model===s&&(w.modelChange==="nodeDataArray"?w.change===oi?u.add(w.newValue):w.change===ci&&d.add(w.oldValue):s.lb(w.object)?c.add(w.object):w.change!==ke||s.modelData!==w.object&&w.propertyName!=="modelData"?w.object!==null&&(m&&m.contains(w.object)?m.get(w.object).each(function(k){s.lb(k)&&c.add(k)}):w.object instanceof yt||s.ri()&&s.Jc(w.object)||ND(s,w.object).each(function(k){c.add(k)})):l=!0)});var y=this.hl;y.clear(),u.each(function(w){y.add(s.wa(w)),i||c.add(w)});var O=this.jl;return O.clear(),d.each(function(w){O.add(s.wa(w)),i&&c.add(w)}),t="",l&&(t+=`,
  "modelData": `+$T(this,this.modelData)),0<y.count&&(t+=(i?this.Yv:this.Wv)+Nu(this,y.Fa(),!0)),0<c.count&&(t+=this.jy+Nu(this,c.Fa(),!0)),0<O.count&&(t+=(i?this.Wv:this.Yv)+Nu(this,O.Fa(),!0)),O.clear(),y.clear(),t},n.ep=function(t){(t.name!==void 0&&t.name!==this.name||t.dataFormat!==void 0&&t.dataFormat!==this.dataFormat||t.isReadOnly!==void 0&&t.isReadOnly!==this.isReadOnly||t.nodeKeyProperty!==void 0&&t.nodeKeyProperty!==this.nodeKeyProperty||t.copiesArrays!==void 0&&t.copiesArrays!==this.copiesArrays||t.copiesArrayObjects!==void 0&&t.copiesArrayObjects!==this.copiesArrayObjects||t.copiesKey!==void 0&&t.copiesKey!==this.copiesKey||t.nodeCategoryProperty!==void 0&&t.nodeCategoryProperty!==this.nodeCategoryProperty)&&D("applyIncrementalJson cannot change Model properties"),MD(this,t);var i=t.insertedNodeKeys,s=t.modifiedNodeData,l=new jt;if(Array.isArray(s))for(var u=0;u<s.length;u++){var c=s[u],d=this.wa(c);d!=null&&l.set(d,c)}if(Array.isArray(i))for(u=i.length,c=0;c<u;c++){d=i[c];var m=this.ic(d);m===null&&(m=(m=l.get(d))?m:this.copyNodeData({}),this.jm(m,d),this.xf(m))}if(Array.isArray(s)){for(i=s.length,l=0;l<i;l++)if(u=s[l],c=this.wa(u),c=this.ic(c),c!==null){for(var y in u)y==="__gohashid"||y===this.nodeKeyProperty||this.Vj()&&y===this.nodeIsGroupProperty||this.setDataProperty(c,y,u[y]);this.km(u,c)}}if(t=t.removedNodeKeys,Array.isArray(t))for(s=t.length,y=0;y<s;y++)i=this.ic(t[y]),i!==null&&this.bm(i)},n.$x=function(t,i){t.change!==zs&&D("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+t.toString());var s=t.object;return t.isTransactionFinished&&s instanceof ki?(i===void 0&&(i=j0(this,this)),QD(this,s),t=this.Pv(s,t.propertyName==="FinishedUndo"),this.vh=null,i==="2"?'{ "incremental": 2'+t+"}":'{ "class": '+this.quote(i)+', "incremental": 1'+this.qm()+t+"}"):'{ "incremental": 0 }'},n.yA=function(t,i){return this.$x(t,i)},n.mp=function(t){return t===void 0&&(t=j0(this,this)),'{ "class": '+this.quote(t)+this.qm()+this.Rv()+"}"},n.toJSON=function(t){return this.mp(t)},n.Zw=function(t){var i=null;if(typeof t=="string")try{i=N.JSON.parse(t)}catch{}else typeof t=="object"?i=t:D("Unable to modify a Model from: "+t);var s=i.incremental;typeof s!="number"&&D("Unable to apply non-incremental changes to Model: "+t),s!==0&&(this.Ea("applyIncrementalJson"),this.ep(i),this.eb("applyIncrementalJson"))},n.Ky=function(t){return this.Zw(t)},yt.constructGraphLinksModel=function(){return new yt},n=yt.prototype,n.cm=function(t){if(ot(t))for(var i=t.length,s=0;s<i;s++){var l=t[s];if(J(l)){var u=s;l=this.cm(l),Array.isArray(t)?t[u]=l:D("Cannot replace an object in an HTMLCollection or NodeList at "+u)}}else if(J(t)){for(i in t)if(s=t[i],J(s)&&(s=this.cm(s),t[i]=s,i==="points"&&Array.isArray(s))){for(u=s.length%2===0,l=0;l<s.length;l++)if(typeof s[l]!="number"){u=!1;break}if(u){for(u=new ct,l=0;l<s.length/2;l++)u.add(new F(s[2*l],s[2*l+1]));u.freeze(),t[i]=u}}return GG(t)}return t},n.rm=function(t){return t===void 0?"undefined":t===null?"null":t===!0?"true":t===!1?"false":typeof t=="string"?this.quote(t):typeof t=="number"?t===1/0?"9e9999":t===-1/0?"-9e9999":isNaN(t)?'{"class":"NaN"}':t.toString():t instanceof Date?'{"class":"Date", "value":"'+t.toJSON()+'"}':t instanceof Number?this.rm(t.valueOf()):ot(t)?Nu(this,t):J(t)?$T(this,t):typeof t=="function"?"null":t.toString()};function Nu(t,i,s){s===void 0&&(s=!1);var l=i.length;if(0>=l)return"[]";var u=new Fe;u.add("["),s&&1<l&&u.add(`
`);for(var c=0;c<l;c++){var d=i[c];d!==void 0&&(0<c&&(u.add(","),s&&u.add(`
`)),u.add(t.rm(d)))}return s&&1<l&&u.add(`
`),u.add("]"),u.toString()}function AD(t,i){return i===void 0||t==="__gohashid"||t[0]==="_"||typeof i=="function"}function On(t){return isNaN(t)?"NaN":t===1/0?"9e9999":t===-1/0?"-9e9999":t}function $T(t,i){var s=i;if(s instanceof F)i={class:"go.Point",x:On(s.x),y:On(s.y)};else if(s instanceof At)i={class:"go.Size",width:On(s.width),height:On(s.height)};else if(s instanceof tt)i={class:"go.Rect",x:On(s.x),y:On(s.y),width:On(s.width),height:On(s.height)};else if(s instanceof ne)i={class:"go.Margin",top:On(s.top),right:On(s.right),bottom:On(s.bottom),left:On(s.left)};else if(s instanceof Tt)s.sb()?i={class:"go.Spot",x:On(s.x),y:On(s.y),offsetX:On(s.offsetX),offsetY:On(s.offsetY)}:i={class:"go.Spot",enum:s.toString()};else if(s instanceof ie){if(i={class:"go.Brush",type:s.type.name},s.type===Sa?i.color=s.color:(s.type===$l||s.type===Ar)&&(i.start=s.start,i.end=s.end,s.type===Ar&&(s.startRadius!==0&&(i.startRadius=On(s.startRadius)),isNaN(s.endRadius)||(i.endRadius=On(s.endRadius)))),s.colorStops!==null){var l={};for(s=s.colorStops.iterator;s.next();)l[s.key]=s.value;i.colorStops=l}}else s instanceof lt?(i={class:"go.Geometry",type:s.type.name},s.startX!==0&&(i.startX=On(s.startX)),s.startY!==0&&(i.startY=On(s.startY)),s.endX!==0&&(i.endX=On(s.endX)),s.endY!==0&&(i.endY=On(s.endY)),s.spot1.D(Ji)||(i.spot1=s.spot1),s.spot2.D(Yo)||(i.spot2=s.spot2),s.type===lt.o&&(i.path=lt.ia(s))):s instanceof it&&(i={class:"go.EnumValue",classType:j0(t,s.classType),name:s.name});l="{",s=!0;for(var u in i){var c=De(i,u);if(!AD(u,c))if(s?s=!1:l+=",",l+=t.quote(u)+":",u==="points"&&c instanceof ct){var d="[";for(c=c.iterator;c.next();){var m=c.value;1<d.length&&(d+=","),d+=t.rm(m.x),d+=",",d+=t.rm(m.y)}d+="]",l+=d}else l+=t.rm(c)}return l+"}"}function vn(t){return typeof t=="number"?t:t==="NaN"?NaN:t==="9e9999"?1/0:t==="-9e9999"?-1/0:parseFloat(t)}function GG(t){if(typeof t!="object")return t;var i=t.class||"";if(i==="NaN")return NaN;if(i==="Date")return new Date(t.value);if(i.indexOf("go.")!==0)return t;i=i.substr(3);var s=t;if(i==="Point")s=new F(vn(t.x),vn(t.y));else if(i==="Size")s=new At(vn(t.width),vn(t.height));else if(i==="Rect")s=new tt(vn(t.x),vn(t.y),vn(t.width),vn(t.height));else if(i==="Margin")s=new ne(vn(t.top),vn(t.right),vn(t.bottom),vn(t.left));else if(i==="Spot")typeof t.enum=="string"?s=A2(t.enum):s=new Tt(vn(t.x),vn(t.y),vn(t.offsetX),vn(t.offsetY));else if(i==="Brush"){if(s=new ie,s.type=xe(ie,t.type),typeof t.color=="string"&&(s.color=t.color),t.start instanceof Tt&&(s.start=t.start),t.end instanceof Tt&&(s.end=t.end),typeof t.startRadius=="number"&&(s.startRadius=vn(t.startRadius)),typeof t.endRadius=="number"&&(s.endRadius=vn(t.endRadius)),t=t.colorStops,J(t))for(var l in t)s.addColorStop(parseFloat(l),t[l])}else i==="Geometry"?(s=null,typeof t.path=="string"?s=lt.parse(t.path):s=new lt,s.type=xe(lt,t.type),typeof t.startX=="number"&&(s.startX=vn(t.startX)),typeof t.startY=="number"&&(s.startY=vn(t.startY)),typeof t.endX=="number"&&(s.endX=vn(t.endX)),typeof t.endY=="number"&&(s.endY=vn(t.endY)),t.spot1 instanceof Tt&&(s.spot1=t.spot1),t.spot2 instanceof Tt&&(s.spot2=t.spot2)):i==="EnumValue"&&(l=t.classType,l.indexOf("go.")===0&&(l=l.substr(3)),l=IT(l),typeof l=="function"&&(s=xe(l,t.name)));return s}n.Pe=function(t){return this.Kt.add(t),this},n.hk=function(t){this.Kt.remove(t)},n.cs=function(t){this.skipsUndoManager||this.undoManager.Tu(t);for(var i=this.Kt,s=i.length,l=0;l<s;l++)i.M(l)(t)},n.cb=function(t,i,s,l,u,c,d){qe(this,"",t,i,s,l,u,c,d)},n.g=function(t,i,s,l,u){qe(this,"",ke,t,this,i,s,l,u)},n.Es=function(t,i,s,l,u,c){qe(this,"",ke,i,t,s,l,u,c)};function qe(t,i,s,l,u,c,d,m,y){m===void 0&&(m=null),y===void 0&&(y=null);var O=new Te;O.model=t,O.change=s,O.modelChange=i,O.propertyName=l,O.object=u,O.oldValue=c,O.oldParam=m,O.newValue=d,O.newParam=y,t.cs(O)}yt.prototype.changeState=function(t,i){if(t!==null&&t.model===this)if(t.change===ke){var s=t.object,l=t.propertyName,u=t.I(i);l===this.nodeKeyProperty&&this.lb(s)&&(i=t.I(!i),i!==void 0&&this.kb.remove(i),u!==void 0&&this.kb.add(u,s)),me(s,l,u)}else t.change===oi?(s=t.newParam,t.modelChange==="nodeDataArray"?(t=t.newValue,J(t)&&typeof s=="number"&&(l=this.wa(t),i?(this.Tc[s]===t&&wt(this.Tc,s),l!==void 0&&this.kb.remove(l)):(this.Tc[s]!==t&&bt(this.Tc,s,t),l!==void 0&&this.kb.add(l,t)))):t.modelChange===""?((l=t.object)&&!ot(l)&&t.propertyName&&(l=De(t.object,t.propertyName)),ot(l)&&typeof s=="number"&&(t=t.newValue,i?wt(l,s):bt(l,s,t))):D("unknown ChangedEvent.Insert modelChange: "+t.toString())):t.change===ci?(s=t.oldParam,t.modelChange==="nodeDataArray"?(t=t.oldValue,J(t)&&typeof s=="number"&&(l=this.wa(t),i?(this.Tc[s]!==t&&bt(this.Tc,s,t),l!==void 0&&this.kb.add(l,t)):(this.Tc[s]===t&&wt(this.Tc,s),l!==void 0&&this.kb.remove(l)))):t.modelChange===""?((l=t.object)&&!ot(l)&&t.propertyName&&(l=De(t.object,t.propertyName)),ot(l)&&typeof s=="number"&&(t=t.oldValue,i?bt(l,s,t):wt(l,s))):D("unknown ChangedEvent.Remove modelChange: "+t.toString())):t.change!==zs&&D("unknown ChangedEvent: "+t.toString())},yt.prototype.Ea=function(t){return this.undoManager.Ea(t)},yt.prototype.eb=function(t){return this.undoManager.eb(t)},yt.prototype.Kf=function(){return this.undoManager.Kf()},yt.prototype.commit=function(t,i){i===void 0&&(i="");var s=this.skipsUndoManager;i===null&&(this.skipsUndoManager=!0,i=""),this.undoManager.Ea(i);var l=!1;try{t(this),l=!0}finally{l?this.undoManager.eb(i):this.undoManager.Kf(),this.skipsUndoManager=s}},n=yt.prototype,n.La=function(t,i){i===void 0&&(i=""),qe(this,"SourceChanged",zs,i,t,null,null)},n.wa=function(t){if(t!==null){var i=this.Th;if(i!==""&&(i=De(t,i),i!==void 0)){if(Au(i))return i;D("Key value for node data "+t+" is not a number or a string: "+i)}}},n.jm=function(t,i){if(t!==null){var s=this.Th;if(s!=="")if(this.lb(t)){var l=De(t,s);l!==i&&this.ic(i)===null&&(me(t,s,i),l!==void 0&&this.kb.remove(l),this.kb.add(i,t),qe(this,"nodeKey",ke,s,t,l,i),typeof s=="string"&&this.La(t,s),this.ip(l,i))}else me(t,s,i)}};function Au(t){return typeof t=="number"||typeof t=="string"}n.lb=function(t){var i=this.wa(t);return i===void 0?!1:this.kb.I(i)===t},n.ic=function(t){return t===null&&D("Model.findNodeDataForKey:key must not be null"),t!==void 0&&Au(t)?this.kb.I(t):null},n.$u=function(t){if(t!==null){var i=this.Th;if(i!==""){var s=this.wa(t);if(s===void 0||this.kb.contains(s)){var l=this.al;if(l!==null&&(s=l(this,t),s!=null&&!this.kb.contains(s))){me(t,i,s);return}if(typeof s=="string"){for(l=2;this.kb.contains(s+l);)l++;me(t,i,s+l)}else if(s===void 0||typeof s=="number"){for(s=-this.kb.count-1;this.kb.contains(s);)s--;me(t,i,s)}}}}},n.xf=function(t){t!==null&&(ms(t),this.lb(t)||jD(this,t,!0))};function jD(t,i,s){var l=t.wa(i);(l===void 0||t.kb.I(l)!==i)&&(t.$u(i),l=t.wa(i),l===void 0&&D("Model.makeNodeDataKeyUnique failed on "+i+".  Data not added to Model."),t.kb.add(l,i),l=null,s&&(l=t.Tc.length,bt(t.Tc,l,i)),qe(t,"nodeDataArray",oi,"nodeDataArray",t,null,i,null,l),t.em(i),t.dm(i))}n.Fy=function(t){if(ot(t))for(var i=t.length,s=0;s<i;s++)this.xf(t[s]);else for(t=t.iterator;t.next();)this.xf(t.value)},n.bm=function(t){t!==null&&ED(this,t,!0)};function ED(t,i,s){var l=t.wa(i);if(l!==void 0&&t.kb.remove(l),l=null,s){t:if(s=t.Tc,Array.isArray(s))l=s.indexOf(i);else{l=s.length;for(var u=0;u<l;u++)if(s[u]===i){l=u;break t}l=-1}if(0>l)return;wt(t.Tc,l)}qe(t,"nodeDataArray",ci,"nodeDataArray",t,i,null,l,null),t.pp(i)}n.nA=function(t){if(ot(t))for(var i=t.length,s=0;s<i;s++)this.bm(t[s]);else for(t=t.iterator;t.next();)this.bm(t.value)},n.$z=function(t){if(t!==this.nodeDataArray&&ot(t)){var i=this.jl;i.clear(),i.addAll(this.kb.iteratorKeys);var s=this.hl;s.clear();for(var l=t.length,u=0;u<l;u++){var c=t[u],d=this.wa(c);if(d!==void 0){s.add(d);var m=this.ic(d);m!==c&&(m!==null?(this.Co(m,c),this.km(c,m)):(c=this.cloneDeep(c),this.jm(c,d),this.xf(c)))}else d=this.cloneDeep(c),this.xf(d),s.add(this.wa(d))}for(t=i.iterator;t.next();)l=t.value,s.contains(l)||(l=this.ic(l))&&this.bm(l);i.clear(),s.clear()}},n.ip=function(t,i){i!==void 0&&(t=A0(this,t),t instanceof at&&this.Vf.add(i,t))},n.Lv=function(){},n.em=function(){},n.dm=function(){},n.pp=function(){};function Ys(t,i,s){if(i!==void 0){var l=t.Vf.I(i);l===null&&(l=new at,t.Vf.add(i,l)),l.add(s)}}function Us(t,i,s){if(i!==void 0){var l=t.Vf.I(i);l instanceof at&&(s==null?t.Vf.remove(i):(l.remove(s),l.count===0&&t.Vf.remove(i)))}}function A0(t,i){return i===void 0?null:(t=t.Vf.I(i),t instanceof at?t:null)}n.Qy=function(t){t===void 0?this.Vf.clear():this.Vf.remove(t)},yt.prototype.copyNodeData=function(t){if(t===null)return null;var i=this.Ak;return t=i!==null?i(t,this):p1(this,t,!0),J(t)&&Ue(t),t};function p1(t,i,s){if(t.copiesArrays&&Array.isArray(i)){var l=[];for(s=0;s<i.length;s++){var u=p1(t,i[s],t.copiesArrayObjects);l.push(u)}return Ue(l),l}if(s&&J(i)){s=(s=i.constructor)?new s:{},u=t.copiesKey||typeof t.nodeKeyProperty!="string"?null:t.nodeKeyProperty;for(l in i)if(l==="__gohashid")s.__gohashid=void 0;else if(l===u)s[u]=void 0;else{var c=De(i,l),d=j0(t,c);d==="GraphObject"||d==="Diagram"||d==="Layer"||d==="RowColumnDefinition"||d==="AnimationManager"||d==="Tool"||d==="CommandHandler"||d==="Layout"||d==="InputEvent"||d==="DiagramEvent"||c instanceof yt||c instanceof je||c instanceof ki||c instanceof Te||(c=p1(t,c,!1)),me(s,l,c)}return Ue(s),s}return i instanceof F||i instanceof At||i instanceof tt||i instanceof Tt||i instanceof ne?i.copy():i}yt.prototype.setDataProperty=function(t,i,s){if(this.lb(t)){if(i===this.nodeKeyProperty){this.jm(t,s);return}if(i===this.nodeCategoryProperty){this.im(t,s);return}}else!RD&&t instanceof xt&&(RD=!0,K('Model.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),K("  Is that really your intent?"));var l=De(t,i);l!==s&&(me(t,i,s),this.Es(t,i,l,s))},n=yt.prototype,n.set=function(t,i,s){this.setDataProperty(t,i,s)},n.Co=function(t,i){if(i){var s=this.lb(t),l;for(l in i)l==="__gohashid"||s&&l===this.nodeKeyProperty||this.setDataProperty(t,l,i[l])}},n.Ay=function(t,i){this.ss(t,-1,i)},n.ss=function(t,i,s){0>i&&(i=t.length),bt(t,i,s),qe(this,"",oi,"",t,null,s,null,i)},n.ov=function(t,i){i===void 0&&(i=-1),t===this.Tc&&D("Model.removeArrayItem should not be called on the Model.nodeDataArray"),i===-1&&(i=t.length-1);var s=t[i];wt(t,i),qe(this,"",ci,"",t,s,null,i,null)},n.Qo=function(t){if(t===null)return"";var i=this.lj;if(i===""||(i=De(t,i),i===void 0))return"";if(typeof i=="string")return i;D("getCategoryForNodeData found a non-string category for "+t+": "+i)},n.im=function(t,i){if(t!==null){var s=this.lj;if(s!=="")if(this.lb(t)){var l=De(t,s);l===void 0&&(l=""),l!==i&&(me(t,s,i),qe(this,"nodeCategory",ke,s,t,l,i))}else me(t,s,i)}},n.km=function(t,i){this.im(i,this.Qo(t))},n.Sl=function(){return!1},n.Vj=function(){return!1},n.ri=function(){return!1},n.ws=function(){return!1},n.Wj=function(){return!1};function DT(){return new yt}function j0(t,i){if(typeof i=="function"){if(i.className)return i.className;if(i.name)return i.name}else if(typeof i=="object"&&i!==null&&i.constructor)return j0(t,i.constructor);return typeof i}function IT(t){return ks[t]?ks[t]:N.go!==void 0&&N.go[t]?N.go[t]:null}function De(t,i){if(!t||!i)return null;try{if(typeof i=="function")var s=i(t);else typeof t.getAttribute=="function"?(s=t.getAttribute(i),s===null&&(s=void 0)):s=t[i]}catch{}return s}function me(t,i,s){if(t&&i)try{typeof i=="function"?i(t,s):typeof t.setAttribute=="function"?t.setAttribute(i,s):t[i]=s}catch{}}S.Object.defineProperties(yt.prototype,{name:{get:function(){return this.xa},set:function(t){var i=this.xa;i!==t&&(this.xa=t,this.g("name",i,t))}},dataFormat:{get:function(){return this.Rm},set:function(t){var i=this.Rm;i!==t&&(this.Rm=t,this.g("dataFormat",i,t))}},isReadOnly:{get:function(){return this.Gg},set:function(t){var i=this.Gg;i!==t&&(this.Gg=t,this.g("isReadOnly",i,t))}},modelData:{get:function(){return this.j},set:function(t){var i=this.j;i!==t&&(this.j=t,this.g("modelData",i,t),this.La(t))}},undoManager:{get:function(){return this.o},set:function(t){var i=this.o;i!==t&&(i!==null&&i.Rx(this),this.o=t,t!==null&&t.Xw(this))}},skipsUndoManager:{get:function(){return this.Wg},set:function(t){this.Wg=t}},nodeKeyProperty:{get:function(){return this.Th},set:function(t){var i=this.Th;i!==t&&(t===""&&D("Model.nodeKeyProperty may not be the empty string"),0<this.kb.count&&D("Cannot set Model.nodeKeyProperty when there is existing node data"),this.Th=t,this.g("nodeKeyProperty",i,t))}},makeUniqueKeyFunction:{get:function(){return this.al},set:function(t){var i=this.al;i!==t&&(this.al=t,this.g("makeUniqueKeyFunction",i,t))}},nodeDataArray:{get:function(){return this.Tc},set:function(t){var i=this.Tc;if(i!==t){this.kb.clear(),this.Lv();for(var s=t.length,l=0;l<s;l++){var u=t[l];J(u)||D("Model.nodeDataArray must only contain Objects, not: "+u),ms(u)}for(this.Tc=t,l=new ct,u=0;u<s;u++){var c=t[u],d=this.wa(c);d===void 0||this.kb.I(d)!==null?l.add(c):this.kb.add(d,c)}for(l=l.iterator;l.next();)u=l.value,this.$u(u),c=this.wa(u),c!==void 0&&this.kb.add(c,u);for(qe(this,"nodeDataArray",ke,"nodeDataArray",this,i,t),i=0;i<s;i++)l=t[i],this.em(l),this.dm(l);Array.isArray(t)||(this.isReadOnly=!0)}}},copyNodeDataFunction:{get:function(){return this.Ak},set:function(t){var i=this.Ak;i!==t&&(this.Ak=t,this.g("copyNodeDataFunction",i,t))}},copiesArrays:{get:function(){return this.Jm},set:function(t){var i=this.Jm;i!==t&&(this.Jm=t,this.g("copiesArrays",i,t))}},copiesArrayObjects:{get:function(){return this.Im},set:function(t){var i=this.Im;i!==t&&(this.Im=t,this.g("copiesArrayObjects",i,t))}},copiesKey:{get:function(){return this.Lm},set:function(t){var i=this.Lm;i!==t&&(this.Lm=t,this.g("copiesKey",i,t))}},afterCopyFunction:{get:function(){return this.wm},set:function(t){var i=this.wm;i!==t&&(this.wm=t,this.g("afterCopyFunction",i,t))}},nodeCategoryProperty:{get:function(){return this.lj},set:function(t){var i=this.lj;i!==t&&(this.lj=t,this.g("nodeCategoryProperty",i,t))}},type:{get:function(){return"Model"}}}),yt.prototype.setCategoryForNodeData=yt.prototype.im,yt.prototype.getCategoryForNodeData=yt.prototype.Qo,yt.prototype.removeArrayItem=yt.prototype.ov,yt.prototype.insertArrayItem=yt.prototype.ss,yt.prototype.addArrayItem=yt.prototype.Ay,yt.prototype.assignAllDataProperties=yt.prototype.Co,yt.prototype.set=yt.prototype.set,yt.prototype.clearUnresolvedReferences=yt.prototype.Qy,yt.prototype.mergeNodeDataArray=yt.prototype.$z,yt.prototype.removeNodeDataCollection=yt.prototype.nA,yt.prototype.removeNodeData=yt.prototype.bm,yt.prototype.addNodeDataCollection=yt.prototype.Fy,yt.prototype.addNodeData=yt.prototype.xf,yt.prototype.makeNodeDataKeyUnique=yt.prototype.$u,yt.prototype.findNodeDataForKey=yt.prototype.ic,yt.prototype.containsNodeData=yt.prototype.lb,yt.prototype.setKeyForNodeData=yt.prototype.jm,yt.prototype.getKeyForNodeData=yt.prototype.wa,yt.prototype.updateTargetBindings=yt.prototype.La,yt.prototype.commit=yt.prototype.commit,yt.prototype.rollbackTransaction=yt.prototype.Kf,yt.prototype.commitTransaction=yt.prototype.eb,yt.prototype.startTransaction=yt.prototype.Ea,yt.prototype.raiseDataChanged=yt.prototype.Es,yt.prototype.raiseChanged=yt.prototype.g,yt.prototype.raiseChangedEvent=yt.prototype.cb,yt.prototype.removeChangedListener=yt.prototype.hk,yt.prototype.addChangedListener=yt.prototype.Pe,yt.prototype.writeJsonValue=yt.prototype.rm,yt.prototype.replaceJsonObjects=yt.prototype.cm,yt.prototype.applyIncrementalJSON=yt.prototype.Ky,yt.prototype.applyIncrementalJson=yt.prototype.Zw,yt.prototype.toJSON=yt.prototype.toJSON,yt.prototype.toJson=yt.prototype.mp,yt.prototype.toIncrementalJSON=yt.prototype.yA,yt.prototype.toIncrementalJson=yt.prototype.$x,yt.prototype.toIncrementalData=yt.prototype.xA,yt.prototype.clear=yt.prototype.clear;var RD=!1,ks={};yt.className="Model",yt.fromJSON=yt.fromJson=function(t,i){i===void 0&&(i=null);var s=null;if(typeof t=="string")try{s=N.JSON.parse(t)}catch{}else typeof t=="object"?s=t:D("Unable to construct a Model from: "+t);if(i===null){t=null;var l=s.class;if(typeof l=="string")try{var u=null;l.indexOf("go.")===0?(l=l.substr(3),u=IT(l)):(u=IT(l),u===null&&(u=N[l])),typeof u=="function"&&(t=new u)}catch{}t===null||t instanceof yt?i=t:D("Unable to construct a Model of declared class: "+s.class)}return i===null&&(i=yt.constructGraphLinksModel()),i.fp(s),i.kv(s),i},yt.safePropertyValue=De,yt.safePropertySet=me,ks.Brush=ie,ks.ChangedEvent=Te,ks.Geometry=lt,ks.Margin=ne,ks.Panel=nt,ks.Point=F,ks.Rect=tt,ks.Size=At,ks.Spot=Tt,ks.Transaction=ki,ks.UndoManager=je;function Be(t,i,s,l){Ue(this),this._isFrozen=!1,t===void 0&&(t=""),i===void 0&&(i=t),s===void 0&&(s=null),this.j=-1,this.xd=null,this.wl=t,this.vl=this.so=0,this.Br=null,this.vn=!1,this.rl=i,this.Hm=s,l===void 0?(this.dl=$D,this.vk=null):(this.dl=E0,this.vk=l),this.rt=new at}Be.prototype.copy=function(){var t=new Be;return t.wl=this.wl,t.so=this.so,t.vl=this.vl,t.Br=this.Br,t.vn=this.vn,t.rl=this.rl,t.Hm=this.Hm,t.dl=this.dl,t.vk=this.vk,t},n=Be.prototype,n.qb=function(t){t.classType===Be&&(this.mode=t)},n.toString=function(){return"Binding("+this.targetProperty+":"+this.sourceProperty+(this.Ai!==-1?" "+this.Ai:"")+" "+this.mode.name+")"},n.freeze=function(){return this._isFrozen=!0,this},n.ka=function(){return this._isFrozen=!1,this},n.Kx=function(t){return t===void 0&&(t=null),this.mode=E0,this.backConverter=t,this},n.bp=function(t){return t===void 0&&(t=""),this.sourceName=t,this.isToModel=!1,this},n.dA=function(){return this.sourceName=null,this.isToModel=!0,this};function LD(t,i,s){return t=t.sourceName,t===null||t===""?i:t==="/"?s.part:t==="."?s:t===".."?s.panel:i.fb(t)}n.Mv=function(t,i,s){var l=this.rl;if(s===void 0||l===""||l===s){s=this.wl;var u=this.Hm;if(u===null&&s==="")K("Binding error: target property is the empty string: "+this.toString());else{var c=i;if(l!==""&&(c=De(i,l)),c!==void 0)if(u===null)s!==""&&me(t,s,c);else try{if(s!==""){var d=u(c,t);me(t,s,d)}else u(c,t)}catch{}}}},n.rp=function(t,i,s,l){if(this.dl===E0){var u=this.wl;if(s===void 0||u===s){s=this.rl;var c=this.vk,d=t;if(u!==""&&(d=De(t,u)),d!==void 0&&!this.rt.contains(t))try{this.rt.add(t);var m=l!==null?l.diagram:null,y=m!==null?m.model:null;if(c===null){if(s!=="")y!==null?y.setDataProperty(i,s,d):me(i,s,d);else if(y!==null&&l!==null&&0<=l.itemIndex&&l.panel!==null&&Array.isArray(l.panel.itemArray)){var O=l.itemIndex,w=l.panel.itemArray;y.ov(w,O),y.ss(w,O,d)}}else try{if(s!==""){var k=c(d,i,y);y!==null?y.setDataProperty(i,s,k):me(i,s,k)}else{var P=c(d,i,y);if(P!==void 0&&y!==null&&l!==null&&0<=l.itemIndex&&l.panel!==null&&Array.isArray(l.panel.itemArray)){var T=l.itemIndex,M=l.panel.itemArray;y.ov(M,T),y.ss(M,T,P)}}}catch{}}finally{this.rt.remove(t)}}}},S.Object.defineProperties(Be.prototype,{Ai:{get:function(){return this.j},set:function(t){this._isFrozen&&B(this),this.j=t}},targetProperty:{get:function(){return this.wl},set:function(t){this._isFrozen&&B(this),this.wl=t}},sourceName:{get:function(){return this.Br},set:function(t){this._isFrozen&&B(this),this.Br=t,t!==null&&(this.vn=!1)}},isToModel:{get:function(){return this.vn},set:function(t){this._isFrozen&&B(this),this.vn=t}},sourceProperty:{get:function(){return this.rl},set:function(t){this._isFrozen&&B(this),this.rl=t}},converter:{get:function(){return this.Hm},set:function(t){this._isFrozen&&B(this),this.Hm=t}},backConverter:{get:function(){return this.vk},set:function(t){this._isFrozen&&B(this),this.vk=t}},mode:{get:function(){return this.dl},set:function(t){this._isFrozen&&B(this),this.dl=t}}}),Be.prototype.updateSource=Be.prototype.rp,Be.prototype.updateTarget=Be.prototype.Mv,Be.prototype.ofModel=Be.prototype.dA,Be.prototype.ofObject=Be.prototype.bp,Be.prototype.makeTwoWay=Be.prototype.Kx;var HG="Binding",$D=new it(Be,"OneWay",1),E0=new it(Be,"TwoWay",2);Be.className="Binding",Be.parseEnum=function(t,i){return function(s){return s=xe(t,s),s===null?i:s}},Be.toString=Mt,Be.OneWay=$D,Be.TwoWay=E0;function Zt(t,i,s){yt.call(this),this.Vv=`,
  "insertedLinkKeys": `,this.iy=`,
  "modifiedLinkData": `,this.Xv=`,
  "removedLinkKeys": `,this.md=[],this.$f=new at,this.xb=new jt,this.Jh="",this.Ri=this.zk=this.bl=null,this.lf="from",this.mf="to",this.fj=this.ej="",this.dj="category",this.je="",this.il="isGroup",this.Je="group",this.Km=!1,i!==void 0&&(this.linkDataArray=i),t!==void 0&&(ot(t)?this.nodeDataArray=t:s=t),s&&(Object.assign(this,s),t=s.Changed)&&(delete this.Changed,this.Pe(t))}x(Zt,yt),Zt.constructGraphLinksModel=yt.constructGraphLinksModel,Zt.prototype.cloneProtected=function(t){yt.prototype.cloneProtected.call(this,t),t.Jh=this.Jh,t.bl=this.bl,t.zk=this.zk,t.lf=this.lf,t.mf=this.mf,t.ej=this.ej,t.fj=this.fj,t.dj=this.dj,t.je=this.je,t.il=this.il,t.Je=this.Je,t.Km=this.Km},n=Zt.prototype,n.clear=function(){yt.prototype.clear.call(this),this.md=[],this.xb.clear(),this.$f.clear()},n.toString=function(t){if(t===void 0&&(t=0),2<=t)return this.mp();var i=(this.name!==""?this.name:"")+" GraphLinksModel";if(0<t){i+=`
 node data:`,t=this.nodeDataArray;var s=t.length,l;for(l=0;l<s;l++){var u=t[l];i+=" "+this.wa(u)+":"+Mt(u)}for(i+=`
 link data:`,t=this.linkDataArray,s=t.length,l=0;l<s;l++)u=t[l],i+=" "+gr(this,u,!0)+"-->"+gr(this,u,!1)}return i},n.Qv=function(t,i){this.linkKeyProperty===""&&D("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalData() to succeed.");var s=yt.prototype.Qv.call(this,t,i),l=this,u=new at,c=new at,d=new at,m=this.vh;t.changes.each(function(w){w.model===l&&(w.modelChange==="linkDataArray"?w.change===oi?u.add(w.newValue):w.change===ci&&d.add(w.oldValue):l.Jc(w.object)?c.add(w.object):w.object!==null&&(w.object!==null&&m&&m.contains(w.object)?m.get(w.object).each(function(k){l.Jc(k)&&c.add(k)}):w.object instanceof yt||l.lb(w.object)||DD(l,w.object).each(function(k){c.add(k)})))});var y=this.hl;y.clear(),u.each(function(w){y.add(l.Ac(w)),i||c.add(w)});var O=this.jl;return O.clear(),d.each(function(w){O.add(l.Ac(w)),i&&c.add(w)}),t=l.cloneDeep(c.Fa()),0<y.count&&(s===null&&(s={}),i?s.removedLinkKeys=y.Fa():s.insertedLinkKeys=y.Fa()),0<t.length&&(s===null&&(s={}),s.modifiedLinkData=t),0<O.count&&(s===null&&(s={}),i?s.insertedLinkKeys=O.Fa():s.removedLinkKeys=O.Fa()),O.clear(),y.clear(),s},n.qm=function(){var t=yt.prototype.qm.call(this),i="";return this.linkCategoryProperty!=="category"&&typeof this.linkCategoryProperty=="string"&&(i+=`,
  "linkCategoryProperty": `+this.quote(this.linkCategoryProperty)),this.linkKeyProperty!==""&&typeof this.linkKeyProperty=="string"&&(i+=`,
  "linkKeyProperty": `+this.quote(this.linkKeyProperty)),this.linkFromKeyProperty!=="from"&&typeof this.linkFromKeyProperty=="string"&&(i+=`,
  "linkFromKeyProperty": `+this.quote(this.linkFromKeyProperty)),this.linkToKeyProperty!=="to"&&typeof this.linkToKeyProperty=="string"&&(i+=`,
  "linkToKeyProperty": `+this.quote(this.linkToKeyProperty)),this.linkFromPortIdProperty!==""&&typeof this.linkFromPortIdProperty=="string"&&(i+=`,
  "linkFromPortIdProperty": `+this.quote(this.linkFromPortIdProperty)),this.linkToPortIdProperty!==""&&typeof this.linkToPortIdProperty=="string"&&(i+=`,
  "linkToPortIdProperty": `+this.quote(this.linkToPortIdProperty)),this.linkLabelKeysProperty!==""&&typeof this.linkLabelKeysProperty=="string"&&(i+=`,
  "linkLabelKeysProperty": `+this.quote(this.linkLabelKeysProperty)),this.nodeIsGroupProperty!=="isGroup"&&typeof this.nodeIsGroupProperty=="string"&&(i+=`,
  "nodeIsGroupProperty": `+this.quote(this.nodeIsGroupProperty)),this.nodeGroupKeyProperty!=="group"&&typeof this.nodeGroupKeyProperty=="string"&&(i+=`,
  "nodeGroupKeyProperty": `+this.quote(this.nodeGroupKeyProperty)),t+i},n.fp=function(t){yt.prototype.fp.call(this,t),t.linkKeyProperty&&(this.linkKeyProperty=t.linkKeyProperty),t.linkFromKeyProperty&&(this.linkFromKeyProperty=t.linkFromKeyProperty),t.linkToKeyProperty&&(this.linkToKeyProperty=t.linkToKeyProperty),t.linkFromPortIdProperty&&(this.linkFromPortIdProperty=t.linkFromPortIdProperty),t.linkToPortIdProperty&&(this.linkToPortIdProperty=t.linkToPortIdProperty),t.linkCategoryProperty&&(this.linkCategoryProperty=t.linkCategoryProperty),t.linkLabelKeysProperty&&(this.linkLabelKeysProperty=t.linkLabelKeysProperty),t.nodeIsGroupProperty&&(this.nodeIsGroupProperty=t.nodeIsGroupProperty),t.nodeGroupKeyProperty&&(this.nodeGroupKeyProperty=t.nodeGroupKeyProperty)},n.Rv=function(){var t=yt.prototype.Rv.call(this),i=`,
  "linkDataArray": `+Nu(this,this.linkDataArray,!0);return t+i},n.kv=function(t){yt.prototype.kv.call(this,t),t=t.linkDataArray,Array.isArray(t)&&(this.cm(t),this.linkDataArray=t)};function DD(t,i){for(var s=new at,l=0;l<t.linkDataArray.length;l++){var u=t.linkDataArray[l];d1(t,i,u,u,s)}return s}n.Pv=function(t,i){this.linkKeyProperty===""&&D("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalJson() to succeed.");var s=yt.prototype.Pv.call(this,t,i),l=this,u=new at,c=new at,d=new at,m=this.vh;t.changes.each(function(w){w.model===l&&(w.modelChange==="linkDataArray"?w.change===oi?u.add(w.newValue):w.change===ci&&d.add(w.oldValue):l.Jc(w.object)?c.add(w.object):w.object!==null&&(w.object!==null&&m&&m.contains(w.object)?m.get(w.object).each(function(k){l.Jc(k)&&c.add(k)}):w.object instanceof yt||l.lb(w.object)||DD(l,w.object).each(function(k){c.add(k)})))});var y=this.hl;y.clear(),u.each(function(w){y.add(l.Ac(w)),i||c.add(w)});var O=this.jl;return O.clear(),d.each(function(w){O.add(l.Ac(w)),i&&c.add(w)}),t=s,0<y.count&&(t+=(i?this.Xv:this.Vv)+Nu(this,y.Fa(),!0)),0<c.count&&(t+=this.iy+Nu(this,c.Fa(),!0)),0<O.count&&(t+=(i?this.Vv:this.Xv)+Nu(this,O.Fa(),!0)),O.clear(),y.clear(),t},n.ep=function(t){(t.linkCategoryProperty!==void 0&&t.linkCategoryProperty!==this.linkCategoryProperty||t.linkKeyProperty!==void 0&&t.linkKeyProperty!==this.linkKeyProperty||t.linkFromKeyProperty!==void 0&&t.linkFromKeyProperty!==this.linkFromKeyProperty||t.linkToKeyProperty!==void 0&&t.linkToKeyProperty!==this.linkToKeyProperty||t.linkFromPortIdProperty!==void 0&&t.linkFromPortIdProperty!==this.linkFromPortIdProperty||t.linkToPortIdProperty!==void 0&&t.linkToPortIdProperty!==this.linkToPortIdProperty||t.linkLabelKeysProperty!==void 0&&t.linkLabelKeysProperty!==this.linkLabelKeysProperty||t.nodeIsGroupProperty!==void 0&&t.nodeIsGroupProperty!==this.nodeIsGroupProperty||t.nodeGroupKeyProperty!==void 0&&t.nodeGroupKeyProperty!==this.nodeGroupKeyProperty)&&D("applyIncrementalJson cannot change Model properties"),yt.prototype.ep.call(this,t);var i=t.insertedLinkKeys;if(Array.isArray(i))for(var s=i.length,l=0;l<s;l++){var u=i[l],c=this.jh(u);c===null&&(c=this.Io({}),this.Js(c,u),this.fi(c))}if(i=t.modifiedLinkData,Array.isArray(i)){for(s=i.length,l=0;l<s;l++)if(u=i[l],c=this.Ac(u),c=this.jh(c),c!==null){for(var d in u)d!=="__gohashid"&&d!==this.linkKeyProperty&&this.setDataProperty(c,d,u[d]);VD(this,u,c)}}if(t=t.removedLinkKeys,Array.isArray(t))for(d=t.length,i=0;i<d;i++)s=this.jh(t[i]),s!==null&&this.am(s)},Zt.prototype.changeState=function(t,i){if(t!==null&&t.model===this){if(t.change===ke){var s=t.object,l=t.propertyName;if(l===this.linkKeyProperty&&this.Jc(s)){var u=t.I(i);i=t.I(!i),i!==void 0&&this.xb.remove(i),u!==void 0&&this.xb.add(u,s),me(s,l,u);return}}else if(t.change===oi){if(s=t.newParam,t.modelChange==="linkDataArray"){t=t.newValue,J(t)&&typeof s=="number"&&(l=this.Ac(t),i?(this.$f.remove(t),this.md[s]===t&&this.md.splice(s,1),l!==void 0&&this.xb.remove(l)):(this.$f.add(t),this.md[s]!==t&&this.md.splice(s,0,t),l!==void 0&&this.xb.add(l,t)));return}if(t.modelChange==="linkLabelKeys"){l=this.Ef(t.object),Array.isArray(l)&&typeof s=="number"&&(i?(s=l.indexOf(t.newValue),0<=s&&l.splice(s,1)):0>l.indexOf(t.newValue)&&l.splice(s,0,t.newValue));return}}else if(t.change===ci){if(s=t.oldParam,t.modelChange==="linkDataArray"){t=t.oldValue,J(t)&&typeof s=="number"&&(l=this.Ac(t),i?(this.$f.add(t),this.md[s]!==t&&this.md.splice(s,0,t),l!==void 0&&this.xb.add(l,t)):(this.$f.remove(t),this.md[s]===t&&this.md.splice(s,1),l!==void 0&&this.xb.remove(l)));return}if(t.modelChange==="linkLabelKeys"){l=this.Ef(t.object),Array.isArray(l)&&typeof s=="number"&&(i?0>l.indexOf(t.newValue)&&l.splice(s,0,t.newValue):(s=l.indexOf(t.newValue),0<=s&&l.splice(s,1)));return}}yt.prototype.changeState.call(this,t,i)}},n=Zt.prototype,n.Ul=function(t){if(t!==void 0){var i=this.Ri;if(i!==null){var s=this.ic(t);s===null&&(s=this.copyNodeData(i),me(s,this.nodeKeyProperty,t),this.xf(s))}return t}},n.yx=function(t){return gr(this,t,!0)},n.wv=function(t,i){Qp(this,t,i,!0)},n.Bx=function(t){return gr(this,t,!1)},n.Bv=function(t,i){Qp(this,t,i,!1)};function gr(t,i,s){if(i!==null&&(t=s?t.lf:t.mf,t!==""&&(t=De(i,t),t!==void 0))){if(Au(t))return t;D((s?"FromKey":"ToKey")+" value for link data "+i+" is not a number or a string: "+t)}}function Qp(t,i,s,l){if(s===null&&(s=void 0),i!==null){var u=l?t.lf:t.mf;if(u!=="")if(s=t.Ul(s),t.Jc(i)){var c=De(i,u);c!==s&&(Us(t,c,i),me(i,u,s),t.ic(s)===null&&Ys(t,s,i),qe(t,l?"linkFromKey":"linkToKey",ke,u,i,c,s),typeof u=="string"&&t.La(i,u))}else me(i,u,s)}}n.zx=function(t){return m1(this,t,!0)},n.xv=function(t,i){Np(this,t,i,!0)},n.Cx=function(t){return m1(this,t,!1)},n.Cv=function(t,i){Np(this,t,i,!1)};function m1(t,i,s){return i===null||(t=s?t.ej:t.fj,t==="")?"":(i=De(i,t),i===void 0?"":i)}function Np(t,i,s,l){if(i!==null){var u=l?t.ej:t.fj;if(u!=="")if(t.Jc(i)){var c=De(i,u);c===void 0&&(c=""),c!==s&&(me(i,u,s),qe(t,l?"linkFromPortId":"linkToPortId",ke,u,i,c,s),typeof u=="string"&&t.La(i,u))}else me(i,u,s)}}n.Ef=function(t){if(t===null)return g1;var i=this.je;return i===""?g1:(t=De(t,i),t===void 0?g1:t)},n.Ks=function(t,i){if(t!==null){var s=this.je;if(s!=="")if(this.Jc(t)){var l=De(t,s);if(l===void 0&&(l=g1),l!==i){if(Array.isArray(l))for(var u=l.length,c=0;c<u;c++)Us(this,l[c],t);for(me(t,s,i),u=i.length,c=0;c<u;c++){var d=i[c];this.ic(d)===null&&Ys(this,d,t)}qe(this,"linkLabelKeys",ke,s,t,l,i),typeof s=="string"&&this.La(t,s)}}else me(t,s,i)}},n.Au=function(t,i){if(i!=null&&t!==null){var s=this.je;if(s!==""){var l=De(t,s);if(l===void 0)s=[],s.push(i),this.Ks(t,s);else if(Array.isArray(l)){var u=l.indexOf(i);0<=u||(u=l.length,l.push(i),this.Jc(t)&&(this.ic(i)===null&&Ys(this,i,t),qe(this,"linkLabelKeys",oi,s,t,null,i,null,u)))}else D(s+" property is not an Array; cannot addLabelKeyForLinkData: "+t)}}},n.Qx=function(t,i){if(i!=null&&t!==null){var s=this.je;if(s!==""){var l=De(t,s);if(Array.isArray(l)){var u=l.indexOf(i);0>u||(l.splice(u,1),this.Jc(t)&&(Us(this,i,t),qe(this,"linkLabelKeys",ci,s,t,i,null,u,null)))}else l!==void 0&&D(s+" property is not an Array; cannot removeLabelKeyforLinkData: "+t)}}},n.Ac=function(t){if(t!==null){var i=this.Jh;if(i!==""&&(i=De(t,i),i!==void 0)){if(Au(i))return i;D("Key value for link data "+t+" is not a number or a string: "+i)}}},n.Js=function(t,i){if(t!==null){var s=this.Jh;if(s!=="")if(this.Jc(t)){var l=De(t,s);l!==i&&this.jh(i)===null&&(me(t,s,i),l!==void 0&&this.xb.remove(l),this.xb.add(i,t),qe(this,"linkKey",ke,s,t,l,i),typeof s=="string"&&this.La(t,s))}else me(t,s,i)}},n.jh=function(t){return t===null&&D("GraphLinksModel.findLinkDataForKey:key must not be null"),t!==void 0&&Au(t)?this.xb.I(t):null},n.As=function(t){if(t!==null){var i=this.Jh;if(i!==""){var s=this.Ac(t);if(s===void 0||this.xb.contains(s)){var l=this.bl;if(l!==null&&(s=l(this,t),s!=null&&!this.xb.contains(s))){me(t,i,s);return}if(typeof s=="string"){for(l=2;this.xb.contains(s+l);)l++;me(t,i,s+l)}else if(s===void 0||typeof s=="number"){for(s=-this.xb.count-1;this.xb.contains(s);)s--;me(t,i,s)}}}}},n.Jc=function(t){return t===null?!1:this.$f.contains(t)},n.fi=function(t){t!==null&&(ms(t),this.Jc(t)||ID(this,t,!0))};function ID(t,i,s){if(t.linkKeyProperty!==""){var l=t.Ac(i);if(l!==void 0&&t.xb.I(l)===i)return;t.As(i),l=t.Ac(i),l===void 0&&D("GraphLinksModel.makeLinkDataKeyUnique failed on "+i+". Data not added to model."),t.xb.add(l,i)}t.$f.add(i),l=null,s&&(l=t.md.length,t.md.splice(l,0,i)),qe(t,"linkDataArray",oi,"linkDataArray",t,null,i,null,l),FT(t,i)}n.Ey=function(t){if(Array.isArray(t))for(var i=t.length,s=0;s<i;s++)this.fi(t[s]);else for(t=t.iterator;t.next();)this.fi(t.value)},n.am=function(t){t!==null&&FD(this,t,!0)};function FD(t,i,s){t.$f.remove(i);var l=t.Ac(i);if(l!==void 0&&t.xb.remove(l),l=null,s){if(l=t.md.indexOf(i),0>l)return;t.md.splice(l,1)}if(qe(t,"linkDataArray",ci,"linkDataArray",t,i,null,l,null),s=gr(t,i,!0),Us(t,s,i),s=gr(t,i,!1),Us(t,s,i),l=t.Ef(i),Array.isArray(l))for(var u=l.length,c=0;c<u;c++)s=l[c],Us(t,s,i)}n.lA=function(t){if(Array.isArray(t))for(var i=t.length,s=0;s<i;s++)this.am(t[s]);else for(t=t.iterator;t.next();)this.am(t.value)},n.Zz=function(t){if(this.linkKeyProperty===""&&D("GraphLinksModel.linkKeyProperty must not be an empty string for .mergeLinkDataArray() to succeed."),t!==this.linkDataArray&&ot(t)){var i=this.jl;i.clear(),i.addAll(this.xb.iteratorKeys);var s=this.hl;s.clear();for(var l=t.length,u=0;u<l;u++){var c=t[u],d=this.Ac(c);if(d!==void 0){s.add(d);var m=this.jh(d);m!==c&&(m!==null?(this.Co(m,c),VD(this,c,m)):(c=this.cloneDeep(c),this.Js(c,d),this.fi(c)))}else d=this.cloneDeep(c),this.fi(d),s.add(this.Ac(d))}for(t=i.iterator;t.next();)l=t.value,s.contains(l)||(l=this.jh(l))&&this.am(l);i.clear(),s.clear()}};function FT(t,i){var s=gr(t,i,!0);s=t.Ul(s),t.ic(s)===null&&Ys(t,s,i),s=gr(t,i,!1),s=t.Ul(s),t.ic(s)===null&&Ys(t,s,i);var l=t.Ef(i);if(Array.isArray(l))for(var u=l.length,c=0;c<u;c++)s=l[c],t.ic(s)===null&&Ys(t,s,i)}n.Io=function(t){if(t===null)return null;var i=this.zk;return t=i!==null?i(t,this):p1(this,t,!0),J(t)&&(Ue(t),this.lf!==""&&me(t,this.lf,void 0),this.mf!==""&&me(t,this.mf,void 0),this.je!==""&&me(t,this.je,[])),t},n.Yu=function(t){if(t===null)return!1;var i=this.il;return i===""?!1:!!De(t,i)},n.lh=function(t){if(t!==null){var i=this.Je;if(i!==""&&(i=De(t,i),i!==void 0)){if(Au(i))return i;D("GroupKey value for node data "+t+" is not a number or a string: "+i)}}},n.lp=function(t,i){if(i===null&&(i=void 0),t!==null){var s=this.Je;if(s!=="")if(this.lb(t)){var l=De(t,s);l!==i&&(Us(this,l,t),me(t,s,i),this.ic(i)===null&&Ys(this,i,t),qe(this,"nodeGroupKey",ke,s,t,l,i),typeof s=="string"&&this.La(t,s))}else me(t,s,i)}},Zt.prototype.copyNodeData=function(t){return t===null?null:(t=yt.prototype.copyNodeData.call(this,t),this.Hj||this.Je===""||De(t,this.Je)===void 0||me(t,this.Je,void 0),t)},Zt.prototype.setDataProperty=function(t,i,s){if(this.lb(t)){if(i===this.nodeKeyProperty){this.jm(t,s);return}if(i===this.nodeCategoryProperty){this.im(t,s);return}if(i===this.nodeGroupKeyProperty){this.lp(t,s);return}}else if(this.Jc(t)){if(i===this.linkFromKeyProperty){Qp(this,t,s,!0);return}if(i===this.linkToKeyProperty){Qp(this,t,s,!1);return}if(i===this.linkFromPortIdProperty){Np(this,t,s,!0);return}if(i===this.linkToPortIdProperty){Np(this,t,s,!1);return}if(i===this.linkKeyProperty){this.Js(t,s);return}if(i===this.linkCategoryProperty){this.kp(t,s);return}if(i===this.linkLabelKeysProperty){this.Ks(t,s);return}}var l=De(t,i);l!==s&&(me(t,i,s),this.Es(t,i,l,s))},n=Zt.prototype,n.Co=function(t,i){if(i){var s=this.lb(t),l=this.Jc(t),u;for(u in i)u==="__gohashid"||s&&u===this.nodeKeyProperty||s&&u===this.nodeIsGroupProperty&&De(t,u)===i[u]||l&&u===this.linkKeyProperty||this.setDataProperty(t,u,i[u])}},n.ip=function(t,i){yt.prototype.ip.call(this,t,i);for(var s=this.kb.iterator;s.next();)this.qv(s.value,t,i);for(s=this.$f.iterator;s.next();){var l=s.value,u=t,c=i;if(gr(this,l,!0)===u){var d=this.lf;me(l,d,c),qe(this,"linkFromKey",ke,d,l,u,c),typeof d=="string"&&this.La(l,d)}if(gr(this,l,!1)===u&&(d=this.mf,me(l,d,c),qe(this,"linkToKey",ke,d,l,u,c),typeof d=="string"&&this.La(l,d)),d=this.Ef(l),Array.isArray(d))for(var m=d.length,y=this.je,O=0;O<m;O++)d[O]===u&&(d[O]=c,qe(this,"linkLabelKeys",oi,y,l,u,c,O,O))}},n.qv=function(t,i,s){if(this.lh(t)===i){var l=this.Je;me(t,l,s),qe(this,"nodeGroupKey",ke,l,t,i,s),typeof l=="string"&&this.La(t,l)}},n.Lv=function(){yt.prototype.Lv.call(this);for(var t=this.linkDataArray,i=t.length,s=0;s<i;s++)FT(this,t[s])},n.em=function(t){yt.prototype.em.call(this,t),t=this.wa(t);var i=A0(this,t);if(i!==null){var s=St();for(i=i.iterator;i.next();){var l=i.value;if(this.lb(l)){if(this.lh(l)===t){var u=this.Je;qe(this,"nodeGroupKey",ke,u,l,t,t),typeof u=="string"&&this.La(l,u),s.push(l)}}else if(gr(this,l,!0)===t&&(u=this.lf,qe(this,"linkFromKey",ke,u,l,t,t),typeof u=="string"&&this.La(l,u),s.push(l)),gr(this,l,!1)===t&&(u=this.mf,qe(this,"linkToKey",ke,u,l,t,t),typeof u=="string"&&this.La(l,u),s.push(l)),u=this.Ef(l),Array.isArray(u))for(var c=u.length,d=this.je,m=0;m<c;m++)u[m]===t&&(qe(this,"linkLabelKeys",oi,d,l,t,t,m,m),s.push(l))}for(i=0;i<s.length;i++)Us(this,t,s[i]);dt(s)}},n.dm=function(t){yt.prototype.dm.call(this,t);var i=this.lh(t);this.ic(i)===null&&Ys(this,i,t)},n.pp=function(t){yt.prototype.pp.call(this,t);var i=this.lh(t);Us(this,i,t)},n.os=function(t){if(t===null)return"";var i=this.dj;if(i===""||(i=De(t,i),i===void 0))return"";if(typeof i=="string")return i;D("getCategoryForLinkData found a non-string category for "+t+": "+i)},Zt.prototype.getLinkCategoryForData=function(t){return this.os(t)},Zt.prototype.kp=function(t,i){if(t!==null){var s=this.dj;if(s!=="")if(this.Jc(t)){var l=De(t,s);l===void 0&&(l=""),l!==i&&(me(t,s,i),qe(this,"linkCategory",ke,s,t,l,i),typeof s=="string"&&this.La(t,s))}else me(t,s,i)}},Zt.prototype.setLinkCategoryForData=function(t,i){this.kp(t,i)},n=Zt.prototype,n.km=function(t,i){yt.prototype.km.call(this,t,i),this.lp(i,this.lh(t))};function VD(t,i,s){t.kp(s,t.os(i)),t.wv(s,t.yx(i)),t.Bv(s,t.Bx(i)),t.Ks(s,t.Ef(i)),t.xv(s,t.zx(i)),t.Cv(s,t.Cx(i))}n.Vj=function(){return!0},n.ri=function(){return!0},n.ws=function(){return!0},n.Wj=function(){return!0},S.Object.defineProperties(Zt.prototype,{archetypeNodeData:{get:function(){return this.Ri},set:function(t){var i=this.Ri;i!==t&&(this.Ri=t,this.g("archetypeNodeData",i,t))}},linkFromKeyProperty:{get:function(){return this.lf},set:function(t){var i=this.lf;i!==t&&(this.lf=t,this.g("linkFromKeyProperty",i,t))}},linkToKeyProperty:{get:function(){return this.mf},set:function(t){var i=this.mf;i!==t&&(this.mf=t,this.g("linkToKeyProperty",i,t))}},linkFromPortIdProperty:{get:function(){return this.ej},set:function(t){var i=this.ej;i!==t&&(this.ej=t,this.g("linkFromPortIdProperty",i,t))}},linkToPortIdProperty:{get:function(){return this.fj},set:function(t){var i=this.fj;i!==t&&(this.fj=t,this.g("linkToPortIdProperty",i,t))}},linkLabelKeysProperty:{get:function(){return this.je},set:function(t){var i=this.je;i!==t&&(this.je=t,this.g("linkLabelKeysProperty",i,t))}},linkDataArray:{get:function(){return this.md},set:function(t){var i=this.md;if(i!==t){this.xb.clear();for(var s=t.length,l=0;l<s;l++){var u=t[l];J(u)||D("GraphLinksModel.linkDataArray must only contain Objects, not: "+u),ms(u)}if(this.md=t,this.linkKeyProperty!==""){for(l=new ct,u=0;u<s;u++){var c=t[u],d=this.Ac(c);d===void 0||this.xb.I(d)!==null?l.add(c):this.xb.add(d,c)}for(l=l.iterator;l.next();)u=l.value,this.As(u),c=this.Ac(u),c!==void 0&&this.xb.add(c,u)}for(l=new at,u=0;u<s;u++)l.add(t[u]);for(this.$f=l,qe(this,"linkDataArray",ke,"linkDataArray",this,i,t),i=0;i<s;i++)FT(this,t[i])}}},linkKeyProperty:{get:function(){return this.Jh},set:function(t){var i=this.Jh;if(i!==t){this.Jh=t,this.xb.clear();for(var s=this.linkDataArray.length,l=0;l<s;l++){var u=this.linkDataArray[l],c=this.Ac(u);c===void 0&&(this.As(u),c=this.Ac(u)),c!==void 0&&this.xb.add(c,u)}this.g("linkKeyProperty",i,t)}}},makeUniqueLinkKeyFunction:{get:function(){return this.bl},set:function(t){var i=this.bl;i!==t&&(this.bl=t,this.g("makeUniqueLinkKeyFunction",i,t))}},copyLinkDataFunction:{get:function(){return this.zk},set:function(t){var i=this.zk;i!==t&&(this.zk=t,this.g("copyLinkDataFunction",i,t))}},nodeIsGroupProperty:{get:function(){return this.il},set:function(t){var i=this.il;i!==t&&(this.il=t,this.g("nodeIsGroupProperty",i,t))}},nodeGroupKeyProperty:{get:function(){return this.Je},set:function(t){var i=this.Je;i!==t&&(this.Je=t,this.g("nodeGroupKeyProperty",i,t))}},Hj:{get:function(){return this.Km},set:function(t){this.Km!==t&&(this.Km=t)}},linkCategoryProperty:{get:function(){return this.dj},set:function(t){var i=this.dj;i!==t&&(this.dj=t,this.g("linkCategoryProperty",i,t))}},type:{get:function(){return"GraphLinksModel"}}}),Zt.prototype.setCategoryForLinkData=Zt.prototype.kp,Zt.prototype.getCategoryForLinkData=Zt.prototype.os,Zt.prototype.assignAllDataProperties=Zt.prototype.Co,Zt.prototype.setGroupKeyForNodeData=Zt.prototype.lp,Zt.prototype.getGroupKeyForNodeData=Zt.prototype.lh,Zt.prototype.isGroupForNodeData=Zt.prototype.Yu,Zt.prototype.copyLinkData=Zt.prototype.Io,Zt.prototype.mergeLinkDataArray=Zt.prototype.Zz,Zt.prototype.removeLinkDataCollection=Zt.prototype.lA,Zt.prototype.removeLinkData=Zt.prototype.am,Zt.prototype.addLinkDataCollection=Zt.prototype.Ey,Zt.prototype.addLinkData=Zt.prototype.fi,Zt.prototype.containsLinkData=Zt.prototype.Jc,Zt.prototype.makeLinkDataKeyUnique=Zt.prototype.As,Zt.prototype.findLinkDataForKey=Zt.prototype.jh,Zt.prototype.setKeyForLinkData=Zt.prototype.Js,Zt.prototype.getKeyForLinkData=Zt.prototype.Ac,Zt.prototype.removeLabelKeyForLinkData=Zt.prototype.Qx,Zt.prototype.addLabelKeyForLinkData=Zt.prototype.Au,Zt.prototype.setLabelKeysForLinkData=Zt.prototype.Ks,Zt.prototype.getLabelKeysForLinkData=Zt.prototype.Ef,Zt.prototype.setToPortIdForLinkData=Zt.prototype.Cv,Zt.prototype.getToPortIdForLinkData=Zt.prototype.Cx,Zt.prototype.setFromPortIdForLinkData=Zt.prototype.xv,Zt.prototype.getFromPortIdForLinkData=Zt.prototype.zx,Zt.prototype.setToKeyForLinkData=Zt.prototype.Bv,Zt.prototype.getToKeyForLinkData=Zt.prototype.Bx,Zt.prototype.setFromKeyForLinkData=Zt.prototype.wv,Zt.prototype.getFromKeyForLinkData=Zt.prototype.yx,Zt.prototype.clear=Zt.prototype.clear;var g1=Object.freeze([]);Zt.className="GraphLinksModel",ks.GraphLinksModel=Zt,yt.constructGraphLinksModel=yt.constructGraphLinksModel=function(){return new Zt},yt.initDiagramModel=DT=function(){return new Zt};function xn(t,i){yt.call(this),this.Ke="parent",this.Mm=!1,this.nj="parentLinkCategory",t!==void 0&&(ot(t)?this.nodeDataArray=t:i=t),i&&(Object.assign(this,i),t=i.Changed)&&(delete this.Changed,this.Pe(t))}x(xn,yt),xn.constructGraphLinksModel=yt.constructGraphLinksModel,xn.prototype.cloneProtected=function(t){yt.prototype.cloneProtected.call(this,t),t.Ke=this.Ke,t.Mm=this.Mm,t.nj=this.nj},n=xn.prototype,n.toString=function(t){if(t===void 0&&(t=0),2<=t)return this.mp();var i=(this.name!==""?this.name:"")+" TreeModel";if(0<t){i+=`
 node data:`,t=this.nodeDataArray;for(var s=t.length,l=0;l<s;l++){var u=t[l];i+=" "+this.wa(u)+":"+Mt(u)}}return i},n.qm=function(){var t=yt.prototype.qm.call(this),i="";return this.nodeParentKeyProperty!=="parent"&&typeof this.nodeParentKeyProperty=="string"&&(i+=`,
  "nodeParentKeyProperty": `+this.quote(this.nodeParentKeyProperty)),t+i},n.fp=function(t){yt.prototype.fp.call(this,t),t.nodeParentKeyProperty&&(this.nodeParentKeyProperty=t.nodeParentKeyProperty)},n.ep=function(t){t.nodeParentKeyProperty!==void 0&&t.nodeParentKeyProperty!==this.nodeParentKeyProperty&&D("applyIncrementalJson cannot change Model properties"),yt.prototype.ep.call(this,t)},n.Ul=function(t){return t},n.mh=function(t){if(t!==null){var i=this.Ke;if(i!==""&&(i=De(t,i),i!==void 0)){if(Au(i))return i;D("ParentKey value for node data "+t+" is not a number or a string: "+i)}}},n.qe=function(t,i){if(i===null&&(i=void 0),t!==null){var s=this.Ke;if(s!=="")if(i=this.Ul(i),this.lb(t)){var l=De(t,s);l!==i&&(Us(this,l,t),me(t,s,i),this.ic(i)===null&&Ys(this,i,t),qe(this,"nodeParentKey",ke,s,t,l,i),typeof s=="string"&&this.La(t,s))}else me(t,s,i)}},n.rs=function(t){if(t===null)return"";var i=this.nj;return i===""||(i=De(t,i),i===void 0)?"":typeof i=="string"?i:(D("getParentLinkCategoryForNodeData found a non-string category for "+t+": "+i),"")},xn.prototype.getLinkCategoryForData=function(t){return this.rs(t)},xn.prototype.Ls=function(t,i){if(t!==null){var s=this.nj;if(s!=="")if(this.lb(t)){var l=De(t,s);l===void 0&&(l=""),l!==i&&(me(t,s,i),qe(this,"parentLinkCategory",ke,s,t,l,i),typeof s=="string"&&this.La(t,s))}else me(t,s,i)}},xn.prototype.setLinkCategoryForData=function(t,i){this.Ls(t,i)},xn.prototype.copyNodeData=function(t){return t===null?null:(t=yt.prototype.copyNodeData.call(this,t),this.Ij||this.Ke===""||De(t,this.Ke)===void 0||me(t,this.Ke,void 0),t)},xn.prototype.setDataProperty=function(t,i,s){if(this.lb(t)){if(i===this.nodeKeyProperty){this.jm(t,s);return}if(i===this.nodeCategoryProperty){this.im(t,s);return}if(i===this.nodeParentKeyProperty){this.qe(t,s);return}}var l=De(t,i);l!==s&&(me(t,i,s),this.Es(t,i,l,s))},n=xn.prototype,n.ip=function(t,i){yt.prototype.ip.call(this,t,i);for(var s=this.kb.iterator;s.next();)this.qv(s.value,t,i)},n.qv=function(t,i,s){if(this.mh(t)===i){var l=this.Ke;me(t,l,s),qe(this,"nodeParentKey",ke,l,t,i,s),typeof l=="string"&&this.La(t,l)}},n.em=function(t){yt.prototype.em.call(this,t),t=this.wa(t);var i=A0(this,t);if(i!==null){var s=St();for(i=i.iterator;i.next();){var l=i.value;if(this.lb(l)&&this.mh(l)===t){var u=this.Ke;qe(this,"nodeParentKey",ke,u,l,t,t),typeof u=="string"&&this.La(l,u),s.push(l)}}for(i=0;i<s.length;i++)Us(this,t,s[i]);dt(s)}},n.dm=function(t){yt.prototype.dm.call(this,t);var i=this.mh(t);i=this.Ul(i),this.ic(i)===null&&Ys(this,i,t)},n.pp=function(t){yt.prototype.pp.call(this,t);var i=this.mh(t);Us(this,i,t)},n.km=function(t,i){yt.prototype.km.call(this,t,i),this.Ls(i,this.rs(t)),this.qe(i,this.mh(t))},n.Sl=function(){return!0},n.ws=function(){return!0},S.Object.defineProperties(xn.prototype,{nodeParentKeyProperty:{get:function(){return this.Ke},set:function(t){var i=this.Ke;i!==t&&(this.Ke=t,this.g("nodeParentKeyProperty",i,t))}},Ij:{get:function(){return this.Mm},set:function(t){this.Mm!==t&&(this.Mm=t)}},parentLinkCategoryProperty:{get:function(){return this.nj},set:function(t){var i=this.nj;i!==t&&(this.nj=t,this.g("parentLinkCategoryProperty",i,t))}},linkCategoryProperty:{get:function(){return this.parentLinkCategoryProperty},set:function(t){this.parentLinkCategoryProperty=t}},type:{get:function(){return"TreeModel"}}}),xn.prototype.setParentLinkCategoryForNodeData=xn.prototype.Ls,xn.prototype.getParentLinkCategoryForNodeData=xn.prototype.rs,xn.prototype.setParentKeyForNodeData=xn.prototype.qe,xn.prototype.getParentKeyForNodeData=xn.prototype.mh,xn.className="TreeModel",ks.TreeModel=xn;function Pe(t){ye.call(this),this.lw=this.Ym=this.mc=0,this.Vp=360,this.kw=Ps,this.Ti=0,this.Zv=new F,this.Ip=this.me=0,this.Wr=new D0,this.ft=this.mj=0,this.ty=600,this.co=NaN,this.Bm=1,this.qo=0,this.tl=360,this.Sb=Ps,this.K=wn,this.nd=jp,this.hd=AT,this.tf=6,this.Mn=k1,t&&Object.assign(this,t)}x(Pe,ye),Pe.prototype.cloneProtected=function(t){ye.prototype.cloneProtected.call(this,t),t.co=this.co,t.Bm=this.Bm,t.qo=this.qo,t.tl=this.tl,t.Sb=this.Sb,t.K=this.K,t.nd=this.nd,t.hd=this.hd,t.tf=this.tf,t.Mn=this.Mn},Pe.prototype.qb=function(t){t.classType===Pe?t===w1||t===S1||t===v1||t===x1||t===jp?this.sorting=t:t===_h||t===Ap||t===wn||t===Eu?this.direction=t:t===Na||t===ju||t===Ps||t===bs?this.arrangement=t:(t===Mf||t===k1)&&(this.nodeDiameterFormula=t):ye.prototype.qb.call(this,t)},Pe.prototype.createNetwork=function(){return new Ep(this)},Pe.prototype.doLayout=function(t){if(this.network===null&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),t=this.network.vertexes,1>=t.count)t.count===1&&(t=t.first(),t.centerX=0,t.centerY=0);else{var i=new ct;i.addAll(t.iterator),t=new ct;var s=new ct,l=this.sort(i),u,c,d=this.Ip,m=this.arrangement,y=this.nodeDiameterFormula,O=this.radius;(!isFinite(O)||0>=O)&&(O=NaN);var w=this.aspectRatio;(!isFinite(w)||0>=w)&&(w=1);var k=this.startAngle;isFinite(k)||(k=0);var P=this.sweepAngle;if((!isFinite(P)||360<P||1>P)&&(P=360),i=this.spacing,isFinite(i)||(i=NaN),m===bs&&y===Mf?m=Ps:m===bs&&y!==Mf&&(m=this.arrangement),(this.direction===_h||this.direction===Ap)&&this.sorting!==jp){for(y=0;!(y>=l.length)&&(t.add(l.M(y)),!(y+1>=l.length));y+=2)s.add(l.M(y+1));this.direction===_h?(this.arrangement===bs&&t.reverse(),l=new ct,l.addAll(t),l.addAll(s)):(this.arrangement===bs&&s.reverse(),l=new ct,l.addAll(s),l.addAll(t))}y=l.length;for(var T=c=u=0;T<l.length;T++){var M=k+P*c*(this.direction===wn?1:-1)/y,A=l.M(T).diameter;isNaN(A)&&(A=Ru(l.M(T),M)),360>P&&(T===0||T===l.length-1)&&(A/=2),u+=A,c++}if(isNaN(O)||m===bs){if(isNaN(i)&&(i=6),m!==Ps&&m!==bs){for(c=-1/0,d=0;d<y;d++)T=l.M(d),u=l.M(d===y-1?0:d+1),isNaN(T.diameter)&&Ru(T,0),isNaN(u.diameter)&&Ru(u,0),c=Math.max(c,(T.diameter+u.diameter)/2);d=c+i,m===Na?O=(c+i)/(2*Math.PI/y):O=y1(this,d*(360<=P?y:y-1),w,k*Math.PI/180,P*Math.PI/180)}else O=y1(this,u+(360<=P?y:y-1)*(m!==bs?i:1.6*i),w,k*Math.PI/180,P*Math.PI/180);c=O*w}else if(c=O*w,T=VT(this,O,c,k*Math.PI/180,P*Math.PI/180),isNaN(i))(m===Ps||m===bs)&&(i=(T-u)/(360<=P?y:y-1));else if(m===Ps||m===bs)T=(T-u)/(360<=P?y:y-1),T<i?(O=y1(this,u+i*(360<=P?y:y-1),w,k*Math.PI/180,P*Math.PI/180),c=O*w):i=T;else{for(d=-1/0,u=0;u<y;u++)M=l.M(u),A=l.M(u===y-1?0:u+1),isNaN(M.diameter)&&Ru(M,0),isNaN(A.diameter)&&Ru(A,0),d=Math.max(d,(M.diameter+A.diameter)/2);d+=i,u=y1(this,d*(360<=P?y:y-1),w,k*Math.PI/180,P*Math.PI/180),u>O?(O=u,c=O*w):d=T/(360<=P?y:y-1)}if(this.kw=m,this.mc=O,this.Ym=w,this.lw=k,this.Vp=P,this.Ti=i,this.me=c,this.Ip=d,i=l,l=this.kw,m=this.mc,O=this.lw,w=this.Vp,k=this.Ti,P=this.me,y=this.Ip,this.direction!==_h&&this.direction!==Ap||l!==bs)if(this.direction===_h||this.direction===Ap){switch(d=0,l){case ju:d=180*O1(this,m,P,O,y)/Math.PI;break;case Ps:y=i=0,d=t.first(),d!==null&&(i=Ru(d,Math.PI/2)),d=s.first(),d!==null&&(y=Ru(d,Math.PI/2)),d=180*O1(this,m,P,O,k+(i+y)/2)/Math.PI;break;case Na:d=w/i.length}if(this.direction===_h){switch(l){case ju:$0(this,t,O,Eu);break;case Ps:L0(this,t,O,Eu);break;case Na:R0(this,t,w/2,O,Eu)}switch(l){case ju:$0(this,s,O+d,wn);break;case Ps:L0(this,s,O+d,wn);break;case Na:R0(this,s,w/2,O+d,wn)}}else{switch(l){case ju:$0(this,s,O,Eu);break;case Ps:L0(this,s,O,Eu);break;case Na:R0(this,s,w/2,O,Eu)}switch(l){case ju:$0(this,t,O+d,wn);break;case Ps:L0(this,t,O+d,wn);break;case Na:R0(this,t,w/2,O+d,wn)}}}else switch(l){case ju:$0(this,i,O,this.direction);break;case Ps:L0(this,i,O,this.direction);break;case Na:R0(this,i,w,O,this.direction);break;case bs:zD(this,i,w,O,this.direction)}else zD(this,i,w,O-w/2,wn)}this.updateParts(),this.network=null,this.isValidLayout=!0};function R0(t,i,s,l,u){var c=t.Vp,d=t.mc;t=t.me,l=l*Math.PI/180,s=s*Math.PI/180;for(var m=i.length,y=0;y<m;y++){var O=l+(u===wn?y*s/(360<=c?m:m-1):-(y*s)/m),w=i.M(y),k=d*Math.tan(O)/t;k=Math.sqrt((d*d+t*t*k*k)/(1+k*k)),w.centerX=k*Math.cos(O),w.centerY=k*Math.sin(O),w.actualAngle=180*O/Math.PI}}function L0(t,i,s,l){var u=t.mc,c=t.me,d=t.Ti;s=s*Math.PI/180;for(var m=i.length,y=0;y<m;y++){var O=i.M(y),w=i.M(y===m-1?0:y+1),k=c*Math.sin(s);O.centerX=u*Math.cos(s),O.centerY=k,O.actualAngle=180*s/Math.PI,isNaN(O.diameter)&&Ru(O,0),isNaN(w.diameter)&&Ru(w,0),O=O1(t,u,c,l===wn?s:-s,(O.diameter+w.diameter)/2+d),s+=l===wn?O:-O}}function $0(t,i,s,l){var u=t.mc,c=t.me,d=t.Ip;s=s*Math.PI/180;for(var m=i.length,y=0;y<m;y++){var O=i.M(y);O.centerX=u*Math.cos(s),O.centerY=c*Math.sin(s),O.actualAngle=180*s/Math.PI,O=O1(t,u,c,l===wn?s:-s,d),s+=l===wn?O:-O}}function zD(t,i,s,l,u){var c=t.Vp;if(t.mj=0,t.Wr=new D0,360>s){for(c=l+(u===wn?c:-c);0>c;)c+=360;c%=360,180<c&&(c-=360),c*=Math.PI/180,t.ft=c,BD(t,i,s,l,u)}else XD(t,i,s,l,u);t.Wr.commit(i)}function XD(t,i,s,l,u){var c=t.mc,d=t.Ti,m=t.Ym,y=c*Math.cos(l*Math.PI/180),O=t.me*Math.sin(l*Math.PI/180),w=i.Fa();if(w.length===3)w[0].centerX=c,w[0].centerY=0,w[1].centerX=w[0].centerX-w[0].width/2-w[1].width/2-d,w[1].y=w[0].y,w[2].centerX=(w[0].centerX+w[1].centerX)/2,w[2].y=w[0].y-w[2].height-d;else if(w.length===4)w[0].centerX=c,w[0].centerY=0,w[2].centerX=-w[0].centerX,w[2].centerY=w[0].centerY,w[1].centerX=0,w[1].y=Math.min(w[0].y,w[2].y)-w[1].height-d,w[3].centerX=0,w[3].y=Math.max(w[0].y+w[0].height+d,w[2].y+w[2].height+d);else{c=F.alloc();for(var k=0;k<w.length&&(w[k].centerX=y,w[k].centerY=O,!(k>=w.length-1));k++)_D(t,y,O,w,k,u,c)||ZD(t,y,O,w,k,u,c),y=c.x,O=c.y;if(F.free(c),t.mj++,!(23<t.mj)){y=w[0].centerX,O=w[0].centerY,c=w[w.length-1].centerX,k=w[w.length-1].centerY;var P=Math.abs(y-c)-((w[0].width+w[w.length-1].width)/2+d),T=Math.abs(O-k)-((w[0].height+w[w.length-1].height)/2+d);d=0,1>Math.abs(T)?Math.abs(y-c)<(w[0].width+w[w.length-1].width)/2&&(d=0):d=0<T?T:1>Math.abs(P)?0:P,y=Math.abs(c)>Math.abs(k)?0<c!=O>k:0<k!=y<c,(y=u===wn?y:!y)&&(d=-Math.abs(d),d=Math.min(d,-w[w.length-1].width),d=Math.min(d,-w[w.length-1].height)),t.Wr.compare(d,w),1<Math.abs(d)&&(t.mc=8>t.mj?t.mc-d/(2*Math.PI):5>w.length&&10<d?t.mc/2:t.mc-(0<d?1.7:-2.3),t.me=t.mc*m,XD(t,i,s,l,u))}}}function BD(t,i,s,l,u){for(var c=t.mc,d=t.me,m=t.Ym,y=c*Math.cos(l*Math.PI/180),O=d*Math.sin(l*Math.PI/180),w=F.alloc(),k=i.Fa(),P=0;P<k.length&&(k[P].centerX=y,k[P].centerY=O,!(P>=k.length-1));P++)_D(t,y,O,k,P,u,w)||ZD(t,y,O,k,P,u,w),y=w.x,O=w.y;if(F.free(w),t.mj++,!(23<t.mj)){if(y=Math.atan2(O,y),y=u===wn?t.ft-y:y-t.ft,y=Math.abs(y)<Math.abs(y-2*Math.PI)?y:y-2*Math.PI,c=y*(c+d)/2,d=t.Wr,Math.abs(c)<Math.abs(d.Ol))for(d.Ol=c,d.lk=[],d.sm=[],y=0;y<k.length;y++)d.lk[y]=k[y].bounds.x,d.sm[y]=k[y].bounds.y;1<Math.abs(c)&&(t.mc=8>t.mj?t.mc-c/(2*Math.PI):t.mc-(0<c?1.7:-2.3),t.me=t.mc*m,BD(t,i,s,l,u))}}function _D(t,i,s,l,u,c,d){var m=t.mc,y=t.me,O=0;t=(l[u].width+l[u+1].width)/2+t.Ti;var w=!1;if(0<=s!=(c===wn)){if(c=i+t,c>m){if(c=i-t,c<-m)return d.x=c,d.y=O,!1;w=!0}}else if(c=i-t,c<-m){if(c=i+t,c>m)return d.x=c,d.y=O,!1;w=!0}return O=Math.sqrt(1-Math.min(1,c*c/(m*m)))*y,0>s!==w&&(O=-O),Math.abs(s-O)>(l[u].height+l[u+1].height)/2?(d.x=c,d.y=O,!1):(d.x=c,d.y=O,!0)}function ZD(t,i,s,l,u,c,d){var m=t.mc,y=t.me,O=0;if(t=(l[u].height+l[u+1].height)/2+t.Ti,l=!1,0<=i!=(c===wn)){if(c=s-t,c<-y){if(c=s+t,c>y){d.x=O,d.y=c;return}l=!0}}else if(c=s+t,c>y){if(c=s-t,c<-y){d.x=O,d.y=c;return}l=!0}O=Math.sqrt(1-Math.min(1,c*c/(y*y)))*m,0>i!==l&&(O=-O),d.x=O,d.y=c}Pe.prototype.commitLayout=function(){this.commitNodes(),this.isRouting&&this.commitLinks()},Pe.prototype.commitNodes=function(){var t=this.group!==null&&this.group.placeholder!==null&&this.group.isSubGraphExpanded,i=t?this.group.location.copy():null,s=this.actualCenter;t?s=new F(0,0):(s.x=this.arrangementOrigin.x+this.mc,s.y=this.arrangementOrigin.y+this.me);for(var l=this.network.vertexes.iterator;l.next();){var u=l.value;u.x+=s.x,u.y+=s.y,u.commit()}t&&(this.group.Va(),t=this.group.position.copy(),s=this.group.location.copy(),i=i.re(s.re(t)),this.group.move(i),this.Zv=i.re(t))},Pe.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()};function VT(t,i,s,l,u){var c=t.ty;if(.001>Math.abs(t.Ym-1))return l!==void 0&&u!==void 0?u*i:2*Math.PI*i;t=i>s?Math.sqrt(i*i-s*s)/i:Math.sqrt(s*s-i*i)/s;for(var d=0,m=l!==void 0&&u!==void 0?u/(c+1):Math.PI/(2*(c+1)),y=0,O=0;O<=c;O++){l!==void 0&&u!==void 0?y=l+O*u/c:y=O*Math.PI/(2*c);var w=Math.sin(y);d+=Math.sqrt(1-t*t*w*w)*m}return l!==void 0&&u!==void 0?(i>s?i:s)*d:4*(i>s?i:s)*d}function y1(t,i,s,l,u){return i/(l!==void 0&&u!==void 0?VT(t,1,s,l,u):VT(t,1,s))}function O1(t,i,s,l,u){if(.001>Math.abs(t.Ym-1))return u/i;var c=i>s?Math.sqrt(i*i-s*s)/i:Math.sqrt(s*s-i*i)/s,d=0;t=2*Math.PI/(700*t.network.vertexes.count),i>s&&(l+=Math.PI/2);for(var m=0;;m++){var y=Math.sin(l+m*t);if(d+=(i>s?i:s)*Math.sqrt(1-c*c*y*y)*t,d>=u)return m*t}}Pe.prototype.sort=function(t){switch(this.sorting){case v1:break;case x1:t.reverse();break;case w1:t.sort(this.comparer);break;case S1:t.sort(this.comparer),t.reverse();break;case jp:return this.$j(KG(t));default:D("Invalid sorting type.")}return t};function KG(t){for(var i=[],s=0;s<t.length;s++)i.push(0);s=new ct;for(var l=0;l<t.length;l++){var u=-1,c=-1;if(l===0)for(var d=0;d<t.length;d++){var m=t.M(d).edgesCount;m>u&&(u=m,c=d)}else for(d=0;d<t.length;d++)m=i[d],m>u&&(u=m,c=d);for(s.add(t.M(c)),i[c]=-1,c=t.M(c),d=c.sourceEdges;d.next();)u=t.indexOf(d.value.fromVertex),0>u||0<=i[u]&&i[u]++;for(c=c.destinationEdges;c.next();)u=t.indexOf(c.value.toVertex),0>u||0<=i[u]&&i[u]++}return s}Pe.prototype.$j=function(t){for(var i=[],s=0;s<t.length;s++){var l=t.M(s);i[s]=[];for(var u,c=l.destinationEdges;c.next();)u=t.indexOf(c.value.toVertex),u!==s&&0>i[s].indexOf(u)&&i[s].push(u);for(l=l.sourceEdges;l.next();)u=t.indexOf(l.value.fromVertex),u!==s&&0>i[s].indexOf(u)&&i[s].push(u)}for(c=[],s=0;s<i.length;s++)c[s]=0;s=[];var d=[],m=[];l=[],u=new ct;for(var y=0,O=0;O<i.length;O++){var w=i[O].length;if(w===1)l.push(O);else if(w===0)u.add(t.M(O));else{if(y===0)s.push(O);else{for(var k=w=1/0,P=-1,T=[],M=0;M<s.length;M++)0>i[s[M]].indexOf(s[M===s.length-1?0:M+1])&&T.push(M===s.length-1?0:M+1);if(T.length===0)for(M=0;M<s.length;M++)T.push(M);for(M=0;M<T.length;M++){for(var A=T[M],I=i[O],L=0,z=0;z<d.length;z++){var X=c[d[z]],_=c[m[z]];if(X<_){var Y=X;X=_}else Y=_;if(Y<A&&A<=X)for(_=0;_<I.length;_++){var G=I[_];0>s.indexOf(G)||Y<c[G]&&c[G]<X||Y===c[G]||X===c[G]||L++}else for(_=0;_<I.length;_++)G=I[_],0>s.indexOf(G)||Y<c[G]&&c[G]<X&&Y!==c[G]&&X!==c[G]&&L++}for(I=L,z=L=0;z<i[O].length;z++)Y=s.indexOf(i[O][z]),0<=Y&&(Y=Math.abs(A-(Y>=A?Y+1:Y)),L+=Y<s.length+1-Y?Y:s.length+1-Y);for(z=0;z<d.length;z++)Y=c[d[z]],X=c[m[z]],Y>=A&&Y++,X>=A&&X++,Y>X&&(_=X,X=Y,Y=_),X-Y<(s.length+2)/2==(Y<A&&A<=X)&&L++;(I<w||I===w&&L<k)&&(w=I,k=L,P=A)}for(s.splice(P,0,O),w=0;w<s.length;w++)c[s[w]]=w;for(w=0;w<i[O].length;w++)k=i[O][w],0<=s.indexOf(k)&&(d.push(O),m.push(k))}y++}}for(d=s.length;;){for(c=!0,m=0;m<l.length;m++)if(y=l[m],O=i[y][0],w=s.indexOf(O),0<=w){for(P=k=0;P<i[O].length;P++)T=s.indexOf(i[O][P]),0>T||T===w||(M=T>w?T-w:w-T,k+=T<w!=M>d-M?1:-1);s.splice(0>k?w:w+1,0,y),l.splice(m,1),m--}else c=!1;if(c)break;s.push(l[0]),l.splice(0,1)}for(i=0;i<s.length;i++)u.add(t.M(s[i]));return u},S.Object.defineProperties(Pe.prototype,{radius:{get:function(){return this.co},set:function(t){this.co!==t&&(0<t||isNaN(t))&&(this.co=t,this.C())}},aspectRatio:{get:function(){return this.Bm},set:function(t){this.Bm!==t&&0<t&&(this.Bm=t,this.C())}},startAngle:{get:function(){return this.qo},set:function(t){this.qo!==t&&(this.qo=t,this.C())}},sweepAngle:{get:function(){return this.tl},set:function(t){this.tl!==t&&(0<t&&360>=t?this.tl=t:this.tl=360,this.C())}},arrangement:{get:function(){return this.Sb},set:function(t){this.Sb===t||t!==bs&&t!==Ps&&t!==ju&&t!==Na||(this.Sb=t,this.C())}},direction:{get:function(){return this.K},set:function(t){this.K===t||t!==wn&&t!==Eu&&t!==_h&&t!==Ap||(this.K=t,this.C())}},sorting:{get:function(){return this.nd},set:function(t){this.nd===t||t!==v1&&t!==x1&&t!==w1&&!S1&&t!==jp||(this.nd=t,this.C())}},comparer:{get:function(){return this.hd},set:function(t){this.hd!==t&&(this.hd=t,this.C())}},spacing:{get:function(){return this.tf},set:function(t){this.tf!==t&&(this.tf=t,this.C())}},nodeDiameterFormula:{get:function(){return this.Mn},set:function(t){this.Mn===t||t!==k1&&t!==Mf||(this.Mn=t,this.C())}},actualXRadius:{get:function(){return this.mc}},actualYRadius:{get:function(){return this.me}},actualSpacing:{get:function(){return this.Ti}},actualCenter:{get:function(){return this.Zv}}});var Ps=new it(Pe,"ConstantSpacing",0),ju=new it(Pe,"ConstantDistance",1),Na=new it(Pe,"ConstantAngle",2),bs=new it(Pe,"Packed",3),wn=new it(Pe,"Clockwise",4),Eu=new it(Pe,"Counterclockwise",5),_h=new it(Pe,"BidirectionalLeft",6),Ap=new it(Pe,"BidirectionalRight",7),v1=new it(Pe,"Forwards",8),x1=new it(Pe,"Reverse",9),w1=new it(Pe,"Ascending",10),S1=new it(Pe,"Descending",11),jp=new it(Pe,"Optimized",12),k1=new it(Pe,"Pythagorean",13),Mf=new it(Pe,"Circular",14);Pe.className="CircularLayout",Pe.ConstantSpacing=Ps,Pe.ConstantDistance=ju,Pe.ConstantAngle=Na,Pe.Packed=bs,Pe.Clockwise=wn,Pe.Counterclockwise=Eu,Pe.BidirectionalLeft=_h,Pe.BidirectionalRight=Ap,Pe.Forwards=v1,Pe.Reverse=x1,Pe.Ascending=w1,Pe.Descending=S1,Pe.Optimized=jp,Pe.Pythagorean=k1,Pe.Circular=Mf;function D0(){this.Ol=-1/0,this.sm=this.lk=null}D0.prototype.compare=function(t,i){if(0<t&&0>this.Ol||Math.abs(t)<Math.abs(this.Ol)&&!(0>t&&0<this.Ol))for(this.Ol=t,this.lk=[],this.sm=[],t=0;t<i.length;t++)this.lk[t]=i[t].bounds.x,this.sm[t]=i[t].bounds.y},D0.prototype.commit=function(t){if(this.lk!==null&&this.sm!==null)for(var i=0;i<this.lk.length;i++){var s=t.M(i);s.x=this.lk[i],s.y=this.sm[i]}},D0.className="VertexArrangement";function Ep(t){de.call(this,t)}x(Ep,de),Ep.prototype.createVertex=function(){return new I0(this)},Ep.prototype.createEdge=function(){return new P1(this)},Ep.className="CircularNetwork";function I0(t){ni.call(this,t),this.u=this.Si=NaN}x(I0,ni);function Ru(t,i){var s=t.network;if(s===null)return NaN;if(s=s.layout,s===null)return NaN;if(s.arrangement===bs)if(s.nodeDiameterFormula===Mf)t.Si=Math.max(t.width,t.height);else{if(s=Math.abs(Math.sin(i)),i=Math.abs(Math.cos(i)),s===0)return t.width;if(i===0)return t.height;t.Si=Math.min(t.height/s,t.width/i)}else t.Si=s.nodeDiameterFormula===Mf?Math.max(t.width,t.height):Math.sqrt(t.width*t.width+t.height*t.height);return t.Si}S.Object.defineProperties(I0.prototype,{diameter:{get:function(){return this.Si},set:function(t){this.Si!==t&&(this.Si=t)}},actualAngle:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}}}),I0.className="CircularVertex";function P1(t){ir.call(this,t)}x(P1,ir),P1.className="CircularEdge";function ji(t){ye.call(this),this.ah=null,this.zn=0,this.$d=new At(100,100).freeze(),this.Am=!1,this.sf=!0,this.td=!1,this.cl=100,this.Zm=1,this.Zf=1e3,this.Hn=10,this.eo=Math,this.Gk=.05,this.Fk=50,this.Dk=150,this.Ek=0,this.Um=10,this.Tm=5,t&&Object.assign(this,t)}x(ji,ye),ji.prototype.cloneProtected=function(t){ye.prototype.cloneProtected.call(this,t),t.$d.assign(this.$d),t.Am=this.Am,t.sf=this.sf,t.td=this.td,t.cl=this.cl,t.Zm=this.Zm,t.Zf=this.Zf,t.Hn=this.Hn,t.eo=this.eo,t.Gk=this.Gk,t.Fk=this.Fk,t.Dk=this.Dk,t.Ek=this.Ek,t.Um=this.Um,t.Tm=this.Tm},ji.prototype.createNetwork=function(){return new Qf(this)},ji.prototype.doLayout=function(t){if(this.network===null&&(this.network=this.makeNetwork(t)),t=this.maxIterations,0<this.network.vertexes.count){this.network.Jo();for(var i=this.network.vertexes.iterator;i.next();){var s=i.value;s.charge=this.electricalCharge(s),s.mass=this.gravitationalMass(s)}for(i=this.network.edges.iterator;i.next();)s=i.value,s.stiffness=this.springStiffness(s),s.length=this.springLength(s);if(this.Bu(),this.zn=0,this.needsClusterLayout()){i=this.network,s=i.Zx();for(var l=s.iterator;l.next();){this.network=l.value;for(var u=this.network.vertexes.iterator;u.next();){var c=u.value;c.Vd=c.vertexes.count,c.sh=1,c.Gj=null,c.We=null}YD(this,0,t)}this.network=i;var d=l=s.iterator;l=this.arrangementSpacing;var m=d.count,y=!0;c=u=0;for(var O=St(),w=0;w<m+i.vertexes.count+2;w++)O[w]=null;m=0,d.reset();for(var k=tt.alloc();d.next();)if(w=d.value,this.computeBounds(w,k),y)y=!1,u=k.x+k.width/2,c=k.y+k.height/2,O[0]=new F(k.x+k.width+l.width,k.y),O[1]=new F(k.x,k.y+k.height+l.height),m=2;else{var P=UD(O,m,u,c,k.width,k.height,l),T=O[P],M=new F(T.x+k.width+l.width,T.y),A=new F(T.x,T.y+k.height+l.height);for(P+1<m&&O.splice(P+1,0,null),O[P]=M,O[P+1]=A,m++,P=T.x-k.x,T=T.y-k.y,w=w.vertexes.iterator;w.next();)M=w.value,M.centerX+=P,M.centerY+=T}for(tt.free(k),w=i.vertexes.iterator;w.next();)d=w.value,P=d.bounds,2>m?(u=P.x+P.width/2,c=P.y+P.height/2,O[0]=new F(P.x+P.width+l.width,P.y),O[1]=new F(P.x,P.y+P.height+l.height),m=2):(y=UD(O,m,u,c,P.width,P.height,l),k=O[y],T=new F(k.x+P.width+l.width,k.y),P=new F(k.x,k.y+P.height+l.height),y+1<m&&O.splice(y+1,0,null),O[y]=T,O[y+1]=P,m++,d.centerX=k.x+d.width/2,d.centerY=k.y+d.height/2);for(dt(O),l=s.iterator;l.next();){for(s=l.value,u=s.vertexes.iterator;u.next();)i.dh(u.value);for(s=s.edges.iterator;s.next();)i.Ao(s.value)}}qD(this,t),this.updateParts()}this.cl=t,this.network=null,this.isValidLayout=!0},ji.prototype.needsClusterLayout=function(){if(3>this.network.vertexes.count)return!1;for(var t=0,i=0,s=this.network.vertexes.first().bounds,l=this.network.vertexes.iterator;l.next();){if(l.value.bounds.Yc(s)&&(t++,2<t))return!0;if(10<i)break;i++}return!1},ji.prototype.computeBounds=function(t,i){var s=!0;for(t=t.vertexes.iterator;t.next();){var l=t.value;s?(s=!1,i.set(l.bounds)):i.ed(l.bounds)}return i};function YD(t,i,s){if(JG(t,i)){var l=t.Zf;t.Zf*=1+1/(i+1);var u=tH(t,i),c=Math.max(0,Math.max(Math.min(t.network.vertexes.count,s*(i+1)/11),10));for(t.maxIterations+=c,YD(t,i+1,s),qD(t,c),eH(t,u),i=u.vertexes.Fa(),i.sort(function(d,m){return d===null||m===null||d===m?0:m.Vd-d.Vd}),s=0;s<i.length;s++)iH(t,i[s]);t.Zf=l}}function JG(t,i){if(10<i||3>t.network.vertexes.count)return!1;for(t.ah=t.network.vertexes.Fa(),t=t.ah,t.sort(function(s,l){return s===null||l===null||s===l?0:l.Vd-s.Vd}),i=t.length-1;0<=i&&1>=t[i].Vd;)i--;return 1<t.length-i}function tH(t,i){for(var s=t.network,l=new Qf(t),u=0;u<t.ah.length;u++){var c=t.ah[u];if(1<c.Vd){l.dh(c);var d=new GD;d.Qs=c.Vd,d.Rs=c.width,d.Ps=c.height,d.Sv=c.focus.x,d.Tv=c.focus.y,c.We===null&&(c.We=new ct),c.We.add(d),c.sv=c.We.count-1}else break}for(c=s.edges.iterator;c.next();){var m=c.value;u=m.fromVertex,d=m.toVertex,u.network===l&&d.network===l?l.Ao(m):u.network===l?(m=u.Gj,m===null&&(m=new ct,u.Gj=m),m.add(d),u.Vd--,u.sh+=d.sh):d.network===l&&(m=d.Gj,m===null&&(m=new ct,d.Gj=m),m.add(u),d.Vd--,d.sh+=u.sh)}for(u=l.edges.iterator;u.next();)c=u.value,c.length*=Math.max(1,U.sqrt((c.fromVertex.sh+c.toVertex.sh)/(4*i+1)));for(i=l.vertexes.iterator;i.next();){u=i.value;var y=u.Gj;if(y!==null&&0<y.count&&(d=u.We.M(u.We.count-1).Qs-u.Vd,!(0>=d))){for(var O=m=0,w=y.count-d;w<y.count;w++){var k=y.M(w),P=null;for(c=k.edges.iterator;c.next();){var T=c.value;if(T.Ax(k)===u){P=T;break}}P!==null&&(O+=P.length,m+=k.width*k.height)}c=u.centerX,y=u.centerY,w=u.width,k=u.height,P=u.focus,T=w*k,1>T&&(T=1),m=U.sqrt((m+T+O*O*4/(d*d))/T),d=(m-1)*w/2,m=(m-1)*k/2,u.bounds=new tt(c-P.x-d,y-P.y-m,w+2*d,k+2*m),u.focus=new F(P.x+d,P.y+m)}}return t.network=l,s}function eH(t,i){for(var s=t.network.vertexes.iterator;s.next();){var l=s.value;if(l.network=i,l.We!==null){var u=l.We.M(l.sv);l.Vd=u.Qs;var c=u.Sv,d=u.Tv;l.bounds=new tt(l.centerX-c,l.centerY-d,u.Rs,u.Ps),l.focus=new F(c,d),l.sv--}}for(s=t.network.edges.iterator;s.next();)s.value.network=i;t.network=i}function iH(t,i){var s=i.Gj;if(s!==null&&s.count!==0){var l=i.centerX,u=i.centerY,c=i.width,d=i.height;i.We!==null&&0<i.We.count&&(d=i.We.M(0),c=d.Rs,d=d.Ps),c=U.sqrt(c*c+d*d)/2;for(var m=!1,y=d=0,O=0,w=i.vertexes.iterator;w.next();){var k=w.value;1>=k.Vd?y++:(m=!0,O++,d+=Math.atan2(i.centerY-k.centerY,i.centerX-k.centerX))}if(y!==0){for(0<O&&(d/=O),O=i=0,i=m?2*Math.PI/(y+1):2*Math.PI/y,y%2===0&&(O=i/2),1<s.count&&s.sort(function(T,M){return T===null||M===null||T===M?0:M.width*M.height-T.width*T.height}),m=y%2===0?0:1,s=s.iterator;s.next();)if(y=s.value,!(1<y.Vd||t.isFixed(y))){for(w=null,k=y.edges.iterator;k.next();){w=k.value;break}k=y.width;var P=y.height;k=U.sqrt(k*k+P*P)/2,w=c+w.length+k,k=d+(i*(m/2>>1)+O)*(m%2===0?1:-1),y.centerX=l+w*Math.cos(k),y.centerY=u+w*Math.sin(k),m++}}}}function UD(t,i,s,l,u,c,d){var m=9e19,y=-1,O=0;t:for(;O<i;O++){var w=t[O],k=w.x-s,P=w.y-l;if(k=k*k+P*P,k<m){for(P=O-1;0<=P;P--)if(t[P].y>w.y&&t[P].x-w.x<u+d.width)continue t;for(P=O+1;P<i;P++)if(t[P].x>w.x&&t[P].y-w.y<c+d.height)continue t;y=O,m=k}}return y}ji.prototype.Bu=function(){if(this.comments)for(var t=this.network.vertexes.iterator;t.next();)this.addComments(t.value)},ji.prototype.addComments=function(t){var i=t.node;if(i!==null)for(i=i.Mu();i.next();){var s=i.value;if(s.category==="Comment"&&s.isVisible()){var l=this.network.ki(s);l===null&&(l=this.network.Al(s)),l.charge=this.defaultCommentElectricalCharge,s=null;for(var u=l.destinationEdges;u.next();){var c=u.value;if(c.toVertex===t){s=c;break}}if(s===null){for(u=l.sourceEdges;u.next();)if(c=u.value,c.fromVertex===t){s=c;break}}s===null&&(s=this.network.Yj(t,l,null)),s.length=this.defaultCommentSpringLength}}};function WD(t,i){var s=t.bounds,l=s.x;t=s.y;var u=s.width;s=s.height;var c=i.bounds,d=c.x;i=c.y;var m=c.width;return c=c.height,l+u<d?t>i+c?(s=l+u-d,t=t-i-c,U.sqrt(s*s+t*t)):t+s<i?(l=l+u-d,t=t+s-i,U.sqrt(l*l+t*t)):d-(l+u):l>d+m?t>i+c?(s=l-d-m,t=t-i-c,U.sqrt(s*s+t*t)):t+s<i?(l=l-d-m,t=t+s-i,U.sqrt(l*l+t*t)):l-(d+m):t>i+c?t-(i+c):t+s<i?i-(t+s):.1}function qD(t,i){for(t.ah=null,i=t.zn+i;t.zn<i&&(t.zn++,nH(t)););t.ah=null}function nH(t){t.ah===null&&(t.ah=t.network.vertexes.Fa());var i=t.ah;if(0>=i.length)return!1;var s=i[0];s.forceX=0,s.forceY=0;for(var l=s.centerX,u=l,c=s=s.centerY,d=1;d<i.length;d++){var m=i[d];m.forceX=0,m.forceY=0;var y=m.centerX;m=m.centerY,l=Math.min(l,y),u=Math.max(u,y),s=Math.min(s,m),c=Math.max(c,m)}(u=u-l>c-s)?i.sort(function(A,I){return A===null||I===null||A===I?0:A.centerX-I.centerX}):i.sort(function(A,I){return A===null||I===null||A===I?0:A.centerY-I.centerY}),s=t.Zf;var O=l=m=0;for(c=0;c<i.length;c++){d=i[c],l=d.bounds,m=d.focus,y=l.x+m.x;var w=l.y+m.y;l=d.charge*t.electricalFieldX(y,w),O=d.charge*t.electricalFieldY(y,w),l+=d.mass*t.gravitationalFieldX(y,w),O+=d.mass*t.gravitationalFieldY(y,w),d.forceX+=l,d.forceY+=O;for(var k=c+1;k<i.length;k++){var P=i[k];if(P!==d){l=P.bounds,m=P.focus,O=l.x+m.x;var T=l.y+m.y;if(y-O>s||O-y>s){if(u)break}else if(w-T>s||T-w>s){if(!u)break}else{var M=WD(d,P);1>M?(l=t.randomNumberGenerator,l===null&&(t.randomNumberGenerator=l=new b1),M=l.random(),m=l.random(),y>O?(l=Math.abs(P.bounds.right-d.bounds.x),l=(1+l)*M):y<O?(l=Math.abs(P.bounds.x-d.bounds.right),l=-(1+l)*M):(l=Math.max(P.width,d.width),l=(1+l)*M-l/2),w>T?(O=Math.abs(P.bounds.bottom-d.bounds.y),O=(1+O)*m):y<O?(O=Math.abs(P.bounds.y-d.bounds.bottom),O=-(1+O)*m):(O=Math.max(P.height,d.height),O=(1+O)*m-O/2)):(m=-(d.charge*P.charge)/(M*M),l=(O-y)/M*m,O=(T-w)/M*m),d.forceX+=l,d.forceY+=O,P.forceX-=l,P.forceY-=O}}}}for(u=t.network.edges.iterator;u.next();)m=u.value,s=m.fromVertex,c=m.toVertex,d=s.bounds,y=s.focus,l=d.x+y.x,d=d.y+y.y,w=c.bounds,k=c.focus,y=w.x+k.x,w=w.y+k.y,k=WD(s,c),1>k?(k=t.randomNumberGenerator,k===null&&(t.randomNumberGenerator=k=new b1),m=k.random(),k=k.random(),l=(l>y?1:-1)*(1+(c.width>s.width?c.width:s.width))*m,O=(d>w?1:-1)*(1+(c.height>s.height?c.height:s.height))*k):(m=m.stiffness*(k-m.length),l=(y-l)/k*m,O=(w-d)/k*m),s.forceX+=l,s.forceY+=O,c.forceX-=l,c.forceY-=O;for(u=l=0;u<i.length;u++)s=i[u],t.isFixed(s)?t.moveFixedVertex(s):l=Math.max(l,t.moveVertex(s)||0);return l>t.epsilonDistance*t.epsilonDistance}ji.prototype.moveVertex=function(t){var i=t.forceX,s=t.forceY,l=this.moveLimit;return i<-l?i=-l:i>l&&(i=l),s<-l?s=-l:s>l&&(s=l),t.centerX+=i,t.centerY+=s,i*i+s*s},ji.prototype.moveFixedVertex=function(){},ji.prototype.commitLayout=function(){this.yv(),this.commitNodes(),this.isRouting&&this.commitLinks()},ji.prototype.yv=function(){if(this.setsPortSpots)for(var t=this.network.edges.iterator;t.next();){var i=t.value.link;i!==null&&(i.fromSpot=Zi,i.toSpot=Zi)}},ji.prototype.commitNodes=function(){var t=0,i=0;if(this.arrangesToOrigin){var s=tt.alloc();this.computeBounds(this.network,s),i=this.arrangementOrigin,t=i.x-s.x,i=i.y-s.y,tt.free(s)}s=tt.alloc();for(var l=this.network.vertexes.iterator;l.next();){var u=l.value;(t!==0||i!==0)&&(s.assign(u.bounds),s.x+=t,s.y+=i,u.bounds=s),u.commit()}tt.free(s)},ji.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},ji.prototype.springStiffness=function(t){return t=t.stiffness,isNaN(t)?this.Gk:t},ji.prototype.springLength=function(t){return t=t.length,isNaN(t)?this.Fk:t},ji.prototype.electricalCharge=function(t){return t=t.charge,isNaN(t)?this.Dk:t},ji.prototype.electricalFieldX=function(){return 0},ji.prototype.electricalFieldY=function(){return 0},ji.prototype.gravitationalMass=function(t){return t=t.mass,isNaN(t)?this.Ek:t},ji.prototype.gravitationalFieldX=function(){return 0},ji.prototype.gravitationalFieldY=function(){return 0},ji.prototype.isFixed=function(t){return t.isFixed},S.Object.defineProperties(ji.prototype,{currentIteration:{get:function(){return this.zn}},arrangementSpacing:{get:function(){return this.$d},set:function(t){this.$d.D(t)||(this.$d.assign(t),this.C())}},arrangesToOrigin:{get:function(){return this.Am},set:function(t){this.Am!==t&&(this.Am=t,this.C())}},setsPortSpots:{get:function(){return this.sf},set:function(t){this.sf!==t&&(this.sf=t,this.C())}},comments:{get:function(){return this.td},set:function(t){this.td!==t&&(this.td=t,this.C())}},maxIterations:{get:function(){return this.cl},set:function(t){this.cl!==t&&0<=t&&(this.cl=t,this.C())}},epsilonDistance:{get:function(){return this.Zm},set:function(t){this.Zm!==t&&0<t&&(this.Zm=t,this.C())}},infinityDistance:{get:function(){return this.Zf},set:function(t){this.Zf!==t&&1<t&&(this.Zf=t,this.C())}},moveLimit:{get:function(){return this.Hn},set:function(t){this.Hn!==t&&1<t&&(this.Hn=t,this.C())}},randomNumberGenerator:{get:function(){return this.eo},set:function(t){this.eo!==t&&(t!==null&&typeof t.random!="function"&&D('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+t),this.eo=t)}},defaultSpringStiffness:{get:function(){return this.Gk},set:function(t){this.Gk!==t&&(this.Gk=t,this.C())}},defaultSpringLength:{get:function(){return this.Fk},set:function(t){this.Fk!==t&&(this.Fk=t,this.C())}},defaultElectricalCharge:{get:function(){return this.Dk},set:function(t){this.Dk!==t&&(this.Dk=t,this.C())}},defaultGravitationalMass:{get:function(){return this.Ek},set:function(t){this.Ek!==t&&(this.Ek=t,this.C())}},defaultCommentSpringLength:{get:function(){return this.Um},set:function(t){this.Um!==t&&(this.Um=t,this.C())}},defaultCommentElectricalCharge:{get:function(){return this.Tm},set:function(t){this.Tm!==t&&(this.Tm=t,this.C())}}}),ji.className="ForceDirectedLayout";function GD(){this.Tv=this.Sv=this.Ps=this.Rs=this.Qs=0}GD.className="ForceDirectedSubnet";function Qf(t){de.call(this,t)}x(Qf,de),Qf.prototype.createVertex=function(){return new F0(this)},Qf.prototype.createEdge=function(){return new V0(this)},Qf.className="ForceDirectedNetwork";function F0(t){ni.call(this,t),this.ia=!1,this.Ha=this.u=NaN,this.sh=this.Vd=this.V=this.F=0,this.We=this.Gj=null,this.sv=0}x(F0,ni),S.Object.defineProperties(F0.prototype,{isFixed:{get:function(){return this.ia},set:function(t){this.ia!==t&&(this.ia=t)}},charge:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},mass:{get:function(){return this.Ha},set:function(t){this.Ha!==t&&(this.Ha=t)}},forceX:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t)}},forceY:{get:function(){return this.V},set:function(t){this.V!==t&&(this.V=t)}}}),F0.className="ForceDirectedVertex";function V0(t){ir.call(this,t),this.j=this.o=NaN}x(V0,ir),S.Object.defineProperties(V0.prototype,{stiffness:{get:function(){return this.o},set:function(t){this.o!==t&&(this.o=t)}},length:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t)}}}),V0.className="ForceDirectedEdge";function b1(){var t=0;this.seed=t,this.ay=48271,this.ey=2147483647,this.Q=44488.07041494893,this.gy=3399,this.by=1/2147483647,this.random()}b1.prototype.random=function(){var t=this.seed%this.Q*this.ay-this.seed/this.Q*this.gy;return 0<t?this.seed=t:this.seed=t+this.ey,this.seed*this.by},b1.className="RandomNumberGenerator";function se(t){ye.call(this),this.lc=this.ie=25,this.K=0,this.Ck=N1,this.Yk=A1,this.Pk=j1,this.bj=4,this.qk=E1,this.bg=15,this.sf=!0,this.Bn=4,this.Ra=this.Hq=this.Ia=-1,this.Md=this.Gn=0,this.Ta=this.Kd=this.Ld=this.he=this.vb=null,this.Jn=0,this.In=this.kj=null,this.le=0,this.el=null,this.Rf=new F,this.He=[],this.He.length=100,this.xw=this.ve=0,t&&Object.assign(this,t)}x(se,ye),se.prototype.cloneProtected=function(t){ye.prototype.cloneProtected.call(this,t),t.ie=this.ie,t.lc=this.lc,t.K=this.K,t.Ck=this.Ck,t.Yk=this.Yk,t.Pk=this.Pk,t.bj=this.bj,t.qk=this.qk,t.bg=this.bg,t.sf=this.sf,t.Bn=this.Bn,t.ve=this.ve},se.prototype.qb=function(t){t.classType===se?t.name.indexOf("Aggressive")===0?this.aggressiveOption=t:t.name.indexOf("Cycle")===0?this.cycleRemoveOption=t:t.name.indexOf("Init")===0?this.initializeOption=t:t.name.indexOf("Layer")===0?this.layeringOption=t:D("Unknown enum value: "+t):ye.prototype.qb.call(this,t)},se.prototype.createNetwork=function(){return new Lp(this)},se.prototype.doLayout=function(t){for(this.network===null&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),this.Hq=-1,this.Md=this.Gn=0,this.el=this.In=this.kj=null,t=0;t<this.He.length;t++)this.He[t]=null;if(0<this.network.vertexes.count){for(this.network.Jo(),this.cycleRemoveOption!==X0&&this.removeCycles(),t=this.network.vertexes.iterator;t.next();)t.value.layer=-1;for(this.Ia=-1,this.assignLayers(),t.reset();t.next();)this.Ia=Math.max(this.Ia,t.value.layer);this.cycleRemoveOption===X0&&this.removeCycles(),t=this.network;for(var i=[],s=t.edges.iterator;s.next();){var l=s.value;l.valid=!1,i.push(l)}for(s=0;s<i.length;s++){l=i[s];var u=l.fromVertex,c=l.toVertex;if(!(l.valid||(u.node===null&&u.data===null||c.node===null&&c.data===null)&&u.layer===c.layer)){var d=0,m=0,y=0,O=0;if(l.link!==null){if(m=l.link,m===null)continue;var w=u.node;if(d=c.node,w===null||d===null)continue;var k=m.fromNode;y=m.toNode;for(var P=m.fromPort;P!==null&&!P.Ed();)P=P.panel;for(m=m.toPort;m!==null&&!m.Ed();)m=m.panel;if(l.rev){O=k;var T=P;k=y,P=m,y=O,m=T}var M=u.focus;O=c.focus;var A=l.rev?c.bounds:u.bounds;T=F.alloc(),w!==k?A.w()&&k.isVisible()?k.actualBounds.w()?(ba(k,P,oe,T),T.x+=k.actualBounds.x-A.x,T.y+=k.actualBounds.y-A.y):(ba(k,P,oe,T),T.w()||T.assign(M)):T.assign(M):A.w()?(ba(k,P,oe,T),T.w()||T.assign(M)):T.assign(M),k=l.rev?u.bounds:c.bounds,w=F.alloc(),d!==y?k.w()&&y.isVisible()?y.actualBounds.w()?(ba(y,m,oe,w),w.x+=y.actualBounds.x-k.x,w.y+=y.actualBounds.y-k.y):(ba(y,m,oe,w),w.w()||w.assign(O)):w.assign(O):k.w()?(ba(y,m,oe,w),w.w()||w.assign(O)):w.assign(O),this.K===90||this.K===270?(d=Math.round((T.x-M.x)/this.lc),y=T.x,m=Math.round((w.x-O.x)/this.lc),O=w.x):(d=Math.round((T.y-M.y)/this.lc),y=T.y,m=Math.round((w.y-O.y)/this.lc),O=w.y),F.free(T),F.free(w),l.portFromColOffset=d,l.portFromPos=y,l.portToColOffset=m,l.portToPos=O}else l.portFromColOffset=0,l.portFromPos=0,l.portToColOffset=0,l.portToPos=0;if(T=u.layer,w=c.layer,k=0,A=l.link,A!==null){var I=A.fromPort,L=A.toPort;if(I!==null&&L!==null){var z=A.fromNode;if(P=A.toNode,z!==null&&P!==null){var X=Q1(this,!0),_=Q1(this,!1),Y=this.setsPortSpots?X:A.computeSpot(!0,I);M=this.setsPortSpots?_:A.computeSpot(!1,L);var G=A.isOrthogonal;Y.$c()&&Y.Hf(_)&&M.$c()&&M.Hf(X)?k=0:(X=A.getLinkPoint(z,I,Y,!0,G,P,L,F.alloc()),_=A.getLinkDirection(z,I,X,Y,!0,G,P,L),F.free(X),Y.xs()||_!==sI(this,l,!0)?this.setsPortSpots&&z!==null&&z.ports.count===1&&l.rev&&(k+=1):k+=1,Y=A.getLinkPoint(P,L,M,!1,G,z,I,F.alloc()),A=A.getLinkDirection(P,L,Y,M,!1,G,z,I),F.free(Y),M.xs()||A!==sI(this,l,!1)?this.setsPortSpots&&P!==null&&P.ports.count===1&&l.rev&&(k+=2):k+=2)}}}if(P=k,k=P===1||P===3,P=P===2||P===3,A=null,I=void 0,P&&(this._experimental&&(M=u,A=[],A.push(c),A=oI(this,M,A)?A.reverse():[],I=1),M=t.createVertex(),M.node=null,M.Cu=1,M.layer=T,M.near=u,t.dh(M),u=t.Yj(u,M,l.link),u.valid=!1,u.rev=l.rev,u.portFromColOffset=d,u.portToColOffset=0,u.portFromPos=y,u.portToPos=0,u=M),L=1,k&&L--,T-w>L&&0<T){for(l.valid=!1,M=t.createVertex(),M.node=null,M.Cu=2,M.layer=T-1,A&&I<A.length&&M.layer===A[I].layer&&(M.near=A[I++]),t.dh(M),u=t.Yj(u,M,l.link),u.valid=!0,u.rev=l.rev,u.portFromColOffset=P?0:d,u.portToColOffset=0,u.portFromPos=P?0:y,u.portToPos=0,u=M,T--;T-w>L&&0<T;)M=t.createVertex(),M.node=null,M.Cu=3,M.layer=T-1,A&&I<A.length&&M.layer===A[I].layer&&(M.near=A[I++]),t.dh(M),u=t.Yj(u,M,l.link),u.valid=!0,u.rev=l.rev,u.portFromColOffset=0,u.portToColOffset=0,u.portFromPos=0,u.portToPos=0,u=M,T--;u=t.Yj(M,c,l.link),u.valid=!k,k&&(M.near=c),u.rev=l.rev,u.portFromColOffset=0,u.portToColOffset=m,u.portFromPos=0,u.portToPos=O}else l.valid=!0}}for(t=this.vb=[],i=0;i<=this.Ia;i++)t[i]=0;for(i=this.network.vertexes.iterator;i.next();)i.value.index=-1;for(this.initializeIndices(),this.Hq=-1,s=this.Md=this.Gn=0;s<=this.Ia;s++)t[s]>t[this.Md]&&(this.Hq=t[s]-1,this.Md=s),t[s]<t[this.Gn]&&(this.Gn=s);for(this.el=[],s=0;s<t.length;s++)this.el[s]=[];for(i.reset();i.next();)t=i.value,this.el[t.layer][t.index]=t;for(this.Ra=-1,t=0;t<=this.Ia;t++){for(i=Lu(this,t),s=0,l=this.vb[t],c=0;c<l;c++)u=i[c],s+=this.nodeMinColumnSpace(u,!0),u.column=s,s+=1,s+=this.nodeMinColumnSpace(u,!1);this.Ra=Math.max(this.Ra,s-1),$u(this,t,i)}this.reduceCrossings(),this.straightenAndPack(),this.updateParts()}this.network=null,this.isValidLayout=!0},se.prototype.linkMinLength=function(){return 1};function zT(t){var i=t.fromVertex.node||t.fromVertex.data;return t=t.toVertex.node||t.toVertex.data,i===null&&t===null?8:i===null||t===null?4:1}se.prototype.nodeMinLayerSpace=function(t,i){return t.node===null&&t.data===null?0:this.K===90||this.K===270?i?t.focus.y+10:t.bounds.height-t.focus.y+10:i?t.focus.x+10:t.bounds.width-t.focus.x+10},se.prototype.nodeMinColumnSpace=function(t,i){if(t.node===null&&t.data===null)return 0;var s=i?t.ev:t.dv;return s!==null?s:(s=this.K,s===90||s===270?i?t.ev=t.focus.x/this.lc+1|0:t.dv=(t.bounds.width-t.focus.x)/this.lc+1|0:i?t.ev=t.focus.y/this.lc+1|0:t.dv=(t.bounds.height-t.focus.y)/this.lc+1|0)};function jn(t){t.kj===null&&(t.kj=[]);for(var i=0,s=t.network.vertexes.iterator;s.next();){var l=s.value;t.kj[i]=l.layer,i++,t.kj[i]=l.column,i++,t.kj[i]=l.index,i++}return t.kj}function Rr(t,i){var s=0;for(t=t.network.vertexes.iterator;t.next();){var l=t.value;l.layer=i[s],s++,l.column=i[s],s++,l.index=i[s],s++}}function HD(t,i,s){var l=Lu(t,i),u=t.vb[i];(t.In===null||t.In.length<u*u)&&(t.In=[]);for(var c=t.In,d=0;d<u;d++){var m=0,y=l[d],O=y.near;O!==null&&O!==y&&O.layer===y.layer&&(m+=Math.max(0,Math.abs(O.index-y.index)-1));var w;if(0<=s){var k=l[d].sourceEdgesArrayAccess;for(y=0;y<k.length;y++){var P=k[y];if(P.valid&&P.fromVertex.layer!==i){O=P.fromVertex.index;var T=P.portToPos;for(P=P.portFromPos,w=y+1;w<k.length;w++){var M=k[w];if(M.valid&&M.fromVertex.layer!==i){var A=M.fromVertex.index,I=M.portToPos;M=M.portFromPos,T<I&&(O>A||O===A&&P>M)&&m++,I<T&&(A>O||A===O&&M>P)&&m++}}}}}if(0>=s){for(k=l[d].destinationEdgesArrayAccess,y=0;y<k.length;y++)if(P=k[y],P.valid&&P.toVertex.layer!==i)for(O=P.toVertex.index,T=P.portToPos,P=P.portFromPos,w=y+1;w<k.length;w++)M=k[w],M.valid&&M.toVertex.layer!==i&&(A=M.toVertex.index,I=M.portToPos,M=M.portFromPos,P<M&&(O>A||O===A&&T>I)&&m++,M<P&&(A>O||A===O&&I>T)&&m++)}for(c[d*u+d]=m,m=d+1;m<u;m++){var L=0,z=0;if(0<=s){k=l[d].sourceEdgesArrayAccess;var X=l[m].sourceEdgesArrayAccess;for(y=0;y<k.length;y++)if(P=k[y],P.valid&&P.fromVertex.layer!==i)for(O=P.fromVertex.index,P=P.portFromPos,w=0;w<X.length;w++)M=X[w],M.valid&&M.fromVertex.layer!==i&&(A=M.fromVertex.index,M=M.portFromPos,(O<A||O===A&&P<M)&&z++,(A<O||A===O&&M<P)&&L++)}if(0>=s){for(k=l[d].destinationEdgesArrayAccess,X=l[m].destinationEdgesArrayAccess,y=0;y<k.length;y++)if(P=k[y],P.valid&&P.toVertex.layer!==i)for(O=P.toVertex.index,T=P.portToPos,w=0;w<X.length;w++)M=X[w],M.valid&&M.toVertex.layer!==i&&(A=M.toVertex.index,I=M.portToPos,(O<A||O===A&&T<I)&&z++,(A<O||A===O&&I<T)&&L++)}c[d*u+m]=L,c[m*u+d]=z}}return $u(t,i,l),c}se.prototype.countCrossings=function(){for(var t=0,i=0;i<=this.Ia;i++)for(var s=HD(this,i,1),l=this.vb[i],u=0;u<l;u++)for(var c=u;c<l;c++)t+=s[u*l+c];return t};function T1(t){for(var i=0,s=0;s<=t.Ia;s++){for(var l=t,u=s,c=Lu(l,u),d=l.vb[u],m=0,y=0;y<d;y++){var O=c[y].destinationEdgesArrayAccess;if(O!==null)for(var w=0;w<O.length;w++){var k=O[w];if(k.valid&&k.toVertex.layer!==u){var P=k.fromVertex.column+k.portFromColOffset,T=k.toVertex.column+k.portToColOffset;m+=(Math.abs(P-T)+1)*zT(k)}}}$u(l,u,c),i+=m}return i}se.prototype.normalize=function(){var t=1/0;this.Ra=-1;for(var i=this.network.vertexes.iterator;i.next();){var s=i.value;t=Math.min(t,s.column-this.nodeMinColumnSpace(s,!0)),this.Ra=Math.max(this.Ra,s.column+this.nodeMinColumnSpace(s,!1))}for(i.reset();i.next();)i.value.column-=t;this.Ra-=t};function XT(t,i,s){for(var l=Lu(t,i),u=t.vb[i],c=[],d=0;d<u;d++){var m=l[d],y=null;0>=s&&(y=m.sourceEdgesArrayAccess);var O=null;0<=s&&(O=m.destinationEdgesArrayAccess);var w=0,k=0,P=m.near;if(P!==null&&P.layer===m.layer&&(w+=P.column-1,k++),y!==null)for(P=0;P<y.length;P++){m=y[P];var T=m.fromVertex;m.valid&&!m.rev&&T.layer!==i&&(w+=T.column,k++)}if(O!==null)for(y=0;y<O.length;y++)m=O[y],P=m.toVertex,m.valid&&!m.rev&&P.layer!==i&&(w+=P.column,k++);c[d]=k===0?-1:w/k}return $u(t,i,l),c}function KD(t,i,s){for(var l=Lu(t,i),u=t.vb[i],c=[],d=0;d<u;d++){var m=l[d],y=null;0>=s&&(y=m.sourceEdgesArrayAccess);var O=null;0<=s&&(O=m.destinationEdgesArrayAccess);var w=0,k=[],P=m.near;if(P!==null&&P.layer===m.layer&&(k[w]=P.column-1,w++),m=void 0,y!==null)for(P=0;P<y.length;P++){m=y[P];var T=m.fromVertex;m.valid&&!m.rev&&T.layer!==i&&(k[w]=T.column+m.portFromColOffset,w++)}if(O!==null)for(y=0;y<O.length;y++)m=O[y],P=m.toVertex,m.valid&&!m.rev&&P.layer!==i&&(k[w]=P.column+m.portToColOffset,w++);w===0?c[d]=-1:(k.sort(function(M,A){return M-A}),O=w>>1,c[d]=w&1?k[O]:k[O-1]+k[O]>>1)}return $u(t,i,l),c}function z0(t,i,s,l,u,c){if(i.component===l){i.component=s;for(var d=i.destinationEdges;d.next();){var m=d.value,y=m.toVertex,O=i.layer-y.layer;m=t.linkMinLength(m),O===m&&z0(t,y,s,l,u,c)}if(c)for(d=i.sourceEdges;d.next();)m=d.value,y=m.fromVertex,O=y.layer-i.layer,m=t.linkMinLength(m),O===m&&z0(t,y,s,l,u,c)}}function BT(t,i,s,l,u,c){if(i.component===l){i.component=s;for(var d=i.destinationEdges;d.next();)BT(t,d.value.toVertex,s,l);for(i=i.sourceEdges;i.next();)BT(t,i.value.fromVertex,s,l)}}se.prototype.removeCycles=function(){for(var t=this.network.edges.iterator;t.next();)t.value.rev=!1;switch(this.Ck){default:case YT:t=this.network;var i=0,s=t.vertexes.count-1,l=[];l.length=s+1;for(var u=t.vertexes.iterator;u.next();)u.value.valid=!0;for(;rH(t)!==null;){for(u=JD(t);u!==null;)l[s]=u,s--,u.valid=!1,u=JD(t);for(u=tI(t);u!==null;)l[i]=u,i++,u.valid=!1,u=tI(t);u=null;for(var c=0,d=this.network.vertexes.iterator;d.next();){var m=d.value;if(m.valid){for(var y=0,O=m.destinationEdges;O.next();)O.value.toVertex.valid&&y++;O=0;for(var w=m.sourceEdges;w.next();)w.value.fromVertex.valid&&O++;(u===null||c<y-O)&&(u=m,c=y-O)}}u!==null&&(l[i]=u,i++,u.valid=!1)}for(i=0;i<t.vertexes.count;i++)l[i].index=i;for(l=t.edges.iterator;l.next();)i=l.value,i.fromVertex.index>i.toVertex.index&&(t.fm(i),i.rev=!0);break;case N1:for(l=this.network.vertexes.iterator;l.next();)t=l.value,t.Kl=-1,t.finish=-1;for(t=this.network.edges.iterator;t.next();)t.value.forest=!1;for(this.Jn=0,l.reset();l.next();)i=l.value,i.sourceEdges.count===0&&_T(this,i);for(l.reset();l.next();)i=l.value,i.Kl===-1&&_T(this,i);for(t.reset();t.next();)l=t.value,l.forest||(i=l.fromVertex,s=i.finish,u=l.toVertex,c=u.finish,u.Kl<i.Kl&&s<c&&(this.network.fm(l),l.rev=!0));break;case X0:for(t=this.network,i=t.vertexes.iterator,l=1/0;i.next();)l=Math.min(l,i.value.layer);if(1/0>l){if(0>l)for(i.reset();i.next();)i.value.layer-=l;for(l=[],i.reset();i.next();)s=i.value,u=l[s.layer],u===void 0?l[s.layer]=[s]:u.push(s);for(s=i=0;s<l.length;s++)if(u=l[s],!u||u.length===0)i++;else if(0<s)for(c=0;c<u.length;c++)u[c].layer-=i;for(l=t.edges.iterator;l.next();)i=l.value,i.fromVertex.layer<i.toVertex.layer&&(t.fm(i),i.rev=!0)}}};function rH(t){for(t=t.vertexes.iterator;t.next();){var i=t.value;if(i.valid)return i}return null}function JD(t){for(t=t.vertexes.iterator;t.next();){var i=t.value;if(i.valid){for(var s=!0,l=i.destinationEdges;l.next();)if(l.value.toVertex.valid){s=!1;break}if(s)return i}}return null}function tI(t){for(t=t.vertexes.iterator;t.next();){var i=t.value;if(i.valid){for(var s=!0,l=i.sourceEdges;l.next();)if(l.value.fromVertex.valid){s=!1;break}if(s)return i}}return null}function _T(t,i){i.Kl=t.Jn,t.Jn++;for(var s=i.destinationEdges;s.next();){var l=s.value,u=l.toVertex;u.Kl===-1&&(l.forest=!0,_T(t,u))}i.finish=t.Jn,t.Jn++}se.prototype.assignLayers=function(){switch(this.Yk){case UT:eI(this);break;case WT:for(var t,i=this.network.vertexes.iterator;i.next();)t=nI(this,i.value),this.Ia=Math.max(t,this.Ia);for(i.reset();i.next();)t=i.value,t.layer=this.Ia-t.layer;break;default:case A1:for(eI(this),i=this.network.vertexes.iterator;i.next();)i.value.valid=!1;for(i.reset();i.next();)t=i.value,t.sourceEdges.count===0&&rI(this,t);for(t=1/0,i.reset();i.next();)t=Math.min(t,i.value.layer);for(this.Ia=-1,i.reset();i.next();){var s=i.value;s.layer-=t,this.Ia=Math.max(this.Ia,s.layer)}}};function eI(t){for(var i=t.network.vertexes.iterator;i.next();){var s=iI(t,i.value);t.Ia=Math.max(s,t.Ia)}}function iI(t,i){var s=0;if(i.layer===-1){for(var l=i.destinationEdges;l.next();){var u=l.value,c=u.toVertex;u=t.linkMinLength(u),s=Math.max(s,iI(t,c)+u)}i.layer=s}else s=i.layer;return s}function nI(t,i){var s=0;if(i.layer===-1){for(var l=i.sourceEdges;l.next();){var u=l.value,c=u.fromVertex;u=t.linkMinLength(u),s=Math.max(s,nI(t,c)+u)}i.layer=s}else s=i.layer;return s}function rI(t,i){if(!i.valid){i.valid=!0;for(var s=i.destinationEdges;s.next();)rI(t,s.value.toVertex);for(s=t.network.vertexes.iterator;s.next();)s.value.component=-1;for(var l=i.sourceEdgesArrayAccess,u=l.length,c=0;c<u;c++){var d=l[c],m=d.fromVertex,y=d.toVertex;d=t.linkMinLength(d),m.layer-y.layer>d&&z0(t,m,0,-1,!0,!1)}for(z0(t,i,1,-1,!0,!0);i.component!==0;){for(c=0,l=1/0,m=0,y=null,d=t.network.vertexes.iterator;d.next();){var O=d.value;if(O.component===1){var w=0,k=!1,P=O.sourceEdgesArrayAccess;u=P.length;for(var T=0;T<u;T++){var M=P[T],A=M.fromVertex;w+=1,A.component!==1&&(c+=1,A=A.layer-O.layer,M=t.linkMinLength(M),l=Math.min(l,A-M))}for(P=O.destinationEdgesArrayAccess,u=P.length,T=0;T<u;T++)M=P[T].toVertex,--w,M.component!==1?--c:k=!0;(y===null||w<m)&&!k&&(y=O,m=w)}}if(0<c){for(s.reset();s.next();)u=s.value,u.component===1&&(u.layer+=l);i.component=0}else y.component=0}for(s=t.network.vertexes.iterator;s.next();)s.value.component=-1;for(z0(t,i,1,-1,!0,!1);i.component!==0;){for(l=0,u=1/0,c=0,m=null,y=t.network.vertexes.iterator;y.next();)if(d=y.value,d.component===1){for(O=0,w=!1,P=d.sourceEdgesArrayAccess,k=P.length,T=0;T<k;T++)M=P[T].fromVertex,O+=1,M.component!==1?l+=1:w=!0;for(P=d.destinationEdgesArrayAccess,k=P.length,T=0;T<k;T++)M=P[T],A=M.toVertex,--O,A.component!==1&&(--l,A=d.layer-A.layer,M=t.linkMinLength(M),u=Math.min(u,A-M));(m===null||O>c)&&!w&&(m=d,c=O)}if(0>l){for(s.reset();s.next();)l=s.value,l.component===1&&(l.layer-=u);i.component=0}else m.component=0}}}function sI(t,i,s){return t.K===90?s&&!i.rev||!s&&i.rev?270:90:t.K===180?s&&!i.rev||!s&&i.rev?0:180:t.K===270?s&&!i.rev||!s&&i.rev?90:270:s&&!i.rev||!s&&i.rev?180:0}function oI(t,i,s){for(var l=s[s.length-1].sourceEdges.iterator;l.next();){var u=l.value;if(!u.rev&&u.valid){if(u=u.fromVertex,s.push(u),u===i||oI(t,i,s))return!0;s.pop()}}return!1}se.prototype.initializeIndices=function(){switch(this.Pk){default:case GT:sH(this);break;case j1:var t=null,i=this.network.vertexes.iterator;if(this._experimental)for(;i.next();){var s=i.value;if(s.near&&(t===null&&(t=new jt),s.layer===s.near.layer)){var l=t.get(s.near)||[];l.push(s),t.set(s.near,l)}}for(s=this.Ia;0<=s;s--)for(i.reset();i.next();)l=i.value,l.layer===s&&l.index===-1&&lI(this,l,t);break;case qT:if(t=null,i=this.network.vertexes.iterator,this._experimental)for(;i.next();)s=i.value,s.near&&(t===null&&(t=new jt),s.layer===s.near.layer&&(l=t.get(s.near)||[],l.push(s),t.set(s.near,l)));for(s=0;s<=this.Ia;s++)for(i.reset();i.next();)l=i.value,l.layer===s&&l.index===-1&&aI(this,l,t)}};function sH(t){var i=null,s=t.network.vertexes.iterator;if(t._experimental){for(;s.next();){var l=s.value;if(l.near&&(i===null&&(i=new jt),l.layer===l.near.layer)){var u=i.get(l.near)||[];u.push(l),i.set(l.near,u)}}s.reset()}for(l={};s.next();)u=s.value,i&&u.near||(l.layer=u.layer,u.index=t.vb[l.layer],t.vb[l.layer]++,i&&(u=i.get(u),Array.isArray(u)&&u.forEach(function(c){return function(d){d.index=t.vb[c.layer],t.vb[c.layer]++}}(l)))),l={layer:l.layer}}function lI(t,i,s){if(!s||!i.near){var l=i.layer;if(i.index=t.vb[l],t.vb[l]++,s){var u=s.get(i);Array.isArray(u)&&u.forEach(function(y){y.index=t.vb[l],t.vb[l]++})}for(i=i.destinationEdgesArrayAccess,u=!0;u;){u=!1;for(var c=0;c<i.length-1;c++){var d=i[c],m=i[c+1];d.portFromColOffset>m.portFromColOffset&&(u=!0,i[c]=m,i[c+1]=d)}}for(u=0;u<i.length;u++)c=i[u],c.valid&&(c=c.toVertex,c.index===-1&&lI(t,c,s))}}function aI(t,i,s){if(!s||!i.near){var l=i.layer;if(i.index=t.vb[l],t.vb[l]++,s){var u=s.get(i);Array.isArray(u)&&u.forEach(function(y){y.index=t.vb[l],t.vb[l]++})}i=i.sourceEdgesArrayAccess;var c=!0;for(u=0;c;)for(c=!1,u=0;u<i.length-1;u++){var d=i[u],m=i[u+1];d.portToColOffset>m.portToColOffset&&(c=!0,i[u]=m,i[u+1]=d)}for(u=0;u<i.length;u++)c=i[u],c.valid&&(c=c.fromVertex,c.index===-1&&aI(t,c,s))}}se.prototype.reduceCrossings=function(){var t=this.countCrossings(),i=jn(this),s,l;for(s=0;s<this.bj;s++){for(l=0;l<=this.Ia;l++)C1(this,l,1),Hr(this,l,1);var u=this.countCrossings();for(u<t&&(t=u,i=jn(this)),l=this.Ia;0<=l;l--)C1(this,l,-1),Hr(this,l,-1);u=this.countCrossings(),u<t&&(t=u,i=jn(this))}for(Rr(this,i),s=0;s<this.bj;s++){for(l=0;l<=this.Ia;l++)C1(this,l,0),Hr(this,l,0);for(u=this.countCrossings(),u<t&&(t=u,i=jn(this)),l=this.Ia;0<=l;l--)C1(this,l,0),Hr(this,l,0);u=this.countCrossings(),u<t&&(t=u,i=jn(this))}Rr(this,i);var c,d,m;switch(this.qk){case HT:break;case KT:for(m=t+1;(l=this.countCrossings())<m;)for(m=l,s=this.Ia;0<=s;s--)for(d=0;d<=s;d++){for(c=!0;c;)for(c=!1,l=s;l>=d;l--)c=Hr(this,l,-1)||c;for(u=this.countCrossings(),u>=t?Rr(this,i):(t=u,i=jn(this)),c=!0;c;)for(c=!1,l=s;l>=d;l--)c=Hr(this,l,1)||c;for(u=this.countCrossings(),u>=t?Rr(this,i):(t=u,i=jn(this)),c=!0;c;)for(c=!1,l=d;l<=s;l++)c=Hr(this,l,1)||c;for(u>=t?Rr(this,i):(t=u,i=jn(this)),c=!0;c;)for(c=!1,l=d;l<=s;l++)c=Hr(this,l,-1)||c;for(u>=t?Rr(this,i):(t=u,i=jn(this)),c=!0;c;)for(c=!1,l=s;l>=d;l--)c=Hr(this,l,0)||c;for(u>=t?Rr(this,i):(t=u,i=jn(this)),c=!0;c;)for(c=!1,l=d;l<=s;l++)c=Hr(this,l,0)||c;u>=t?Rr(this,i):(t=u,i=jn(this))}break;default:case E1:for(s=this.Ia,d=0,m=t+1;(l=this.countCrossings())<m;){for(m=l,c=!0;c;)for(c=!1,l=s;l>=d;l--)c=Hr(this,l,-1)||c;for(u=this.countCrossings(),u>=t?Rr(this,i):(t=u,i=jn(this)),c=!0;c;)for(c=!1,l=s;l>=d;l--)c=Hr(this,l,1)||c;for(u=this.countCrossings(),u>=t?Rr(this,i):(t=u,i=jn(this)),c=!0;c;)for(c=!1,l=d;l<=s;l++)c=Hr(this,l,1)||c;for(u>=t?Rr(this,i):(t=u,i=jn(this)),c=!0;c;)for(c=!1,l=d;l<=s;l++)c=Hr(this,l,-1)||c;for(u>=t?Rr(this,i):(t=u,i=jn(this)),c=!0;c;)for(c=!1,l=s;l>=d;l--)c=Hr(this,l,0)||c;for(u>=t?Rr(this,i):(t=u,i=jn(this)),c=!0;c;)for(c=!1,l=d;l<=s;l++)c=Hr(this,l,0)||c;u>=t?Rr(this,i):(t=u,i=jn(this))}}Rr(this,i)};function C1(t,i,s){var l=Lu(t,i),u=t.vb[i],c=KD(t,i,s),d=XT(t,i,s);for(s=0;s<u;s++)d[s]===-1&&(d[s]=l[s].column),c[s]===-1&&(c[s]=l[s].column);for(var m=!0,y;m;)for(m=!1,s=0;s<u-1;s++)(c[s+1]<c[s]||c[s+1]===c[s]&&d[s+1]<d[s])&&(m=!0,y=c[s],c[s]=c[s+1],c[s+1]=y,y=d[s],d[s]=d[s+1],d[s+1]=y,y=l[s],l[s]=l[s+1],l[s+1]=y);for(s=c=0;s<u;s++)y=l[s],y.index=s,c+=t.nodeMinColumnSpace(y,!0),y.column=c,c+=1,c+=t.nodeMinColumnSpace(y,!1);$u(t,i,l)}function Hr(t,i,s){var l=Lu(t,i),u=t.vb[i];s=HD(t,i,s);var c,d=[];for(c=0;c<u;c++)d[c]=-1;var m=[];for(c=0;c<u;c++)m[c]=-1;for(var y=!1,O=!0;O;)for(O=!1,c=0;c<u-1;c++){var w=s[l[c].index*u+l[c+1].index],k=s[l[c+1].index*u+l[c].index],P=0,T=0,M=l[c].column,A=l[c+1].column,I=t.nodeMinColumnSpace(l[c],!0),L=t.nodeMinColumnSpace(l[c],!1),z=t.nodeMinColumnSpace(l[c+1],!0),X=t.nodeMinColumnSpace(l[c+1],!1);I=M-I+z,L=A-L+X;var _=l[c].sourceEdges.iterator;for(_.reset();_.next();)if(z=_.value,X=z.fromVertex,z.valid&&X.layer===i){for(z=0;l[z]!==X;)z++;z<c&&(P+=2*(c-z),T+=2*(c+1-z)),z===c+1&&(P+=1),z>c+1&&(P+=4*(z-c),T+=4*(z-(c+1)))}for(_=l[c].destinationEdges.iterator,_.reset();_.next();)if(z=_.value,X=z.toVertex,z.valid&&X.layer===i){for(z=0;l[z]!==X;)z++;z===c+1&&(T+=1)}for(_=l[c+1].sourceEdges.iterator,_.reset();_.next();)if(z=_.value,X=z.fromVertex,z.valid&&X.layer===i){for(z=0;l[z]!==X;)z++;z<c&&(P+=2*(c+1-z),T+=2*(c-z)),z===c&&(T+=1),z>c+1&&(P+=4*(z-(c+1)),T+=4*(z-c))}for(_=l[c+1].destinationEdges.iterator,_.reset();_.next();)if(z=_.value,X=z.toVertex,z.valid&&X.layer===i){for(z=0;l[z]!==X;)z++;z===c&&(P+=1)}z=X=0,_=d[l[c].index];var Y=m[l[c].index],G=d[l[c+1].index],ut=m[l[c+1].index];_!==-1&&(X+=Math.abs(_-M),z+=Math.abs(_-L)),Y!==-1&&(X+=Math.abs(Y-M),z+=Math.abs(Y-L)),G!==-1&&(X+=Math.abs(G-A),z+=Math.abs(G-I)),ut!==-1&&(X+=Math.abs(ut-A),z+=Math.abs(ut-I)),(T<P-.5||T===P&&k<w-.5||T===P&&k===w&&z<X-.5)&&(O=y=!0,l[c].column=L,l[c+1].column=I,w=l[c],l[c]=l[c+1],l[c+1]=w)}for(c=0;c<u;c++)l[c].index=c;return $u(t,i,l),y}se.prototype.straightenAndPack=function(){if(this.ve===0){var t=(this.bg&1)!==0,i=(this.bg&dH)!==0;if(1e3<this.network.edges.count&&i&&(t=!1),t){var s=[];for(i=0;i<=this.Ia;i++)s[i]=0;for(var l,u=this.network.vertexes.iterator;u.next();){var c=u.value;i=c.layer,l=c.column,c=this.nodeMinColumnSpace(c,!1),s[i]=Math.max(s[i],l+c)}for(u.reset();u.next();)c=u.value,i=c.layer,l=c.column,c.column=(8*(this.Ra-s[i])>>1)+8*l;this.Ra*=8}if(this.bg&2)for(s=!0;s;){for(s=!1,i=this.Md+1;i<=this.Ia;i++)s=Rp(this,i,1)||s;for(i=this.Md-1;0<=i;i--)s=Rp(this,i,-1)||s;s=Rp(this,this.Md,0)||s}if(this.bg&4){for(i=this.Md+1;i<=this.Ia;i++)ZT(this,i,1);for(i=this.Md-1;0<=i;i--)ZT(this,i,-1);ZT(this,this.Md,0)}if(t&&(uI(this,-1),uI(this,1)),this.bg&2)for(s=!0;s;){for(s=!1,s=Rp(this,this.Md,0)||s,i=this.Md+1;i<=this.Ia;i++)s=Rp(this,i,0)||s;for(i=this.Md-1;0<=i;i--)s=Rp(this,i,0)||s}}else uH(this)};function Rp(t,i,s){for(var l=!1;oH(t,i,s);)l=!0;return l}function oH(t,i,s){var l,u=Lu(t,i),c=t.vb[i],d=XT(t,i,-1);if(0<s)for(l=0;l<c;l++)d[l]=-1;var m=XT(t,i,1);if(0>s)for(l=0;l<c;l++)m[l]=-1;for(var y=!1,O=!0;O;)for(O=!1,l=0;l<c;l++){var w=u[l].column,k=t.nodeMinColumnSpace(u[l],!0),P=t.nodeMinColumnSpace(u[l],!1),T=0;0>l-1||w-u[l-1].column-1>k+t.nodeMinColumnSpace(u[l-1],!1)?T=w-1:T=w,k=l+1>=c||u[l+1].column-w-1>P+t.nodeMinColumnSpace(u[l+1],!0)?w+1:w;var M=P=0,A=0;if(0>=s)for(var I=u[l].sourceEdges.iterator;I.next();){var L=I.value,z=L.fromVertex;if(L.valid&&z.layer!==i){var X=zT(L),_=L.portFromColOffset;L=L.portToColOffset,z=z.column,P+=(Math.abs(w+L-(z+_))+1)*X,M+=(Math.abs(T+L-(z+_))+1)*X,A+=(Math.abs(k+L-(z+_))+1)*X}}if(0<=s)for(I=u[l].destinationEdges.iterator;I.next();)L=I.value,z=L.toVertex,L.valid&&z.layer!==i&&(X=zT(L),_=L.portFromColOffset,L=L.portToColOffset,z=z.column,P+=(Math.abs(w+_-(z+L))+1)*X,M+=(Math.abs(T+_-(z+L))+1)*X,A+=(Math.abs(k+_-(z+L))+1)*X);L=_=X=0,I=d[u[l].index],z=m[u[l].index],I!==-1&&(X+=Math.abs(I-w),_+=Math.abs(I-T),L+=Math.abs(I-k)),z!==-1&&(X+=Math.abs(z-w),_+=Math.abs(z-T),L+=Math.abs(z-k)),M<P||M===P&&_<X?(O=y=!0,u[l].column=T):(A<P||A===P&&L<X)&&(O=y=!0,u[l].column=k)}return $u(t,i,u),t.normalize(),y}function ZT(t,i,s){var l=Lu(t,i),u=t.vb[i],c=KD(t,i,s),d=[];for(s=0;s<u;s++)d[s]=c[s];for(c=!0;c;)for(c=!1,s=0;s<u;s++){var m=l[s].column,y=t.nodeMinColumnSpace(l[s],!0),O=t.nodeMinColumnSpace(l[s],!1),w=0;if(d[s]===-1)if(s===0&&s===u-1)w=m;else if(s===0){var k=l[s+1].column;k-m===O+t.nodeMinColumnSpace(l[s+1],!0)?w=m-1:w=m}else s===u-1?(k=l[s-1].column,w=m-k===y+t.nodeMinColumnSpace(l[s-1],!1)?m+1:m):(k=l[s-1].column,y=k+t.nodeMinColumnSpace(l[s-1],!1)+y+1,k=l[s+1].column,O=k-t.nodeMinColumnSpace(l[s+1],!0)-O-1,w=(y+O)/2|0);else s===0&&s===u-1?w=d[s]:s===0?(k=l[s+1].column,O=k-t.nodeMinColumnSpace(l[s+1],!0)-O-1,w=Math.min(d[s],O)):s===u-1?(k=l[s-1].column,y=k+t.nodeMinColumnSpace(l[s-1],!1)+y+1,w=Math.max(d[s],y)):(k=l[s-1].column,y=k+t.nodeMinColumnSpace(l[s-1],!1)+y+1,k=l[s+1].column,O=k-t.nodeMinColumnSpace(l[s+1],!0)-O-1,y<d[s]&&d[s]<O?w=d[s]:y>=d[s]?w=y:O<=d[s]&&(w=O));w!==m&&(c=!0,l[s].column=w)}$u(t,i,l),t.normalize()}function lH(t,i){for(var s=!0,l=t.network.vertexes.iterator;l.next();){var u=l.value,c=t.nodeMinColumnSpace(u,!0),d=t.nodeMinColumnSpace(u,!1);if(u.column-c<=i&&u.column+d>=i){s=!1;break}}if(t=!1,s)for(l.reset();l.next();)s=l.value,s.column>i&&(--s.column,t=!0);return t}function aH(t,i){var s=i+1,l,u=[],c=[];for(l=0;l<=t.Ia;l++)u[l]=!1,c[l]=!1;for(var d=t.network.vertexes.iterator;d.next();){l=d.value;var m=l.column-t.nodeMinColumnSpace(l,!0),y=l.column+t.nodeMinColumnSpace(l,!1);m<=i&&y>=i&&(u[l.layer]=!0),m<=s&&y>=s&&(c[l.layer]=!0)}for(m=!0,s=!1,l=0;l<=t.Ia;l++)m=m&&!(u[l]&&c[l]);if(m)for(d.reset();d.next();)t=d.value,t.column>i&&(--t.column,s=!0);return s}function uI(t,i){for(var s=0;s<=t.Ra;s++)for(;lH(t,s););for(t.normalize(),s=0;s<t.Ra;s++)for(;aH(t,s););t.normalize();var l;if(0<i)for(s=0;s<=t.Ra;s++){var u=jn(t),c=T1(t);for(l=c+1;c<l;){l=c,hI(t,s,1);var d=T1(t);d>c?Rr(t,u):d<c&&(c=d,u=jn(t))}}if(0>i)for(s=t.Ra;0<=s;s--)for(u=jn(t),c=T1(t),l=c+1;c<l;)l=c,hI(t,s,-1),d=T1(t),d>c?Rr(t,u):d<c&&(c=d,u=jn(t));t.normalize()}function hI(t,i,s){t.le=0;for(var l=t.network.vertexes.iterator;l.next();)l.value.component=-1;if(0<s)for(l.reset();l.next();){var u=l.value;u.column-t.nodeMinColumnSpace(u,!0)<=i&&(u.component=t.le)}if(0>s)for(l.reset();l.next();)u=l.value,u.column+t.nodeMinColumnSpace(u,!1)>=i&&(u.component=t.le);for(t.le++,l.reset();l.next();)i=l.value,i.component===-1&&(BT(t,i,t.le,-1),t.le++);var c;for(i=[],c=0;c<t.le*t.le;c++)i[c]=!1;for(u=[],c=0;c<(t.Ia+1)*(t.Ra+1);c++)u[c]=-1;for(l.reset();l.next();){c=l.value;for(var d=c.layer,m=Math.max(0,c.column-t.nodeMinColumnSpace(c,!0)),y=Math.min(t.Ra,c.column+t.nodeMinColumnSpace(c,!1));m<=y;m++)u[d*(t.Ra+1)+m]=c.component}for(c=0;c<=t.Ia;c++){if(0<s)for(d=0;d<t.Ra;d++)u[c*(t.Ra+1)+d]!==-1&&u[c*(t.Ra+1)+d+1]!==-1&&u[c*(t.Ra+1)+d]!==u[c*(t.Ra+1)+d+1]&&(i[u[c*(t.Ra+1)+d]*t.le+u[c*(t.Ra+1)+d+1]]=!0);if(0>s)for(d=t.Ra;0<d;d--)u[c*(t.Ra+1)+d]!==-1&&u[c*(t.Ra+1)+d-1]!==-1&&u[c*(t.Ra+1)+d]!==u[c*(t.Ra+1)+d-1]&&(i[u[c*(t.Ra+1)+d]*t.le+u[c*(t.Ra+1)+d-1]]=!0)}for(u=[],c=0;c<t.le;c++)u[c]=!0;for(d=[],d.push(0);d.length!==0;)if(y=d[d.length-1],d.pop(),u[y])for(u[y]=!1,c=0;c<t.le;c++)i[y*t.le+c]&&d.splice(0,0,c);if(0<s)for(l.reset();l.next();)t=l.value,u[t.component]&&--t.column;if(0>s)for(l.reset();l.next();)s=l.value,u[s.component]&&(s.column+=1)}function uH(t){for(var i=St(),s=t.el.length,l=0;l<=s;l++)i[l]=[];for(l=t.network.vertexes.iterator;l.next();){var u=l.value;i[s-u.layer][u.index]=u}s=new at,hH(i,s);var c=null,d=null,m=null,y=null,O=(t.ve&1)!==0,w=(t.ve&2)!==0,k=(t.ve&4)!==0,P=(t.ve&8)!==0;for(O&&(t.verticalAlignment(i,s,!0),c=M1(t,i,!0,!1)),i.reverse(),k&&(t.verticalAlignment(i,s,!1),m=M1(t,i,!1,!1)),l=r(i),u=l.next();!u.done;u=l.next())u.value.reverse();P&&(t.verticalAlignment(i,s,!1),y=M1(t,i,!1,!0)),i.reverse(),w&&(t.verticalAlignment(i,s,!0),d=M1(t,i,!0,!0)),dt(i),t.u(c,d,m,y),t.network.vertexes.each(function(T){var M=St();O&&M.push(c.get(T)),w&&M.push(d.get(T)),k&&M.push(m.get(T)),P&&M.push(y.get(T)),M.sort(function(I,L){return I-L});var A=M.length;A=(M[Math.floor((A-1)/2)]+M[Math.ceil((A-1)/2)])/2,dt(M),T.zc=A})}function hH(t,i){for(var s=t.length,l=1;l<s-1;l++)for(var u=0,c=0,d=t[l],m=t[l+1],y=0;c<m.length;y++){var O=m[y];t:{if(O.node===null){var w=JT(O);if(0<w.length){w=w[0].node===null;break t}}w=!1}var k=w;if(y===m.length-1||k){for(w=d.length-1,k&&(w=JT(O)[0].index);c<=y;){if(O=m[c],!O.ao){k=[];for(var P=r(O.sourceEdgesArrayAccess),T=P.next();!T.done;T=P.next())T=T.value,T.valid&&k.push(T);O.ao=k}for(O=r(O.ao),k=O.next();!k.done;k=O.next())k=k.value,P=k.fromVertex.index,(P<u||P>w)&&i.add(k);c++}u=w}}}se.prototype.verticalAlignment=function(t,i,s){cH(t),t=r(t);for(var l=t.next();!l.done;l=t.next()){var u=-1;l=r(l.value);for(var c=l.next();!c.done;c=l.next()){c=c.value;var d=s?JT(c):pH(c),m=d.length;if(0<m){d.sort(function(k,P){return k.vi-P.vi});var y=(m-1)/2;for(m=Math.floor(y),y=Math.ceil(y);m<=y;m++)if(c.align===c){var O=d[m],w=void 0;w=s?R1(O,c):R1(c,O),!i.contains(w)&&u<O.vi&&(O.align=c,c.root=O.root,c.align=O.root,u=O.vi)}}}}};function cH(t){for(var i=0;i<t.length;i++)for(var s=t[i],l=0;l<s.length;l++){var u=s[l];u.root=u,u.align=u,u.Tz=i,u.vi=l}}function M1(t,i,s,l){for(var u=t.K===90||t.K===270,c=r(i),d=c.next();!d.done;d=c.next()){var m=r(d.value);for(d=m.next();!d.done;d=m.next())d=d.value,d.sd=d,d.shift=1/0,d.zc=NaN,d.qg=0}for(d=t.K===90||t.K===270,c=r(i),m=c.next();!m.done;m=c.next()){m=r(m.value);for(var y=m.next();!y.done;y=m.next())if(y=y.value,y.root===y){for(var O=0,w=y;w.align!==y;){var k=w.align,P=d?w.width:w.height,T=d?k.width:k.height;if(s){var M=R1(w,k),A=M.portFromPos,I=M.portToPos;M.link!==null&&(w.node&&w.node!==M.link.fromNode&&(A=d?w.focusX:w.focusY),k.node&&k.node!==M.link.toNode&&(I=d?k.focusX:k.focusY))}else M=R1(k,w),A=M.portToPos,I=M.portFromPos,M.link!==null&&(w.node&&w.node!==M.link.toNode&&(A=d?w.focusX:w.focusY),k.node&&k.node!==M.link.fromNode&&(I=d?k.focusX:k.focusY));P=l?w.qg+(P-A)-(T-I):w.qg+A-I,k.qg=P,O=Math.min(O,P),w=w.align}w=y;do w.qg=w.qg-O,w=w.align;while(w!==y)}}for(s=r(i),d=s.next();!d.done;d=s.next())for(c=r(d.value),d=c.next();!d.done;d=c.next())d=d.value,d.root===d&&cI(t,d,i);for(s=0;s<i.length;s++)if(!(0>=i[s].length)&&(d=i[s][0],d.sd===d)){d.sd.shift===1/0&&(d.sd.shift=0),d=s,m=0;do{for(c=i[d][m];c.align!==c.root;)c=c.align,d++,0<c.vi&&(m=fI(c,i),m.sd.shift=Math.min(m.sd.shift,c.sd.shift+c.zc+c.qg-(m.zc+m.qg+(u?m.width:m.height)+t.columnSpacing)));m=c.vi+1}while(d<i.length&&m<i[d].length&&c.sd===i[d][m].sd)}for(t=new jt,i=r(i),d=i.next();!d.done;d=i.next())for(s=r(d.value),d=s.next();!d.done;d=s.next())d=d.value,d.zc=d.zc+d.sd.shift+d.qg,c=u?d.width:d.height,t.add(d,l?-d.zc-c:d.zc);return t}function cI(t,i,s){if(isNaN(i.zc)){i.zc=0;var l=i;do{if(0<l.vi){var u=fI(l,s),c=u.root;cI(t,c,s),i.sd===i&&(i.sd=c.sd);var d=t.K===90||t.K===270?u.width:u.height;i.sd===c.sd&&(i.zc=Math.max(i.zc,c.zc+u.qg+d-l.qg+t.columnSpacing))}l=l.align}while(l!==i);for(;l.align!==i;)l=l.align,l.zc=i.zc,l.sd=i.sd}}function fI(t,i){var s=t.Tz;return t=t.vi,1>t&&D("Could not determine previous vertex in layer"),i[s][t-1]}se.prototype.u=function(t){for(var i=[],s=0;s<arguments.length;++s)i[s]=arguments[s];s=-1;for(var l=St(),u=St(),c=1/0,d=0;4>d;d++)if(i[d]){var m=fH(this,i[d],l,u,d);m<c&&(s=d,c=m)}for(c={},d=0;4>d;c={delta:c.delta},d++)i[d]&&(c.delta=d===0||d===2?l[s]-l[d]:u[s]-u[d],c.delta!==0&&i[d].each(function(y){return function(O){O.value+=y.delta}}(c)));dt(l),dt(u)};function fH(t,i,s,l,u){if(!i||i.count===0)return s[u]=0,l[u]=0,1/0;var c=1/0,d=-1/0;return i.each(function(m){var y=m.key;m=m.value,y=t.K===90||t.K===270?y.width:y.height,m<c&&(c=m),m+y>d&&(d=m+y)}),s[u]=c,l[u]=d,d-c}se.prototype.commitLayout=function(){if(this.setsPortSpots)for(var t=Q1(this,!0),i=Q1(this,!1),s=this.network.edges.iterator;s.next();){var l=s.value.link;l!==null&&(l.fromSpot=t,l.toSpot=i)}this.commitNodes(),this.Gu(),this.isRouting&&this.commitLinks()};function Q1(t,i){return t.K===270?i?Zr:Ur:t.K===90?i?Ur:Zr:t.K===180?i?Yr:Kn:i?Kn:Yr}se.prototype.commitNodes=function(){this.he=[],this.Ld=[],this.Kd=[],this.Ta=[];for(var t=0;t<=this.Ia;t++)this.he[t]=0,this.Ld[t]=0,this.Kd[t]=0,this.Ta[t]=0;for(t=this.network.vertexes.iterator;t.next();){var i=t.value,s=i.layer;this.he[s]=Math.max(this.he[s],this.nodeMinLayerSpace(i,!0)),this.Ld[s]=Math.max(this.Ld[s],this.nodeMinLayerSpace(i,!1))}i=0,s=this.ie;for(var l=0;l<=this.Ia;l++){var u=s;0>=this.he[l]+this.Ld[l]&&(u=0),0<l&&(i+=u/2),this.K===90||this.K===0?(i+=this.Ld[l],this.Kd[l]=i,i+=this.he[l]):(i+=this.he[l],this.Kd[l]=i,i+=this.Ld[l]),l<this.Ia&&(i+=u/2),this.Ta[l]=i}for(s=i,i=this.arrangementOrigin,l=0;l<=this.Ia;l++)this.K===270?this.Kd[l]=i.y+this.Kd[l]:this.K===90?(this.Kd[l]=i.y+s-this.Kd[l],this.Ta[l]=s-this.Ta[l]):this.K===180?this.Kd[l]=i.x+this.Kd[l]:(this.Kd[l]=i.x+s-this.Kd[l],this.Ta[l]=s-this.Ta[l]);s=this.ve!==0,t.reset(),l=this.K===270||this.K===90;for(var c=1/0,d=u=1/0,m=-1/0;t.next();){var y=t.value,O=y.layer,w=y.column|0;l?(d=i.x+this.lc*w,O=this.Kd[O]):(d=this.Kd[O],O=i.y+this.lc*w),y.centerX=d,y.centerY=O,s&&isFinite(y.zc)&&(l?y.node?y.x=i.x+y.zc:y.centerX=i.x+y.zc:y.node?y.y=i.y+y.zc:y.centerY=i.y+y.zc),c=Math.min(y.x,c),u=Math.min(y.y,u),l?(d=c,m=Math.max(m,y.bounds.right)):(d=u,m=Math.max(m,y.bounds.bottom))}for(this.xw=m-d,c=i.x-c,i=i.y-u,this.Rf=new F(s&&l?0:c,s&&!l?0:i),t.reset();t.next();)s=t.value,s.x+=c,s.y+=i,s.commit()},se.prototype.Gu=function(){for(var t=0,i=this.ie,s=0;s<=this.Ia;s++)t+=this.he[s],t+=this.Ld[s];t+=this.Ia*i,i=[],s=this.ve!==0?this.xw:this.lc*this.Ra;for(var l=this.maxLayer;0<=l;l--)this.K===270?l===0?i.push(new tt(0,0,s,Math.abs(this.Ta[0]))):i.push(new tt(0,this.Ta[l-1],s,Math.abs(this.Ta[l-1]-this.Ta[l]))):this.K===90?l===0?i.push(new tt(0,this.Ta[0],s,Math.abs(this.Ta[0]-t))):i.push(new tt(0,this.Ta[l],s,Math.abs(this.Ta[l-1]-this.Ta[l]))):this.K===180?l===0?i.push(new tt(0,0,Math.abs(this.Ta[0]),s)):i.push(new tt(this.Ta[l-1],0,Math.abs(this.Ta[l-1]-this.Ta[l]),s)):l===0?i.push(new tt(this.Ta[0],0,Math.abs(this.Ta[0]-t),s)):i.push(new tt(this.Ta[l],0,Math.abs(this.Ta[l-1]-this.Ta[l]),s));this.commitLayers(i,this.Rf)},se.prototype.commitLayers=function(){},se.prototype.commitLinks=function(){for(var t=this.network.edges.iterator,i;t.next();)i=t.value.link,i!==null&&(i.uh(),i.Ej(),i.zf());for(t.reset();t.next();)i=t.value.link,i!==null&&i.vg();for(t.reset();t.next();){var s=t.value;if(i=s.link,i!==null){i.uh();var l=i,u=l.fromNode,c=l.toNode,d=l.fromPort,m=l.toPort;if(u!==null){var y=u.findVisibleNode();y!==null&&y!==u&&(u=y,d=y.port)}c!==null&&(y=c.findVisibleNode(),y!==null&&y!==c&&(c=y,m=y.port));var O=i.computeSpot(!0,d);y=i.computeSpot(!1,m);var w=s.fromVertex,k=s.toVertex;if(s.valid)i.curve===mr&&i.pointsCount===4&&(w.column===k.column&&this.alignOption===0?(s=i.getLinkPoint(u,d,O,!0,!1,c,m),m=i.getLinkPoint(c,m,y,!1,!1,u,d),s.w()||s.set(u.actualBounds.center),m.w()||m.set(c.actualBounds.center),i.Ej(),i.yf(s.x,s.y),i.yf((2*s.x+m.x)/3,(2*s.y+m.y)/3),i.yf((s.x+2*m.x)/3,(s.y+2*m.y)/3),i.yf(m.x,m.y)):(s=l=!1,d!==null&&O===_i&&(l=!0),m!==null&&y===_i&&(s=!0),(l||s)&&(y=null,l&&(y=i.getLinkPointFromPoint(u,d,d.ga(oe),i.i(3),!0),y.w()||y.set(u.actualBounds.center),i.L(0,y.x,y.y)),u=null,s&&(u=i.getLinkPointFromPoint(c,m,m.ga(oe),i.i(0),!1),u.w()||u.set(c.actualBounds.center),i.L(3,u.x,u.y)),y&&(c=i.i(2),i.L(1,(2*y.x+c.x)/3,(2*y.y+c.y)/3)),u&&(c=i.i(1),i.L(2,(2*u.x+c.x)/3,(2*u.y+c.y)/3))))),i.zf();else if(w.layer===k.layer)i.zf();else{var P=!1,T=!1,M=this.ie,A=i.firstPickIndex+1;if(i.isOrthogonal){T=!0;var I=i.pointsCount;4<I&&i.points.removeRange(2,I-3)}else if(i.curve===mr)P=!0,I=i.pointsCount,4<I&&i.points.removeRange(2,I-3),I===4&&(A=2);else{I=i.pointsCount;var L=O===_i,z=y===_i;2<I&&L&&z?i.points.removeRange(1,I-2):3<I&&L&&!z?i.points.removeRange(1,I-3):3<I&&!L&&z?i.points.removeRange(2,I-2):4<I&&!L&&!z&&i.points.removeRange(2,I-3)}if(s.rev){for(;k!==null&&w!==k;){var X=I=null;for(L=k.sourceEdges.iterator;L.next()&&(z=L.value,z.link!==s.link||(I=z.fromVertex,X=z.toVertex,I.node!==null)););if(I===null)break;if(I!==w){L=i.i(A-1).x,z=i.i(A-1).y;var _=I.centerX,Y=I.centerY;if(T)this.K===180||this.K===0?A===i.firstPickIndex+1?(i.m(A++,L,z),i.m(A++,L,Y)):(X!==null?X.centerY:z)!==Y&&(X=this.Ta[I.layer-1]+this.Rf.x,i.m(A++,X,z),i.m(A++,X,Y)):A===i.firstPickIndex+1?(i.m(A++,L,z),i.m(A++,_,z)):(X!==null?X.centerX:L)!==_&&(X=this.Ta[I.layer-1]+this.Rf.y,i.m(A++,L,X),i.m(A++,_,X));else if(A===i.firstPickIndex+1){X=Math.max(10,this.he[k.layer]);var G=Math.max(10,this.Ld[k.layer]);if(P)this.K===180?_<=k.bounds.x?(k=k.bounds.x,i.m(A++,k-X,Y),i.m(A++,k,Y),i.m(A++,k+G,Y)):(i.m(A++,_-X,Y),i.m(A++,_,Y),i.m(A++,_+G,Y)):this.K===90?Y>=k.bounds.bottom?(k=k.bounds.y+k.bounds.height,i.m(A++,_,k+G),i.m(A++,_,k),i.m(A++,_,k-X)):(i.m(A++,_,Y+G),i.m(A++,_,Y),i.m(A++,_,Y-X)):this.K===270?Y<=k.bounds.y?(k=k.bounds.y,i.m(A++,_,k-X),i.m(A++,_,k),i.m(A++,_,k+G)):(i.m(A++,_,Y-X),i.m(A++,_,Y),i.m(A++,_,Y+G)):this.K===0&&(_>=k.bounds.right?(k=k.bounds.x+k.bounds.width,i.m(A++,k+G,Y),i.m(A++,k,Y),i.m(A++,k-X,Y)):(i.m(A++,_+G,Y),i.m(A++,_,Y),i.m(A++,_-X,Y)));else{i.m(A++,L,z);var ut=0;this.K===180||this.K===0?((this.K===180?_>=k.bounds.right:_<=k.bounds.x)&&(ut=(this.K===0?-X:G)/2),i.m(A++,L+ut,Y)):((this.K===270?Y>=k.bounds.bottom:Y<=k.bounds.y)&&(ut=(this.K===90?-X:G)/2),i.m(A++,_,z+ut)),i.m(A++,_,Y)}}else X=Math.max(10,this.he[I.layer]),G=Math.max(10,this.Ld[I.layer]),P?this.K===180?(i.m(A++,_-X-M,Y),i.m(A++,Math.min(_-X+M/2,_),Y),i.m(A++,_,Y),i.m(A++,_,Y),i.m(A++,Math.max(_+G-M/2,_),Y),i.m(A++,_+G+M,Y)):this.K===90?(i.m(A++,_,Y+G+M),i.m(A++,_,Math.max(Y+G-M/2,Y)),i.m(A++,_,Y),i.m(A++,_,Y),i.m(A++,_,Math.min(Y-X+M/2,Y)),i.m(A++,_,Y-X-M)):this.K===270?(i.m(A++,_,Y-X-M),i.m(A++,_,Math.min(Y-X+M/2,Y)),i.m(A++,_,Y),i.m(A++,_,Y),i.m(A++,_,Math.max(Y+G-M/2,Y)),i.m(A++,_,Y+G+M)):(i.m(A++,_+G+M,Y),i.m(A++,Math.max(_+G-M/2,_),Y),i.m(A++,_,Y),i.m(A++,_,Y),i.m(A++,Math.min(_-X+M/2,_),Y),i.m(A++,_-X-M,Y)):i.m(A++,_,Y)}k=I}(m===null||O!==_i||T)&&(L=i.i(A-1).x,z=i.i(A-1).y,_=i.i(A).x,Y=i.i(A).y,T?(M=this.Ld[w.layer],this.K===180||this.K===0?(T=z,T>=w.bounds.y&&T<=w.bounds.bottom&&(this.K===180?_>=w.bounds.x:_<=w.bounds.right)&&(k=w.centerX+(this.K===180?-M:M),T<w.bounds.y+w.bounds.height/2?T=w.bounds.y-this.lc/2:T=w.bounds.bottom+this.lc/2,i.m(A++,k,z),i.m(A++,k,T)),i.m(A++,_,T)):(T=L,T>=w.bounds.x&&T<=w.bounds.right&&(this.K===270?Y>=w.bounds.y:Y<=w.bounds.bottom)&&(k=w.centerY+(this.K===270?-M:M),T<w.bounds.x+w.bounds.width/2?T=w.bounds.x-this.lc/2:T=w.bounds.right+this.lc/2,i.m(A++,L,k),i.m(A++,T,k)),i.m(A++,T,Y)),i.m(A++,_,Y)):P?(X=Math.max(10,this.he[w.layer]),G=Math.max(10,this.Ld[w.layer]),this.K===180&&_>=w.bounds.x?(k=w.bounds.x+w.bounds.width,i.L(A-2,k,z),i.L(A-1,k+G,z)):this.K===90&&Y<=w.bounds.bottom?(k=w.bounds.y,i.L(A-2,L,k),i.L(A-1,L,k-X)):this.K===270&&Y>=w.bounds.y?(k=w.bounds.y+w.bounds.height,i.L(A-2,L,k),i.L(A-1,L,k+G)):this.K===0&&_<=w.bounds.right&&(k=w.bounds.x,i.L(A-2,k,z),i.L(A-1,k-X,z))):(X=Math.max(10,this.he[w.layer]),G=Math.max(10,this.Ld[w.layer]),T=0,this.K===180||this.K===0?((this.K===180?_<=w.bounds.x:_>=w.bounds.right)&&(T=(this.K===0?G:-X)/2),i.m(A++,_+T,z)):((this.K===270?Y<=w.bounds.y:Y>=w.bounds.bottom)&&(T=(this.K===90?G:-X)/2),i.m(A++,L,Y+T)),i.m(A++,_,Y)))}else{for(;w!==null&&w!==k;){for(X=I=null,w=w.destinationEdges.iterator;w.next()&&(L=w.value,L.link!==s.link||(I=L.toVertex,X=L.fromVertex,X.node!==null&&(X=null),I.node!==null)););if(I===null)break;I!==k&&(L=i.i(A-1).x,z=i.i(A-1).y,_=I.centerX,Y=I.centerY,T?this.K===180||this.K===0?(X!==null?X.centerY:z)!==Y&&(X=this.Ta[I.layer]+this.Rf.x,A===i.firstPickIndex+1&&(X=this.K===0?Math.max(X,L):Math.min(X,L)),i.m(A++,X,z),i.m(A++,X,Y)):(X!==null?X.centerX:L)!==_&&(X=this.Ta[I.layer]+this.Rf.y,A===i.firstPickIndex+1&&(X=this.K===90?Math.max(X,z):Math.min(X,z)),i.m(A++,L,X),i.m(A++,_,X)):(X=Math.max(10,this.he[I.layer]),G=Math.max(10,this.Ld[I.layer]),P?this.K===180?(i.m(A++,_+G+M,Y),i.m(A++,Math.max(_+G-M/2,_),Y),i.m(A++,_,Y),i.m(A++,_,Y),i.m(A++,Math.min(_-X+M/2,_),Y),i.m(A++,_-X-M,Y)):this.K===90?(i.m(A++,_,Y-X-M),i.m(A++,_,Math.min(Y-X+M/2,Y)),i.m(A++,_,Y),i.m(A++,_,Y),i.m(A++,_,Math.max(Y+G-M/2,Y)),i.m(A++,_,Y+G+M)):this.K===270?(i.m(A++,_,Y+G+M),i.m(A++,_,Math.max(Y+G-M/2,Y)),i.m(A++,_,Y),i.m(A++,_,Y),i.m(A++,_,Math.min(Y-X+M/2,Y)),i.m(A++,_,Y-X-M)):(i.m(A++,_-X-M,Y),i.m(A++,Math.min(_-X+M/2,_),Y),i.m(A++,_,Y),i.m(A++,_,Y),i.m(A++,Math.max(_+G-M/2,_),Y),i.m(A++,_+G+M,Y)):this.K===180?(i.m(A++,_+G,Y),i.m(A++,_-X,Y)):this.K===90?(i.m(A++,_,Y-X),i.m(A++,_,Y+G)):this.K===270?(i.m(A++,_,Y+G),i.m(A++,_,Y-X)):(i.m(A++,_-X,Y),i.m(A++,_+G,Y)))),w=I}T&&(L=i.i(A-1).x,z=i.i(A-1).y,_=i.i(A).x,Y=i.i(A).y,this.K===180||this.K===0?z!==Y&&(X=this.K===0?Math.min(Math.max((_+L)/2,this.Ta[k.layer]+this.Rf.x),_):Math.max(Math.min((_+L)/2,this.Ta[k.layer]+this.Rf.x),_),i.m(A++,X,z),i.m(A++,X,Y)):L!==_&&(X=this.K===90?Math.min(Math.max((Y+z)/2,this.Ta[k.layer]+this.Rf.y),Y):Math.max(Math.min((Y+z)/2,this.Ta[k.layer]+this.Rf.y),Y),i.m(A++,L,X),i.m(A++,_,X)))}l!==null&&P&&4<=i.pointsCount&&(d!==null&&(d=O===_i?i.getLinkPointFromPoint(u,d,d.ga(oe),i.i(3),!0):i.i(0),O===_i&&(O=i.i(2),l=i.i(3),this.direction===90||this.direction===270?(i.L(1,(d.x+O.x)/2,O.y),i.L(2,l.x,(O.y+l.y)/2)):(i.L(1,O.x,(d.y+O.y)/2),i.L(2,(O.x+l.x)/2,l.y))),d.w()||d.set(u.actualBounds.center),i.L(0,d.x,d.y)),m!==null&&(u=y===_i?i.getLinkPointFromPoint(c,m,m.ga(oe),i.i(i.pointsCount-4),!1):i.i(i.pointsCount-1),y===_i&&(m=i.i(i.pointsCount-3),y=i.i(i.pointsCount-4),this.direction===90||this.direction===270?(i.L(i.pointsCount-2,(u.x+m.x)/2,m.y),i.L(i.pointsCount-2,y.x,(m.y+y.y)/2)):(i.L(i.pointsCount-2,m.x,(u.y+m.y)/2),i.L(i.pointsCount-3,(m.x+y.x)/2,y.y))),u.w()||u.set(c.actualBounds.center),i.L(i.pointsCount-1,u.x,u.y))),i.zf(),s.commit()}}}this.avoidOrthogonalOverlaps()},se.prototype.avoidOrthogonalOverlaps=function(){if(!(0>=this.linkSpacing)){for(var t=new ct,i=this.network.edges.iterator;i.next();){var s=i.value.link;s!==null&&s.isOrthogonal&&!t.contains(s)&&t.add(s)}if(0<t.count)if(this.K===90||this.K===270){for(i=0,s=[],t=t.iterator;t.next();){var l=t.value;if(l!==null&&l.isOrthogonal)for(var u=2;u<l.pointsCount-3;u++){var c=l.i(u),d=l.i(u+1);if(this.B(c.y,d.y)&&!this.B(c.x,d.x)){var m=new Du;m.layer=Math.floor(c.y/2);var y=l.i(0),O=l.i(l.pointsCount-1);if(m.first=y.x*y.x+y.y,m.kc=O.x*O.x+O.y,m.rd=Math.min(c.x,d.x),m.Ic=Math.max(c.x,d.x),m.index=u,m.link=l,u+2<l.pointsCount){y=l.i(u-1),O=l.i(u+2);var w=0;y.y<c.y?w=O.y<c.y?3:c.x<d.x?2:1:y.y>c.y&&(w=O.y>c.y?0:d.x<c.x?2:1),m.j=w}s.push(m)}}}if(1<s.length)for(s.sort(this.Vx),t=0;t<s.length;){for(c=s[t].layer,l=t+1;l<s.length&&s[l].layer===c;)l++;if(1<l-t)for(c=t;c<l;){for(d=s[c].Ic,u=t+1;u<l&&s[u].rd<d;)d=Math.max(d,s[u].Ic),u++;if(d=u-c,1<d){for(this.zi(s,this.Is,c,c+d),w=1,m=s[c].kc,y=c;y<u;y++)O=s[y],O.kc!==m&&(w++,m=O.kc);this.zi(s,this.Ux,c,c+d);var k=1;for(m=s[c].first,y=c;y<u;y++)O=s[y],O.first!==m&&(k++,m=O.first);for(y=!0,O=k,w<k?(y=!1,O=w,m=s[c].kc,this.zi(s,this.Is,c,c+d)):m=s[c].first,w=0,k=c;k<u;k++){var P=s[k];(y?P.first:P.kc)!==m&&(w++,m=y?P.first:P.kc);var T=P.link;c=T.i(P.index),d=T.i(P.index+1);var M=this.linkSpacing*(w-(O-1)/2);i++,T.uh(),T.L(P.index,c.x,c.y+M),T.L(P.index+1,d.x,d.y+M),T.zf()}}c=u}t=l}}else{for(i=0,s=[],t=t.iterator;t.next();)if(l=t.value,l!==null&&l.isOrthogonal)for(u=2;u<l.pointsCount-3;u++)c=l.i(u),d=l.i(u+1),this.B(c.x,d.x)&&!this.B(c.y,d.y)&&(m=new Du,m.layer=Math.floor(c.x/2),y=l.i(0),O=l.i(l.pointsCount-1),m.first=y.x+y.y*y.y,m.kc=O.x+O.y*O.y,m.rd=Math.min(c.y,d.y),m.Ic=Math.max(c.y,d.y),m.index=u,m.link=l,u+2<l.pointsCount&&(y=l.i(u-1),O=l.i(u+2),w=0,y.x<c.x?w=O.x<c.x?3:c.y<d.y?2:1:y.x>c.x&&(w=O.x>c.x?0:d.y<c.y?2:1),m.j=w),s.push(m));if(1<s.length)for(s.sort(this.Vx),t=0;t<s.length;){for(c=s[t].layer,l=t+1;l<s.length&&s[l].layer===c;)l++;if(1<l-t)for(c=t;c<l;){for(d=s[c].Ic,u=t+1;u<l&&s[u].rd<d;)d=Math.max(d,s[u].Ic),u++;if(d=u-c,1<d){for(this.zi(s,this.Is,c,c+d),w=1,m=s[c].kc,y=c;y<u;y++)O=s[y],O.kc!==m&&(w++,m=O.kc);for(this.zi(s,this.Ux,c,c+d),k=1,m=s[c].first,y=c;y<u;y++)O=s[y],O.first!==m&&(k++,m=O.first);for(y=!0,O=k,w<k?(y=!1,O=w,m=s[c].kc,this.zi(s,this.Is,c,c+d)):m=s[c].first,w=0,k=c;k<u;k++)P=s[k],(y?P.first:P.kc)!==m&&(w++,m=y?P.first:P.kc),T=P.link,c=T.i(P.index),d=T.i(P.index+1),M=this.linkSpacing*(w-(O-1)/2),i++,T.uh(),T.L(P.index,c.x+M,c.y),T.L(P.index+1,d.x+M,d.y),T.zf()}c=u}t=l}}}},n=se.prototype,n.Vx=function(t,i){return t instanceof Du&&i instanceof Du&&t!==i?t.layer<i.layer?-1:t.layer>i.layer?1:t.rd<i.rd?-1:t.rd>i.rd?1:t.Ic<i.Ic?-1:t.Ic>i.Ic?1:0:0},n.Ux=function(t,i){return t instanceof Du&&i instanceof Du&&t!==i?t.first<i.first?-1:t.first>i.first||t.j<i.j?1:t.j>i.j||t.rd<i.rd?-1:t.rd>i.rd?1:t.Ic<i.Ic?-1:t.Ic>i.Ic?1:0:0},n.Is=function(t,i){return t instanceof Du&&i instanceof Du&&t!==i?t.kc<i.kc?-1:t.kc>i.kc||t.j<i.j?1:t.j>i.j||t.rd<i.rd?-1:t.rd>i.rd?1:t.Ic<i.Ic?-1:t.Ic>i.Ic?1:0:0},n.B=function(t,i){return t-=i,-1<t&&1>t},n.zi=function(t,i,s,l){var u=t.length,c=l-s;if(!(1>=c))if((0>s||s>=u-1)&&D("not in range 0 <= from < length: "+s),c===2)l=t[s],u=t[s+1],0<i(l,u)&&(t[s]=u,t[s+1]=l);else if(s===0)if(l>=u)t.sort(i);else for(s=t.slice(0,l),s.sort(i),i=0;i<l;i++)t[i]=s[i];else if(l>=u)for(l=t.slice(s),l.sort(i),i=s;i<u;i++)t[i]=l[i-s];else for(u=t.slice(s,l),u.sort(i),i=s;i<l;i++)t[i]=u[i-s]};function Lu(t,i){var s=t.vb[i];if(s>=t.He.length){for(var l=[],u=0;u<t.He.length;u++)l[u]=t.He[u];t.He=l}for(t.He[s]===void 0||t.He[s]===null?l=[]:(l=t.He[s],t.He[s]=null),t=t.el[i],i=0;i<t.length;i++)s=t[i],l[s.index]=s;return l}function $u(t,i,s){t.He[t.vb[i]]=s}S.Object.defineProperties(se.prototype,{layerSpacing:{get:function(){return this.ie},set:function(t){this.ie!==t&&0<=t&&(this.ie=t,this.C())}},columnSpacing:{get:function(){return this.lc},set:function(t){this.lc!==t&&0<t&&(this.lc=t,this.C())}},direction:{get:function(){return this.K},set:function(t){this.K!==t&&(t===0||t===90||t===180||t===270?(this.K=t,this.C()):D("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}},cycleRemoveOption:{get:function(){return this.Ck},set:function(t){this.Ck===t||t!==YT&&t!==N1&&t!==X0||(this.Ck=t,this.C())}},layeringOption:{get:function(){return this.Yk},set:function(t){this.Yk===t||t!==A1&&t!==UT&&t!==WT||(this.Yk=t,this.C())}},initializeOption:{get:function(){return this.Pk},set:function(t){this.Pk===t||t!==j1&&t!==qT&&t!==GT||(this.Pk=t,this.C())}},iterations:{get:function(){return this.bj},set:function(t){this.bj!==t&&0<=t&&(this.bj=t,this.C())}},aggressiveOption:{get:function(){return this.qk},set:function(t){this.qk===t||t!==HT&&t!==E1&&t!==KT||(this.qk=t,this.C())}},packOption:{get:function(){return this.bg},set:function(t){this.bg!==t&&0<=t&&8>t&&(this.bg=t,this.C())}},alignOption:{get:function(){return this.ve},set:function(t){this.ve!==t&&0<=t&&16>t&&(this.ve=t,this.C())}},setsPortSpots:{get:function(){return this.sf},set:function(t){this.sf!==t&&(this.sf=t,this.C())}},linkSpacing:{get:function(){return this.Bn},set:function(t){this.Bn!==t&&0<=t&&(this.Bn=t,this.C())}},maxLayer:{get:function(){return this.Ia}},maxIndex:{get:function(){return this.Hq}},maxColumn:{get:function(){return this.Ra}},minIndexLayer:{get:function(){return this.Gn}},maxIndexLayer:{get:function(){return this.Md}}});var N1=new it(se,"CycleDepthFirst",0),YT=new it(se,"CycleGreedy",1),X0=new it(se,"CycleFromLayers",2),A1=new it(se,"LayerOptimalLinkLength",0),UT=new it(se,"LayerLongestPathSink",1),WT=new it(se,"LayerLongestPathSource",2),j1=new it(se,"InitDepthFirstOut",0),qT=new it(se,"InitDepthFirstIn",1),GT=new it(se,"InitNaive",2),HT=new it(se,"AggressiveNone",0),E1=new it(se,"AggressiveLess",1),KT=new it(se,"AggressiveMore",2),dH=8;se.className="LayeredDigraphLayout",se.CycleDepthFirst=N1,se.CycleGreedy=YT,se.CycleFromLayers=X0,se.LayerOptimalLinkLength=A1,se.LayerLongestPathSink=UT,se.LayerLongestPathSource=WT,se.InitDepthFirstOut=j1,se.InitDepthFirstIn=qT,se.InitNaive=GT,se.AggressiveNone=HT,se.AggressiveLess=E1,se.AggressiveMore=KT,se.PackNone=0,se.PackExpand=1,se.PackStraighten=2,se.PackMedian=4,se.PackAll=15,se.AlignNone=0,se.AlignUpperLeft=1,se.AlignUpperRight=2,se.AlignLowerLeft=4,se.AlignLowerRight=8,se.AlignAll=15;function Du(){this.index=this.Ic=this.rd=this.kc=this.first=this.layer=0,this.link=null,this.j=0}Du.className="SegInfo";function Lp(t){de.call(this,t)}x(Lp,de),Lp.prototype.createVertex=function(){return new Lr(this)},Lp.prototype.createEdge=function(){return new B0(this)},Lp.className="LayeredDigraphNetwork";function Lr(t){ni.call(this,t),this.Zn=this.ao=this.$n=this.bo=null,this.Za=this.Ag=this.Ig=-1,this.u=NaN,this.F=null,this.valid=!1,this.finish=this.Kl=NaN,this.Cu=0,this.dv=this.ev=null}x(Lr,ni);function dI(t,i){return t.index-i.index}function R1(t,i){if(!t.Zn){for(var s=[],l=r(t.destinationEdgesArrayAccess),u=l.next();!u.done;u=l.next())u=u.value,u.valid&&s.push(u);t.Zn=s}for(t=r(t.Zn),s=t.next();!s.done;s=t.next())if(s=s.value,s.toVertex===i)return s;D("Unable to find destination edge to given vertex")}function JT(t){if(!t.bo){for(var i=[],s=r(t.sourceEdgesArrayAccess),l=s.next();!l.done;l=s.next())l=l.value,l.valid&&i.push(l.fromVertex);i.sort(dI),t.bo=i}return t.bo}function pH(t){if(!t.$n){for(var i=[],s=r(t.destinationEdgesArrayAccess),l=s.next();!l.done;l=s.next())l=l.value,l.valid&&i.push(l.toVertex);i.sort(dI),t.$n=i}return t.$n}Lr.prototype.Bl=function(t){ni.prototype.Bl.call(this,t),this.ao=this.bo=null},Lr.prototype.Jl=function(t){ni.prototype.Jl.call(this,t),this.ao=this.bo=null},Lr.prototype.yl=function(t){ni.prototype.yl.call(this,t),this.Zn=this.$n=null},Lr.prototype.Il=function(t){ni.prototype.Il.call(this,t),this.Zn=this.$n=null},S.Object.defineProperties(Lr.prototype,{layer:{get:function(){return this.Ig},set:function(t){this.Ig!==t&&(this.Ig=t)}},column:{get:function(){return this.Ag},set:function(t){this.Ag!==t&&(this.Ag=t)}},index:{get:function(){return this.Za},set:function(t){this.Za!==t&&(this.Za=t)}},component:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},near:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t)}}}),Lr.prototype.deleteDestinationEdge=Lr.prototype.Il,Lr.prototype.addDestinationEdge=Lr.prototype.yl,Lr.prototype.deleteSourceEdge=Lr.prototype.Jl,Lr.prototype.addSourceEdge=Lr.prototype.Bl,Lr.className="LayeredDigraphVertex";function B0(t){ir.call(this,t),this.j=this.ia=this.Ha=!1,this.V=this.u=NaN,this.F=this.o=0}x(B0,ir),S.Object.defineProperties(B0.prototype,{fromVertex:{get:function(){return this.kd},set:function(t){this.kd!==t&&(this.kd=t)}},toVertex:{get:function(){return this.qd},set:function(t){this.qd!==t&&(this.qd=t)}},valid:{get:function(){return this.Ha},set:function(t){this.Ha!==t&&(this.Ha=t)}},rev:{get:function(){return this.ia},set:function(t){this.ia!==t&&(this.ia=t)}},forest:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t)}},portFromPos:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},portToPos:{get:function(){return this.V},set:function(t){this.V!==t&&(this.V=t)}},portFromColOffset:{get:function(){return this.o},set:function(t){this.o!==t&&(this.o=t)}},portToColOffset:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t)}}}),B0.className="LayeredDigraphEdge";function Bt(t){ye.call(this),this.Vb=new at,this.Vn=I1,this.ud=nl,this.uo=V1,this.Aq=hC,this.$v=[],this.td=!0,this.Sb=z1,this.$d=new At(10,10).freeze();var i=new Ef(this);this.W=new Kr(i),this.Y=new Kr(i),this.qu=[],t&&Object.assign(this,t)}x(Bt,ye),Bt.prototype.cloneProtected=function(t){ye.prototype.cloneProtected.call(this,t),t.Vn=this.Vn,t.uo=this.uo,t.Aq=this.Aq,t.td=this.td,t.Sb=this.Sb,t.$d.assign(this.$d),t.W.copyInheritedPropertiesFrom(this.W),t.Y.copyInheritedPropertiesFrom(this.Y)},Bt.prototype.qb=function(t){t.classType===Bt?t.name.indexOf("Alignment")===0?this.alignment=t:t.name.indexOf("Arrangement")===0?this.arrangement=t:t.name.indexOf("Compaction")===0?this.compaction=t:t.name.indexOf("Path")===0?this.path=t:t.name.indexOf("Sorting")===0?this.sorting=t:t.name.indexOf("Style")===0?this.treeStyle=t:D("Unknown enum value: "+t):ye.prototype.qb.call(this,t)},Bt.prototype.createNetwork=function(){return new Ef(this)},Bt.prototype.makeNetwork=function(t){function i(l){if(l instanceof ft)return!l.isLinkLabel&&l.category!=="Comment";if(l instanceof rt){var u=l.fromNode;return u===null||u.isLinkLabel||u.category==="Comment"?!1:(l=l.toNode,!(l===null||l.isLinkLabel||l.category==="Comment"))}return!1}var s=this.createNetwork();return t instanceof H?(s.lg(t.nodes,!0,i),s.lg(t.links,!0,i)):t instanceof Lt?s.lg(t.memberParts,!1,i):s.lg(t.iterator,!1,i),s},Bt.prototype.doLayout=function(t){this.network===null&&(this.network=this.makeNetwork(t)),this.arrangement!==X1&&(this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin));var i=this.diagram;if(i===null&&t instanceof H&&(i=t),this.path===I1&&i!==null?this.ud=i.isTreePathToChildren?nl:Af:this.ud=this.path===I1?nl:this.path,0<this.network.vertexes.count){for(this.network.Jo(),t=this.network.vertexes.iterator;t.next();)i=t.value,i.initialized=!1,i.level=0,i.parent=null,i.children=[];if(0<this.Vb.count){for(t=new at,i=this.Vb.iterator;i.next();){var s=i.value;s instanceof ft?(s=this.network.ki(s),s!==null&&t.add(s)):s instanceof Kr&&t.add(s)}this.Vb=t}for(this.Vb.count===0&&this.findRoots(),t=this.Vb.copy().iterator;t.next();)i=t.value,i.initialized||(i.initialized=!0,tC(this,i));for(i=this.network.vertexes,t=null;t=mH(i),0<t.count;)i=pI(this,t),i!==null&&this.Vb.add(i),i.initialized=!0,tC(this,i),i=t;for(t=this.Vb.iterator;t.next();)i=t.value,i instanceof Kr&&gI(this,i);for(t=this.Vb.iterator;t.next();)i=t.value,i instanceof Kr&&yI(this,i);for(t=this.Vb.iterator;t.next();)i=t.value,i instanceof Kr&&OI(this,i);if(this.Bu(),this.layerStyle===B1){for(t=[],i=this.network.vertexes.iterator;i.next();){s=i.value;var l=s.parent;l===null&&(l=s),l=l.angle===0||l.angle===180;var u=t[s.level];u===void 0&&(u=0),t[s.level]=Math.max(u,l?s.width:s.height)}for(i=0;i<t.length;i++)t[i]===void 0&&(t[i]=0);for(this.$v=t,i=this.network.vertexes.iterator;i.next();)s=i.value,l=s.parent,l===null&&(l=s),l.angle===0||l.angle===180?(l.angle===180&&(s.focusX+=t[s.level]-s.width),s.width=t[s.level]):(l.angle===270&&(s.focusY+=t[s.level]-s.height),s.height=t[s.level])}else if(this.layerStyle===cC)for(t=this.network.vertexes.iterator;t.next();){for(i=t.value,s=i.angle===0||i.angle===180,l=-1,u=0;u<i.children.length;u++){var c=i.children[u];l=Math.max(l,s?c.width:c.height)}if(0<=l)for(u=0;u<i.children.length;u++)c=i.children[u],s?(i.angle===180&&(c.focusX+=l-c.width),c.width=l):(i.angle===270&&(c.focusY+=l-c.height),c.height=l)}for(t=this.Vb.iterator;t.next();)i=t.value,i instanceof Kr&&this.layoutTree(i);this.arrangeTrees(),this.updateParts()}this.network=null,this.Vb=new at,this.isValidLayout=!0};function mH(t){var i=new at;for(t=t.iterator;t.next();){var s=t.value;s.initialized||i.add(s)}return i}Bt.prototype.findRoots=function(){for(var t=this.network.vertexes,i=t.iterator;i.next();){var s=i.value;switch(this.ud){case nl:s.sourceEdges.count===0&&this.Vb.add(s);break;case Af:s.destinationEdges.count===0&&this.Vb.add(s);break;default:D("Unhandled path value "+this.ud.toString())}}this.Vb.count===0&&(t=pI(this,t),t!==null&&this.Vb.add(t))};function pI(t,i){var s=999999,l=null;for(i=i.iterator;i.next();){var u=i.value;switch(t.ud){case nl:u.sourceEdges.count<s&&(s=u.sourceEdges.count,l=u);break;case Af:u.destinationEdges.count<s&&(s=u.destinationEdges.count,l=u);break;default:D("Unhandled path value "+t.ud.toString())}}return l}function tC(t,i){if(i!==null){switch(t.ud){case nl:if(0<i.destinationEdges.count){for(var s=new ct,l=i.destinationVertexes;l.next();){var u=l.value;mI(t,i,u)&&s.add(u)}0<s.count&&(i.children=s.Fa())}break;case Af:if(0<i.sourceEdges.count){for(s=new ct,l=i.sourceVertexes;l.next();)u=l.value,mI(t,i,u)&&s.add(u);0<s.count&&(i.children=s.Fa())}break;default:D("Unhandled path value"+t.ud.toString())}for(s=i.children,l=s.length,u=0;u<l;u++){var c=s[u];c.initialized=!0,c.level=i.level+1,c.parent=i,t.Vb.remove(c)}for(i=0;i<l;i++)tC(t,s[i])}}function mI(t,i,s){if(s.initialized){if(i===null)var l=!1;else{for(l=i.parent;l!==null&&l!==s;)l=l.parent;l=l===s}if(l||s.level>i.level)return!1;t.removeChild(s.parent,s)}return!0}Bt.prototype.removeChild=function(t,i){if(t!==null&&i!==null){for(var s=t.children,l=0,u=0;u<s.length;u++)s[u]===i&&l++;if(0<l){l=Array(s.length-l);for(var c=u=0;c<s.length;c++)s[c]!==i&&(l[u++]=s[c]);t.children=l}}};function gI(t,i){if(i!==null){t.initializeTreeVertexValues(i),i.alignment===ol&&t.sortTreeVertexChildren(i);for(var s=0,l=i.childrenCount,u=0,c=i.children,d=c.length,m=0;m<d;m++){var y=c[m];gI(t,y),s+=y.descendantCount+1,l=Math.max(l,y.maxChildrenCount),u=Math.max(u,y.maxGenerationCount)}i.descendantCount=s,i.maxChildrenCount=l,i.maxGenerationCount=0<l?u+1:0}}function gH(t,i){switch(t.uo){default:case V1:return i.parent!==null?i.parent:t.W;case aC:return i.parent===null?t.W:i.parent.parent===null?t.Y:i.parent;case lC:return i.parent!==null?i.parent.parent!==null?i.parent.parent:t.Y:t.W;case oC:var s=!0;if(i.childrenCount===0)s=!1;else for(var l=i.children,u=l.length,c=0;c<u;c++)if(0<l[c].childrenCount){s=!1;break}return s&&i.parent!==null?t.Y:i.parent!==null?i.parent:t.W}}Bt.prototype.initializeTreeVertexValues=function(t){if(t.copyInheritedPropertiesFrom(gH(this,t)),t.parent!==null&&t.parent.alignment===ol){for(var i=t.angle,s=t.parent.children,l=0;l<s.length&&t!==s[l];)l++;l%2===0?l!==s.length-1&&(i=i===90?180:i===180?270:i===270?180:270):i=i===90?0:i===180?90:i===270?0:90,t.angle=i}t.initialized=!0};function yI(t,i){if(i!==null){t.assignTreeVertexValues(i),i=i.children;for(var s=i.length,l=0;l<s;l++)yI(t,i[l])}}Bt.prototype.assignTreeVertexValues=function(){};function OI(t,i){if(i!==null){i.alignment!==ol&&t.sortTreeVertexChildren(i),i=i.children;for(var s=i.length,l=0;l<s;l++)OI(t,i[l])}}Bt.prototype.sortTreeVertexChildren=function(t){switch(t.sorting){case $p:break;case Z0:t.children.reverse();break;case Y0:t.children.sort(t.comparer);break;case U0:t.children.sort(t.comparer),t.children.reverse();break;default:D("Unhandled sorting value "+t.sorting.toString())}},Bt.prototype.Bu=function(){if(this.comments)for(var t=this.network.vertexes.iterator;t.next();)this.addComments(t.value)},Bt.prototype.addComments=function(t){var i=t.angle,s=t.parent,l=0,u=!1;s!==null&&(l=s.angle,u=s.alignment,u=Iu(u)),i=i===90||i===270,l=l===90||l===270,s=t.childrenCount===0;var c=0,d=0,m=0,y=t.commentSpacing;if(t.node!==null)for(var O=t.node.Mu();O.next();){var w=O.value;w.category==="Comment"&&w.canLayout()&&(t.comments===null&&(t.comments=[]),t.comments.push(w),w.Va(),w=w.measuredBounds,i&&!s||!u&&!l&&s||u&&l&&s?(c=Math.max(c,w.width),d+=w.height+Math.abs(m)):(c+=w.width+Math.abs(m),d=Math.max(d,w.height)),m=y)}t.comments!==null&&(i&&!s||!u&&!l&&s||u&&l&&s?(c+=Math.abs(t.commentMargin),d=Math.max(0,d-t.height)):(d+=Math.abs(t.commentMargin),c=Math.max(0,c-t.width)),u=tt.allocAt(0,0,t.bounds.width+c,t.bounds.height+d),t.bounds=u,tt.free(u))};function Iu(t){return t===Aa||t===ol||t===ja||t===Fl}function _0(t){return t===Aa||t===ol}function eC(t){var i=t.parent;if(i!==null){var s=i.alignment;if(Iu(s)){if(_0(s)){for(i=i.children,s=0;s<i.length&&t!==i[s];)s++;return s%2===0}if(s===ja)return!0}}return!1}Bt.prototype.layoutComments=function(t){if(t.comments!==null){var i=t.node.measuredBounds,s=t.parent,l=t.angle,u=0,c=!1;s!==null&&(u=s.angle,c=s.alignment,c=Iu(c)),l=l===90||l===270,s=u===90||u===270;for(var d=t.childrenCount===0,m=eC(t),y=0,O=t.comments,w=O.length,k=F.alloc(),P=0;P<w;P++){var T=O[P],M=T.measuredBounds;if(l&&!d||!c&&!s&&d||c&&s&&d){if(135<u&&!c||s&&m)if(0<=t.commentMargin)for(k.h(t.bounds.x-t.commentMargin-M.width,t.bounds.y+y),T.move(k),T=T.Sd();T.next();){var A=T.value;A.fromSpot=Yr,A.toSpot=Kn}else for(k.h(t.bounds.x+2*t.focus.x-t.commentMargin,t.bounds.y+y),T.move(k),T=T.Sd();T.next();)A=T.value,A.fromSpot=Kn,A.toSpot=Yr;else if(0<=t.commentMargin)for(k.h(t.bounds.x+2*t.focus.x+t.commentMargin,t.bounds.y+y),T.move(k),T=T.Sd();T.next();)A=T.value,A.fromSpot=Kn,A.toSpot=Yr;else for(k.h(t.bounds.x+t.commentMargin-M.width,t.bounds.y+y),T.move(k),T=T.Sd();T.next();)A=T.value,A.fromSpot=Yr,A.toSpot=Kn;y=0<=t.commentSpacing?y+(M.height+t.commentSpacing):y+(t.commentSpacing-M.height)}else{if(135<u&&!c||!s&&m)if(0<=t.commentMargin)for(k.h(t.bounds.x+y,t.bounds.y-t.commentMargin-M.height),T.move(k),T=T.Sd();T.next();)A=T.value,A.fromSpot=Zr,A.toSpot=Ur;else for(k.h(t.bounds.x+y,t.bounds.y+2*t.focus.y-t.commentMargin),T.move(k),T=T.Sd();T.next();)A=T.value,A.fromSpot=Ur,A.toSpot=Zr;else if(0<=t.commentMargin)for(k.h(t.bounds.x+y,t.bounds.y+2*t.focus.y+t.commentMargin),T.move(k),T=T.Sd();T.next();)A=T.value,A.fromSpot=Ur,A.toSpot=Zr;else for(k.h(t.bounds.x+y,t.bounds.y+t.commentMargin-M.height),T.move(k),T=T.Sd();T.next();)A=T.value,A.fromSpot=Zr,A.toSpot=Ur;y=0<=t.commentSpacing?y+(M.width+t.commentSpacing):y+(t.commentSpacing-M.width)}}if(F.free(k),i=y-t.commentSpacing-(l?i.height:i.width),this.ud===nl)for(t=t.destinationEdges;t.next();)u=t.value.link,u===null||u.isAvoiding||(u.fromEndSegmentLength=0<i?i:NaN);else for(t=t.sourceEdges;t.next();)u=t.value.link,u===null||u.isAvoiding||(u.toEndSegmentLength=0<i?i:NaN)}},Bt.prototype.layoutTree=function(t){if(t!==null){for(var i=t.children,s=i.length,l=0;l<s;l++)this.layoutTree(i[l]);switch(t.compaction){case F1:vI(this,t);break;case W0:if(t.alignment===ol)vI(this,t);else if(t.childrenCount===0)l=t.parent,s=!1,i=0,l!==null&&(i=l.angle,s=l.alignment,s=Iu(s)),l=eC(t),t.S.h(0,0),t.Da.h(t.width,t.height),t.parent===null||t.comments===null||(i!==180&&i!==270||s)&&!l?t.la.h(0,0):i===180&&!s||(i===90||i===270)&&l?t.la.h(t.width-2*t.focus.x,0):t.la.h(0,t.height-2*t.focus.y),t.Xo=null,t.jp=null;else{var u=Ts(t);i=u===90||u===270;var c=0,d=t.children,m=d.length;for(s=0;s<m;s++)l=d[s],c=Math.max(c,i?l.Da.width:l.Da.height);var y=t.alignment;l=y===rl;var O=y===sl,w=Iu(y),k=Math.max(0,t.breadthLimit);s=this.computeLayerSpacing(t);var P=t.nodeSpacing,T=this.computeNodeIndent(t),M=t.rowSpacing,A=0;(l||O||t.gm||t.hm&&t.maxGenerationCount===1)&&(A=Math.max(0,t.rowIndent)),l=t.width;var I=t.height,L=0,z=0,X=0,_=null,Y=null,G=0,ut=0,gt=0,mt=0,st=0,et=0,Rt=0,Qt=0;if(w&&!_0(y)&&135<u&&d.reverse(),_0(y))if(1<m)for(var Gt=0;Gt<m;Gt++)Gt%2===0&&Gt!==m-1&&(Qt=Math.max(Qt,i?d[Gt].Da.width:d[Gt].Da.height));else m===1&&(Qt=i?d[0].Da.width:d[0].Da.height);if(w){switch(y){case Aa:z=135>u?xI(this,t,d,Qt,L,z):wI(this,t,d,Qt,L,z),Qt=z.x,L=z.width,z=z.height;break;case ja:for(_=0;_<m;_++)Y=d[_],k=Y.Da,X=et===0?0:M,i?(Y.S.h(c-k.width,mt+X),L=Math.max(L,k.width),z=Math.max(z,mt+X+k.height),mt+=X+k.height):(Y.S.h(gt+X,c-k.height),L=Math.max(L,gt+X+k.width),z=Math.max(z,k.height),gt+=X+k.width),et++;break;case Fl:for(_=0;_<m;_++)Y=d[_],c=Y.Da,k=et===0?0:M,i?(Y.S.h(P/2+t.focus.x,mt+k),L=Math.max(L,c.width),z=Math.max(z,mt+k+c.height),mt+=k+c.height):(Y.S.h(gt+k,P/2+t.focus.y),L=Math.max(L,gt+k+c.width),z=Math.max(z,c.height),gt+=k+c.width),et++}_=Bn(this,2),Y=Bn(this,2),i?(_[0].h(0,0),_[1].h(0,z),Y[0].h(L,0)):(_[0].h(0,0),_[1].h(L,0),Y[0].h(0,z)),Y[1].h(L,z)}else for(Gt=0;Gt<m;Gt++){var ce=d[Gt],ai=ce.Da;if(i){0<k&&0<et&&gt+P+ai.width>k&&(gt<c&&Zh(t,y,c-gt,0,Rt,Gt-1),st++,et=0,Rt=Gt,X=z,gt=0,mt=135<u?-z-M:z+M),$1(this,ce,0,mt);var di=0;if(et===0)_=ce.Xo,Y=ce.jp,G=ai.width,ut=ai.height,(_===null||Y===null||u!==Ts(ce))&&(_=Bn(this,2),Y=Bn(this,2),_[0].h(0,0),_[1].h(0,ut),Y[0].h(G,0),Y[1].h(G,ut));else{var nn=St();ut=SI(this,t,ce,_,Y,G,ut,nn),di=ut.x,_=nn[0],Y=nn[1],G=ut.width,ut=ut.height,dt(nn),gt<ai.width&&0>di&&(Nf(t,-di,0,Rt,Gt-1),D1(_,-di,0),D1(Y,-di,0),di=0)}ce.S.h(di,mt),L=Math.max(L,G),z=Math.max(z,X+(st===0?0:M)+ai.height),gt=G}else 0<k&&0<et&&mt+P+ai.height>k&&(mt<c&&Zh(t,y,0,c-mt,Rt,Gt-1),st++,et=0,Rt=Gt,X=L,mt=0,gt=135<u?-L-M:L+M),$1(this,ce,gt,0),di=0,et===0?(_=ce.Xo,Y=ce.jp,G=ai.width,ut=ai.height,(_===null||Y===null||u!==Ts(ce))&&(_=Bn(this,2),Y=Bn(this,2),_[0].h(0,0),_[1].h(G,0),Y[0].h(0,ut),Y[1].h(G,ut))):(nn=St(),ut=SI(this,t,ce,_,Y,G,ut,nn),di=ut.x,_=nn[0],Y=nn[1],G=ut.width,ut=ut.height,dt(nn),mt<ai.height&&0>di&&(Nf(t,0,-di,Rt,Gt-1),D1(_,0,-di),D1(Y,0,-di),di=0)),ce.S.h(gt,di),z=Math.max(z,ut),L=Math.max(L,X+(st===0?0:M)+ai.width),mt=ut;et++}switch(0<st&&(i?(z+=Math.max(0,s),gt<L&&Zh(t,y,L-gt,0,Rt,m-1),0<A&&(O||Nf(t,A,0,0,m-1),L+=A)):(L+=Math.max(0,s),mt<z&&Zh(t,y,0,z-mt,Rt,m-1),0<A&&(O||Nf(t,0,A,0,m-1),z+=A))),A=O=0,y){case Dp:i?O+=L/2-t.focus.x-T/2:A+=z/2-t.focus.y-T/2;break;case jf:0<st?i?O+=L/2-t.focus.x-T/2:A+=z/2-t.focus.y-T/2:i?(Qt=d[0].S.x+d[0].la.x,O+=Qt+(d[m-1].S.x+d[m-1].la.x+2*d[m-1].focus.x-Qt)/2-t.focus.x-T/2):(Qt=d[0].S.y+d[0].la.y,A+=Qt+(d[m-1].S.y+d[m-1].la.y+2*d[m-1].focus.y-Qt)/2-t.focus.y-T/2);break;case rl:i?(O-=T,L+=T):(A-=T,z+=T);break;case sl:i?(O+=L-t.width+T,L+=T):(A+=z-t.height+T,z+=T);break;case Aa:i?1<m?O+=Qt+P/2-t.focus.x:O+=d[0].focus.x-t.focus.x+d[0].la.x:1<m?A+=Qt+P/2-t.focus.y:A+=d[0].focus.y-t.focus.y+d[0].la.y;break;case ja:i?O+=L+P/2-t.focus.x:A+=z+P/2-t.focus.y;break;case Fl:break;default:z=this.customAlignment(t,O,A,L,z),O=z[0],A=z[1],L=z[2],z=z[3]}for(T=0;T<m;T++)Qt=d[T],i?Qt.S.h(Qt.S.x+Qt.la.x-O,Qt.S.y+(135<u?(w?-z:-Qt.Da.height)+Qt.la.y-s:I+s+Qt.la.y)):Qt.S.h(Qt.S.x+(135<u?(w?-L:-Qt.Da.width)+Qt.la.x-s:l+s+Qt.la.x),Qt.S.y+Qt.la.y-A);if(m=d=0,w?i?(L=iC(t,L,O),0>O&&(O=0),135<u&&(A+=z+s),z+=I+s,y===Fl&&(d+=P/2+t.focus.x),m+=I+s):(135<u&&(O+=L+s),L+=l+s,z=nC(t,z,A),0>A&&(A=0),y===Fl&&(m+=P/2+t.focus.y),d+=l+s):i?(t.comments===null?l>L&&(L=rC(y,l-L,0),d=L.x,m=L.y,L=l,O=0):L=iC(t,L,O),0>O&&(d-=O,O=0),135<u&&(A+=z+s),z=Math.max(Math.max(z,I),z+I+s),m+=I+s):(135<u&&(O+=L+s),L=Math.max(Math.max(L,l),L+l+s),t.comments===null?I>z&&(z=rC(y,0,I-z),d=z.x,m=z.y,z=I,A=0):z=nC(t,z,A),0>A&&(m-=A,A=0),d+=l+s),0<st)u=Bn(this,4),st=Bn(this,4),i?(u[2].h(0,I+s),u[3].h(u[2].x,z),st[2].h(L,u[2].y),st[3].h(st[2].x,u[3].y)):(u[2].h(l+s,0),u[3].h(L,u[2].y),st[2].h(u[2].x,z),st[3].h(u[3].x,st[2].y));else{for(u=Bn(this,_.length+2),st=Bn(this,Y.length+2),y=0;y<_.length;y++)w=_[y],u[y+2].h(w.x+d,w.y+m);for(y=0;y<Y.length;y++)w=Y[y],st[y+2].h(w.x+d,w.y+m)}i?(u[0].h(O,0),u[1].h(u[0].x,I),u[2].y<u[1].y&&(u[2].x>u[0].x?u[2].assign(u[1]):u[1].assign(u[2])),u[3].y<u[2].y&&(u[3].x>u[0].x?u[3].assign(u[2]):u[2].assign(u[3])),st[0].h(O+l,0),st[1].h(st[0].x,I),st[2].y<st[1].y&&(st[2].x<st[0].x?st[2].assign(st[1]):st[1].assign(st[2])),st[3].y<st[2].y&&(st[3].x<st[0].x?st[3].assign(st[2]):st[2].assign(st[3])),u[2].y-=s/2,st[2].y-=s/2):(u[0].h(0,A),u[1].h(l,u[0].y),u[2].x<u[1].x&&(u[2].y>u[0].y?u[2].assign(u[1]):u[1].assign(u[2])),u[3].x<u[2].x&&(u[3].y>u[0].y?u[3].assign(u[2]):u[2].assign(u[3])),st[0].h(0,A+I),st[1].h(l,st[0].y),st[2].x<st[1].x&&(st[2].y<st[0].y?st[2].assign(st[1]):st[1].assign(st[2])),st[3].x<st[2].x&&(st[3].y<st[0].y?st[3].assign(st[2]):st[2].assign(st[3])),u[2].x-=s/2,st[2].x-=s/2),Ws(this,_),Ws(this,Y),t.Xo=u,t.jp=st,t.la.h(O,A),t.Da.h(L,z)}break;default:D("Unhandled compaction value "+t.compaction.toString())}}};function vI(t,i){if(i.childrenCount===0){var s=!1,l=0;i.parent!==null&&(l=i.parent.angle,s=i.parent.alignment,s=Iu(s));var u=eC(i);i.S.h(0,0),i.Da.h(i.width,i.height),i.parent===null||i.comments===null||(l!==180&&l!==270||s)&&!u?i.la.h(0,0):l===180&&!s||(l===90||l===270)&&u?i.la.h(i.width-2*i.focus.x,0):i.la.h(0,i.height-2*i.focus.y)}else{l=Ts(i),s=l===90||l===270;var c=0;u=i.children;for(var d=u.length,m=0;m<d;m++){var y=u[m];c=Math.max(c,s?y.Da.width:y.Da.height)}var O=i.alignment,w=O===rl,k=O===sl;m=Iu(O);var P=Math.max(0,i.breadthLimit);y=t.computeLayerSpacing(i);var T=i.nodeSpacing,M=t.computeNodeIndent(i),A=w||k?0:M/2,I=i.rowSpacing,L=0;(w||k||i.gm||i.hm&&i.maxGenerationCount===1)&&(L=Math.max(0,i.rowIndent)),w=i.width;var z=i.height,X=0,_=0,Y=0,G=0,ut=0,gt=0,mt=0,st=0,et=0,Rt=0;if(m&&!_0(O)&&135<l&&u.reverse(),_0(O))if(1<d)for(var Qt=0;Qt<d;Qt++){var Gt=u[Qt],ce=Gt.Da;Qt%2===0&&Qt!==d-1?et=Math.max(et,(s?ce.width:ce.height)+t.computeBusNodeSpacing(Gt)-T):Qt%2!==0&&(Rt=Math.max(Rt,(s?ce.width:ce.height)+t.computeBusNodeSpacing(Gt)-T))}else d===1&&(et=s?u[0].Da.width:u[0].Da.height);if(m)switch(O){case Aa:case ol:_=135>l?xI(t,i,u,et,X,_):wI(t,i,u,et,X,_),et=_.x,X=_.width,_=_.height;break;case ja:for(P=0;P<d;P++)A=u[P],Y=A.Da,Rt=mt===0?0:I,s?(A.S.h(c-Y.width,ut+Rt),X=Math.max(X,Y.width),_=Math.max(_,ut+Rt+Y.height),ut+=Rt+Y.height):(A.S.h(G+Rt,c-Y.height),X=Math.max(X,G+Rt+Y.width),_=Math.max(_,Y.height),G+=Rt+Y.width),mt++;break;case Fl:for(c=0;c<d;c++)P=u[c],A=P.Da,Y=mt===0?0:I,s?(P.S.h(T/2+i.focus.x,ut+Y),X=Math.max(X,A.width),_=Math.max(_,ut+Y+A.height),ut+=Y+A.height):(P.S.h(G+Y,T/2+i.focus.y),X=Math.max(X,G+Y+A.width),_=Math.max(_,A.height),G+=Y+A.width),mt++}else for(Rt=0;Rt<d;Rt++)Qt=u[Rt],Gt=Qt.Da,s?(0<P&&0<mt&&G+T+Gt.width>P&&(G<c&&Zh(i,O,c-G,0,st,Rt-1),gt++,mt=0,st=Rt,Y=_,G=0,ut=135<l?-_-I:_+I),ce=mt===0?A:T,$1(t,Qt,0,ut),Qt.S.h(G+ce,ut),X=Math.max(X,G+ce+Gt.width),_=Math.max(_,Y+(gt===0?0:I)+Gt.height),G+=ce+Gt.width):(0<P&&0<mt&&ut+T+Gt.height>P&&(ut<c&&Zh(i,O,0,c-ut,st,Rt-1),gt++,mt=0,st=Rt,Y=X,ut=0,G=135<l?-X-I:X+I),ce=mt===0?A:T,$1(t,Qt,G,0),Qt.S.h(G,ut+ce),_=Math.max(_,ut+ce+Gt.height),X=Math.max(X,Y+(gt===0?0:I)+Gt.width),ut+=ce+Gt.height),mt++;switch(0<gt&&(s?(_+=Math.max(0,y),G<X&&Zh(i,O,X-G,0,st,d-1),0<L&&(k||Nf(i,L,0,0,d-1),X+=L)):(X+=Math.max(0,y),ut<_&&Zh(i,O,0,_-ut,st,d-1),0<L&&(k||Nf(i,0,L,0,d-1),_+=L))),L=k=0,O){case Dp:s?k+=X/2-i.focus.x-M/2:L+=_/2-i.focus.y-M/2;break;case jf:0<gt?s?k+=X/2-i.focus.x-M/2:L+=_/2-i.focus.y-M/2:s?(t=u[0].S.x+u[0].la.x,k+=t+(u[d-1].S.x+u[d-1].la.x+2*u[d-1].focus.x-t)/2-i.focus.x-M/2):(t=u[0].S.y+u[0].la.y,L+=t+(u[d-1].S.y+u[d-1].la.y+2*u[d-1].focus.y-t)/2-i.focus.y-M/2);break;case rl:s?(k-=M,X+=M):(L-=M,_+=M);break;case sl:s?(k+=X-i.width+M,X+=M):(L+=_-i.height+M,_+=M);break;case Aa:case ol:s?1<d?k+=et+T/2-i.focus.x:k+=u[0].focus.x-i.focus.x+u[0].la.x:1<d?L+=et+T/2-i.focus.y:L+=u[0].focus.y-i.focus.y+u[0].la.y;break;case ja:s?k+=X+T/2-i.focus.x:L+=_+T/2-i.focus.y;break;case Fl:break;default:t=t.customAlignment(i,k,L,X,_),k=t[0],L=t[1],X=t[2],_=t[3]}for(t=0;t<d;t++)M=u[t],s?M.S.h(M.S.x+M.la.x-k,M.S.y+(135<l?(m?-_:-M.Da.height)+M.la.y-y:z+y+M.la.y)):M.S.h(M.S.x+(135<l?(m?-X:-M.Da.width)+M.la.x-y:w+y+M.la.x),M.S.y+M.la.y-L);s?(X=iC(i,X,k),0>k&&(k=0),135<l&&(L+=_+y),_=Math.max(Math.max(_,z),_+z+y)):(135<l&&(k+=X+y),X=Math.max(Math.max(X,w),X+w+y),_=nC(i,_,L),0>L&&(L=0)),i.la.h(k,L),i.Da.h(X,_)}}Bt.prototype.customAlignment=function(t,i,s,l,u){return[i,s,l,u]};function xI(t,i,s,l,u,c){var d=s.length;if(d===0)return new tt(l,0,u,c);if(d===1)return i=s[0],u=i.Da.width,c=i.Da.height,new tt(l,0,u,c);for(var m=i.nodeSpacing,y=i.rowSpacing,O=Ts(i)===90,w=0,k=0,P=0,T=0;T<d;T++)if(!(T%2!==0||1<d&&T===d-1)){var M=s[T],A=M.Da,I=w===0?0:y;if(O){var L=t.computeBusNodeSpacing(M)-m;M.S.h(l-(A.width+L),P+I),u=Math.max(u,A.width+L),c=Math.max(c,P+I+A.height),P+=I+A.height}else L=t.computeBusNodeSpacing(M)-m,M.S.h(k+I,l-(A.height+L)),c=Math.max(c,A.height+L),u=Math.max(u,k+I+A.width),k+=I+A.width;w++}for(w=0,M=k,T=P,O?(k=l+m,P=0):(k=0,P=l+m),A=0;A<d;A++)if(A%2!==0){I=s[A],L=I.Da;var z=w===0?0:y;if(O){var X=t.computeBusNodeSpacing(I)-m;I.S.h(k+X,P+z),u=Math.max(u,k+L.width+X),c=Math.max(c,P+z+L.height),P+=z+L.height}else X=t.computeBusNodeSpacing(I)-m,I.S.h(k+z,P+X),u=Math.max(u,k+z+L.width),c=Math.max(c,P+L.height+X),k+=z+L.width;w++}return 1<d&&d%2===1&&(s=s[d-1],d=s.Da,t=t.computeBusLastRowSpacing(s,O?Math.max(Math.abs(T),Math.abs(P)):Math.max(Math.abs(M),Math.abs(k))),O?(s.S.h(l+m/2-s.focus.x-s.la.x,c+t),O=l+m/2-s.focus.x-s.la.x,u=Math.max(u,O+d.width),0>O&&(u-=O),c=Math.max(c,Math.max(T,P)+t+d.height),0>s.S.x&&(l=L1(i,s.S.x,!1,l,m))):(s.S.h(u+t,l+m/2-s.focus.y-s.la.y),u=Math.max(u,Math.max(M,k)+t+d.width),P=l+m/2-s.focus.y-s.la.y,c=Math.max(c,P+d.height),0>P&&(c-=P),0>s.S.y&&(l=L1(i,s.S.y,!0,l,m)))),new tt(l,0,u,c)}function wI(t,i,s,l,u,c){var d=s.length;if(d===0)return new tt(l,0,u,c);if(d===1)return s=s[0],u=s.Da.width,c=s.Da.height,new tt(l,0,u,c);for(var m=i.nodeSpacing,y=i.rowSpacing,O=Ts(i)===270,w=0,k=0,P=0,T=0;T<d;T++)if(!(T%2!==0||1<d&&T===d-1)){var M=s[T],A=M.Da,I=w===0?0:y;if(O){var L=t.computeBusNodeSpacing(M)-m;P-=I+A.height,M.S.h(l-(A.width+L),P),u=Math.max(u,A.width+L),c=Math.max(c,Math.abs(P))}else L=t.computeBusNodeSpacing(M)-m,k-=I+A.width,M.S.h(k,l-(A.height+L)),c=Math.max(c,A.height+L),u=Math.max(u,Math.abs(k));w++}for(w=0,M=k,T=P,O?(k=l+m,P=0):(k=0,P=l+m),A=0;A<d;A++)if(A%2!==0){I=s[A],L=I.Da;var z=w===0?0:y;if(O){var X=t.computeBusNodeSpacing(I)-m;P-=z+L.height,I.S.h(k+X,P),u=Math.max(u,k+L.width+X),c=Math.max(c,Math.abs(P))}else X=t.computeBusNodeSpacing(I)-m,k-=z+L.width,I.S.h(k,P+X),c=Math.max(c,P+L.height+X),u=Math.max(u,Math.abs(k));w++}for(1<d&&d%2===1&&(y=s[d-1],w=y.Da,t=t.computeBusLastRowSpacing(y,O?Math.max(Math.abs(T),Math.abs(P)):Math.max(Math.abs(M),Math.abs(k))),O?(y.S.h(l+m/2-y.focus.x-y.la.x,-c-w.height-t),k=l+m/2-y.focus.x-y.la.x,u=Math.max(u,k+w.width),0>k&&(u-=k),c=Math.max(c,Math.abs(Math.min(T,P))+t+w.height),0>y.S.x&&(l=L1(i,y.S.x,!1,l,m))):(y.S.h(-u-w.width-t,l+m/2-y.focus.y-y.la.y),u=Math.max(u,Math.abs(Math.min(M,k))+t+w.width),P=l+m/2-y.focus.y-y.la.y,c=Math.max(c,P+w.height),0>P&&(c-=P),0>y.S.y&&(l=L1(i,y.S.y,!0,l,m)))),i=0;i<d;i++)m=s[i],O?m.S.h(m.S.x,m.S.y+c):m.S.h(m.S.x+u,m.S.y);return new tt(l,0,u,c)}Bt.prototype.computeBusNodeSpacing=function(t){return t.parent===null?0:t.parent.nodeSpacing},Bt.prototype.computeBusLastRowSpacing=function(t){return t.parent===null?0:t.parent.rowSpacing};function L1(t,i,s,l,u){t=t.children;for(var c=t.length,d=0;d<c;d++)s?t[d].S.h(t[d].S.x,t[d].S.y-i):t[d].S.h(t[d].S.x-i,t[d].S.y);return i=t[c-1],Math.max(l,s?i.la.y+i.focus.y-u/2:i.la.x+i.focus.x-u/2)}function iC(t,i,s){switch(t.alignment){case jf:case Dp:return s+t.width>i&&(i=s+t.width),0>s&&(i-=s),i;case rl:return t.width>i?t.width:i;case sl:return 2*t.focus.x>i?t.width:i+t.width-2*t.focus.x;case Aa:case ol:return Math.max(t.width,Math.max(i,s+t.width)-Math.min(0,s));case ja:return t.width-t.focus.x+t.nodeSpacing/2+i;case Fl:return Math.max(t.width,t.focus.x+t.nodeSpacing/2+i);default:return i}}function nC(t,i,s){switch(t.alignment){case jf:case Dp:return s+t.height>i&&(i=s+t.height),0>s&&(i-=s),i;case rl:return t.height>i?t.height:i;case sl:return 2*t.focus.y>i?t.height:i+t.height-2*t.focus.y;case Aa:case ol:return Math.max(t.height,Math.max(i,s+t.height)-Math.min(0,s));case ja:return t.height-t.focus.y+t.nodeSpacing/2+i;case Fl:return Math.max(t.height,t.focus.y+t.nodeSpacing/2+i);default:return i}}function rC(t,i,s){switch(t){case Dp:i/=2,s/=2;break;case jf:i/=2,s/=2;break;case rl:s=i=0;break;case sl:break;default:D("Unhandled alignment value "+t.toString())}return new F(i,s)}function Zh(t,i,s,l,u,c){i=rC(i,s,l),Nf(t,i.x,i.y,u,c)}function Nf(t,i,s,l,u){if(i!==0||s!==0)for(t=t.children;l<=u;l++){var c=t[l].S;c.x+=i,c.y+=s}}function $1(t,i,s,l){var u=i.parent;switch(t.ud){case nl:for(t=i.sourceEdges;t.next();)i=t.value,i.fromVertex===u&&i.relativePoint.h(s,l);break;case Af:for(t=i.destinationEdges;t.next();)i=t.value,i.toVertex===u&&i.relativePoint.h(s,l);break;default:D("Unhandled path value "+t.ud.toString())}}function D1(t,i,s){for(var l=0;l<t.length;l++){var u=t[l];u.x+=i,u.y+=s}}function SI(t,i,s,l,u,c,d,m){var y=Ts(i),O=y===90||y===270,w=i.nodeSpacing;i=l;var k=u;l=c;var P=d,T=s.Xo,M=s.jp;d=s.Da;var A=O?Math.max(P,d.height):Math.max(l,d.width);if((T===null||y!==Ts(s))&&(T=Bn(t,2),M=Bn(t,2),O?(T[0].h(0,0),T[1].h(0,d.height),M[0].h(d.width,0),M[1].h(M[0].x,T[1].y)):(T[0].h(0,0),T[1].h(d.width,0),M[0].h(0,d.height),M[1].h(T[1].x,M[0].y))),O){if(P=9999999,!(k===null||2>k.length||T===null||2>T.length))for(u=s=0;s<k.length&&u<T.length;){c=k[s];var I=T[u];y=I.x,O=I.y,y+=l;var L=c;s+1<k.length&&(L=k[s+1]);var z=I;I=z.x,z=z.y,u+1<T.length&&(z=T[u+1],I=z.x,z=z.y,I+=l);var X=P;c.y===O?X=y-c.x:c.y>O&&c.y<z?X=y+(c.y-O)/(z-O)*(I-y)-c.x:O>c.y&&O<L.y&&(X=y-(c.x+(O-c.y)/(L.y-c.y)*(L.x-c.x))),X<P&&(P=X),L.y<=c.y?s++:z<=O?u++:(L.y<=z&&s++,z<=L.y&&u++)}if(P=l-P,P+=w,s=T,u=P,i===null||2>i.length||s===null||2>s.length)l=null;else{for(w=Bn(t,i.length+s.length),l=c=y=0;c<s.length&&s[c].y<i[0].y;)O=s[c++],w[l++].h(O.x+u,O.y);for(;y<i.length;)O=i[y++],w[l++].h(O.x,O.y);for(y=i[i.length-1].y;c<s.length&&s[c].y<=y;)c++;for(;c<s.length&&s[c].y>y;)O=s[c++],w[l++].h(O.x+u,O.y);for(s=Bn(t,l),y=0;y<l;y++)s[y].assign(w[y]);Ws(t,w),l=s}if(c=M,y=P,k===null||2>k.length||c===null||2>c.length)u=null;else{for(w=Bn(t,k.length+c.length),u=O=s=0;s<k.length&&k[s].y<c[0].y;)L=k[s++],w[u++].h(L.x,L.y);for(;O<c.length;)L=c[O++],w[u++].h(L.x+y,L.y);for(c=c[c.length-1].y;s<k.length&&k[s].y<=c;)s++;for(;s<k.length&&k[s].y>c;)y=k[s++],w[u++].h(y.x,y.y);for(c=Bn(t,u),s=0;s<u;s++)c[s].assign(w[s]);Ws(t,w),u=c}return c=Math.max(0,P)+d.width,d=A,Ws(t,i),Ws(t,T),Ws(t,k),Ws(t,M),m[0]=l,m[1]=u,new tt(P,0,c,d)}if(l=9999999,!(k===null||2>k.length||T===null||2>T.length))for(u=s=0;s<k.length&&u<T.length;)c=k[s],I=T[u],y=I.x,O=I.y,O+=P,L=c,s+1<k.length&&(L=k[s+1]),z=I,I=z.x,z=z.y,u+1<T.length&&(z=T[u+1],I=z.x,z=z.y,z+=P),X=l,c.x===y?X=O-c.y:c.x>y&&c.x<I?X=O+(c.x-y)/(I-y)*(z-O)-c.y:y>c.x&&y<L.x&&(X=O-(c.y+(y-c.x)/(L.x-c.x)*(L.y-c.y))),X<l&&(l=X),L.x<=c.x?s++:I<=y?u++:(L.x<=I&&s++,I<=L.x&&u++);if(P-=l,P+=w,s=T,u=P,i===null||2>i.length||s===null||2>s.length)l=null;else{for(w=Bn(t,i.length+s.length),l=c=y=0;c<s.length&&s[c].x<i[0].x;)O=s[c++],w[l++].h(O.x,O.y+u);for(;y<i.length;)O=i[y++],w[l++].h(O.x,O.y);for(y=i[i.length-1].x;c<s.length&&s[c].x<=y;)c++;for(;c<s.length&&s[c].x>y;)O=s[c++],w[l++].h(O.x,O.y+u);for(s=Bn(t,l),y=0;y<l;y++)s[y].assign(w[y]);Ws(t,w),l=s}if(c=M,y=P,k===null||2>k.length||c===null||2>c.length)u=null;else{for(w=Bn(t,k.length+c.length),u=O=s=0;s<k.length&&k[s].x<c[0].x;)L=k[s++],w[u++].h(L.x,L.y);for(;O<c.length;)L=c[O++],w[u++].h(L.x,L.y+y);for(c=c[c.length-1].x;s<k.length&&k[s].x<=c;)s++;for(;s<k.length&&k[s].x>c;)y=k[s++],w[u++].h(y.x,y.y);for(c=Bn(t,u),s=0;s<u;s++)c[s].assign(w[s]);Ws(t,w),u=c}return c=A,d=Math.max(0,P)+d.height,Ws(t,i),Ws(t,T),Ws(t,k),Ws(t,M),m[0]=l,m[1]=u,new tt(P,0,c,d)}function Bn(t,i){if(t=t.qu[i],t!==void 0&&(t=t.pop(),t!==void 0))return t;t=[];for(var s=0;s<i;s++)t[s]=new F;return t}function Ws(t,i){var s=i.length,l=t.qu[s];l===void 0&&(l=[],t.qu[s]=l),l.push(i)}Bt.prototype.arrangeTrees=function(){if(this.Sb===X1)for(var t=this.Vb.iterator;t.next();){var i=t.value;if(i instanceof Kr){var s=i.node;if(s!==null){var l=s.position;s=l.x,l=l.y,isFinite(s)||(s=0),isFinite(l)||(l=0),sC(this,i,s,l)}}}else{for(t=[],i=this.Vb.iterator;i.next();)s=i.value,s instanceof Kr&&t.push(s);switch(this.sorting){case $p:break;case Z0:t.reverse();break;case Y0:t.sort(this.comparer);break;case U0:t.sort(this.comparer),t.reverse();break;default:D("Unhandled sorting value "+this.sorting.toString())}for(s=this.arrangementOrigin,i=s.x,s=s.y,l=0;l<t.length;l++){var u=t[l];switch(sC(this,u,i+u.la.x,s+u.la.y),this.Sb){case z1:s+=u.Da.height+this.$d.height;break;case uC:i+=u.Da.width+this.$d.width;break;default:D("Unhandled arrangement value "+this.Sb.toString())}}}};function sC(t,i,s,l){if(i!==null){i.x=s,i.y=l,i=i.children;for(var u=i.length,c=0;c<u;c++){var d=i[c];sC(t,d,s+d.S.x,l+d.S.y)}}}Bt.prototype.commitLayout=function(){this.yv(),this.commitNodes(),this.Gu(),this.isRouting&&this.commitLinks()},Bt.prototype.commitNodes=function(){for(var t=this.network.vertexes.iterator;t.next();)t.value.commit();for(t.reset();t.next();)this.layoutComments(t.value)},Bt.prototype.Gu=function(){if(this.layerStyle===B1){for(var t=this.$v,i=[],s=null,l=this.network.vertexes.iterator;l.next();){var u=l.value;s===null?s=u.bounds.copy():s.ed(u.bounds);var c=i[u.level];c===void 0?c=this.computeLayerSpacing(u):c=Math.max(c,this.computeLayerSpacing(u)),i[u.level]=c}for(l=0;l<i.length;l++)i[l]===void 0&&(i[l]=0);if(this.angle===90||this.angle===270?(s.Bc(this.nodeSpacing/2,this.layerSpacing),l=new F(-this.nodeSpacing/2,-this.layerSpacing/2)):(s.Bc(this.layerSpacing,this.nodeSpacing/2),l=new F(-this.layerSpacing/2,-this.nodeSpacing/2)),u=[],s=this.angle===90||this.angle===270?s.width:s.height,c=0,this.angle===180||this.angle===270)for(var d=0;d<t.length;d++)c+=t[d]+i[d];for(d=0;d<t.length;d++){var m=t[d]+i[d];this.angle===270?(c-=m,u.push(new tt(0,c,s,m))):this.angle===90?(u.push(new tt(0,c,s,m)),c+=m):this.angle===180?(c-=m,u.push(new tt(c,0,m,s))):(u.push(new tt(c,0,m,s)),c+=m)}this.commitLayers(u,l)}},Bt.prototype.commitLayers=function(){},Bt.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},Bt.prototype.yv=function(){for(var t=this.Vb.iterator;t.next();){var i=t.value;i instanceof Kr&&kI(this,i)}};function kI(t,i){if(i!==null){t.setPortSpots(i),i=i.children;for(var s=i.length,l=0;l<s;l++)kI(t,i[l])}}Bt.prototype.setPortSpots=function(t){var i=t.alignment;if(Iu(i)){var s=this.ud===nl,l=Ts(t);switch(l){case 0:var u=Kn;break;case 90:u=Ur;break;case 180:u=Yr;break;default:u=Zr}var c=t.children,d=c.length;switch(i){case Aa:case ol:for(i=0;i<d;i++){var m=c[i];if(m=(s?m.sourceEdges:m.destinationEdges).first(),m!==null&&(m=m.link,m!==null)){var y=l===90||l===270?Yr:Zr;if(d===1||i===d-1&&d%2===1)switch(l){case 0:y=Yr;break;case 90:y=Zr;break;case 180:y=Kn;break;default:y=Ur}else i%2===0&&(y=l===90||l===270?Kn:Ur);s?(t.setsPortSpot&&(m.fromSpot=u),t.setsChildPortSpot&&(m.toSpot=y)):(t.setsPortSpot&&(m.fromSpot=y),t.setsChildPortSpot&&(m.toSpot=u))}}break;case ja:for(l=l===90||l===270?Kn:Ur,c=s?t.destinationEdges:t.sourceEdges;c.next();)d=c.value.link,d!==null&&(s?(t.setsPortSpot&&(d.fromSpot=u),t.setsChildPortSpot&&(d.toSpot=l)):(t.setsPortSpot&&(d.fromSpot=l),t.setsChildPortSpot&&(d.toSpot=u)));break;case Fl:for(l=l===90||l===270?Yr:Zr,c=s?t.destinationEdges:t.sourceEdges;c.next();)d=c.value.link,d!==null&&(s?(t.setsPortSpot&&(d.fromSpot=u),t.setsChildPortSpot&&(d.toSpot=l)):(t.setsPortSpot&&(d.fromSpot=l),t.setsChildPortSpot&&(d.toSpot=u)))}}else if(s=Ts(t),this.ud===nl){for(u=t.destinationEdges;u.next();)if(l=u.value.link,l!==null){if(t.setsPortSpot)if(t.portSpot.Yb())switch(s){case 0:l.fromSpot=Kn;break;case 90:l.fromSpot=Ur;break;case 180:l.fromSpot=Yr;break;default:l.fromSpot=Zr}else l.fromSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Yb())switch(s){case 0:l.toSpot=Yr;break;case 90:l.toSpot=Zr;break;case 180:l.toSpot=Kn;break;default:l.toSpot=Ur}else l.toSpot=t.childPortSpot}}else for(u=t.sourceEdges;u.next();)if(l=u.value.link,l!==null){if(t.setsPortSpot)if(t.portSpot.Yb())switch(s){case 0:l.toSpot=Kn;break;case 90:l.toSpot=Ur;break;case 180:l.toSpot=Yr;break;default:l.toSpot=Zr}else l.toSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Yb())switch(s){case 0:l.fromSpot=Yr;break;case 90:l.fromSpot=Zr;break;case 180:l.fromSpot=Kn;break;default:l.fromSpot=Ur}else l.fromSpot=t.childPortSpot}};function Ts(t){return t=t.angle,45>=t?0:135>=t?90:225>=t?180:315>=t?270:0}Bt.prototype.computeLayerSpacing=function(t){var i=Ts(t);i=i===90||i===270;var s=t.layerSpacing;if(0<t.layerSpacingParentOverlap){var l=Math.min(1,t.layerSpacingParentOverlap);s-=i?t.height*l:t.width*l}return s<(i?-t.height:-t.width)&&(s=i?-t.height:-t.width),s},Bt.prototype.computeNodeIndent=function(t){var i=Ts(t),s=t.nodeIndent;if(0<t.nodeIndentPastParent){var l=Math.min(1,t.nodeIndentPastParent);s+=i===90||i===270?t.width*l:t.height*l}return s=Math.max(0,s)},S.Object.defineProperties(Bt.prototype,{roots:{get:function(){return this.Vb},set:function(t){this.Vb!==t&&(this.Vb=t,this.C())}},path:{get:function(){return this.Vn},set:function(t){this.Vn!==t&&(this.Vn=t,this.C())}},treeStyle:{get:function(){return this.uo},set:function(t){this.Sb===t||t!==V1&&t!==lC&&t!==oC&&t!==aC||(this.uo=t,this.C())}},layerStyle:{get:function(){return this.Aq},set:function(t){this.Sb===t||t!==hC&&t!==cC&&t!==B1||(this.Aq=t,this.C())}},comments:{get:function(){return this.td},set:function(t){this.td!==t&&(this.td=t,this.C())}},arrangement:{get:function(){return this.Sb},set:function(t){this.Sb===t||t!==z1&&t!==uC&&t!==X1||(this.Sb=t,this.C())}},arrangementSpacing:{get:function(){return this.$d},set:function(t){this.$d.D(t)||(this.$d.assign(t),this.C())}},rootDefaults:{get:function(){return this.W},set:function(t){this.W!==t&&(this.W=t,this.C())}},alternateDefaults:{get:function(){return this.Y},set:function(t){this.Y!==t&&(this.Y=t,this.C())}},sorting:{get:function(){return this.W.sorting},set:function(t){this.W.sorting===t||t!==$p&&t!==Z0&&t!==Y0&&!U0||(this.W.sorting=t,this.C())}},comparer:{get:function(){return this.W.comparer},set:function(t){this.W.comparer!==t&&(this.W.comparer=t,this.C())}},angle:{get:function(){return this.W.angle},set:function(t){this.W.angle!==t&&(t===0||t===90||t===180||t===270?(this.W.angle=t,this.C()):D("TreeLayout.angle must be 0, 90, 180, or 270"))}},alignment:{get:function(){return this.W.alignment},set:function(t){this.W.alignment!==t&&(this.W.alignment=t,this.C())}},nodeIndent:{get:function(){return this.W.nodeIndent},set:function(t){this.W.nodeIndent!==t&&0<=t&&(this.W.nodeIndent=t,this.C())}},nodeIndentPastParent:{get:function(){return this.W.nodeIndentPastParent},set:function(t){this.W.nodeIndentPastParent!==t&&0<=t&&1>=t&&(this.W.nodeIndentPastParent=t,this.C())}},nodeSpacing:{get:function(){return this.W.nodeSpacing},set:function(t){this.W.nodeSpacing!==t&&(this.W.nodeSpacing=t,this.C())}},layerSpacing:{get:function(){return this.W.layerSpacing},set:function(t){this.W.layerSpacing!==t&&(this.W.layerSpacing=t,this.C())}},layerSpacingParentOverlap:{get:function(){return this.W.layerSpacingParentOverlap},set:function(t){this.W.layerSpacingParentOverlap!==t&&0<=t&&1>=t&&(this.W.layerSpacingParentOverlap=t,this.C())}},compaction:{get:function(){return this.W.compaction},set:function(t){this.W.compaction===t||t!==F1&&t!==W0||(this.W.compaction=t,this.C())}},breadthLimit:{get:function(){return this.W.breadthLimit},set:function(t){this.W.breadthLimit!==t&&0<=t&&(this.W.breadthLimit=t,this.C())}},rowSpacing:{get:function(){return this.W.rowSpacing},set:function(t){this.W.rowSpacing!==t&&(this.W.rowSpacing=t,this.C())}},rowIndent:{get:function(){return this.W.rowIndent},set:function(t){this.W.rowIndent!==t&&0<=t&&(this.W.rowIndent=t,this.C())}},commentSpacing:{get:function(){return this.W.commentSpacing},set:function(t){this.W.commentSpacing!==t&&(this.W.commentSpacing=t,this.C())}},commentMargin:{get:function(){return this.W.commentMargin},set:function(t){this.W.commentMargin!==t&&(this.W.commentMargin=t,this.C())}},setsPortSpot:{get:function(){return this.W.setsPortSpot},set:function(t){this.W.setsPortSpot!==t&&(this.W.setsPortSpot=t,this.C())}},portSpot:{get:function(){return this.W.portSpot},set:function(t){this.W.portSpot.D(t)||(this.W.portSpot=t,this.C())}},setsChildPortSpot:{get:function(){return this.W.setsChildPortSpot},set:function(t){this.W.setsChildPortSpot!==t&&(this.W.setsChildPortSpot=t,this.C())}},childPortSpot:{get:function(){return this.W.childPortSpot},set:function(t){this.W.childPortSpot.D(t)||(this.W.childPortSpot=t,this.C())}},alternateSorting:{get:function(){return this.Y.sorting},set:function(t){this.Y.sorting===t||t!==$p&&t!==Z0&&t!==Y0&&!U0||(this.Y.sorting=t,this.C())}},alternateComparer:{get:function(){return this.Y.comparer},set:function(t){this.Y.comparer!==t&&(this.Y.comparer=t,this.C())}},alternateAngle:{get:function(){return this.Y.angle},set:function(t){this.Y.angle===t||t!==0&&t!==90&&t!==180&&t!==270||(this.Y.angle=t,this.C())}},alternateAlignment:{get:function(){return this.Y.alignment},set:function(t){this.Y.alignment!==t&&(this.Y.alignment=t,this.C())}},alternateNodeIndent:{get:function(){return this.Y.nodeIndent},set:function(t){this.Y.nodeIndent!==t&&0<=t&&(this.Y.nodeIndent=t,this.C())}},alternateNodeIndentPastParent:{get:function(){return this.Y.nodeIndentPastParent},set:function(t){this.Y.nodeIndentPastParent!==t&&0<=t&&1>=t&&(this.Y.nodeIndentPastParent=t,this.C())}},alternateNodeSpacing:{get:function(){return this.Y.nodeSpacing},set:function(t){this.Y.nodeSpacing!==t&&(this.Y.nodeSpacing=t,this.C())}},alternateLayerSpacing:{get:function(){return this.Y.layerSpacing},set:function(t){this.Y.layerSpacing!==t&&(this.Y.layerSpacing=t,this.C())}},alternateLayerSpacingParentOverlap:{get:function(){return this.Y.layerSpacingParentOverlap},set:function(t){this.Y.layerSpacingParentOverlap!==t&&0<=t&&1>=t&&(this.Y.layerSpacingParentOverlap=t,this.C())}},alternateCompaction:{get:function(){return this.Y.compaction},set:function(t){this.Y.compaction===t||t!==F1&&t!==W0||(this.Y.compaction=t,this.C())}},alternateBreadthLimit:{get:function(){return this.Y.breadthLimit},set:function(t){this.Y.breadthLimit!==t&&0<=t&&(this.Y.breadthLimit=t,this.C())}},alternateRowSpacing:{get:function(){return this.Y.rowSpacing},set:function(t){this.Y.rowSpacing!==t&&(this.Y.rowSpacing=t,this.C())}},alternateRowIndent:{get:function(){return this.Y.rowIndent},set:function(t){this.Y.rowIndent!==t&&0<=t&&(this.Y.rowIndent=t,this.C())}},alternateCommentSpacing:{get:function(){return this.Y.commentSpacing},set:function(t){this.Y.commentSpacing!==t&&(this.Y.commentSpacing=t,this.C())}},alternateCommentMargin:{get:function(){return this.Y.commentMargin},set:function(t){this.Y.commentMargin!==t&&(this.Y.commentMargin=t,this.C())}},alternateSetsPortSpot:{get:function(){return this.Y.setsPortSpot},set:function(t){this.Y.setsPortSpot!==t&&(this.Y.setsPortSpot=t,this.C())}},alternatePortSpot:{get:function(){return this.Y.portSpot},set:function(t){this.Y.portSpot.D(t)||(this.Y.portSpot=t,this.C())}},alternateSetsChildPortSpot:{get:function(){return this.Y.setsChildPortSpot},set:function(t){this.Y.setsChildPortSpot!==t&&(this.Y.setsChildPortSpot=t,this.C())}},alternateChildPortSpot:{get:function(){return this.Y.childPortSpot},set:function(t){this.Y.childPortSpot.D(t)||(this.Y.childPortSpot=t,this.C())}}});var I1=new it(Bt,"PathDefault",-1),nl=new it(Bt,"PathDestination",0),Af=new it(Bt,"PathSource",1),$p=new it(Bt,"SortingForwards",10),Z0=new it(Bt,"SortingReverse",11),Y0=new it(Bt,"SortingAscending",12),U0=new it(Bt,"SortingDescending",13),Dp=new it(Bt,"AlignmentCenterSubtrees",20),jf=new it(Bt,"AlignmentCenterChildren",21),rl=new it(Bt,"AlignmentStart",22),sl=new it(Bt,"AlignmentEnd",23),Aa=new it(Bt,"AlignmentBus",24),ol=new it(Bt,"AlignmentBusBranching",25),ja=new it(Bt,"AlignmentTopLeftBus",26),Fl=new it(Bt,"AlignmentBottomRightBus",27),F1=new it(Bt,"CompactionNone",30),W0=new it(Bt,"CompactionBlock",31),V1=new it(Bt,"StyleLayered",40),oC=new it(Bt,"StyleLastParents",41),lC=new it(Bt,"StyleAlternating",42),aC=new it(Bt,"StyleRootOnly",43),z1=new it(Bt,"ArrangementVertical",50),uC=new it(Bt,"ArrangementHorizontal",51),X1=new it(Bt,"ArrangementFixedRoots",52),hC=new it(Bt,"LayerIndividual",60),cC=new it(Bt,"LayerSiblings",61),B1=new it(Bt,"LayerUniform",62);Bt.className="TreeLayout",Bt.PathDefault=I1,Bt.PathDestination=nl,Bt.PathSource=Af,Bt.SortingForwards=$p,Bt.SortingReverse=Z0,Bt.SortingAscending=Y0,Bt.SortingDescending=U0,Bt.AlignmentCenterSubtrees=Dp,Bt.AlignmentCenterChildren=jf,Bt.AlignmentStart=rl,Bt.AlignmentEnd=sl,Bt.AlignmentBus=Aa,Bt.AlignmentBusBranching=ol,Bt.AlignmentTopLeftBus=ja,Bt.AlignmentBottomRightBus=Fl,Bt.CompactionNone=F1,Bt.CompactionBlock=W0,Bt.StyleLayered=V1,Bt.StyleLastParents=oC,Bt.StyleAlternating=lC,Bt.StyleRootOnly=aC,Bt.ArrangementVertical=z1,Bt.ArrangementHorizontal=uC,Bt.ArrangementFixedRoots=X1,Bt.LayerIndividual=hC,Bt.LayerSiblings=cC,Bt.LayerUniform=B1;function Ef(t){de.call(this,t)}x(Ef,de),Ef.prototype.createVertex=function(){return new Kr(this)},Ef.prototype.createEdge=function(){return new Ip(this)},Ef.className="TreeNetwork";function Kr(t){ni.call(this,t),this.V=!1,this.hb=null,this.u=[],this.nb=this.Ha=this.F=this.ia=0,this.td=null,this.S=new F(0,0),this.Da=new At(0,0),this.la=new F(0,0),this.hm=this.gm=this.qA=!1,this.jp=this.Xo=null,this.nd=$p,this.hd=AT,this.Lb=0,this.Kb=jf,this.Uq=this.Tq=0,this.Vq=20,this.ie=50,this.zq=0,this.Gp=W0,this.zp=0,this.mr=25,this.Fp=this.lr=10,this.Ep=20,this.wr=!0,this.cr=Zi,this.vr=!0,this.Cp=Zi}x(Kr,ni),Kr.prototype.copyInheritedPropertiesFrom=function(t){t!==null&&(this.nd=t.sorting,this.hd=t.comparer,this.Lb=t.angle,this.Kb=t.alignment,this.Tq=t.nodeIndent,this.Uq=t.nodeIndentPastParent,this.Vq=t.nodeSpacing,this.ie=t.layerSpacing,this.zq=t.layerSpacingParentOverlap,this.Gp=t.compaction,this.zp=t.breadthLimit,this.mr=t.rowSpacing,this.lr=t.rowIndent,this.Fp=t.commentSpacing,this.Ep=t.commentMargin,this.wr=t.setsPortSpot,this.cr=t.portSpot,this.vr=t.setsChildPortSpot,this.Cp=t.childPortSpot)},S.Object.defineProperties(Kr.prototype,{initialized:{get:function(){return this.V},set:function(t){this.V!==t&&(this.V=t)}},parent:{get:function(){return this.hb},set:function(t){this.hb!==t&&(this.hb=t)}},children:{get:function(){return this.u},set:function(t){if(this.u!==t){if(t!==null)for(var i=t.length,s=0;s<i;s++);this.u=t}}},level:{get:function(){return this.ia},set:function(t){this.ia!==t&&(this.ia=t)}},descendantCount:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t)}},maxChildrenCount:{get:function(){return this.Ha},set:function(t){this.Ha!==t&&(this.Ha=t)}},maxGenerationCount:{get:function(){return this.nb},set:function(t){this.nb!==t&&(this.nb=t)}},comments:{get:function(){return this.td},set:function(t){if(this.td!==t){if(t!==null)for(var i=t.length,s=0;s<i;s++);this.td=t}}},sorting:{get:function(){return this.nd},set:function(t){this.nd!==t&&(this.nd=t)}},comparer:{get:function(){return this.hd},set:function(t){this.hd!==t&&(this.hd=t)}},angle:{get:function(){return this.Lb},set:function(t){this.Lb!==t&&(this.Lb=t)}},alignment:{get:function(){return this.Kb},set:function(t){this.Kb!==t&&(this.Kb=t)}},nodeIndent:{get:function(){return this.Tq},set:function(t){this.Tq!==t&&(this.Tq=t)}},nodeIndentPastParent:{get:function(){return this.Uq},set:function(t){this.Uq!==t&&(this.Uq=t)}},nodeSpacing:{get:function(){return this.Vq},set:function(t){this.Vq!==t&&(this.Vq=t)}},layerSpacing:{get:function(){return this.ie},set:function(t){this.ie!==t&&(this.ie=t)}},layerSpacingParentOverlap:{get:function(){return this.zq},set:function(t){this.zq!==t&&(this.zq=t)}},compaction:{get:function(){return this.Gp},set:function(t){this.Gp!==t&&(this.Gp=t)}},breadthLimit:{get:function(){return this.zp},set:function(t){this.zp!==t&&(this.zp=t)}},rowSpacing:{get:function(){return this.mr},set:function(t){this.mr!==t&&(this.mr=t)}},rowIndent:{get:function(){return this.lr},set:function(t){this.lr!==t&&(this.lr=t)}},commentSpacing:{get:function(){return this.Fp},set:function(t){this.Fp!==t&&(this.Fp=t)}},commentMargin:{get:function(){return this.Ep},set:function(t){this.Ep!==t&&(this.Ep=t)}},setsPortSpot:{get:function(){return this.wr},set:function(t){this.wr!==t&&(this.wr=t)}},portSpot:{get:function(){return this.cr},set:function(t){this.cr.D(t)||(this.cr=t)}},setsChildPortSpot:{get:function(){return this.vr},set:function(t){this.vr!==t&&(this.vr=t)}},childPortSpot:{get:function(){return this.Cp},set:function(t){this.Cp.D(t)||(this.Cp=t)}},childrenCount:{get:function(){return this.children.length}},relativePosition:{get:function(){return this.S},set:function(t){this.S.set(t)}},subtreeSize:{get:function(){return this.Da},set:function(t){this.Da.set(t)}},subtreeOffset:{get:function(){return this.la},set:function(t){this.la.set(t)}}}),Kr.className="TreeVertex";function Ip(t){ir.call(this,t),this.Zt=new F(0,0)}x(Ip,ir),Ip.prototype.commit=function(){var t=this.link;if(t!==null&&!t.isAvoiding){var i=this.network.layout,s=null,l=null;switch(i.ud){case nl:s=this.fromVertex,l=this.toVertex;break;case Af:s=this.toVertex,l=this.fromVertex;break;default:D("Unhandled path value "+i.ud.toString())}if(s!==null&&l!==null){var u=this.Zt;if(u.x!==0||u.y!==0||s.qA){l=s.bounds;var c=Ts(s),d=i.computeLayerSpacing(s),m=s.rowSpacing;t.vg();var y=t.curve===mr,O=t.isOrthogonal,w;if(t.uh(),O||y){for(w=2;4<t.pointsCount;)t.pv(2);var k=t.i(1),P=t.i(2)}else{for(w=1;3<t.pointsCount;)t.pv(1);k=t.i(0),P=t.i(t.pointsCount-1)}var T=t.i(t.pointsCount-1);c===0?(s.alignment===sl?(c=l.bottom+u.y,u.y===0&&k.y>T.y+s.rowIndent&&(c=Math.min(c,Math.max(k.y,c-i.computeNodeIndent(s))))):s.alignment===rl?(c=l.top+u.y,u.y===0&&k.y<T.y-s.rowIndent&&(c=Math.max(c,Math.min(k.y,c+i.computeNodeIndent(s))))):c=s.gm||s.hm&&s.maxGenerationCount===1?l.top-s.la.y+u.y:l.y+l.height/2+u.y,y?(t.m(w,k.x,c),w++,t.m(w,l.right+d,c),w++,t.m(w,l.right+d+(u.x-m)/3,c),w++,t.m(w,l.right+d+2*(u.x-m)/3,c),w++,t.m(w,l.right+d+(u.x-m),c),w++,t.m(w,P.x,c)):(O&&(t.m(w,l.right+d/2,k.y),w++),t.m(w,l.right+d/2,c),w++,t.m(w,l.right+d+u.x-(O?m/2:m),c),w++,O&&t.m(w,t.i(w-1).x,P.y))):c===90?(s.alignment===sl?(c=l.right+u.x,u.x===0&&k.x>T.x+s.rowIndent&&(c=Math.min(c,Math.max(k.x,c-i.computeNodeIndent(s))))):s.alignment===rl?(c=l.left+u.x,u.x===0&&k.x<T.x-s.rowIndent&&(c=Math.max(c,Math.min(k.x,c+i.computeNodeIndent(s))))):c=s.gm||s.hm&&s.maxGenerationCount===1?l.left-s.la.x+u.x:l.x+l.width/2+u.x,y?(t.m(w,c,k.y),w++,t.m(w,c,l.bottom+d),w++,t.m(w,c,l.bottom+d+(u.y-m)/3),w++,t.m(w,c,l.bottom+d+2*(u.y-m)/3),w++,t.m(w,c,l.bottom+d+(u.y-m)),w++,t.m(w,c,P.y)):(O&&(t.m(w,k.x,l.bottom+d/2),w++),t.m(w,c,l.bottom+d/2),w++,t.m(w,c,l.bottom+d+u.y-(O?m/2:m)),w++,O&&t.m(w,P.x,t.i(w-1).y))):c===180?(s.alignment===sl?(c=l.bottom+u.y,u.y===0&&k.y>T.y+s.rowIndent&&(c=Math.min(c,Math.max(k.y,c-i.computeNodeIndent(s))))):s.alignment===rl?(c=l.top+u.y,u.y===0&&k.y<T.y-s.rowIndent&&(c=Math.max(c,Math.min(k.y,c+i.computeNodeIndent(s))))):c=s.gm||s.hm&&s.maxGenerationCount===1?l.top-s.la.y+u.y:l.y+l.height/2+u.y,y?(t.m(w,k.x,c),w++,t.m(w,l.left-d,c),w++,t.m(w,l.left-d+(u.x+m)/3,c),w++,t.m(w,l.left-d+2*(u.x+m)/3,c),w++,t.m(w,l.left-d+(u.x+m),c),w++,t.m(w,P.x,c)):(O&&(t.m(w,l.left-d/2,k.y),w++),t.m(w,l.left-d/2,c),w++,t.m(w,l.left-d+u.x+(O?m/2:m),c),w++,O&&t.m(w,t.i(w-1).x,P.y))):c===270?(s.alignment===sl?(c=l.right+u.x,u.x===0&&k.x>T.x+s.rowIndent&&(c=Math.min(c,Math.max(k.x,c-i.computeNodeIndent(s))))):s.alignment===rl?(c=l.left+u.x,u.x===0&&k.x<T.x-s.rowIndent&&(c=Math.max(c,Math.min(k.x,c+i.computeNodeIndent(s))))):c=s.gm||s.hm&&s.maxGenerationCount===1?l.left-s.la.x+u.x:l.x+l.width/2+u.x,y?(t.m(w,c,k.y),w++,t.m(w,c,l.top-d),w++,t.m(w,c,l.top-d+(u.y+m)/3),w++,t.m(w,c,l.top-d+2*(u.y+m)/3),w++,t.m(w,c,l.top-d+(u.y+m)),w++,t.m(w,c,P.y)):(O&&(t.m(w,k.x,l.top-d/2),w++),t.m(w,c,l.top-d/2),w++,t.m(w,c,l.top-d+u.y+(O?m/2:m)),w++,O&&t.m(w,P.x,t.i(w-1).y))):D("Invalid angle "+c),t.zf()}else u=l,t=this.link,l=this.network.layout,i=Ts(s),i!==Ts(u)&&(d=l.computeLayerSpacing(s),m=s.bounds,s=u.bounds,i===0&&s.left-m.right<d+1||i===90&&s.top-m.bottom<d+1||i===180&&m.left-s.right<d+1||i===270&&m.top-s.bottom<d+1||(t.vg(),s=t.curve===mr,u=t.isOrthogonal,l=Iu(this.fromVertex.alignment),t.uh(),i===0?(i=m.right+d/2,s?t.pointsCount===4&&(s=t.i(3).y,t.L(1,i-20,t.i(1).y),t.m(2,i-20,s),t.m(3,i,s),t.m(4,i+20,s),t.L(5,t.i(5).x,s)):u?l?t.L(3,t.i(2).x,t.i(4).y):t.pointsCount===6&&(t.L(2,i,t.i(2).y),t.L(3,i,t.i(3).y)):t.pointsCount===4?t.m(2,i,t.i(2).y):t.pointsCount===3?t.L(1,i,t.i(2).y):t.pointsCount===2&&t.m(1,i,t.i(1).y)):i===90?(i=m.bottom+d/2,s?t.pointsCount===4&&(s=t.i(3).x,t.L(1,t.i(1).x,i-20),t.m(2,s,i-20),t.m(3,s,i),t.m(4,s,i+20),t.L(5,s,t.i(5).y)):u?l?t.L(3,t.i(2).x,t.i(4).y):t.pointsCount===6&&(t.L(2,t.i(2).x,i),t.L(3,t.i(3).x,i)):t.pointsCount===4?t.m(2,t.i(2).x,i):t.pointsCount===3?t.L(1,t.i(2).x,i):t.pointsCount===2&&t.m(1,t.i(1).x,i)):i===180?(i=m.left-d/2,s?t.pointsCount===4&&(s=t.i(3).y,t.L(1,i+20,t.i(1).y),t.m(2,i+20,s),t.m(3,i,s),t.m(4,i-20,s),t.L(5,t.i(5).x,s)):u?l?t.L(3,t.i(2).x,t.i(4).y):t.pointsCount===6&&(t.L(2,i,t.i(2).y),t.L(3,i,t.i(3).y)):t.pointsCount===4?t.m(2,i,t.i(2).y):t.pointsCount===3?t.L(1,i,t.i(2).y):t.pointsCount===2&&t.m(1,i,t.i(1).y)):i===270&&(i=m.top-d/2,s?t.pointsCount===4&&(s=t.i(3).x,t.L(1,t.i(1).x,i+20),t.m(2,s,i+20),t.m(3,s,i),t.m(4,s,i-20),t.L(5,s,t.i(5).y)):u?l?t.L(3,t.i(2).x,t.i(4).y):t.pointsCount===6&&(t.L(2,t.i(2).x,i),t.L(3,t.i(3).x,i)):t.pointsCount===4?t.m(2,t.i(2).x,i):t.pointsCount===3?t.L(1,t.i(2).x,i):t.pointsCount===2&&t.m(1,t.i(1).x,i)),t.zf()))}}},S.Object.defineProperties(Ip.prototype,{fromVertex:{get:function(){return this.kd},set:function(t){this.kd!==t&&(this.kd=t)}},toVertex:{get:function(){return this.qd},set:function(t){this.qd!==t&&(this.qd=t)}},relativePoint:{get:function(){return this.Zt},set:function(t){this.Zt.set(t)}}}),Ip.className="TreeEdge",Ce.prototype.initializeStandardTools=function(){this.gb("Action",new da,this.mouseDownTools),this.gb("Relinking",new Wr,this.mouseDownTools),this.gb("LinkReshaping",new ei,this.mouseDownTools),this.gb("Rotating",new fr,this.mouseDownTools),this.gb("Resizing",new dn,this.mouseDownTools),this.gb("Linking",new Xn,this.mouseMoveTools),this.gb("Dragging",new Me,this.mouseMoveTools),this.gb("DragSelecting",new Uo,this.mouseMoveTools),this.gb("Panning",new Wo,this.mouseMoveTools),this.gb("ContextMenu",new Jn,this.mouseUpTools),this.gb("TextEditing",new ve,this.mouseUpTools),this.gb("ClickCreating",new Nh,this.mouseUpTools),this.gb("ClickSelecting",new Wd,this.mouseUpTools)},xo("Horizontal",new Ox),xo("Spot",new xx),xo("Table",new Sx),xo("Viewbox",new bx),xo("TableRow",new kx),xo("TableColumn",new Px),xo("Graduated",new h0),xo("Grid",new u0),ox.add("GraphLinksModel",fi),ox.add("TreeModel",Er);var _1=N.go,fC={get licenseKey(){return H.licenseKey},set licenseKey(t){H.licenseKey=t},get version(){return H.version},Group:Lt,EnumValue:it,List:ct,Set:at,Map:jt,Point:F,Size:At,Rect:tt,Margin:ne,Spot:Tt,Geometry:lt,PathFigure:vi,PathSegment:Jt,InputEvent:Tr,DiagramEvent:cf,ChangedEvent:Te,Model:yt,GraphLinksModel:Zt,TreeModel:xn,Binding:Be,Transaction:ki,UndoManager:je,CommandHandler:he,Tool:Kt,DraggingTool:Me,DraggingInfo:ku,DraggingOptions:op,LinkingBaseTool:Yi,LinkingTool:Xn,RelinkingTool:Wr,LinkReshapingTool:ei,ResizingTool:dn,RotatingTool:fr,ClickSelectingTool:Wd,ActionTool:da,ClickCreatingTool:Nh,HTMLInfo:pa,ContextMenuTool:Jn,DragSelectingTool:Uo,PanningTool:Wo,TextEditingTool:ve,ToolManager:Ce,Animation:tn,AnimationManager:Cr,AnimationTrigger:qo,Layer:en,Diagram:H,Palette:ax,Overview:Go,Brush:ie,GraphObject:xt,Panel:nt,RowColumnDefinition:We,Shape:It,TextBlock:fe,Picture:Nn,Part:kt,Adornment:Wt,Node:ft,Link:rt,Placeholder:gn,Layout:ye,LayoutNetwork:de,LayoutVertex:ni,LayoutEdge:ir,GridLayout:xi,PanelLayout:ii,CircularLayout:Pe,CircularNetwork:Ep,CircularVertex:I0,CircularEdge:P1,ForceDirectedLayout:ji,ForceDirectedNetwork:Qf,ForceDirectedVertex:F0,ForceDirectedEdge:V0,LayeredDigraphLayout:se,LayeredDigraphNetwork:Lp,LayeredDigraphVertex:Lr,LayeredDigraphEdge:B0,TreeLayout:Bt,TreeNetwork:Ef,TreeVertex:Kr,TreeEdge:Ip};typeof _1=="object"&&_1.version&&K("WARNING: a `go` object on the root object is already defined.  "+("Debug"in _1?"debug ":"")+"version: "+_1.version+", replaced with version: "+fC.version),H.prototype.go=fC,N.go=fC,typeof zS<"u"&&typeof zS.exports=="object"&&(zS.exports=typeof global<"u"?global.go:self.go)})();const _t=typeof global<"u"?global.go:self.go;_t.Group;_t.EnumValue;_t.List;_t.Set;_t.Map;const ZX=_t.Point,ISt=_t.Size;_t.Rect;const FSt=_t.Margin,qu=_t.Spot;_t.Geometry;_t.PathFigure;_t.PathSegment;_t.InputEvent;_t.DiagramEvent;_t.ChangedEvent;_t.Model;const YX=_t.GraphLinksModel;_t.TreeModel;const cl=_t.Binding;_t.Transaction;_t.UndoManager;_t.CommandHandler;_t.Tool;_t.DraggingTool;_t.DraggingInfo;_t.LinkingBaseTool;_t.LinkingTool;_t.RelinkingTool;_t.LinkReshapingTool;_t.ResizingTool;_t.RotatingTool;_t.ClickSelectingTool;_t.ActionTool;_t.ClickCreatingTool;_t.HTMLInfo;_t.ContextMenuTool;_t.DragSelectingTool;_t.PanningTool;_t.TextEditingTool;_t.ToolManager;_t.Animation;const VSt=_t.AnimationManager;_t.AnimationTrigger;_t.Layer;const zSt=_t.Diagram;_t.Palette;_t.Overview;_t.Brush;const XSt=_t.GraphObject,UX=_t.Panel;_t.RowColumnDefinition;const Py=_t.Shape,Hp=_t.TextBlock;_t.TextBlockMetrics;_t.Picture;const WX=_t.Part,BSt=_t.Adornment,_St=_t.Node,qX=_t.Link;_t.Placeholder;_t.Layout;_t.LayoutNetwork;_t.LayoutVertex;_t.LayoutEdge;_t.GridLayout;_t.PanelLayout;_t.CircularLayout;_t.CircularNetwork;_t.CircularVertex;_t.CircularEdge;_t.ForceDirectedLayout;_t.ForceDirectedNetwork;_t.ForceDirectedVertex;_t.ForceDirectedEdge;const ZSt=_t.LayeredDigraphLayout;_t.LayeredDigraphNetwork;_t.LayeredDigraphVertex;_t.LayeredDigraphEdge;_t.TreeLayout;_t.TreeNetwork;_t.TreeVertex;_t.TreeEdge;_t.version;const eG=({workflow:n})=>{const e=Z.useRef(null),r=Z.useRef(null),o=f=>{let p=[],g=[];if(Array.isArray(f.nodes)?p=f.nodes.map(v=>({key:v.id,text:v.label,type:v.type||"default",isOptimizable:!1,optimizationReason:""})):f.hasOwnProperty("steps")&&(p=f.steps.map(x=>({key:x.id,text:x.label,type:"default",isOptimizable:!1,optimizationReason:""}))),Array.isArray(f.optimizableSteps))if(typeof f.optimizableSteps[0]=="string"){const v=f.optimizableSteps;p.forEach(x=>{v.includes(x.key)&&(x.isOptimizable=!0,x.optimizationReason="This step can be optimized")})}else{const v=f.optimizableSteps;p.forEach(x=>{const S=v.find(b=>b.id===x.key);S&&(x.isOptimizable=!0,x.optimizationReason=S.reason)})}else if(f.hasOwnProperty("optimizable_steps")){const v=f;p.forEach(x=>{const S=v.optimizable_steps.find(b=>b.id===x.key);S&&(x.isOptimizable=!0,x.optimizationReason=S.reason)})}return Array.isArray(f.edges)?g=f.edges.map(v=>({from:v.source,to:v.target,text:v.label||""})):f.hasOwnProperty("dependencies")&&(g=f.dependencies.map(x=>({from:x.from,to:x.to,text:""}))),{nodeArray:p,linkArray:g}};Z.useEffect(()=>{if(!n||!e.current)return;const f=XSt.make,p=new zSt(e.current,{"undoManager.isEnabled":!0,layout:f(ZSt,{direction:90,layerSpacing:40,columnSpacing:30,setsPortSpots:!1}),"animationManager.isEnabled":!0,"animationManager.initialAnimationStyle":VSt.None,model:new YX({linkKeyProperty:"id"})});p.nodeTemplate=f(_St,"Auto",{selectionAdorned:!1,resizable:!1,layoutConditions:WX.LayoutStandard&~WX.LayoutNodeSized,shadowVisible:!0,shadowOffset:new ZX(2,2),shadowBlur:7,shadowColor:"rgba(0, 0, 0, 0.2)",toolTip:f(BSt,"Auto",f(Py,{fill:"#2A2F42",stroke:"#676B79"}),f(Hp,{margin:8,font:"11px 'Inter', sans-serif",stroke:"white",wrap:Hp.WrapFit,alignment:qu.Center},new cl("text","",x=>x.isOptimizable?`Optimization: ${x.optimizationReason}`:x.text)))},new cl("opacity","isOptimizable",x=>x?1:.9),f(Py,"RoundedRectangle",{fill:"rgba(43, 47, 66, 0.8)",stroke:"#484F6F",strokeWidth:1.5,spot1:qu.TopLeft,spot2:qu.BottomRight,parameter1:8},new cl("fill","isOptimizable",x=>x?"rgba(234, 56, 76, 0.15)":"rgba(43, 47, 66, 0.8)"),new cl("stroke","isOptimizable",x=>x?"#ea384c":"#484F6F"),new cl("strokeWidth","isOptimizable",x=>x?2:1.5)),f(UX,"Vertical",{margin:12,alignment:qu.Center},f(UX,"Auto",{visible:!1},new cl("visible","type",x=>x!=="default"),f(Py,"RoundedRectangle",{fill:"#9b87f5",stroke:null,height:20,width:80,alignment:qu.Center}),f(Hp,{alignment:qu.Center,stroke:"white",font:"10px 'Inter', sans-serif"},new cl("text","type"))),f(Hp,{margin:new FSt(5,0,0,0),alignment:qu.Center,stroke:"white",font:"13px 'Inter', sans-serif",maxSize:new ISt(150,NaN),wrap:Hp.WrapFit,textAlign:"center"},new cl("text")))),p.linkTemplate=f(qX,{curve:qX.Bezier,reshapable:!1,relinkableFrom:!1,relinkableTo:!1,toEndSegmentLength:30,fromEndSegmentLength:30},f(Py,{strokeWidth:2,stroke:"#8E9196"},new cl("stroke","",function(x){if(!x.part.diagram)return"#8E9196";const b=x.fromNode,C=x.toNode;return!b||!C?"#8E9196":b.data.isOptimizable||C.data.isOptimizable?"#ea384c":"#8E9196"}).ofObject()),f(Py,{toArrow:"Triangle",stroke:"#8E9196",fill:"#8E9196",scale:1.2},new cl("stroke","",function(x){if(!x.part.diagram)return"#8E9196";const b=x.fromNode,C=x.toNode;return!b||!C?"#8E9196":b.data.isOptimizable||C.data.isOptimizable?"#ea384c":"#8E9196"}).ofObject(),new cl("fill","",function(x){if(!x.part.diagram)return"#8E9196";const b=x.fromNode,C=x.toNode;return!b||!C?"#8E9196":b.data.isOptimizable||C.data.isOptimizable?"#ea384c":"#8E9196"}).ofObject()),f(Hp,{segmentOffset:new ZX(0,-10),font:"10px 'Inter', sans-serif",stroke:"white",background:"rgba(30, 34, 47, 0.7)",margin:2},new cl("text","text")));const{nodeArray:g,linkArray:v}=o(n);return p.model=new YX({nodeDataArray:g,linkDataArray:v}),r.current=p,p.layoutDiagram(!0),p.contentAlignment=qu.Center,p.commandHandler.zoomToFit(),p.contentAlignment=qu.Center,()=>{p.div=null}},[n]);const a=()=>{if(!r.current)return;const f=r.current,p=document.createElement("canvas"),g=p.getContext("2d");if(!g)return;const v=f.documentBounds,x=2;p.width=v.width*x,p.height=v.height*x;const S={document,scale:x,background:f.div?f.div.style.backgroundColor:"rgba(0,0,0,0)"};try{const b=f.makeSvg(S),j=new XMLSerializer().serializeToString(b),N=new Blob([j],{type:"image/svg+xml;charset=utf-8"}),E=URL.createObjectURL(N),R=new Image;R.onload=function(){if(g){g.fillStyle="white",g.fillRect(0,0,p.width,p.height),g.drawImage(R,0,0);const $=p.toDataURL("image/png"),V=document.createElement("a");V.download="flowchart.png",V.href=$,document.body.appendChild(V),V.click(),document.body.removeChild(V),URL.revokeObjectURL(E)}},R.src=E}catch(b){console.error("Failed to generate SVG:",b)}},h=()=>{e.current&&(document.fullscreenElement?document.exitFullscreen():e.current.requestFullscreen())};return n?Q.jsx(Th,{className:"mb-6 overflow-hidden border border-border bg-card/50",children:Q.jsx(Ch,{className:"p-0",children:Q.jsxs("div",{className:"relative",children:[Q.jsxs("div",{className:"absolute top-2 right-2 z-10 flex gap-2",children:[Q.jsx(Jm,{children:Q.jsxs(TO,{children:[Q.jsx(CO,{asChild:!0,children:Q.jsxs(Wc,{variant:"secondary",size:"sm",onClick:a,className:"h-8 px-2",children:[Q.jsx(HZ,{size:16,className:"mr-1"}),Q.jsx("span",{className:"text-xs",children:"Export"})]})}),Q.jsx(tg,{side:"bottom",children:Q.jsx("p",{className:"text-xs",children:"Download as PNG"})})]})}),Q.jsx(Jm,{children:Q.jsxs(TO,{children:[Q.jsx(CO,{asChild:!0,children:Q.jsxs(Wc,{variant:"secondary",size:"sm",onClick:h,className:"h-8 px-2",children:[Q.jsx(Gtt,{size:16,className:"mr-1"}),Q.jsx("span",{className:"text-xs",children:"Fullscreen"})]})}),Q.jsx(tg,{side:"bottom",children:Q.jsx("p",{className:"text-xs",children:"View in fullscreen"})})]})})]}),Q.jsx("div",{ref:e,style:{height:400,width:"100%",backgroundColor:"transparent"},className:"gojs-diagram"})]})})}):null};function YSt(n,e=[]){let r=[];function o(h,f){const p=Z.createContext(f),g=r.length;r=[...r,f];function v(S){const{scope:b,children:C,...j}=S,N=(b==null?void 0:b[n][g])||p,E=Z.useMemo(()=>j,Object.values(j));return Q.jsx(N.Provider,{value:E,children:C})}function x(S,b){const C=(b==null?void 0:b[n][g])||p,j=Z.useContext(C);if(j)return j;if(f!==void 0)return f;throw new Error(`\`${S}\` must be used within \`${h}\``)}return v.displayName=h+"Provider",[v,x]}const a=()=>{const h=r.map(f=>Z.createContext(f));return function(p){const g=(p==null?void 0:p[n])||h;return Z.useMemo(()=>({[`__scope${n}`]:{...p,[n]:g}}),[p,g])}};return a.scopeName=n,[o,USt(a,...e)]}function USt(...n){const e=n[0];if(n.length===1)return e;const r=()=>{const o=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(h){const f=o.reduce((p,{useScope:g,scopeName:v})=>{const S=g(h)[`__scope${v}`];return{...p,...S}},{});return Z.useMemo(()=>({[`__scope${e.scopeName}`]:f}),[f])}};return r.scopeName=e.scopeName,r}var O5="Progress",v5=100,[WSt,Qkt]=YSt(O5),[qSt,GSt]=WSt(O5),iG=Z.forwardRef((n,e)=>{const{__scopeProgress:r,value:o=null,max:a,getValueLabel:h=HSt,...f}=n;(a||a===0)&&!GX(a)&&console.error(KSt(`${a}`,"Progress"));const p=GX(a)?a:v5;o!==null&&!HX(o,p)&&console.error(JSt(`${o}`,"Progress"));const g=HX(o,p)?o:null,v=oP(g)?h(g,p):void 0;return Q.jsx(qSt,{scope:r,value:g,max:p,children:Q.jsx(Fn.div,{"aria-valuemax":p,"aria-valuemin":0,"aria-valuenow":oP(g)?g:void 0,"aria-valuetext":v,role:"progressbar","data-state":sG(g,p),"data-value":g??void 0,"data-max":p,...f,ref:e})})});iG.displayName=O5;var nG="ProgressIndicator",rG=Z.forwardRef((n,e)=>{const{__scopeProgress:r,...o}=n,a=GSt(nG,r);return Q.jsx(Fn.div,{"data-state":sG(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...o,ref:e})});rG.displayName=nG;function HSt(n,e){return`${Math.round(n/e*100)}%`}function sG(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function oP(n){return typeof n=="number"}function GX(n){return oP(n)&&!isNaN(n)&&n>0}function HX(n,e){return oP(n)&&!isNaN(n)&&n<=e&&n>=0}function KSt(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${v5}\`.`}function JSt(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${v5} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var oG=iG,tkt=rG;const m2=Z.forwardRef(({className:n,value:e,indicatorClassName:r,...o},a)=>Q.jsx(oG,{ref:a,className:Dn("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n),...o,children:Q.jsx(tkt,{className:Dn("h-full w-full flex-1 bg-primary transition-all",r),style:{transform:`translateX(-${100-(e||0)}%)`}})}));m2.displayName=oG.displayName;const ekt=Kj("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),lG=Z.forwardRef(({className:n,variant:e,...r},o)=>Q.jsx("div",{ref:o,className:Dn(ekt({variant:e}),n),...r}));lG.displayName="Badge";const by=({title:n,score:e,explanation:r,color:o})=>Q.jsx(Jm,{children:Q.jsxs(TO,{children:[Q.jsx(CO,{asChild:!0,children:Q.jsxs(Th,{className:"overflow-hidden transition-all duration-300 hover:shadow-md",children:[Q.jsxs(Lg,{className:"py-2 px-4 flex flex-row justify-between items-center",children:[Q.jsx($g,{className:"text-sm font-medium",children:n}),Q.jsxs(lG,{variant:"secondary",className:"font-mono font-bold text-xs",style:{backgroundColor:`rgba(${o}, 0.1)`,color:`rgb(${o})`},children:[e.toFixed(1),"/10"]})]}),Q.jsx(Ch,{className:"p-4 pt-0",children:Q.jsx(m2,{value:e*10,className:"h-1.5 mt-2",style:{backgroundColor:`rgba(${o}, 0.2)`},indicatorClassName:`bg-[rgb(${o})]`})})]})}),Q.jsx(tg,{children:Q.jsx("p",{className:"text-xs max-w-xs",children:r})})]})}),ikt=({scores:n})=>{if(!n)return null;const{overall:e,categories:r}=n,o={overall:"59, 130, 246",maintainability:"99, 102, 241",performance:"236, 72, 153",readability:"16, 185, 129",security:"245, 158, 11",testCoverage:"124, 58, 237"};return Q.jsxs("div",{className:"space-y-4",children:[Q.jsxs("div",{className:"flex flex-col items-center mb-6",children:[Q.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1 mb-1",children:[Q.jsx("span",{children:"Overall Code Quality"}),Q.jsx(Jm,{children:Q.jsxs(TO,{children:[Q.jsx(CO,{asChild:!0,children:Q.jsx(Wtt,{size:14,className:"text-muted-foreground cursor-help"})}),Q.jsx(tg,{children:Q.jsx("p",{className:"text-xs max-w-xs",children:"Calculated based on all category scores with weighted importance"})})]})})]}),Q.jsxs("div",{className:"text-4xl font-bold mb-2",children:[e.toFixed(1),Q.jsx("span",{className:"text-base text-muted-foreground",children:"/10"})]}),Q.jsx(m2,{value:e*10,className:"h-2 w-48",style:{backgroundColor:`rgba(${o.overall}, 0.2)`},indicatorClassName:`bg-[rgb(${o.overall})]`})]}),Q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Q.jsx(by,{title:"Maintainability",score:r.maintainability.score,explanation:r.maintainability.explanation,color:o.maintainability}),Q.jsx(by,{title:"Performance",score:r.performance.score,explanation:r.performance.explanation,color:o.performance}),Q.jsx(by,{title:"Readability",score:r.readability.score,explanation:r.readability.explanation,color:o.readability}),Q.jsx(by,{title:"Security",score:r.security.score,explanation:r.security.explanation,color:o.security}),Q.jsx(by,{title:"Test Coverage",score:r.testCoverage.score,explanation:r.testCoverage.explanation,color:o.testCoverage})]})]})},nkt=()=>{const n=Bo(),e=ua(),r=n.state,{results:o,originalCode:a,sourceLanguage:h}=r||{},[f,p]=Z.useState(!1),[g,v]=Z.useState(!1),[x,S]=Z.useState(!1),[b,C]=Z.useState(!1),[j,N]=Z.useState(null),E=f||g||x;if(Z.useEffect(()=>{(!o||!a)&&e("/",{replace:!0})},[o,a,e]),!o||!a)return null;const R=()=>{e("/",{state:{preserveCode:a,preserveLanguage:h}})},$=async()=>{p(!0);try{const J=await R6(a);e("/results/optimize",{state:{results:J,originalCode:a,sourceLanguage:h}}),on.success("Code optimized successfully!")}catch(J){console.error("Optimization error:",J),on.error("Failed to optimize code. Please try again.")}finally{p(!1)}},V=async()=>{S(!0);try{const J=await o5(a);e("/results/document",{state:{results:J,originalCode:a,sourceLanguage:h}}),on.success("Documentation generated successfully!")}catch(J){console.error("Documentation error:",J),on.error("Failed to generate documentation. Please try again.")}finally{S(!1)}},D=()=>{N(null),C(!0)},B=async J=>{v(!0);try{const ot=await l5(a,h,J);e("/results/convert",{state:{results:ot,originalCode:a,sourceLanguage:h,targetLanguage:J}}),C(!1),N(null),on.success(`Code converted to ${J.toUpperCase()} successfully!`)}catch(ot){console.error("Conversion error:",ot),on.error("Failed to convert code. Please try again.")}finally{v(!1)}},q=()=>{g||(C(!1),N(null))},K=J=>{N(J)};return Q.jsxs(kh,{children:[Q.jsx($v,{}),Q.jsx("div",{className:"min-h-screen pt-4 px-4",children:Q.jsxs("div",{className:"max-w-7xl mx-auto",children:[Q.jsxs("div",{className:"mb-6",children:[Q.jsxs(Wc,{onClick:R,variant:"ghost",className:"mb-4 text-gray-300 hover:text-white hover:bg-gray-800",children:[Q.jsx(MP,{className:"w-4 h-4 mr-2"}),"Back to Input"]}),Q.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[Q.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Code Analysis Results"}),Q.jsxs("p",{className:"text-gray-400",children:["Comprehensive analysis of your ",h==null?void 0:h.toUpperCase()," code"]})]})]}),Q.jsxs("div",{className:"mb-6",children:[Q.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:hidden",children:[Q.jsx(vr,{onClick:$,disabled:E,borderColor:"#10B981",className:"w-full min-h-12 text-sm",children:f?Q.jsxs("span",{className:"flex items-center justify-center",children:[Q.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-1"}),Q.jsx("span",{className:"truncate",children:"Optimizing"})]}):Q.jsxs("span",{className:"flex items-center justify-center",children:[Q.jsx(pk,{className:"h-4 w-4 mr-1"}),Q.jsx("span",{className:"truncate",children:"Optimize"})]})}),Q.jsx(vr,{onClick:D,disabled:E,borderColor:"#8B5CF6",className:"w-full min-h-12 text-sm",children:g?Q.jsxs("span",{className:"flex items-center justify-center",children:[Q.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-1"}),Q.jsx("span",{className:"truncate",children:"Converting"})]}):Q.jsxs("span",{className:"flex items-center justify-center",children:[Q.jsx(Rc,{className:"h-4 w-4 mr-1"}),Q.jsx("span",{className:"truncate",children:"Convert"})]})}),Q.jsx(vr,{onClick:V,disabled:E,borderColor:"#F59E0B",className:"w-full min-h-12 text-sm",children:x?Q.jsxs("span",{className:"flex items-center justify-center",children:[Q.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-1"}),Q.jsx("span",{className:"truncate",children:"Documenting"})]}):Q.jsxs("span",{className:"flex items-center justify-center",children:[Q.jsx(xd,{className:"h-4 w-4 mr-1"}),Q.jsx("span",{className:"truncate",children:"Document"})]})})]}),Q.jsxs("div",{className:"hidden sm:flex justify-center gap-2 md:gap-3 lg:gap-4 flex-wrap",children:[Q.jsx(vr,{onClick:$,disabled:E,borderColor:"#10B981",className:"min-w-28 md:min-w-32",children:f?Q.jsxs("span",{className:"flex items-center",children:[Q.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),"Optimizing"]}):Q.jsxs(Q.Fragment,{children:[Q.jsx(pk,{className:"h-4 w-4 mr-1"}),"Optimize"]})}),Q.jsx(vr,{onClick:D,disabled:E,borderColor:"#8B5CF6",className:"min-w-28 md:min-w-32",children:g?Q.jsxs("span",{className:"flex items-center",children:[Q.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),"Converting"]}):Q.jsxs(Q.Fragment,{children:[Q.jsx(Rc,{className:"h-4 w-4 mr-1"}),"Convert"]})}),Q.jsx(vr,{onClick:V,disabled:E,borderColor:"#F59E0B",className:"min-w-28 md:min-w-32",children:x?Q.jsxs("span",{className:"flex items-center",children:[Q.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),"Documenting"]}):Q.jsxs(Q.Fragment,{children:[Q.jsx(xd,{className:"h-4 w-4 mr-1"}),"Document"]})})]})]}),Q.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[Q.jsxs("div",{children:[Q.jsx("div",{className:"flex justify-between items-center mb-4",children:Q.jsx("h3",{className:"text-lg font-semibold text-white",children:"Original Code"})}),Q.jsx("div",{className:"h-[60vh] min-h-[500px]",children:Q.jsx(Nd,{title:"",code:a,editable:!1,className:"h-full w-full rounded-lg border border-gray-700",language:h})})]}),Q.jsxs("div",{className:"space-y-6",children:[Q.jsxs("div",{children:[Q.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Analysis Scores"}),Q.jsx(ikt,{scores:o.scores})]}),Q.jsxs("div",{children:[Q.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Code Flow Visualization"}),Q.jsx(eG,{workflow:o.workflow})]})]})]}),Q.jsx("div",{className:"mt-8",children:Q.jsx(DSt,{results:o})})]})}),Q.jsx(s5,{isOpen:b,onClose:q,onConvert:B,sourceLanguage:h,isConverting:g,selectedLanguage:j,onLanguageSelect:K})]})},aQ=({title:n,value:e,label:r,description:o,color:a="bg-primary",tooltipText:h,improvement:f=!0})=>Q.jsxs(Th,{children:[Q.jsxs(Lg,{className:"pb-2",children:[Q.jsxs("div",{className:"flex items-center justify-between",children:[Q.jsx($g,{className:"text-sm font-medium",children:n}),h&&Q.jsx(Jm,{children:Q.jsxs(TO,{children:[Q.jsx(CO,{asChild:!0,children:Q.jsx("div",{className:"h-4 w-4 rounded-full bg-muted flex items-center justify-center cursor-help",children:Q.jsx("span",{className:"text-muted-foreground text-xs",children:"?"})})}),Q.jsx(tg,{children:Q.jsx("p",{className:"w-[200px] text-xs",children:h})})]})})]}),Q.jsx(p2,{className:"text-xs",children:o})]}),Q.jsxs(Ch,{children:[Q.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Q.jsxs("span",{className:"text-2xl font-bold",children:[e,Q.jsx("span",{className:"text-sm font-normal ml-1",children:r})]}),Q.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${f?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[f?"":""," ",Math.abs(e),"%"]})]}),Q.jsx(m2,{value:e,className:`h-1.5 ${a}`})]})]}),rkt=({executionTime:n,memoryUsage:e,codeComplexity:r})=>Q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Q.jsx(aQ,{title:"Execution Time",value:n.value,label:n.label,description:"Time required to execute the code",tooltipText:"Lower execution time means your code runs more efficiently, saving computational resources.",improvement:n.improvement}),Q.jsx(aQ,{title:"Memory Usage",value:e.value,label:e.label,description:"Memory consumed during execution",tooltipText:"Reduced memory usage means your application requires fewer resources to run.",color:"bg-blue-500",improvement:e.improvement}),Q.jsx(aQ,{title:"Code Complexity",value:r.value,label:r.label,description:"Cyclomatic complexity score",tooltipText:"Lower complexity scores indicate code that is easier to understand, test, and maintain.",color:"bg-purple-500",improvement:r.improvement})]}),skt=({changes:n})=>{if(!n||n.length===0)return Q.jsx("div",{className:"p-4",children:"No detailed changes available"});const e={};return n.forEach(r=>{e[r.metric]||(e[r.metric]=[]),e[r.metric].push(r)}),Q.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(e).map(([r,o],a)=>Q.jsxs(Th,{className:"border border-amber-700/30 bg-amber-950/10 transition-all duration-300 hover:shadow-md",children:[Q.jsxs(Lg,{className:"pb-2",children:[Q.jsxs("div",{className:"flex items-center justify-between",children:[Q.jsxs($g,{className:"text-sm font-medium flex items-center gap-2",children:[Q.jsx(Jj,{size:16,className:"text-amber-500"}),r]}),Q.jsxs("span",{className:"text-xs px-2 py-0.5 bg-amber-500/20 text-amber-400 rounded-full",children:[o.length," ",o.length===1?"change":"changes"]})]}),Q.jsxs(p2,{className:"text-xs",children:[o.length," optimization ",o.length===1?"change":"changes"," applied"]})]}),Q.jsx(Ch,{children:Q.jsx(tG,{type:"single",collapsible:!0,className:"w-full",children:o.map((h,f)=>Q.jsxs(m5,{value:`issue-${f}`,children:[Q.jsx(g5,{className:"text-sm",children:h.issue}),Q.jsx(y5,{children:Q.jsxs("div",{className:"space-y-3 text-sm",children:[Q.jsxs("div",{children:[Q.jsx("div",{className:"font-medium text-xs text-muted-foreground mb-1",children:"CODE LOCATION"}),Q.jsx("div",{className:"bg-secondary/50 px-3 py-1 rounded-sm",children:h.location})]}),Q.jsxs("div",{children:[Q.jsx("div",{className:"font-medium text-xs text-muted-foreground mb-1",children:"IMPROVEMENT"}),Q.jsx("p",{className:"text-primary",children:h.improvement})]})]})})]},f))})})]},a))})},okt=({content:n})=>{const e=n.split(/(?=^#+\s+.*$)/m).filter(a=>a.trim()!==""),r=a=>{const h=a.match(/^#+\s+(.*?)$/m);return h?h[1]:"Overview"},o=a=>a.replace(/^#+\s+.*?$/m,"").trim().split(/\n{2,}/g).map((f,p)=>{var v;if(f.match(/\|\s*-+\s*\|/)){const x=f.split(`
`).filter(S=>S.trim()!=="");if(x.length>=2){const S=x[0].split("|").filter(b=>b.trim()!=="").map(b=>b.trim());return Q.jsx("div",{className:"overflow-x-auto my-4",children:Q.jsxs("table",{className:"min-w-full divide-y divide-border",children:[Q.jsx("thead",{children:Q.jsx("tr",{children:S.map((b,C)=>Q.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-muted-foreground bg-secondary/50",children:b},C))})}),Q.jsx("tbody",{className:"divide-y divide-border",children:x.slice(2).map((b,C)=>{const j=b.split("|").filter(N=>N.trim()!=="").map(N=>N.trim());return Q.jsx("tr",{children:j.map((N,E)=>Q.jsx("td",{className:"px-4 py-2 text-sm",children:N},E))},C)})})]})},p)}}if(f.match(/^```[\s\S]*?```$/m)){const x=f.replace(/^```(\w+)?\n([\s\S]*?)```$/m,"$2");return(v=f.match(/^```(\w+)?/))!=null&&v[1],Q.jsx("pre",{className:"bg-secondary/20 p-4 rounded-md my-4 overflow-x-auto",children:Q.jsx("code",{className:"text-sm text-primary",children:x})},p)}if(f.match(/^\s*[-*]\s+/m)){const x=f.split(/\n/).filter(S=>S.trim()!=="").map(S=>S.replace(/^\s*[-*]\s+/,""));return Q.jsx("ul",{className:"list-disc pl-5 my-3 space-y-1",children:x.map((S,b)=>Q.jsx("li",{className:"text-sm",children:S},b))},p)}if(f.match(/^\s*\d+\.\s+/m)){const x=f.split(/\n/).filter(S=>S.trim()!=="").map(S=>S.replace(/^\s*\d+\.\s+/,""));return Q.jsx("ol",{className:"list-decimal pl-5 my-3 space-y-1",children:x.map((S,b)=>Q.jsx("li",{className:"text-sm",children:S},b))},p)}let g=f.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");if(g=g.replace(/\*(.*?)\*/g,"<em>$1</em>"),g=g.replace(/`(.*?)`/g,"<code>$1</code>"),g.match(/^#+\s+/)){const x=(g.match(/^(#+)/)||["#"])[0].length,S=g.replace(/^#+\s+/,"");return Q.jsx("div",{className:`font-semibold my-3 ${x===2?"text-lg":x===3?"text-base":"text-sm"}`,children:S},p)}return Q.jsx("p",{className:"my-3 text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:g}},p)});return Q.jsx(Th,{className:"border border-border",children:Q.jsx(Ch,{className:"p-6",children:Q.jsx("div",{className:"space-y-6",children:e.map((a,h)=>{const f=r(a);return Q.jsxs("div",{className:"pb-4",children:[Q.jsx("h3",{className:"text-base font-semibold border-b border-border pb-2 mb-3",children:f}),Q.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert prose-headings:mb-2 prose-p:my-2",children:o(a)})]},h)})})})})},lkt=({results:n})=>{var o,a,h;const[e,r]=Z.useState("flowchart");return Q.jsxs("div",{className:"border border-gray-800 rounded-2xl p-3 sm:p-0 lg:p-6",children:[Q.jsx("div",{className:"flex border-b border-gray-700 mb-3 sm:mb-4 lg:mb-6 overflow-x-auto scrollbar-hide",children:Q.jsxs("div",{className:"flex min-w-full sm:min-w-0 gap-1 sm:gap-0",children:[Q.jsx("button",{type:"button",onClick:()=>r("flowchart"),className:`px-3 sm:px-4 py-2 -mb-px focus:outline-none transition-colors whitespace-nowrap text-sm sm:text-base ${e==="flowchart"?"border-b-2 border-indigo-400 text-white font-medium":"text-gray-400 hover:text-gray-200"}`,children:"Flowchart"}),Q.jsx("button",{type:"button",onClick:()=>r("stats"),className:`px-3 sm:px-4 py-2 -mb-px focus:outline-none transition-colors whitespace-nowrap text-sm sm:text-base ${e==="stats"?"border-b-2 border-indigo-400 text-white font-medium":"text-gray-400 hover:text-gray-200"}`,children:"Stats"}),Q.jsx("button",{type:"button",onClick:()=>r("report"),className:`px-3 sm:px-4 py-2 -mb-px focus:outline-none transition-colors whitespace-nowrap text-sm sm:text-base ${e==="report"?"border-b-2 border-indigo-400 text-white font-medium":"text-gray-400 hover:text-gray-200"}`,children:"Report"})]})}),e==="flowchart"&&Q.jsx("div",{className:"bg-gray-800/20 backdrop-blur-sm border border-gray-700 rounded-xl sm:rounded-2xl p-3 sm:p-0",children:Q.jsx(eG,{workflow:n.optimized_code_flowchart})}),e==="stats"&&n.metrics&&Q.jsx("div",{className:"bg-gray-800/20 backdrop-blur-sm border border-gray-700 rounded-xl sm:rounded-2xl p-3 sm:p-0",children:Q.jsx(rkt,{executionTime:{value:((o=n.improvement_percentages)==null?void 0:o.execution_time)||n.metrics.executionTime.value,label:"faster",improvement:!0},memoryUsage:{value:((a=n.improvement_percentages)==null?void 0:a.memory_usage)||n.metrics.memoryUsage.value,label:"less memory",improvement:!0},codeComplexity:{value:((h=n.improvement_percentages)==null?void 0:h.code_complexity)||n.metrics.codeComplexity.value,label:"complexity reduction",improvement:!0}})}),e==="report"&&Q.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.detailed_changes&&Q.jsx("div",{className:"bg-gray-800/20 backdrop-blur-sm border border-gray-700 rounded-xl sm:rounded-2xl p-3 sm:p-0",children:Q.jsx(skt,{changes:n.detailed_changes})}),n.improvement_summary&&Q.jsx("div",{className:"bg-gray-800/20 backdrop-blur-sm border border-gray-700 rounded-xl sm:rounded-2xl p-3 sm:p-0",children:Q.jsx(okt,{content:n.improvement_summary})})]})]})},akt=()=>{const n=Bo(),e=ua(),r=n.state,{results:o,originalCode:a,sourceLanguage:h}=r||{},[f,p]=Z.useState(!1),[g,v]=Z.useState(!1),[x,S]=Z.useState(!1),[b,C]=Z.useState(null),j=f||g;if(Z.useEffect(()=>{(!o||!a)&&e("/",{replace:!0})},[o,a,e]),!o||!a)return null;const N=()=>{e("/",{state:{preserveCode:a,preserveLanguage:h}})},E=async()=>{v(!0);try{const B=await o5(o.optimizedCode);e("/results/document",{state:{results:B,originalCode:o.optimizedCode,sourceLanguage:h}}),on.success("Documentation generated successfully!")}catch(B){console.error("Documentation error:",B),on.error("Failed to generate documentation. Please try again.")}finally{v(!1)}},R=async B=>{p(!0);try{const q=await l5(o.optimizedCode,h,B);e("/results/convert",{state:{results:q,originalCode:o.optimizedCode,sourceLanguage:h,targetLanguage:B}}),S(!1),C(null),on.success(`Code converted to ${B.toUpperCase()} successfully!`)}catch(q){console.error("Conversion error:",q),on.error("Failed to convert code. Please try again.")}finally{p(!1)}},$=()=>{C(null),S(!0)},V=()=>{f||(S(!1),C(null))},D=B=>{C(B)};return Q.jsxs(kh,{children:[Q.jsx($v,{}),Q.jsx("div",{className:"min-h-screen pt-4 px-4",children:Q.jsxs("div",{className:"max-w-7xl mx-auto",children:[Q.jsxs("div",{className:"mb-6",children:[Q.jsxs(Wc,{onClick:N,variant:"ghost",className:"mb-4 text-gray-300 hover:text-white hover:bg-gray-800",children:[Q.jsx(MP,{className:"w-4 h-4 mr-2"}),"Back to Input"]}),Q.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[Q.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Code Optimization Results"}),Q.jsxs("p",{className:"text-gray-400",children:["Optimized version of your ",h==null?void 0:h.toUpperCase()," code with improvements"]})]})]}),Q.jsxs("div",{className:"mb-6",children:[Q.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:hidden",children:[Q.jsx(vr,{onClick:$,disabled:j,borderColor:"#8B5CF6",className:"w-full min-h-12 text-sm",children:f?Q.jsxs("span",{className:"flex items-center justify-center",children:[Q.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-1"}),Q.jsx("span",{className:"truncate",children:"Converting"})]}):Q.jsxs("span",{className:"flex items-center justify-center",children:[Q.jsx(Rc,{className:"h-4 w-4 mr-1"}),Q.jsx("span",{className:"truncate",children:"Convert"})]})}),Q.jsx(vr,{onClick:E,disabled:j,borderColor:"#F59E0B",className:"w-full min-h-12 text-sm",children:g?Q.jsxs("span",{className:"flex items-center justify-center",children:[Q.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-1"}),Q.jsx("span",{className:"truncate",children:"Documenting"})]}):Q.jsxs("span",{className:"flex items-center justify-center",children:[Q.jsx(xd,{className:"h-4 w-4 mr-1"}),Q.jsx("span",{className:"truncate",children:"Document"})]})})]}),Q.jsxs("div",{className:"hidden sm:flex justify-center gap-2 md:gap-3 lg:gap-4 flex-wrap",children:[Q.jsx(vr,{onClick:$,disabled:j,borderColor:"#8B5CF6",className:"min-w-28 md:min-w-32",children:f?Q.jsxs("span",{className:"flex items-center",children:[Q.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),"Converting"]}):Q.jsxs(Q.Fragment,{children:[Q.jsx(Rc,{className:"h-4 w-4 mr-1"}),"Convert"]})}),Q.jsx(vr,{onClick:E,disabled:j,borderColor:"#F59E0B",className:"min-w-28 md:min-w-32",children:g?Q.jsxs("span",{className:"flex items-center",children:[Q.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin mr-2"}),"Documenting"]}):Q.jsxs(Q.Fragment,{children:[Q.jsx(xd,{className:"h-4 w-4 mr-1"}),"Document"]})})]})]}),Q.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[Q.jsxs("div",{children:[Q.jsx("div",{className:"flex justify-between items-center mb-4",children:Q.jsx("h3",{className:"text-lg font-semibold text-white",children:"Original Code"})}),Q.jsx("div",{className:"h-[50vh] min-h-[400px]",children:Q.jsx(Nd,{title:"",code:a,editable:!1,className:"h-full w-full rounded-lg border border-gray-700",language:h})})]}),Q.jsxs("div",{children:[Q.jsx("div",{className:"flex justify-between items-center mb-4",children:Q.jsx("h3",{className:"text-lg font-semibold text-white",children:"Optimized Code"})}),Q.jsx("div",{className:"h-[50vh] min-h-[400px]",children:Q.jsx(Nd,{title:"",code:o.optimizedCode,editable:!1,className:"h-full w-full rounded-lg border border-gray-700",language:h})})]})]}),Q.jsx("div",{className:"mt-8",children:Q.jsx(lkt,{results:o})})]})}),Q.jsx(s5,{isOpen:x,onClose:V,onConvert:R,sourceLanguage:h,isConverting:f,selectedLanguage:b,onLanguageSelect:D})]})},ukt=()=>{const n=Bo(),e=ua(),r=n.state,{results:o,originalCode:a,sourceLanguage:h,targetLanguage:f}=r||{};if(Z.useEffect(()=>{(!o||!a)&&e("/",{replace:!0})},[o,a,e]),!o||!a)return null;const p=()=>{e("/",{state:{preserveCode:a,preserveLanguage:h}})};return Q.jsxs(kh,{children:[Q.jsx($v,{}),Q.jsx("div",{className:"min-h-screen pt-4 px-4",children:Q.jsxs("div",{className:"max-w-7xl mx-auto",children:[Q.jsxs("div",{className:"mb-6",children:[Q.jsxs(Wc,{onClick:p,variant:"ghost",className:"mb-4 text-gray-300 hover:text-white hover:bg-gray-800",children:[Q.jsx(MP,{className:"w-4 h-4 mr-2"}),"Back to Input"]}),Q.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[Q.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Code Conversion Results"}),Q.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[Q.jsx("span",{className:"bg-gray-800 px-3 py-1 rounded-full text-sm font-medium",children:o.source_language.toUpperCase()}),Q.jsx(fk,{className:"w-4 h-4"}),Q.jsx("span",{className:"bg-gray-800 px-3 py-1 rounded-full text-sm font-medium",children:o.target_language.toUpperCase()})]})]})]}),Q.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Q.jsxs("div",{children:[Q.jsx("div",{className:"flex justify-between items-center mb-4",children:Q.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Original (",o.source_language.toUpperCase(),")"]})}),Q.jsx("div",{className:"h-[50vh] min-h-[400px]",children:Q.jsx(Nd,{title:"",code:a,editable:!1,className:"h-full w-full rounded-lg border border-gray-700",language:h})})]}),Q.jsxs("div",{children:[Q.jsx("div",{className:"flex justify-between items-center mb-4",children:Q.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Converted (",o.target_language.toUpperCase(),")"]})}),Q.jsx("div",{className:"h-[50vh] min-h-[400px]",children:Q.jsx(Nd,{title:"",code:o.converted_code,editable:!1,className:"h-full w-full rounded-lg border border-gray-700",language:f})})]})]}),o.conversion_notes&&Q.jsx("div",{className:"mt-8",children:Q.jsxs(Th,{className:"bg-gray-900/50 backdrop-blur-sm border-gray-800",children:[Q.jsx(Lg,{children:Q.jsx($g,{className:"text-white",children:"Conversion Notes"})}),Q.jsx(Ch,{children:Q.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:o.conversion_notes})})]})})]})})]})},hkt=()=>{const n=Bo(),e=ua(),r=n.state,{results:o,originalCode:a,sourceLanguage:h}=r||{};if(Z.useEffect(()=>{(!o||!a)&&e("/",{replace:!0})},[o,a,e]),!o||!a)return null;const f=()=>{e("/",{state:{preserveCode:a,preserveLanguage:h}})},p=()=>{const g=document.createElement("a"),v=new Blob([o.documented_code],{type:"text/plain"});g.href=URL.createObjectURL(v);const S={python:"py",r:"R",sas:"sas"}[h]||"txt";g.download=`documented_code.${S}`,document.body.appendChild(g),g.click(),document.body.removeChild(g)};return Q.jsxs(kh,{children:[Q.jsx($v,{}),Q.jsx("div",{className:"min-h-screen pt-4 px-4",children:Q.jsxs("div",{className:"max-w-7xl mx-auto",children:[Q.jsxs("div",{className:"mb-6",children:[Q.jsxs(Wc,{onClick:f,variant:"ghost",className:"mb-4 text-gray-300 hover:text-white hover:bg-gray-800",children:[Q.jsx(MP,{className:"w-4 h-4 mr-2"}),"Back to Input"]}),Q.jsxs("div",{className:"border-l-4 border-yellow-500 pl-4 flex justify-between items-start",children:[Q.jsxs("div",{children:[Q.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Code Documentation Results"}),Q.jsxs("p",{className:"text-gray-400",children:["Your ",h==null?void 0:h.toUpperCase()," code with comprehensive documentation"]})]}),Q.jsxs(Wc,{onClick:p,variant:"outline",className:"text-gray-300 border-gray-600 hover:bg-gray-800",children:[Q.jsx(HZ,{className:"w-4 h-4 mr-2"}),"Download"]})]})]}),Q.jsx("div",{className:"mt-6",children:Q.jsx("div",{className:"h-[70vh] min-h-[600px]",children:Q.jsx(Nd,{title:"",code:o.documented_code,editable:!1,className:"h-full w-full rounded-lg border border-gray-700",language:h})})})]})})]})},ckt=new xrt,fkt=()=>{const{user:n,loading:e}=bg();return e?Q.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:Q.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}):n?Q.jsx(Jwt,{}):Q.jsx(fSt,{})},dkt=()=>Q.jsx(Srt,{client:ckt,children:Q.jsx(ilt,{children:Q.jsxs(Jm,{children:[Q.jsx(Xet,{}),Q.jsx(xit,{}),Q.jsx(yst,{children:Q.jsxs(hst,{children:[Q.jsx(Ul,{path:"/login",element:Q.jsx(eft,{})}),Q.jsx(Ul,{path:"/signup",element:Q.jsx(ift,{})}),Q.jsx(Ul,{path:"/auth/success",element:Q.jsx(nft,{})}),Q.jsx(Ul,{path:"/",element:Q.jsx(fkt,{})}),Q.jsx(Ul,{path:"/results/analyze",element:Q.jsx(bw,{children:Q.jsx(nkt,{})})}),Q.jsx(Ul,{path:"/results/optimize",element:Q.jsx(bw,{children:Q.jsx(akt,{})})}),Q.jsx(Ul,{path:"/results/convert",element:Q.jsx(bw,{children:Q.jsx(ukt,{})})}),Q.jsx(Ul,{path:"/results/document",element:Q.jsx(bw,{children:Q.jsx(hkt,{})})}),Q.jsx(Ul,{path:"/home",element:Q.jsx(JY,{to:"/",replace:!0})}),Q.jsx(Ul,{path:"*",element:Q.jsx(dSt,{})})]})})]})})});wZ(document.getElementById("root")).render(Q.jsx(dkt,{}))});export default pkt();
